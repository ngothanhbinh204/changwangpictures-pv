var App=(()=>{var Ir=Object.create;var bs=Object.defineProperty,Or=Object.defineProperties,Dr=Object.getOwnPropertyDescriptor,zr=Object.getOwnPropertyDescriptors,Br=Object.getOwnPropertyNames,li=Object.getOwnPropertySymbols,Rr=Object.getPrototypeOf,di=Object.prototype.hasOwnProperty,Nr=Object.prototype.propertyIsEnumerable;var Le=Math.pow,ci=(t,e,s)=>e in t?bs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,we=(t,e)=>{for(var s in e||(e={}))di.call(e,s)&&ci(t,s,e[s]);if(li)for(var s of li(e))Nr.call(e,s)&&ci(t,s,e[s]);return t},Ge=(t,e)=>Or(t,zr(e));var ui=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vr=(t,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Br(e))!di.call(t,r)&&r!==s&&bs(t,r,{get:()=>e[r],enumerable:!(i=Dr(e,r))||i.enumerable});return t};var fi=(t,e,s)=>(s=t!=null?Ir(Rr(t)):{},Vr(e||!t||!t.__esModule?bs(s,"default",{value:t,enumerable:!0}):s,t));var pi=ui((kt,ws)=>{(function(t,e){typeof kt=="object"&&typeof ws=="object"?ws.exports=e():typeof define=="function"&&define.amd?define([],e):typeof kt=="object"?kt.AOS=e():t.AOS=e()})(kt,function(){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="dist/",e(0)}([function(t,e,s){"use strict";function i(x){return x&&x.__esModule?x:{default:x}}var r=Object.assign||function(x){for(var E=1;E<arguments.length;E++){var L=arguments[E];for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(x[k]=L[k])}return x},n=s(1),o=(i(n),s(6)),a=i(o),l=s(7),c=i(l),d=s(8),u=i(d),p=s(9),h=i(p),w=s(10),b=i(w),C=s(11),y=i(C),m=s(14),f=i(m),g=[],S=!1,_={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},O=function(){var x=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(x&&(S=!0),S)return g=(0,y.default)(g,_),(0,b.default)(g,_.once),g},A=function(){g=(0,f.default)(),O()},T=function(){g.forEach(function(x,E){x.node.removeAttribute("data-aos"),x.node.removeAttribute("data-aos-easing"),x.node.removeAttribute("data-aos-duration"),x.node.removeAttribute("data-aos-delay")})},v=function(x){return x===!0||x==="mobile"&&h.default.mobile()||x==="phone"&&h.default.phone()||x==="tablet"&&h.default.tablet()||typeof x=="function"&&x()===!0},M=function(x){_=r(_,x),g=(0,f.default)();var E=document.all&&!window.atob;return v(_.disable)||E?T():(_.disableMutationObserver||u.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),_.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",_.easing),document.querySelector("body").setAttribute("data-aos-duration",_.duration),document.querySelector("body").setAttribute("data-aos-delay",_.delay),_.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?O(!0):_.startEvent==="load"?window.addEventListener(_.startEvent,function(){O(!0)}):document.addEventListener(_.startEvent,function(){O(!0)}),window.addEventListener("resize",(0,c.default)(O,_.debounceDelay,!0)),window.addEventListener("orientationchange",(0,c.default)(O,_.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)(function(){(0,b.default)(g,_.once)},_.throttleDelay)),_.disableMutationObserver||u.default.ready("[data-aos]",A),g)};t.exports={init:M,refresh:O,refreshHard:A}},function(t,e){},,,,,function(t,e){(function(s){"use strict";function i(v,M,x){function E(N){var q=H,ie=Q;return H=Q=void 0,xe=N,G=v.apply(ie,q)}function L(N){return xe=N,j=setTimeout(F,M),de?E(N):G}function k(N){var q=N-K,ie=N-xe,Te=M-q;return oe?A(Te,J-ie):Te}function z(N){var q=N-K,ie=N-xe;return K===void 0||q>=M||q<0||oe&&ie>=J}function F(){var N=T();return z(N)?I(N):void(j=setTimeout(F,k(N)))}function I(N){return j=void 0,W&&H?E(N):(H=Q=void 0,G)}function P(){j!==void 0&&clearTimeout(j),xe=0,H=K=Q=j=void 0}function D(){return j===void 0?G:I(T())}function R(){var N=T(),q=z(N);if(H=arguments,Q=this,K=N,q){if(j===void 0)return L(K);if(oe)return j=setTimeout(F,M),E(K)}return j===void 0&&(j=setTimeout(F,M)),G}var H,Q,J,G,j,K,xe=0,de=!1,oe=!1,W=!0;if(typeof v!="function")throw new TypeError(d);return M=l(M)||0,n(x)&&(de=!!x.leading,oe="maxWait"in x,J=oe?O(l(x.maxWait)||0,M):J,W="trailing"in x?!!x.trailing:W),R.cancel=P,R.flush=D,R}function r(v,M,x){var E=!0,L=!0;if(typeof v!="function")throw new TypeError(d);return n(x)&&(E="leading"in x?!!x.leading:E,L="trailing"in x?!!x.trailing:L),i(v,M,{leading:E,maxWait:M,trailing:L})}function n(v){var M=typeof v=="undefined"?"undefined":c(v);return!!v&&(M=="object"||M=="function")}function o(v){return!!v&&(typeof v=="undefined"?"undefined":c(v))=="object"}function a(v){return(typeof v=="undefined"?"undefined":c(v))=="symbol"||o(v)&&_.call(v)==p}function l(v){if(typeof v=="number")return v;if(a(v))return u;if(n(v)){var M=typeof v.valueOf=="function"?v.valueOf():v;v=n(M)?M+"":M}if(typeof v!="string")return v===0?v:+v;v=v.replace(h,"");var x=b.test(v);return x||C.test(v)?y(v.slice(2),x?2:8):w.test(v)?u:+v}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},d="Expected a function",u=NaN,p="[object Symbol]",h=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,C=/^0o[0-7]+$/i,y=parseInt,m=(typeof s=="undefined"?"undefined":c(s))=="object"&&s&&s.Object===Object&&s,f=(typeof self=="undefined"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,g=m||f||Function("return this")(),S=Object.prototype,_=S.toString,O=Math.max,A=Math.min,T=function(){return g.Date.now()};t.exports=r}).call(e,function(){return this}())},function(t,e){(function(s){"use strict";function i(T,v,M){function x(W){var N=R,q=H;return R=H=void 0,K=W,J=T.apply(q,N)}function E(W){return K=W,G=setTimeout(z,v),xe?x(W):J}function L(W){var N=W-j,q=W-K,ie=v-N;return de?O(ie,Q-q):ie}function k(W){var N=W-j,q=W-K;return j===void 0||N>=v||N<0||de&&q>=Q}function z(){var W=A();return k(W)?F(W):void(G=setTimeout(z,L(W)))}function F(W){return G=void 0,oe&&R?x(W):(R=H=void 0,J)}function I(){G!==void 0&&clearTimeout(G),K=0,R=j=H=G=void 0}function P(){return G===void 0?J:F(A())}function D(){var W=A(),N=k(W);if(R=arguments,H=this,j=W,N){if(G===void 0)return E(j);if(de)return G=setTimeout(z,v),x(j)}return G===void 0&&(G=setTimeout(z,v)),J}var R,H,Q,J,G,j,K=0,xe=!1,de=!1,oe=!0;if(typeof T!="function")throw new TypeError(c);return v=a(v)||0,r(M)&&(xe=!!M.leading,de="maxWait"in M,Q=de?_(a(M.maxWait)||0,v):Q,oe="trailing"in M?!!M.trailing:oe),D.cancel=I,D.flush=P,D}function r(T){var v=typeof T=="undefined"?"undefined":l(T);return!!T&&(v=="object"||v=="function")}function n(T){return!!T&&(typeof T=="undefined"?"undefined":l(T))=="object"}function o(T){return(typeof T=="undefined"?"undefined":l(T))=="symbol"||n(T)&&S.call(T)==u}function a(T){if(typeof T=="number")return T;if(o(T))return d;if(r(T)){var v=typeof T.valueOf=="function"?T.valueOf():T;T=r(v)?v+"":v}if(typeof T!="string")return T===0?T:+T;T=T.replace(p,"");var M=w.test(T);return M||b.test(T)?C(T.slice(2),M?2:8):h.test(T)?d:+T}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},c="Expected a function",d=NaN,u="[object Symbol]",p=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,b=/^0o[0-7]+$/i,C=parseInt,y=(typeof s=="undefined"?"undefined":l(s))=="object"&&s&&s.Object===Object&&s,m=(typeof self=="undefined"?"undefined":l(self))=="object"&&self&&self.Object===Object&&self,f=y||m||Function("return this")(),g=Object.prototype,S=g.toString,_=Math.max,O=Math.min,A=function(){return f.Date.now()};t.exports=i}).call(e,function(){return this}())},function(t,e){"use strict";function s(l){var c=void 0,d=void 0,u=void 0;for(c=0;c<l.length;c+=1)if(d=l[c],d.dataset&&d.dataset.aos||(u=d.children&&s(d.children)))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!i()}function n(l,c){var d=window.document,u=i(),p=new u(o);a=c,p.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function o(l){l&&l.forEach(function(c){var d=Array.prototype.slice.call(c.addedNodes),u=Array.prototype.slice.call(c.removedNodes),p=d.concat(u);if(s(p))return a()})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){};e.default={isSupported:r,ready:n}},function(t,e){"use strict";function s(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function d(u,p){for(var h=0;h<p.length;h++){var w=p[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}return function(u,p,h){return p&&d(u.prototype,p),h&&d(u,h),u}}(),n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function d(){s(this,d)}return r(d,[{key:"phone",value:function(){var u=i();return!(!n.test(u)&&!o.test(u.substr(0,4)))}},{key:"mobile",value:function(){var u=i();return!(!a.test(u)&&!l.test(u.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();e.default=new c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(r,n,o){var a=r.node.getAttribute("data-aos-once");n>r.position?r.node.classList.add("aos-animate"):typeof a!="undefined"&&(a==="false"||!o&&a!=="true")&&r.node.classList.remove("aos-animate")},i=function(r,n){var o=window.pageYOffset,a=window.innerHeight;r.forEach(function(l,c){s(l,a+o,n)})};e.default=i},function(t,e,s){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(12),n=i(r),o=function(a,l){return a.forEach(function(c,d){c.node.classList.add("aos-init"),c.position=(0,n.default)(c.node,l.offset)}),a};e.default=o},function(t,e,s){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(13),n=i(r),o=function(a,l){var c=0,d=0,u=window.innerHeight,p={offset:a.getAttribute("data-aos-offset"),anchor:a.getAttribute("data-aos-anchor"),anchorPlacement:a.getAttribute("data-aos-anchor-placement")};switch(p.offset&&!isNaN(p.offset)&&(d=parseInt(p.offset)),p.anchor&&document.querySelectorAll(p.anchor)&&(a=document.querySelectorAll(p.anchor)[0]),c=(0,n.default)(a).top,p.anchorPlacement){case"top-bottom":break;case"center-bottom":c+=a.offsetHeight/2;break;case"bottom-bottom":c+=a.offsetHeight;break;case"top-center":c+=u/2;break;case"bottom-center":c+=u/2+a.offsetHeight;break;case"center-center":c+=u/2+a.offsetHeight/2;break;case"top-top":c+=u;break;case"bottom-top":c+=a.offsetHeight+u;break;case"center-top":c+=a.offsetHeight/2+u}return p.anchorPlacement||p.offset||isNaN(l)||(d=l),c+d};e.default=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(i){for(var r=0,n=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)r+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),n+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:n,left:r}};e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(r){return{node:r}})};e.default=s}])})});var hi=ui((ys,Ss)=>{(function(t,e){typeof ys=="object"&&typeof Ss!="undefined"?Ss.exports=e():typeof define=="function"&&define.amd?define(e):t.lozad=e()})(ys,function(){"use strict";var t=typeof document!="undefined"&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(n){if(n.nodeName.toLowerCase()==="picture"){var o=n.querySelector("img"),a=!1;o===null&&(o=document.createElement("img"),a=!0),t&&n.getAttribute("data-iesrc")&&(o.src=n.getAttribute("data-iesrc")),n.getAttribute("data-alt")&&(o.alt=n.getAttribute("data-alt")),a&&n.append(o)}if(n.nodeName.toLowerCase()==="video"&&!n.getAttribute("data-src")&&n.children){for(var l=n.children,c=void 0,d=0;d<=l.length-1;d++)(c=l[d].getAttribute("data-src"))&&(l[d].src=c);n.load()}n.getAttribute("data-poster")&&(n.poster=n.getAttribute("data-poster")),n.getAttribute("data-src")&&(n.src=n.getAttribute("data-src")),n.getAttribute("data-srcset")&&n.setAttribute("srcset",n.getAttribute("data-srcset"));var u=",";if(n.getAttribute("data-background-delimiter")&&(u=n.getAttribute("data-background-delimiter")),n.getAttribute("data-background-image"))n.style.backgroundImage="url('"+n.getAttribute("data-background-image").split(u).join("'),url('")+"')";else if(n.getAttribute("data-background-image-set")){var p=n.getAttribute("data-background-image-set").split(u),h=p[0].substr(0,p[0].indexOf(" "))||p[0];h=h.indexOf("url(")===-1?"url("+h+")":h,p.length===1?n.style.backgroundImage=h:n.setAttribute("style",(n.getAttribute("style")||"")+"background-image: "+h+"; background-image: -webkit-image-set("+p+"); background-image: image-set("+p+")")}n.getAttribute("data-toggle-class")&&n.classList.toggle(n.getAttribute("data-toggle-class"))},loaded:function(){}};function s(n){n.setAttribute("data-loaded",!0)}var i=function(n){return n.getAttribute("data-loaded")==="true"},r=function(n){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return n instanceof Element?[n]:n instanceof NodeList?n:o.querySelectorAll(n)};return function(){var n,o,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=Object.assign({},e,l),d=c.root,u=c.rootMargin,p=c.threshold,h=c.load,w=c.loaded,b=void 0;typeof window!="undefined"&&window.IntersectionObserver&&(b=new IntersectionObserver((n=h,o=w,function(f,g){f.forEach(function(S){(0<S.intersectionRatio||S.isIntersecting)&&(g.unobserve(S.target),i(S.target)||(n(S.target),s(S.target),o(S.target)))})}),{root:d,rootMargin:u,threshold:p}));for(var C,y=r(a,d),m=0;m<y.length;m++)(C=y[m]).getAttribute("data-placeholder-background")&&(C.style.background=C.getAttribute("data-placeholder-background"));return{observe:function(){for(var f=r(a,d),g=0;g<f.length;g++)i(f[g])||(b?b.observe(f[g]):(h(f[g]),s(f[g]),w(f[g])))},triggerLoad:function(f){i(f)||(h(f),s(f),w(f))},observer:b}}})});var hs=fi(pi()),Lr=fi(hi());function mi(){$("[setBackground]").each(function(){var t=$(this).attr("setBackground");$(this).css({"background-image":"url("+t+")","background-size":"cover","background-position":"center center"})})}function gi(){let t=$(window).height();$(document).on("scroll",function(){let e=$(window).scrollTop(),s=$(document).height();e+t>s-t?$(".button-to-top").addClass("active"):$(".button-to-top").removeClass("active")}),$(document).on("click",".button-to-top",function(){$("html, body").animate({scrollTop:0})})}function vi(){let s=$(".wrap-item-toggle").find(".item-toggle").find(".title");if(s.length>0){let i=s.first(),r=i.next();i.addClass("active"),r.show()}s.on("click",function(){$(this).toggleClass("active").next().slideToggle().closest(".item-toggle").siblings().find(".title").removeClass("active").next().slideUp()})}function bi(t,e){let s=$(t),i=$(e);if(!s.length||!i.length)return;let r=i.innerHeight()-(s.position().top+s.outerHeight());i.css({"--offset-bottom":r+"px"})}function wi(){$(".img-svg").each(function(){let t=$(this),e=t.attr("src"),s=t.attr("class"),i=t.attr("width"),r=t.attr("height");if(!e)return;let n=e.split(".").pop().toLowerCase();n==="png"||n==="jpg"||n==="jpeg"||$.ajax({url:e,dataType:"text",success:function(o){let l=$("<div>").html(o).find("svg");s&&l.addClass(s),t.replaceWith(l)},error:function(o){console.error("Error fetching SVG:",o)}})})}function yi(){var t=$("[stick-to-edge]");t.each(function(){let e=$(this),s=e.attr("edge-placement")?"inner":"screen",i=e.attr("stick-to-edge"),r=e.attr("unstick-min")||1200,n=($(window).width()-$(".default-container-js").width())/2;s==="inner"&&e.closest(".container")&&e.closest(".container").closest(".container-fluid")&&(n=Math.abs($(".wide-container-js").offset().left-$(".default-container-js").offset().left)),i==="left"&&e.css({"margin-left":`-${n}px`,"--ml":`${Math.abs(n)}`}),i==="right"&&e.css({"margin-right":`-${n}px`,"--mr":`${Math.abs(n)}`}),$(window).width()<r&&(e.removeAttr("style"),e.css({"--ml":"0","--mr":"0"}))})}function Si(){var t=document.querySelector("#menu-spy");let e,s=!1;var i=new MenuSpy(t,{activeClass:"active",threshold:300,callback:function(r){let n=$(".section-scrollTo-active");clearTimeout(e),s=!0,e=setTimeout(function(){$(n).scrollTo("li.active",800),s=!1},1e3)}})}function xi(){function t(){$(".header-search-form").removeClass("active"),$(".header-search").removeClass("active"),$("body").removeClass("disable")}$(".header-search").on("click",function(){$(".header-search-form").addClass("active"),$("body").addClass("disable"),setTimeout(()=>{$(".header-search-form .searchinput").focus()},400)}),$(".header-search-form .close").on("click",function(){t()}),$(document).keyup(function(e){e.key==="Escape"&&t()}),$(document).on("click",function(e){$(".header-search-form").hasClass("active")&&!$(e.target).closest(".productsearchbox").length&&!$(e.target).is(".header-search")&&!$(e.target).closest(".header-search").length&&t()})}var Ta=$(window).width(),Oe={lastScroll:0,scrollActive:function(){let t=$("header").height();$(window).scrollTop()>t?$("header").addClass("active"):$("header").removeClass("active")},scrollDirection:function(){let t=$(window).scrollTop();t>Oe.lastScroll&&t>100?$("header").addClass("scrolldown").removeClass("scrollup"):t<Oe.lastScroll&&$("header").addClass("scrollup").removeClass("scrolldown"),t<=0&&$("header").removeClass("scrolldown scrollup"),Oe.lastScroll=t},mobile:function(){$(".header-bar").on("click",function(){$(this).toggleClass("active"),$("body").toggleClass("isOpenMenu")}),$(".header-close").on("click",function(){$(".header-bar").removeClass("active"),$("body").removeClass("isOpenMenu")}),$(".header-overlay").on("click",function(){$(".header-bar").removeClass("active"),$("body").removeClass("isOpenMenu")}),window.matchMedia("(max-width: 1199.98px)").matches&&($(".header-wrap-menu .menu-mobile li[class*='has-children']>a").each(function(){$(this).wrap('<div class="menu-item"></div>').parent().append('<div class="icon-arrow"></div>')}),$(".header-wrap-menu .menu-mobile li[class*='has-children'] .icon-arrow").on("click",function(){$(this).closest("li").toggleClass("active"),$(this).closest("li").find("ul").slideToggle()}))},initVariable:function(){let t=document.querySelector("header");if(!t)return;function e(){let i=t.offsetHeight;document.documentElement.style.setProperty("--header-height",`${i}px`)}e(),new ResizeObserver(e).observe(t),window.addEventListener("load",()=>{setTimeout(e,100)})},init:function(){xi(),Oe.scrollActive(),Oe.scrollDirection(),Oe.mobile(),Oe.initVariable()}};document.addEventListener("scroll",function(t){Oe.scrollActive(),Oe.scrollDirection()},!0);function Ti(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function xs(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(s=>{typeof t[s]=="undefined"?t[s]=e[s]:Ti(e[s])&&Ti(t[s])&&Object.keys(e[s]).length>0&&xs(t[s],e[s])})}var Ei={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function he(){let t=typeof document!="undefined"?document:{};return xs(t,Ei),t}var Fr={document:Ei,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout=="undefined"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout!="undefined"&&clearTimeout(t)}};function le(){let t=typeof window!="undefined"?window:{};return xs(t,Fr),t}function Ci(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Mi(t){let e=t;Object.keys(e).forEach(s=>{try{e[s]=null}catch(i){}try{delete e[s]}catch(i){}})}function je(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function $e(){return Date.now()}function Yr(t){let e=le(),s;return e.getComputedStyle&&(s=e.getComputedStyle(t,null)),!s&&t.currentStyle&&(s=t.currentStyle),s||(s=t.style),s}function Ts(t,e){e===void 0&&(e="x");let s=le(),i,r,n,o=Yr(t);return s.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),n=new s.WebKitCSSMatrix(r==="none"?"":r)):(n=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=n.toString().split(",")),e==="x"&&(s.WebKitCSSMatrix?r=n.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(s.WebKitCSSMatrix?r=n.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function mt(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Hr(t){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Me(){let t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){let i=s<0||arguments.length<=s?void 0:arguments[s];if(i!=null&&!Hr(i)){let r=Object.keys(Object(i)).filter(n=>e.indexOf(n)<0);for(let n=0,o=r.length;n<o;n+=1){let a=r[n],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(mt(t[a])&&mt(i[a])?i[a].__swiper__?t[a]=i[a]:Me(t[a],i[a]):!mt(t[a])&&mt(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Me(t[a],i[a])):t[a]=i[a])}}}return t}function gt(t,e,s){t.style.setProperty(e,s)}function Es(t){let{swiper:e,targetPosition:s,side:i}=t,r=le(),n=-e.translate,o=null,a,l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);let c=s>n?"next":"prev",d=(p,h)=>c==="next"&&p>=h||c==="prev"&&p<=h,u=()=>{a=new Date().getTime(),o===null&&(o=a);let p=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(p*Math.PI)/2,w=n+h*(s-n);if(d(w,s)&&(w=s),e.wrapperEl.scrollTo({[i]:w}),d(w,s)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:w})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(u)};u()}function Ue(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function me(t,e){return e===void 0&&(e=""),[...t.children].filter(s=>s.matches(e))}function It(t){try{console.warn(t);return}catch(e){}}function De(t,e){e===void 0&&(e=[]);let s=document.createElement(t);return s.classList.add(...Array.isArray(e)?e:Ci(e)),s}function _i(t,e){let s=[];for(;t.previousElementSibling;){let i=t.previousElementSibling;e?i.matches(e)&&s.push(i):s.push(i),t=i}return s}function Pi(t,e){let s=[];for(;t.nextElementSibling;){let i=t.nextElementSibling;e?i.matches(e)&&s.push(i):s.push(i),t=i}return s}function Ke(t,e){return le().getComputedStyle(t,null).getPropertyValue(e)}function ot(t){let e=t,s;if(e){for(s=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(s+=1);return s}}function vt(t,e){let s=[],i=t.parentElement;for(;i;)e?i.matches(e)&&s.push(i):s.push(i),i=i.parentElement;return s}function Kt(t,e){function s(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",s))}e&&t.addEventListener("transitionend",s)}function Ot(t,e,s){let i=le();return s?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}var Cs;function Xr(){let t=le(),e=he();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Ii(){return Cs||(Cs=Xr()),Cs}var Ms;function Wr(t){let{userAgent:e}=t===void 0?{}:t,s=Ii(),i=le(),r=i.navigator.platform,n=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/),d=n.match(/(iPad).*OS\s([\d_]+)/),u=n.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=r==="Win32",w=r==="MacIntel",b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&w&&s.touch&&b.indexOf(`${a}x${l}`)>=0&&(d=n.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),w=!1),c&&!h&&(o.os="android",o.android=!0),(d||p||u)&&(o.os="ios",o.ios=!0),o}function qr(t){return t===void 0&&(t={}),Ms||(Ms=Wr(t)),Ms}var _s;function Gr(){let t=le(),e=!1;function s(){let i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(s()){let i=String(t.navigator.userAgent);if(i.includes("Version/")){let[r,n]=i.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=r<16||r===16&&n<2}}return{isSafari:e||s(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function jr(){return _s||(_s=Gr()),_s}function Ur(t){let{swiper:e,on:s,emit:i}=t,r=le(),n=null,o=null,a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(n=new ResizeObserver(u=>{o=r.requestAnimationFrame(()=>{let{width:p,height:h}=e,w=p,b=h;u.forEach(C=>{let{contentBoxSize:y,contentRect:m,target:f}=C;f&&f!==e.el||(w=m?m.width:(y[0]||y).inlineSize,b=m?m.height:(y[0]||y).blockSize)}),(w!==p||b!==h)&&a()})}),n.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),n&&n.unobserve&&e.el&&(n.unobserve(e.el),n=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};s("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver!="undefined"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),s("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function Kr(t){let{swiper:e,extendParams:s,on:i,emit:r}=t,n=[],o=le(),a=function(d,u){u===void 0&&(u={});let p=o.MutationObserver||o.WebkitMutationObserver,h=new p(w=>{if(e.__preventObserver__)return;if(w.length===1){r("observerUpdate",w[0]);return}let b=function(){r("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});h.observe(d,{attributes:typeof u.attributes=="undefined"?!0:u.attributes,childList:typeof u.childList=="undefined"?!0:u.childList,characterData:typeof u.characterData=="undefined"?!0:u.characterData}),n.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){let d=vt(e.hostEl);for(let u=0;u<d.length;u+=1)a(d[u])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{n.forEach(d=>{d.disconnect()}),n.splice(0,n.length)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var Zr={on(t,e,s){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let r=s?"unshift":"push";return t.split(" ").forEach(n=>{i.eventsListeners[n]||(i.eventsListeners[n]=[]),i.eventsListeners[n][r](e)}),i},once(t,e,s){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,s)},onAny(t,e){let s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;let i=e?"unshift":"push";return s.eventsAnyListeners.indexOf(t)<0&&s.eventsAnyListeners[i](t),s},offAny(t){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let s=e.eventsAnyListeners.indexOf(t);return s>=0&&e.eventsAnyListeners.splice(s,1),e},off(t,e){let s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||t.split(" ").forEach(i=>{typeof e=="undefined"?s.eventsListeners[i]=[]:s.eventsListeners[i]&&s.eventsListeners[i].forEach((r,n)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&s.eventsListeners[i].splice(n,1)})}),s},emit(){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,s,i;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return typeof n[0]=="string"||Array.isArray(n[0])?(e=n[0],s=n.slice(1,n.length),i=t):(e=n[0].events,s=n[0].data,i=n[0].context||t),s.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...s])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,s)})}),t}};function Qr(){let t=this,e,s,i=t.el;typeof t.params.width!="undefined"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height!="undefined"&&t.params.height!==null?s=t.params.height:s=i.clientHeight,!(e===0&&t.isHorizontal()||s===0&&t.isVertical())&&(e=e-parseInt(Ke(i,"padding-left")||0,10)-parseInt(Ke(i,"padding-right")||0,10),s=s-parseInt(Ke(i,"padding-top")||0,10)-parseInt(Ke(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(s)&&(s=0),Object.assign(t,{width:e,height:s,size:t.isHorizontal()?e:s}))}function Jr(){let t=this;function e(v,M){return parseFloat(v.getPropertyValue(t.getDirectionLabel(M))||0)}let s=t.params,{wrapperEl:i,slidesEl:r,size:n,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&s.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=me(r,`.${t.params.slideClass}, swiper-slide`),u=l?t.virtual.slides.length:d.length,p=[],h=[],w=[],b=s.slidesOffsetBefore;typeof b=="function"&&(b=s.slidesOffsetBefore.call(t));let C=s.slidesOffsetAfter;typeof C=="function"&&(C=s.slidesOffsetAfter.call(t));let y=t.snapGrid.length,m=t.slidesGrid.length,f=s.spaceBetween,g=-b,S=0,_=0;if(typeof n=="undefined")return;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*n:typeof f=="string"&&(f=parseFloat(f)),t.virtualSize=-f,d.forEach(v=>{o?v.style.marginLeft="":v.style.marginRight="",v.style.marginBottom="",v.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(gt(i,"--swiper-centered-offset-before",""),gt(i,"--swiper-centered-offset-after",""));let O=s.grid&&s.grid.rows>1&&t.grid;O?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let A,T=s.slidesPerView==="auto"&&s.breakpoints&&Object.keys(s.breakpoints).filter(v=>typeof s.breakpoints[v].slidesPerView!="undefined").length>0;for(let v=0;v<u;v+=1){A=0;let M;if(d[v]&&(M=d[v]),O&&t.grid.updateSlide(v,M,d),!(d[v]&&Ke(M,"display")==="none")){if(s.slidesPerView==="auto"){T&&(d[v].style[t.getDirectionLabel("width")]="");let x=getComputedStyle(M),E=M.style.transform,L=M.style.webkitTransform;if(E&&(M.style.transform="none"),L&&(M.style.webkitTransform="none"),s.roundLengths)A=t.isHorizontal()?Ot(M,"width",!0):Ot(M,"height",!0);else{let k=e(x,"width"),z=e(x,"padding-left"),F=e(x,"padding-right"),I=e(x,"margin-left"),P=e(x,"margin-right"),D=x.getPropertyValue("box-sizing");if(D&&D==="border-box")A=k+I+P;else{let{clientWidth:R,offsetWidth:H}=M;A=k+z+F+I+P+(H-R)}}E&&(M.style.transform=E),L&&(M.style.webkitTransform=L),s.roundLengths&&(A=Math.floor(A))}else A=(n-(s.slidesPerView-1)*f)/s.slidesPerView,s.roundLengths&&(A=Math.floor(A)),d[v]&&(d[v].style[t.getDirectionLabel("width")]=`${A}px`);d[v]&&(d[v].swiperSlideSize=A),w.push(A),s.centeredSlides?(g=g+A/2+S/2+f,S===0&&v!==0&&(g=g-n/2-f),v===0&&(g=g-n/2-f),Math.abs(g)<1/1e3&&(g=0),s.roundLengths&&(g=Math.floor(g)),_%s.slidesPerGroup===0&&p.push(g),h.push(g)):(s.roundLengths&&(g=Math.floor(g)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&p.push(g),h.push(g),g=g+A+f),t.virtualSize+=A+f,S=A,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,n)+C,o&&a&&(s.effect==="slide"||s.effect==="coverflow")&&(i.style.width=`${t.virtualSize+f}px`),s.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+f}px`),O&&t.grid.updateWrapperSize(A,p),!s.centeredSlides){let v=[];for(let M=0;M<p.length;M+=1){let x=p[M];s.roundLengths&&(x=Math.floor(x)),p[M]<=t.virtualSize-n&&v.push(x)}p=v,Math.floor(t.virtualSize-n)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-n)}if(l&&s.loop){let v=w[0]+f;if(s.slidesPerGroup>1){let M=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/s.slidesPerGroup),x=v*s.slidesPerGroup;for(let E=0;E<M;E+=1)p.push(p[p.length-1]+x)}for(let M=0;M<t.virtual.slidesBefore+t.virtual.slidesAfter;M+=1)s.slidesPerGroup===1&&p.push(p[p.length-1]+v),h.push(h[h.length-1]+v),t.virtualSize+=v}if(p.length===0&&(p=[0]),f!==0){let v=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((M,x)=>!s.cssMode||s.loop?!0:x!==d.length-1).forEach(M=>{M.style[v]=`${f}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let v=0;w.forEach(x=>{v+=x+(f||0)}),v-=f;let M=v-n;p=p.map(x=>x<=0?-b:x>M?M+C:x)}if(s.centerInsufficientSlides){let v=0;if(w.forEach(M=>{v+=M+(f||0)}),v-=f,v<n){let M=(n-v)/2;p.forEach((x,E)=>{p[E]=x-M}),h.forEach((x,E)=>{h[E]=x+M})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:h,slidesSizesGrid:w}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){gt(i,"--swiper-centered-offset-before",`${-p[0]}px`),gt(i,"--swiper-centered-offset-after",`${t.size/2-w[w.length-1]/2}px`);let v=-t.snapGrid[0],M=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(x=>x+v),t.slidesGrid=t.slidesGrid.map(x=>x+M)}if(u!==c&&t.emit("slidesLengthChange"),p.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==m&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!s.cssMode&&(s.effect==="slide"||s.effect==="fade")){let v=`${s.containerModifierClass}backface-hidden`,M=t.el.classList.contains(v);u<=s.maxBackfaceHiddenSlides?M||t.el.classList.add(v):M&&t.el.classList.remove(v)}}function en(t){let e=this,s=[],i=e.virtual&&e.params.virtual.enabled,r=0,n;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);let o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{s.push(a)});else for(n=0;n<Math.ceil(e.params.slidesPerView);n+=1){let a=e.activeIndex+n;if(a>e.slides.length&&!i)break;s.push(o(a))}else s.push(o(e.activeIndex));for(n=0;n<s.length;n+=1)if(typeof s[n]!="undefined"){let a=s[n].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function tn(){let t=this,e=t.slides,s=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-s-t.cssOverflowAdjustment()}function sn(t){t===void 0&&(t=this&&this.translate||0);let e=this,s=e.params,{slides:i,rtlTranslate:r,snapGrid:n}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let o=-t;r&&(o=t),i.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=s.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){let c=i[l],d=c.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(d-=i[0].swiperSlideOffset);let u=(o+(s.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-n[0]+(s.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),h=-(o-d),w=h+e.slidesSizesGrid[l],b=h>=0&&h<=e.size-e.slidesSizesGrid[l];(h>=0&&h<e.size-1||w>1&&w<=e.size||h<=0&&w>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),i[l].classList.add(s.slideVisibleClass)),b&&i[l].classList.add(s.slideFullyVisibleClass),c.progress=r?-u:u,c.originalProgress=r?-p:p}}function rn(t){let e=this;if(typeof t=="undefined"){let d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}let s=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:r,isBeginning:n,isEnd:o,progressLoop:a}=e,l=n,c=o;if(i===0)r=0,n=!0,o=!0;else{r=(t-e.minTranslate())/i;let d=Math.abs(t-e.minTranslate())<1,u=Math.abs(t-e.maxTranslate())<1;n=d||r<=0,o=u||r>=1,d&&(r=0),u&&(r=1)}if(s.loop){let d=e.getSlideIndexByData(0),u=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],h=e.slidesGrid[u],w=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=p?a=(b-p)/w:a=(b+w-h)/w,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:n,isEnd:o}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&e.updateSlidesProgress(t),n&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!n||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}function nn(){let t=this,{slides:e,params:s,slidesEl:i,activeIndex:r}=t,n=t.virtual&&s.virtual.enabled,o=t.grid&&s.grid&&s.grid.rows>1,a=u=>me(i,`.${s.slideClass}${u}, swiper-slide${u}`)[0];e.forEach(u=>{u.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let l,c,d;if(n)if(s.loop){let u=r-t.virtual.slidesBefore;u<0&&(u=t.virtual.slides.length+u),u>=t.virtual.slides.length&&(u-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${u}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.filter(u=>u.column===r)[0],d=e.filter(u=>u.column===r+1)[0],c=e.filter(u=>u.column===r-1)[0]):l=e[r];l&&(l.classList.add(s.slideActiveClass),o?(d&&d.classList.add(s.slideNextClass),c&&c.classList.add(s.slidePrevClass)):(d=Pi(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!d&&(d=e[0]),d&&d.classList.add(s.slideNextClass),c=_i(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(s.slidePrevClass))),t.emitSlidesClasses()}var Zt=(t,e)=>{if(!t||t.destroyed||!t.params)return;let s=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(s());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Ps=(t,e)=>{if(!t.slides[e])return;let s=t.slides[e].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},$s=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext,s=t.slides.length;if(!s||!e||e<0)return;e=Math.min(e,s);let i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Ps(t,c)});return}let n=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=n+e;o+=1){let a=(o%s+s)%s;(a<r||a>n)&&Ps(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(n+e,s-1);o+=1)o!==r&&(o>n||o<r)&&Ps(t,o)};function on(t){let{slidesGrid:e,params:s}=t,i=t.rtlTranslate?t.translate:-t.translate,r;for(let n=0;n<e.length;n+=1)typeof e[n+1]!="undefined"?i>=e[n]&&i<e[n+1]-(e[n+1]-e[n])/2?r=n:i>=e[n]&&i<e[n+1]&&(r=n+1):i>=e[n]&&(r=n);return s.normalizeSlideIndex&&(r<0||typeof r=="undefined")&&(r=0),r}function an(t){let e=this,s=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:n,realIndex:o,snapIndex:a}=e,l=t,c,d=h=>{let w=h-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof l=="undefined"&&(l=on(e)),i.indexOf(s)>=0)c=i.indexOf(s);else{let h=Math.min(r.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===n&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===n&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}let u=e.grid&&r.grid&&r.grid.rows>1,p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(l);else if(u){let h=e.slides.filter(b=>b.column===l)[0],w=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(h),0)),p=Math.floor(w/r.grid.rows)}else if(e.slides[l]){let h=e.slides[l].getAttribute("data-swiper-slide-index");h?p=parseInt(h,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:n,activeIndex:l}),e.initialized&&$s(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function ln(t,e){let s=this,i=s.params,r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&s.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let n=!1,o;if(r){for(let a=0;a<s.slides.length;a+=1)if(s.slides[a]===r){n=!0,o=a;break}}if(r&&n)s.clickedSlide=r,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=o;else{s.clickedSlide=void 0,s.clickedIndex=void 0;return}i.slideToClickedSlide&&s.clickedIndex!==void 0&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}var cn={updateSize:Qr,updateSlides:Jr,updateAutoHeight:en,updateSlidesOffset:tn,updateSlidesProgress:sn,updateProgress:rn,updateSlidesClasses:nn,updateActiveIndex:an,updateClickedSlide:ln};function dn(t){t===void 0&&(t=this.isHorizontal()?"x":"y");let e=this,{params:s,rtlTranslate:i,translate:r,wrapperEl:n}=e;if(s.virtualTranslate)return i?-r:r;if(s.cssMode)return r;let o=Ts(n,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function un(t,e){let s=this,{rtlTranslate:i,params:r,wrapperEl:n,progress:o}=s,a=0,l=0,c=0;s.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?a:l,r.cssMode?n[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-a:-l:r.virtualTranslate||(s.isHorizontal()?a-=s.cssOverflowAdjustment():l-=s.cssOverflowAdjustment(),n.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d,u=s.maxTranslate()-s.minTranslate();u===0?d=0:d=(t-s.minTranslate())/u,d!==o&&s.updateProgress(t),s.emit("setTranslate",s.translate,e)}function fn(){return-this.snapGrid[0]}function pn(){return-this.snapGrid[this.snapGrid.length-1]}function hn(t,e,s,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),i===void 0&&(i=!0);let n=this,{params:o,wrapperEl:a}=n;if(n.animating&&o.preventInteractionOnTransition)return!1;let l=n.minTranslate(),c=n.maxTranslate(),d;if(i&&t>l?d=l:i&&t<c?d=c:d=t,n.updateProgress(d),o.cssMode){let u=n.isHorizontal();if(e===0)a[u?"scrollLeft":"scrollTop"]=-d;else{if(!n.support.smoothScroll)return Es({swiper:n,targetPosition:-d,side:u?"left":"top"}),!0;a.scrollTo({[u?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(n.setTransition(0),n.setTranslate(d),s&&(n.emit("beforeTransitionStart",e,r),n.emit("transitionEnd"))):(n.setTransition(e),n.setTranslate(d),s&&(n.emit("beforeTransitionStart",e,r),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(p){!n||n.destroyed||p.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,s&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var mn={getTranslate:dn,setTranslate:un,minTranslate:fn,maxTranslate:pn,translateTo:hn};function gn(t,e){let s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${t}ms`,s.wrapperEl.style.transitionDelay=t===0?"0ms":""),s.emit("setTransition",t,e)}function Oi(t){let{swiper:e,runCallbacks:s,direction:i,step:r}=t,{activeIndex:n,previousIndex:o}=e,a=i;if(a||(n>o?a="next":n<o?a="prev":a="reset"),e.emit(`transition${r}`),s&&n!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function vn(t,e){t===void 0&&(t=!0);let s=this,{params:i}=s;i.cssMode||(i.autoHeight&&s.updateAutoHeight(),Oi({swiper:s,runCallbacks:t,direction:e,step:"Start"}))}function bn(t,e){t===void 0&&(t=!0);let s=this,{params:i}=s;s.animating=!1,!i.cssMode&&(s.setTransition(0),Oi({swiper:s,runCallbacks:t,direction:e,step:"End"}))}var wn={setTransition:gn,transitionStart:vn,transitionEnd:bn};function yn(t,e,s,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));let n=this,o=t;o<0&&(o=0);let{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:p,wrapperEl:h,enabled:w}=n;if(n.animating&&a.preventInteractionOnTransition||!w&&!i&&!r)return!1;let b=Math.min(n.params.slidesPerGroupSkip,o),C=b+Math.floor((o-b)/n.params.slidesPerGroup);C>=l.length&&(C=l.length-1);let y=-l[C];if(a.normalizeSlideIndex)for(let f=0;f<c.length;f+=1){let g=-Math.floor(y*100),S=Math.floor(c[f]*100),_=Math.floor(c[f+1]*100);typeof c[f+1]!="undefined"?g>=S&&g<_-(_-S)/2?o=f:g>=S&&g<_&&(o=f+1):g>=S&&(o=f)}if(n.initialized&&o!==u&&(!n.allowSlideNext&&(p?y>n.translate&&y>n.minTranslate():y<n.translate&&y<n.minTranslate())||!n.allowSlidePrev&&y>n.translate&&y>n.maxTranslate()&&(u||0)!==o))return!1;o!==(d||0)&&s&&n.emit("beforeSlideChangeStart"),n.updateProgress(y);let m;if(o>u?m="next":o<u?m="prev":m="reset",p&&-y===n.translate||!p&&y===n.translate)return n.updateActiveIndex(o),a.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),a.effect!=="slide"&&n.setTranslate(y),m!=="reset"&&(n.transitionStart(s,m),n.transitionEnd(s,m)),!1;if(a.cssMode){let f=n.isHorizontal(),g=p?y:-y;if(e===0){let S=n.virtual&&n.params.virtual.enabled;S&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),S&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[f?"scrollLeft":"scrollTop"]=g})):h[f?"scrollLeft":"scrollTop"]=g,S&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1})}else{if(!n.support.smoothScroll)return Es({swiper:n,targetPosition:g,side:f?"left":"top"}),!0;h.scrollTo({[f?"left":"top"]:g,behavior:"smooth"})}return!0}return n.setTransition(e),n.setTranslate(y),n.updateActiveIndex(o),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,i),n.transitionStart(s,m),e===0?n.transitionEnd(s,m):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(g){!n||n.destroyed||g.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(s,m))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function Sn(t,e,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));let r=this,n=r.grid&&r.params.grid&&r.params.grid.rows>1,o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(n){let p=o*r.params.grid.rows;a=r.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===p)[0].column}else a=r.getSlideIndexByData(o);let l=n?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params,d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let u=l-a<d;if(c&&(u=u||a<Math.ceil(d/2)),u){let p=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(n){let p=o*r.params.grid.rows;o=r.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===p)[0].column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,s,i)}),r}function xn(t,e,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let i=this,{enabled:r,params:n,animating:o}=i;if(!r)return i;let a=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));let l=i.activeIndex<n.slidesPerGroupSkip?1:a,c=i.virtual&&n.virtual.enabled;if(n.loop){if(o&&!c&&n.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,s)}),!0}return n.rewind&&i.isEnd?i.slideTo(0,t,e,s):i.slideTo(i.activeIndex+l,t,e,s)}function Tn(t,e,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let i=this,{params:r,snapGrid:n,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l)return i;let d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let u=a?i.translate:-i.translate;function p(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}let h=p(u),w=n.map(y=>p(y)),b=n[w.indexOf(h)-1];if(typeof b=="undefined"&&r.cssMode){let y;n.forEach((m,f)=>{h>=m&&(y=f)}),typeof y!="undefined"&&(b=n[y>0?y-1:y])}let C=0;if(typeof b!="undefined"&&(C=o.indexOf(b),C<0&&(C=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(C=C-i.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),r.rewind&&i.isBeginning){let y=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(y,t,e,s)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(C,t,e,s)}),!0;return i.slideTo(C,t,e,s)}function En(t,e,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let i=this;return i.slideTo(i.activeIndex,t,e,s)}function Cn(t,e,s,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);let r=this,n=r.activeIndex,o=Math.min(r.params.slidesPerGroupSkip,n),a=o+Math.floor((n-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){let c=r.snapGrid[a],d=r.snapGrid[a+1];l-c>(d-c)*i&&(n+=r.params.slidesPerGroup)}else{let c=r.snapGrid[a-1],d=r.snapGrid[a];l-c<=(d-c)*i&&(n-=r.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,r.slidesGrid.length-1),r.slideTo(n,t,e,s)}function Mn(){let t=this,{params:e,slidesEl:s}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView,r=t.clickedIndex,n,o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;n=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(me(s,`${o}[data-swiper-slide-index="${n}"]`)[0]),je(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(me(s,`${o}[data-swiper-slide-index="${n}"]`)[0]),je(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var _n={slideTo:yn,slideToLoop:Sn,slideNext:xn,slidePrev:Tn,slideReset:En,slideToClosest:Cn,slideToClickedSlide:Mn};function Pn(t){let e=this,{params:s,slidesEl:i}=e;if(!s.loop||e.virtual&&e.params.virtual.enabled)return;let r=()=>{me(i,`.${s.slideClass}, swiper-slide`).forEach((u,p)=>{u.setAttribute("data-swiper-slide-index",p)})},n=e.grid&&s.grid&&s.grid.rows>1,o=s.slidesPerGroup*(n?s.grid.rows:1),a=e.slides.length%o!==0,l=n&&e.slides.length%s.grid.rows!==0,c=d=>{for(let u=0;u<d;u+=1){let p=e.isElement?De("swiper-slide",[s.slideBlankClass]):De("div",[s.slideClass,s.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(s.loopAddBlankSlides){let d=o-e.slides.length%o;c(d),e.recalcSlides(),e.updateSlides()}else It("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(s.loopAddBlankSlides){let d=s.grid.rows-e.slides.length%s.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else It("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next"})}function An(t){let{slideRealIndex:e,slideTo:s=!0,direction:i,setTranslate:r,activeSlideIndex:n,byController:o,byMousewheel:a}=t===void 0?{}:t,l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:p,params:h}=l,{centeredSlides:w}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){s&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,l.emit("loopFix");return}let b=h.slidesPerView;b==="auto"?b=l.slidesPerViewDynamic():(b=Math.ceil(parseFloat(h.slidesPerView,10)),w&&b%2===0&&(b=b+1));let C=h.slidesPerGroupAuto?b:h.slidesPerGroup,y=C;y%C!==0&&(y+=C-y%C),y+=h.loopAdditionalSlides,l.loopedSlides=y;let m=l.grid&&h.grid&&h.grid.rows>1;c.length<b+y?It("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):m&&h.grid.fill==="row"&&It("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let f=[],g=[],S=l.activeIndex;typeof n=="undefined"?n=l.getSlideIndex(c.filter(E=>E.classList.contains(h.slideActiveClass))[0]):S=n;let _=i==="next"||!i,O=i==="prev"||!i,A=0,T=0,v=m?Math.ceil(c.length/h.grid.rows):c.length,x=(m?c[n].column:n)+(w&&typeof r=="undefined"?-b/2+.5:0);if(x<y){A=Math.max(y-x,C);for(let E=0;E<y-x;E+=1){let L=E-Math.floor(E/v)*v;if(m){let k=v-L-1;for(let z=c.length-1;z>=0;z-=1)c[z].column===k&&f.push(z)}else f.push(v-L-1)}}else if(x+b>v-y){T=Math.max(x-(v-y*2),C);for(let E=0;E<T;E+=1){let L=E-Math.floor(E/v)*v;m?c.forEach((k,z)=>{k.column===L&&g.push(z)}):g.push(L)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),O&&f.forEach(E=>{c[E].swiperLoopMoveDOM=!0,p.prepend(c[E]),c[E].swiperLoopMoveDOM=!1}),_&&g.forEach(E=>{c[E].swiperLoopMoveDOM=!0,p.append(c[E]),c[E].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():m&&(f.length>0&&O||g.length>0&&_)&&l.slides.forEach((E,L)=>{l.grid.updateSlide(L,E,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),s){if(f.length>0&&O){if(typeof e=="undefined"){let E=l.slidesGrid[S],k=l.slidesGrid[S+A]-E;a?l.setTranslate(l.translate-k):(l.slideTo(S+A,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-k,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-k))}else if(r){let E=m?f.length/h.grid.rows:f.length;l.slideTo(l.activeIndex+E,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(g.length>0&&_)if(typeof e=="undefined"){let E=l.slidesGrid[S],k=l.slidesGrid[S-T]-E;a?l.setTranslate(l.translate-k):(l.slideTo(S-T,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-k,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-k))}else{let E=m?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex-E,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!o){let E={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:n,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(L=>{!L.destroyed&&L.params.loop&&L.loopFix(Ge(we({},E),{slideTo:L.params.slidesPerView===h.slidesPerView?s:!1}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(Ge(we({},E),{slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?s:!1}))}l.emit("loopFix")}function Ln(){let t=this,{params:e,slidesEl:s}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();let i=[];t.slides.forEach(r=>{let n=typeof r.swiperSlideIndex=="undefined"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[n]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{s.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var $n={loopCreate:Pn,loopFix:An,loopDestroy:Ln};function kn(t){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let s=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function In(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var On={setGrabCursor:kn,unsetGrabCursor:In};function Dn(t,e){e===void 0&&(e=this);function s(i){if(!i||i===he()||i===le())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(t);return!r&&!i.getRootNode?null:r||s(i.getRootNode().host)}return s(e)}function Ai(t,e,s){let i=le(),{params:r}=t,n=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return n&&(s<=o||s>=i.innerWidth-o)?n==="prevent"?(e.preventDefault(),!0):!1:!0}function zn(t){let e=this,s=he(),i=t;i.originalEvent&&(i=i.originalEvent);let r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Ai(e,i,i.targetTouches[0].pageX);return}let{params:n,touches:o,enabled:a}=e;if(!a||!n.simulateTouch&&i.pointerType==="mouse"||e.animating&&n.preventInteractionOnTransition)return;!e.animating&&n.cssMode&&n.loop&&e.loopFix();let l=i.target;if(n.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;let c=!!n.noSwipingClass&&n.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);let u=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(n.noSwiping&&(p?Dn(u,l):l.closest(u))){e.allowClick=!0;return}if(n.swipeHandler&&!l.closest(n.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;let h=o.currentX,w=o.currentY;if(!Ai(e,i,h))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=w,r.touchStartTime=$e(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,n.threshold>0&&(r.allowThresholdMove=!1);let b=!0;l.matches(r.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),s.activeElement&&s.activeElement.matches(r.focusableElements)&&s.activeElement!==l&&s.activeElement.blur();let C=b&&e.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||C)&&!l.isContentEditable&&i.preventDefault(),n.freeMode&&n.freeMode.enabled&&e.freeMode&&e.animating&&!n.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Bn(t){let e=he(),s=this,i=s.touchEventsData,{params:r,touches:n,rtlTranslate:o,enabled:a}=s;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(_=>_.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",l);return}let d=c.pageX,u=c.pageY;if(l.preventedByNestedSwiper){n.startX=d,n.startY=u;return}if(!s.allowTouchMove){l.target.matches(i.focusableElements)||(s.allowClick=!1),i.isTouched&&(Object.assign(n,{startX:d,startY:u,currentX:d,currentY:u}),i.touchStartTime=$e());return}if(r.touchReleaseOnEdges&&!r.loop){if(s.isVertical()){if(u<n.startY&&s.translate<=s.maxTranslate()||u>n.startY&&s.translate>=s.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<n.startX&&s.translate<=s.maxTranslate()||d>n.startX&&s.translate>=s.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,s.allowClick=!1;return}i.allowTouchCallbacks&&s.emit("touchMove",l),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=d,n.currentY=u;let p=n.currentX-n.startX,h=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(Le(p,2)+Le(h,2))<s.params.threshold)return;if(typeof i.isScrolling=="undefined"){let _;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:p*p+h*h>=25&&(_=Math.atan2(Math.abs(h),Math.abs(p))*180/Math.PI,i.isScrolling=s.isHorizontal()?_>r.touchAngle:90-_>r.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",l),typeof i.startMoving=="undefined"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;s.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let w=s.isHorizontal()?p:h,b=s.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;r.oneWayMovement&&(w=Math.abs(w)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),n.diff=w,w*=r.touchRatio,o&&(w=-w,b=-b);let C=s.touchesDirection;s.swipeDirection=w>0?"prev":"next",s.touchesDirection=b>0?"prev":"next";let y=s.params.loop&&!r.cssMode,m=s.touchesDirection==="next"&&s.allowSlideNext||s.touchesDirection==="prev"&&s.allowSlidePrev;if(!i.isMoved){if(y&&m&&s.loopFix({direction:s.swipeDirection}),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){let _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(_)}i.allowMomentumBounce=!1,r.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",l)}let f;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&C!==s.touchesDirection&&y&&m&&Math.abs(w)>=1){Object.assign(n,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}s.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=w+i.startTranslate;let g=!0,S=r.resistanceRatio;if(r.touchReleaseOnEdges&&(S=0),w>0?(y&&m&&!f&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>s.minTranslate()&&(g=!1,r.resistance&&(i.currentTranslate=s.minTranslate()-1+Le(-s.minTranslate()+i.startTranslate+w,S)))):w<0&&(y&&m&&!f&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(r.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<s.maxTranslate()&&(g=!1,r.resistance&&(i.currentTranslate=s.maxTranslate()+1-Le(s.maxTranslate()-i.startTranslate-w,S)))),g&&(l.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(w)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function Rn(t){let e=this,s=e.touchEventsData,i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].filter(S=>S.identifier===s.touchId)[0],!r||r.identifier!==s.touchId)return}else{if(s.touchId!==null||i.pointerId!==s.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;s.pointerId=null,s.touchId=null;let{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(s.allowTouchCallbacks&&e.emit("touchEnd",i),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&o.grabCursor&&e.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}o.grabCursor&&s.isMoved&&s.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let u=$e(),p=u-s.touchStartTime;if(e.allowClick){let S=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(S&&S[0]||i.target,S),e.emit("tap click",i),p<300&&u-s.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(s.lastClickTime=$e(),je(()=>{e.destroyed||(e.allowClick=!0)}),!s.isTouched||!s.isMoved||!e.swipeDirection||a.diff===0&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-s.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let w=h>=-e.maxTranslate()&&!e.params.loop,b=0,C=e.slidesSizesGrid[0];for(let S=0;S<c.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){let _=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[S+_]!="undefined"?(w||h>=c[S]&&h<c[S+_])&&(b=S,C=c[S+_]-c[S]):(w||h>=c[S])&&(b=S,C=c[c.length-1]-c[c.length-2])}let y=null,m=null;o.rewind&&(e.isBeginning?m=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));let f=(h-c[b])/C,g=b<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(f>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?y:b+g):e.slideTo(b)),e.swipeDirection==="prev"&&(f>1-o.longSwipesRatio?e.slideTo(b+g):m!==null&&f<0&&Math.abs(f)>o.longSwipesRatio?e.slideTo(m):e.slideTo(b))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(b+g):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:b+g),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:b))}}function Li(){let t=this,{params:e,el:s}=t;if(s&&s.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:n}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&n!==t.snapGrid&&t.checkOverflow()}function Nn(t){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Vn(){let t=this,{wrapperEl:e,rtlTranslate:s,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r,n=t.maxTranslate()-t.minTranslate();n===0?r=0:r=(t.translate-t.minTranslate())/n,r!==t.progress&&t.updateProgress(s?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Fn(t){let e=this;Zt(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Yn(){let t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}var Di=(t,e)=>{let s=he(),{params:i,el:r,wrapperEl:n,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;s[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),s[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),s[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),s[l]("touchend",t.onTouchEnd,{passive:!0}),s[l]("pointerup",t.onTouchEnd,{passive:!0}),s[l]("pointercancel",t.onTouchEnd,{passive:!0}),s[l]("touchcancel",t.onTouchEnd,{passive:!0}),s[l]("pointerout",t.onTouchEnd,{passive:!0}),s[l]("pointerleave",t.onTouchEnd,{passive:!0}),s[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&n[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Li,!0):t[c]("observerUpdate",Li,!0),r[l]("load",t.onLoad,{capture:!0})};function Hn(){let t=this,{params:e}=t;t.onTouchStart=zn.bind(t),t.onTouchMove=Bn.bind(t),t.onTouchEnd=Rn.bind(t),t.onDocumentTouchStart=Yn.bind(t),e.cssMode&&(t.onScroll=Vn.bind(t)),t.onClick=Nn.bind(t),t.onLoad=Fn.bind(t),Di(t,"on")}function Xn(){Di(this,"off")}var Wn={attachEvents:Hn,detachEvents:Xn},$i=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function qn(){let t=this,{realIndex:e,initialized:s,params:i,el:r}=t,n=i.breakpoints;if(!n||n&&Object.keys(n).length===0)return;let o=t.getBreakpoint(n,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;let l=(o in n?n[o]:void 0)||t.originalParams,c=$i(t,i),d=$i(t,l),u=i.enabled;c&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]=="undefined")return;let m=i[y]&&i[y].enabled,f=l[y]&&l[y].enabled;m&&!f&&t[y].disable(),!m&&f&&t[y].enable()});let p=l.direction&&l.direction!==i.direction,h=i.loop&&(l.slidesPerView!==i.slidesPerView||p),w=i.loop;p&&s&&t.changeDirection(),Me(t.params,l);let b=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),u&&!b?t.disable():!u&&b&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),s&&(h?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!w&&C?(t.loopCreate(e),t.updateSlides()):w&&!C&&t.loopDestroy()),t.emit("breakpoint",l)}function Gn(t,e,s){if(e===void 0&&(e="window"),!t||e==="container"&&!s)return;let i=!1,r=le(),n=e==="window"?r.innerHeight:s.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){let l=parseFloat(a.substr(1));return{value:n*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){let{point:l,value:c}=o[a];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=s.clientWidth&&(i=l)}return i||"max"}var jn={setBreakpoint:qn,getBreakpoint:Gn};function Un(t,e){let s=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&s.push(e+r)}):typeof i=="string"&&s.push(e+i)}),s}function Kn(){let t=this,{classNames:e,params:s,rtl:i,el:r,device:n}=t,o=Un(["initialized",s.direction,{"free-mode":t.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:i},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function Zn(){let t=this,{el:e,classNames:s}=t;e.classList.remove(...s),t.emitContainerClasses()}var Qn={addClasses:Kn,removeClasses:Zn};function Jn(){let t=this,{isLocked:e,params:s}=t,{slidesOffsetBefore:i}=s;if(i){let r=t.slides.length-1,n=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>n}else t.isLocked=t.snapGrid.length===1;s.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),s.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var eo={checkOverflow:Jn},ki={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function to(t,e){return function(i){i===void 0&&(i={});let r=Object.keys(i)[0],n=i[r];if(typeof n!="object"||n===null){Me(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in n)){Me(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Me(e,i)}}var As={eventsEmitter:Zr,update:cn,translate:mn,transition:wn,slide:_n,loop:$n,grabCursor:On,events:Wn,breakpoints:jn,checkOverflow:eo,classes:Qn},Ls={},ve=class t{constructor(){let e,s;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?s=r[0]:[e,s]=r,s||(s={}),s=Me({},s),e&&!s.el&&(s.el=e);let o=he();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){let d=[];return o.querySelectorAll(s.el).forEach(u=>{let p=Me({},s,{el:u});d.push(new t(p))}),d}let a=this;a.__swiper__=!0,a.support=Ii(),a.device=qr({userAgent:s.userAgent}),a.browser=jr(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],s.modules&&Array.isArray(s.modules)&&a.modules.push(...s.modules);let l={};a.modules.forEach(d=>{d({params:s,swiper:a,extendParams:to(s,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});let c=Me({},ki,l);return a.params=Me({},c,Ls,s),a.originalParams=Me({},a.params),a.passedParams=Me({},s),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/Le(2,23))*Le(2,23)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:s,params:i}=this,r=me(s,`.${i.slideClass}, swiper-slide`),n=ot(r[0]);return ot(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){let e=this,{slidesEl:s,params:i}=e;e.slides=me(s,`.${i.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,s){let i=this;e=Math.min(Math.max(e,0),1);let r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof s=="undefined"?0:s),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let s=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",s.join(" "))}getSlideClasses(e){let s=this;return s.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let s=[];e.slides.forEach(i=>{let r=e.getSlideClasses(i);s.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",s)}slidesPerViewDynamic(e,s){e===void 0&&(e="current"),s===void 0&&(s=!1);let i=this,{params:r,slides:n,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i,d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let u=n[c]?n[c].swiperSlideSize:0,p;for(let h=c+1;h<n.length;h+=1)n[h]&&!p&&(u+=n[h].swiperSlideSize,d+=1,u>l&&(p=!0));for(let h=c-1;h>=0;h-=1)n[h]&&!p&&(u+=n[h].swiperSlideSize,d+=1,u>l&&(p=!0))}else if(e==="current")for(let u=c+1;u<n.length;u+=1)(s?o[u]+a[u]-o[c]<l:o[u]-o[c]<l)&&(d+=1);else for(let u=c-1;u>=0;u-=1)o[c]-o[u]<l&&(d+=1);return d}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:s,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Zt(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){let o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let n;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){let o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;n=e.slideTo(o.length-1,0,!1,!0)}else n=e.slideTo(e.activeIndex,0,!1,!0);n||r()}i.watchOverflow&&s!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,s){s===void 0&&(s=!0);let i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(n=>{e==="vertical"?n.style.width="":n.style.height=""}),i.emit("changeDirection"),s&&i.update()),i}changeLanguageDirection(e){let s=this;s.rtl&&e==="rtl"||!s.rtl&&e==="ltr"||(s.rtl=e==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(e){let s=this;if(s.mounted)return!0;let i=e||s.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=s,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(s.isElement=!0);let r=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`,o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):me(i,r())[0];return!o&&s.params.createElements&&(o=De("div",s.params.wrapperClass),i.append(o),me(i,`.${s.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(s,{el:i,wrapperEl:o,slidesEl:s.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:s.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ke(i,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ke(i,"direction")==="rtl"),wrongRTL:Ke(o,"display")==="-webkit-box"}),!0}init(e){let s=this;if(s.initialized||s.mount(e)===!1)return s;s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents();let r=[...s.el.querySelectorAll('[loading="lazy"]')];return s.isElement&&r.push(...s.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(n=>{n.complete?Zt(s,n):n.addEventListener("load",o=>{Zt(s,o.target)})}),$s(s),s.initialized=!0,$s(s),s.emit("init"),s.emit("afterInit"),s}destroy(e,s){e===void 0&&(e=!0),s===void 0&&(s=!0);let i=this,{params:r,el:n,wrapperEl:o,slides:a}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),s&&(i.removeClasses(),n.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el.swiper=null,Mi(i)),i.destroyed=!0),null}static extendDefaults(e){Me(Ls,e)}static get extendedDefaults(){return Ls}static get defaults(){return ki}static installModule(e){t.prototype.__modules__||(t.prototype.__modules__=[]);let s=t.prototype.__modules__;typeof e=="function"&&s.indexOf(e)<0&&s.push(e)}static use(e){return Array.isArray(e)?(e.forEach(s=>t.installModule(s)),t):(t.installModule(e),t)}};Object.keys(As).forEach(t=>{Object.keys(As[t]).forEach(e=>{ve.prototype[e]=As[t][e]})});ve.use([Ur,Kr]);function Dt(t){let{swiper:e,extendParams:s,on:i,emit:r}=t,n=le();s({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=$e(),l,c=[];function d(f){let O=0,A=0,T=0,v=0;return"detail"in f&&(A=f.detail),"wheelDelta"in f&&(A=-f.wheelDelta/120),"wheelDeltaY"in f&&(A=-f.wheelDeltaY/120),"wheelDeltaX"in f&&(O=-f.wheelDeltaX/120),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(O=A,A=0),T=O*10,v=A*10,"deltaY"in f&&(v=f.deltaY),"deltaX"in f&&(T=f.deltaX),f.shiftKey&&!T&&(T=v,v=0),(T||v)&&f.deltaMode&&(f.deltaMode===1?(T*=40,v*=40):(T*=800,v*=800)),T&&!O&&(O=T<1?-1:1),v&&!A&&(A=v<1?-1:1),{spinX:O,spinY:A,pixelX:T,pixelY:v}}function u(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function h(f){return e.params.mousewheel.thresholdDelta&&f.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&$e()-a<e.params.mousewheel.thresholdTime?!1:f.delta>=6&&$e()-a<60?!0:(f.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",f.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",f.raw)),a=new n.Date().getTime(),!1)}function w(f){let g=e.params.mousewheel;if(f.direction<0){if(e.isEnd&&!e.params.loop&&g.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&g.releaseOnEdges)return!0;return!1}function b(f){let g=f,S=!0;if(!e.enabled||f.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let _=e.params.mousewheel;e.params.cssMode&&g.preventDefault();let O=e.el;e.params.mousewheel.eventsTarget!=="container"&&(O=document.querySelector(e.params.mousewheel.eventsTarget));let A=O&&O.contains(g.target);if(!e.mouseEntered&&!A&&!_.releaseOnEdges)return!0;g.originalEvent&&(g=g.originalEvent);let T=0,v=e.rtlTranslate?-1:1,M=d(g);if(_.forceToAxis)if(e.isHorizontal())if(Math.abs(M.pixelX)>Math.abs(M.pixelY))T=-M.pixelX*v;else return!0;else if(Math.abs(M.pixelY)>Math.abs(M.pixelX))T=-M.pixelY;else return!0;else T=Math.abs(M.pixelX)>Math.abs(M.pixelY)?-M.pixelX*v:-M.pixelY;if(T===0)return!0;_.invert&&(T=-T);let x=e.getTranslate()+T*_.sensitivity;if(x>=e.minTranslate()&&(x=e.minTranslate()),x<=e.maxTranslate()&&(x=e.maxTranslate()),S=e.params.loop?!0:!(x===e.minTranslate()||x===e.maxTranslate()),S&&e.params.nested&&g.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let E={time:$e(),delta:Math.abs(T),direction:Math.sign(T),raw:f};c.length>=2&&c.shift();let L=c.length?c[c.length-1]:void 0;if(c.push(E),L?(E.direction!==L.direction||E.delta>L.delta||E.time>L.time+150)&&h(E):h(E),w(E))return!0}else{let E={time:$e(),delta:Math.abs(T),direction:Math.sign(T)},L=l&&E.time<l.time+500&&E.delta<=l.delta&&E.direction===l.direction;if(!L){l=void 0;let k=e.getTranslate()+T*_.sensitivity,z=e.isBeginning,F=e.isEnd;if(k>=e.minTranslate()&&(k=e.minTranslate()),k<=e.maxTranslate()&&(k=e.maxTranslate()),e.setTransition(0),e.setTranslate(k),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!z&&e.isBeginning||!F&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:E.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();let I=c.length?c[c.length-1]:void 0,P=c[0];if(c.push(E),I&&(E.delta>I.delta||E.direction!==I.direction))c.splice(0);else if(c.length>=15&&E.time-P.time<500&&P.delta-E.delta>=1&&E.delta<=6){let D=T>0?.8:.2;l=E,c.splice(0),o=je(()=>{e.slideToClosest(e.params.speed,!0,void 0,D)},0)}o||(o=je(()=>{l=E,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(L||r("scroll",g),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),_.releaseOnEdges&&(k===e.minTranslate()||k===e.maxTranslate()))return!0}}return g.preventDefault?g.preventDefault():g.returnValue=!1,!1}function C(f){let g=e.el;e.params.mousewheel.eventsTarget!=="container"&&(g=document.querySelector(e.params.mousewheel.eventsTarget)),g[f]("mouseenter",u),g[f]("mouseleave",p),g[f]("wheel",b)}function y(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",b),!0):e.mousewheel.enabled?!1:(C("addEventListener"),e.mousewheel.enabled=!0,!0)}function m(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,b),!0):e.mousewheel.enabled?(C("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&m(),e.params.mousewheel.enabled&&y()}),i("destroy",()=>{e.params.cssMode&&y(),e.mousewheel.enabled&&m()}),Object.assign(e.mousewheel,{enable:y,disable:m})}function zt(t,e,s,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!s[r]&&s.auto===!0){let n=me(t.el,`.${i[r]}`)[0];n||(n=De("div",i[r]),n.className=i[r],t.el.append(n)),s[r]=n,e[r]=n}}),s}function He(t){let{swiper:e,extendParams:s,on:i,emit:r}=t;s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};let n=b=>(Array.isArray(b)?b:[b]).filter(C=>!!C);function o(b){let C;return b&&typeof b=="string"&&e.isElement&&(C=e.el.querySelector(b),C)?C:(b&&(typeof b=="string"&&(C=[...document.querySelectorAll(b)]),e.params.uniqueNavElements&&typeof b=="string"&&C.length>1&&e.el.querySelectorAll(b).length===1&&(C=e.el.querySelector(b))),b&&!C?b:C)}function a(b,C){let y=e.params.navigation;b=n(b),b.forEach(m=>{m&&(m.classList[C?"add":"remove"](...y.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=C),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](y.lockClass))})}function l(){let{nextEl:b,prevEl:C}=e.navigation;if(e.params.loop){a(C,!1),a(b,!1);return}a(C,e.isBeginning&&!e.params.rewind),a(b,e.isEnd&&!e.params.rewind)}function c(b){b.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function d(b){b.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function u(){let b=e.params.navigation;if(e.params.navigation=zt(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let C=o(b.nextEl),y=o(b.prevEl);Object.assign(e.navigation,{nextEl:C,prevEl:y}),C=n(C),y=n(y);let m=(f,g)=>{f&&f.addEventListener("click",g==="next"?d:c),!e.enabled&&f&&f.classList.add(...b.lockClass.split(" "))};C.forEach(f=>m(f,"next")),y.forEach(f=>m(f,"prev"))}function p(){let{nextEl:b,prevEl:C}=e.navigation;b=n(b),C=n(C);let y=(m,f)=>{m.removeEventListener("click",f==="next"?d:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};b.forEach(m=>y(m,"next")),C.forEach(m=>y(m,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?w():(u(),l())}),i("toEdge fromEdge lock unlock",()=>{l()}),i("destroy",()=>{p()}),i("enable disable",()=>{let{nextEl:b,prevEl:C}=e.navigation;if(b=n(b),C=n(C),e.enabled){l();return}[...b,...C].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),i("click",(b,C)=>{let{nextEl:y,prevEl:m}=e.navigation;y=n(y),m=n(m);let f=C.target;if(e.params.navigation.hideOnClick&&!m.includes(f)&&!y.includes(f)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===f||e.pagination.el.contains(f)))return;let g;y.length?g=y[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(g=m[0].classList.contains(e.params.navigation.hiddenClass)),r(g===!0?"navigationShow":"navigationHide"),[...y,...m].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});let h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},w=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:h,disable:w,update:l,init:u,destroy:p})}function Qe(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function at(t){let{swiper:e,extendParams:s,on:i,emit:r}=t,n="swiper-pagination";s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0,l=m=>(Array.isArray(m)?m:[m]).filter(f=>!!f);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(m,f){let{bulletActiveClass:g}=e.params.pagination;m&&(m=m[`${f==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${g}-${f}`),m=m[`${f==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${g}-${f}-${f}`)))}function u(m){let f=m.target.closest(Qe(e.params.pagination.bulletClass));if(!f)return;m.preventDefault();let g=ot(f)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===g)return;e.slideToLoop(g)}else e.slideTo(g)}function p(){let m=e.rtl,f=e.params.pagination;if(c())return;let g=e.pagination.el;g=l(g);let S,_,O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(_=e.previousRealIndex||0,S=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex!="undefined"?(S=e.snapIndex,_=e.previousSnapIndex):(_=e.previousIndex||0,S=e.activeIndex||0),f.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let T=e.pagination.bullets,v,M,x;if(f.dynamicBullets&&(o=Ot(T[0],e.isHorizontal()?"width":"height",!0),g.forEach(E=>{E.style[e.isHorizontal()?"width":"height"]=`${o*(f.dynamicMainBullets+4)}px`}),f.dynamicMainBullets>1&&_!==void 0&&(a+=S-(_||0),a>f.dynamicMainBullets-1?a=f.dynamicMainBullets-1:a<0&&(a=0)),v=Math.max(S-a,0),M=v+(Math.min(T.length,f.dynamicMainBullets)-1),x=(M+v)/2),T.forEach(E=>{let L=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${f.bulletActiveClass}${k}`)].map(k=>typeof k=="string"&&k.includes(" ")?k.split(" "):k).flat();E.classList.remove(...L)}),g.length>1)T.forEach(E=>{let L=ot(E);L===S?E.classList.add(...f.bulletActiveClass.split(" ")):e.isElement&&E.setAttribute("part","bullet"),f.dynamicBullets&&(L>=v&&L<=M&&E.classList.add(...`${f.bulletActiveClass}-main`.split(" ")),L===v&&d(E,"prev"),L===M&&d(E,"next"))});else{let E=T[S];if(E&&E.classList.add(...f.bulletActiveClass.split(" ")),e.isElement&&T.forEach((L,k)=>{L.setAttribute("part",k===S?"bullet-active":"bullet")}),f.dynamicBullets){let L=T[v],k=T[M];for(let z=v;z<=M;z+=1)T[z]&&T[z].classList.add(...`${f.bulletActiveClass}-main`.split(" "));d(L,"prev"),d(k,"next")}}if(f.dynamicBullets){let E=Math.min(T.length,f.dynamicMainBullets+4),L=(o*E-o)/2-x*o,k=m?"right":"left";T.forEach(z=>{z.style[e.isHorizontal()?k:"top"]=`${L}px`})}}g.forEach((T,v)=>{if(f.type==="fraction"&&(T.querySelectorAll(Qe(f.currentClass)).forEach(M=>{M.textContent=f.formatFractionCurrent(S+1)}),T.querySelectorAll(Qe(f.totalClass)).forEach(M=>{M.textContent=f.formatFractionTotal(A)})),f.type==="progressbar"){let M;f.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";let x=(S+1)/A,E=1,L=1;M==="horizontal"?E=x:L=x,T.querySelectorAll(Qe(f.progressbarFillClass)).forEach(k=>{k.style.transform=`translate3d(0,0,0) scaleX(${E}) scaleY(${L})`,k.style.transitionDuration=`${e.params.speed}ms`})}f.type==="custom"&&f.renderCustom?(T.innerHTML=f.renderCustom(e,S+1,A),v===0&&r("paginationRender",T)):(v===0&&r("paginationRender",T),r("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](f.lockClass)})}function h(){let m=e.params.pagination;if(c())return;let f=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,g=e.pagination.el;g=l(g);let S="";if(m.type==="bullets"){let _=e.params.loop?Math.ceil(f/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&_>f&&(_=f);for(let O=0;O<_;O+=1)m.renderBullet?S+=m.renderBullet.call(e,O,m.bulletClass):S+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?S=m.renderFraction.call(e,m.currentClass,m.totalClass):S=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?S=m.renderProgressbar.call(e,m.progressbarFillClass):S=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],g.forEach(_=>{m.type!=="custom"&&(_.innerHTML=S||""),m.type==="bullets"&&e.pagination.bullets.push(..._.querySelectorAll(Qe(m.bulletClass)))}),m.type!=="custom"&&r("paginationRender",g[0])}function w(){e.params.pagination=zt(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let m=e.params.pagination;if(!m.el)return;let f;typeof m.el=="string"&&e.isElement&&(f=e.el.querySelector(m.el)),!f&&typeof m.el=="string"&&(f=[...document.querySelectorAll(m.el)]),f||(f=m.el),!(!f||f.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(f)&&f.length>1&&(f=[...e.el.querySelectorAll(m.el)],f.length>1&&(f=f.filter(g=>vt(g,".swiper")[0]===e.el)[0])),Array.isArray(f)&&f.length===1&&(f=f[0]),Object.assign(e.pagination,{el:f}),f=l(f),f.forEach(g=>{m.type==="bullets"&&m.clickable&&g.classList.add(...(m.clickableClass||"").split(" ")),g.classList.add(m.modifierClass+m.type),g.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(g.classList.add(`${m.modifierClass}${m.type}-dynamic`),a=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&g.classList.add(m.progressbarOppositeClass),m.clickable&&g.addEventListener("click",u),e.enabled||g.classList.add(m.lockClass)}))}function b(){let m=e.params.pagination;if(c())return;let f=e.pagination.el;f&&(f=l(f),f.forEach(g=>{g.classList.remove(m.hiddenClass),g.classList.remove(m.modifierClass+m.type),g.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(g.classList.remove(...(m.clickableClass||"").split(" ")),g.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(g=>g.classList.remove(...m.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let m=e.params.pagination,{el:f}=e.pagination;f=l(f),f.forEach(g=>{g.classList.remove(m.horizontalClass,m.verticalClass),g.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?y():(w(),h(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex=="undefined"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{h(),p()}),i("destroy",()=>{b()}),i("enable disable",()=>{let{el:m}=e.pagination;m&&(m=l(m),m.forEach(f=>f.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(m,f)=>{let g=f.target,S=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&S&&S.length>0&&!g.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&g===e.navigation.nextEl||e.navigation.prevEl&&g===e.navigation.prevEl))return;let _=S[0].classList.contains(e.params.pagination.hiddenClass);r(_===!0?"paginationShow":"paginationHide"),S.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});let C=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=l(m),m.forEach(f=>f.classList.remove(e.params.pagination.paginationDisabledClass))),w(),h(),p()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=l(m),m.forEach(f=>f.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:C,disable:y,render:h,update:p,init:w,destroy:b})}function Je(t){let{swiper:e,extendParams:s,on:i,emit:r,params:n}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=n&&n.autoplay?n.autoplay.delay:3e3,c=n&&n.autoplay?n.autoplay.delay:3e3,d,u=new Date().getTime(),p,h,w,b,C,y,m;function f(I){!e||e.destroyed||!e.wrapperEl||I.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",f),!m&&v())}let g=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(c=d,p=!1);let I=e.autoplay.paused?d:u+c-new Date().getTime();e.autoplay.timeLeft=I,r("autoplayTimeLeft",I,I/l),a=requestAnimationFrame(()=>{g()})},S=()=>{let I;return e.virtual&&e.params.virtual.enabled?I=e.slides.filter(D=>D.classList.contains("swiper-slide-active"))[0]:I=e.slides[e.activeIndex],I?parseInt(I.getAttribute("data-swiper-autoplay"),10):void 0},_=I=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),g();let P=typeof I=="undefined"?e.params.autoplay.delay:I;l=e.params.autoplay.delay,c=e.params.autoplay.delay;let D=S();!Number.isNaN(D)&&D>0&&typeof I=="undefined"&&(P=D,l=D,c=D),d=P;let R=e.params.speed,H=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(R,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,R,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(R,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,R,!0,!0),r("autoplay")),e.params.cssMode&&(u=new Date().getTime(),requestAnimationFrame(()=>{_()})))};return P>0?(clearTimeout(o),o=setTimeout(()=>{H()},P)):requestAnimationFrame(()=>{H()}),P},O=()=>{u=new Date().getTime(),e.autoplay.running=!0,_(),r("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},T=(I,P)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),I||(y=!0);let D=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",f):v()};if(e.autoplay.paused=!0,P){C&&(d=e.params.autoplay.delay),C=!1,D();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-u),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),D())},v=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(u=new Date().getTime(),y?(y=!1,_(d)):_(),e.autoplay.paused=!1,r("autoplayResume"))},M=()=>{if(e.destroyed||!e.autoplay.running)return;let I=he();I.visibilityState==="hidden"&&(y=!0,T(!0)),I.visibilityState==="visible"&&v()},x=I=>{I.pointerType==="mouse"&&(y=!0,m=!0,!(e.animating||e.autoplay.paused)&&T(!0))},E=I=>{I.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&v())},L=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",x),e.el.addEventListener("pointerleave",E))},k=()=>{e.el.removeEventListener("pointerenter",x),e.el.removeEventListener("pointerleave",E)},z=()=>{he().addEventListener("visibilitychange",M)},F=()=>{he().removeEventListener("visibilitychange",M)};i("init",()=>{e.params.autoplay.enabled&&(L(),z(),O())}),i("destroy",()=>{k(),F(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(w||y)&&v()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():T(!0,!0)}),i("beforeTransitionStart",(I,P,D)=>{e.destroyed||!e.autoplay.running||(D||!e.params.autoplay.disableOnInteraction?T(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}h=!0,w=!1,y=!1,b=setTimeout(()=>{y=!0,w=!0,T(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(b),clearTimeout(o),e.params.autoplay.disableOnInteraction){w=!1,h=!1;return}w&&e.params.cssMode&&v(),w=!1,h=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(C=!0)}),Object.assign(e.autoplay,{start:O,stop:A,pause:T,resume:v})}function ks(t){let{swiper:e,extendParams:s,on:i}=t;s({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,n=!1;e.thumbs={swiper:null};function o(){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let d=c.clickedIndex,u=c.clickedSlide;if(u&&u.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d=="undefined"||d===null)return;let p;c.params.loop?p=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):p=d,e.params.loop?e.slideToLoop(p):e.slideTo(p)}function a(){let{thumbs:c}=e.params;if(r)return!1;r=!0;let d=e.constructor;if(c.swiper instanceof d)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(mt(c.swiper)){let u=Object.assign({},c.swiper);Object.assign(u,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(u),n=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){let d=e.thumbs.swiper;if(!d||d.destroyed)return;let u=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView,p=1,h=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(p=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),d.slides.forEach(C=>C.classList.remove(h)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let C=0;C<p;C+=1)me(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+C}"]`).forEach(y=>{y.classList.add(h)});else for(let C=0;C<p;C+=1)d.slides[e.realIndex+C]&&d.slides[e.realIndex+C].classList.add(h);let w=e.params.thumbs.autoScrollOffset,b=w&&!d.params.loop;if(e.realIndex!==d.realIndex||b){let C=d.activeIndex,y,m;if(d.params.loop){let f=d.slides.filter(g=>g.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];y=d.slides.indexOf(f),m=e.activeIndex>e.previousIndex?"next":"prev"}else y=e.realIndex,m=y>e.previousIndex?"next":"prev";b&&(y+=m==="next"?w:-1*w),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(y)<0&&(d.params.centeredSlides?y>C?y=y-Math.floor(u/2)+1:y=y+Math.floor(u/2)-1:y>C&&d.params.slidesPerGroup,d.slideTo(y,c?0:void 0))}}i("beforeInit",()=>{let{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){let d=he(),u=()=>{let h=typeof c.swiper=="string"?d.querySelector(c.swiper):c.swiper;if(h&&h.swiper)c.swiper=h.swiper,a(),l(!0);else if(h){let w=b=>{c.swiper=b.detail[0],h.removeEventListener("init",w),a(),l(!0),c.swiper.update(),e.update()};h.addEventListener("init",w)}return h},p=()=>{if(e.destroyed)return;u()||requestAnimationFrame(p)};requestAnimationFrame(p)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,d)=>{let u=e.thumbs.swiper;!u||u.destroyed||u.setTransition(d)}),i("beforeDestroy",()=>{let c=e.thumbs.swiper;!c||c.destroyed||n&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function lt(t){let{effect:e,swiper:s,on:i,setTranslate:r,setTransition:n,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;i("beforeInit",()=>{if(s.params.effect!==e)return;s.classNames.push(`${s.params.containerModifierClass}${e}`),a&&a()&&s.classNames.push(`${s.params.containerModifierClass}3d`);let u=o?o():{};Object.assign(s.params,u),Object.assign(s.originalParams,u)}),i("setTranslate",()=>{s.params.effect===e&&r()}),i("setTransition",(u,p)=>{s.params.effect===e&&n(p)}),i("transitionEnd",()=>{if(s.params.effect===e&&l){if(!c||!c().slideShadows)return;s.slides.forEach(u=>{u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),l()}});let d;i("virtualUpdate",()=>{s.params.effect===e&&(s.slides.length||(d=!0),requestAnimationFrame(()=>{d&&s.slides&&s.slides.length&&(r(),d=!1)}))})}function bt(t,e){let s=Ue(e);return s!==e&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function Bt(t){let{swiper:e,duration:s,transformElements:i,allSlides:r}=t,{activeIndex:n}=e,o=a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&s!==0){let a=!1,l;r?l=i:l=i.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(d)===n}),l.forEach(c=>{Kt(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function Rt(t){let{swiper:e,extendParams:s,on:i}=t;s({fadeEffect:{crossFade:!1}}),lt({effect:"fade",swiper:e,on:i,setTranslate:()=>{let{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){let c=e.slides[l],u=-c.swiperSlideOffset;e.params.virtualTranslate||(u-=e.translate);let p=0;e.isHorizontal()||(p=u,u=0);let h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),w=bt(a,c);w.style.opacity=h,w.style.transform=`translate3d(${u}px, ${p}px, 0px)`}},setTransition:o=>{let a=e.slides.map(l=>Ue(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),Bt({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Bi(){$(".swiper-column-auto").each(function(s){let i=$(this),r={loop:i.hasClass("swiper-loop"),touchMove:i.hasClass("allow-touchMove")||!0,mouseWheel:i.hasClass("allow-mouseWheel")?{forceToAxis:!0}:!1,autoHeight:i.hasClass("auto-height"),hasVideo:i.hasClass("auto-detect-video"),paginationDot:i.hasClass("pagination-dot"),center:i.hasClass("center"),time:i.attr("data-time")||3500,autoplay:i.hasClass("autoplay"),infinite:i.hasClass("swiper-infinite"),scrollbar:i.hasClass("swiper-scrollbar"),effect:i.hasClass("effect")},n={loop:!0,time:3500,grabCursor:!0,freeMode:!0,speed:2e3,slidesPerView:4,breakpoints:{768:{slidesPerView:4},1024:{slidesPerView:8}},autoplay:{delay:.5,disableOnInteraction:!1}};i.addClass(`swiper-column-auto-id-${s}`),new ve(`.swiper-column-auto-id-${s} .swiper`,Ge(we(Ge(we(we(we(Ge(we({modules:[He,at,Dt,Je,Rt],speed:500,observer:!0,observeParents:!0},r.effect&&{effect:"fade"}),{spaceBetween:0,loop:r.loop}),r.autoplay&&{autoplay:{delay:r.time}}),r.scrollbar&&{scrollbar:{el:`.swiper-column-auto-id-${s} .swiper-scrollbar-slide`,draggable:!0}}),r.center&&{centeredSlides:!0}),{slidesPerView:"auto",pagination:we({el:`.swiper-column-auto-id-${s} .swiper-pagination`,clickable:!0,type:"fraction"},r.paginationDot&&{type:"bullets"})}),r.infinite&&we({},n)),{mousewheel:r.mouseWheel,allowTouchMove:r.touchMove,navigation:{prevEl:`.swiper-column-auto-id-${s} .btn-prev`,nextEl:`.swiper-column-auto-id-${s} .btn-next`},watchSlidesProgress:!0,autoHeight:r.autoHeight,on:{init:function(){},slideChange:function(){}}}))}),so(),io(),no(),oo(),ao(),ro();let t=new ve(".about-5 .swiper",{modules:[Je,He],spaceBetween:0,slidesPerView:"auto",speed:500,centeredSlides:!0,navigation:{prevEl:".about-5 .btn-prev",nextEl:".about-5 .btn-next"},loop:!0,on:{init:function(){e(this)},slideChange:function(){e(this)}}});function e(s){let i=s.slides[s.activeIndex-1],r=s.slides[s.activeIndex-2],n=s.slides[s.activeIndex+1],o=s.slides[s.activeIndex+2];s.slides.forEach(l=>{l.classList.remove("previous-slide","next-slide","before-previous-slide","after-next-slide")}),i&&i.classList.add("previous-slide"),n&&n.classList.add("next-slide"),r&&r.classList.add("before-previous-slide"),o&&o.classList.add("after-next-slide")}}function so(){let t=document.querySelector(".home-1 .swiper");if(!t)return;let e=new ve(t,{modules:[at,He,Rt,Je],loop:!0,effect:"fade",autoplay:{delay:3500,disableOnInteraction:!1},slidesPerView:1,speed:700,pagination:{el:".home-1 .swiper-pagination",clickable:!0},navigation:{nextEl:".home-1 .btn-next",prevEl:".home-1 .btn-prev"}});function s(i){if(!i)return!1;let r=i.querySelector("video");return r?(e.autoplay.stop(),r.readyState<2?r.addEventListener("loadedmetadata",()=>r.play()):r.play(),r.onended=()=>e.slideNext(),!0):!1}e.on("slideChangeTransitionEnd",()=>{e.slides.forEach((n,o)=>{let a=n.querySelector("video");a&&o!==e.activeIndex&&(a.pause(),a.currentTime=0,a.onended=null)});let i=e.slides[e.activeIndex];s(i)||e.autoplay.start()}),e.slides[e.activeIndex]&&s(e.slides[e.activeIndex])}function io(){let t=new ve(".product-detail-1 .thumb .swiper",{modules:[Dt],speed:700,observer:!0,observeParents:!0,slideToClickedSlide:!0,rewind:!0,allowTouchMove:!1,direction:"vertical",slidesPerView:4,spaceBetween:12,breakpoints:{576:{slidesPerView:4,spaceBetween:12},768:{slidesPerView:4,spaceBetween:12},1024:{slidesPerView:4,spaceBetween:8},1920:{slidesPerView:4,spaceBetween:20}}}),e=new ve(".product-detail-1 .main .swiper",{modules:[ks,He,Je],spaceBetween:12,slidesPerView:"auto",rewind:!0,thumbs:{swiper:t},autoplay:{delay:4500,disableOnInteraction:!1},speed:700,observer:!0,observeParents:!0,navigation:{prevEl:".product-detail-1 .btn-prev",nextEl:".product-detail-1 .btn-next"}});window.productDetailSwiper={swiperThumb:t,swiperDetail:e}}function ro(){let t=document.querySelector(".related-videos .swiper");t&&new ve(t,{modules:[He],slidesPerView:"auto",spaceBetween:20,speed:600,navigation:{nextEl:".related-videos .swiper-button-next",prevEl:".related-videos .swiper-button-prev"},breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},768:{slidesPerView:"auto",spaceBetween:20}}})}function no(){let t=document.querySelector(".section-field-op-img"),e=document.querySelector(".field-op .swiper");if(!t||!e)return;let s=n=>{n&&(t.setAttribute("setBackground",n),t.style.setProperty("background-image",`url(${n})`,"important"),t.style.setProperty("background-size","cover","important"),t.style.setProperty("background-position","center center","important"),t.style.setProperty("background-repeat","no-repeat","important"))},i=document.querySelectorAll(".field-op-item");console.log("Total field-op-items found:",i.length);let r=new ve(e,{modules:[He,at,Dt],speed:600,observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:0,direction:"horizontal",mousewheel:{forceToAxis:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:"auto",spaceBetween:0},1200:{slidesPerView:"auto",spaceBetween:0}},navigation:{nextEl:".field-op .btn-next",prevEl:".field-op .btn-prev"},pagination:{el:".field-op .swiper-pagination",clickable:!0,type:"bullets"},on:{init:function(){console.log("Swiper initialized, total slides:",this.slides.length),console.log("Active slide index:",this.activeIndex);let n=this.slides[this.activeIndex],o=null,a=null;n&&(o=n.querySelector(".field-op-item"),console.log("Active item found in slide:",!!o),o?(a=o.getAttribute("data-background"),console.log("Initial background from slide:",a)):(console.warn("\u26A0\uFE0F No .field-op-item in initial slide, using fallback"),i[this.activeIndex]&&(o=i[this.activeIndex],a=o.getAttribute("data-background"),console.log("Initial background from fallback:",a))),a?(s(a),document.querySelectorAll(".field-op-item").forEach(l=>{l.classList.remove("active")}),o&&o.classList.add("active")):console.warn("\u274C No background found for initial slide"))},slideChange:function(){console.log("Slide change triggered, new index:",this.activeIndex);let n=this.slides[this.activeIndex],o=null,a=null;n&&(o=n.querySelector(".field-op-item"),console.log("Active item in slide:",!!o),o?(a=o.getAttribute("data-background"),console.log("Background from slide:",a)):(console.warn("\u26A0\uFE0F No .field-op-item found in slide, using fallback"),console.log("Slide HTML:",n.innerHTML.substring(0,200)),i[this.activeIndex]&&(o=i[this.activeIndex],a=o.getAttribute("data-background"),console.log("Background from fallback (index "+this.activeIndex+"):",a))),a?(s(a),console.log("\u2705 Background changed to:",a),document.querySelectorAll(".field-op-item").forEach(l=>{l.classList.remove("active")}),o&&o.classList.add("active")):console.error("\u274C No background found for slide index:",this.activeIndex))},slideChangeTransitionEnd:function(){console.log("Slide transition ended at index:",this.activeIndex)}}});r.slides.forEach((n,o)=>{let a=n.querySelector(".field-op-item");a&&(a.style.cursor="pointer",a.addEventListener("click",()=>{r.slideTo(o)}),window.innerWidth>=1200&&a.addEventListener("mouseenter",()=>{let l=a.getAttribute("data-background");l&&(s(l),document.querySelectorAll(".field-op-item").forEach(c=>{c.classList.remove("active")}),a.classList.add("active"))}))})}function oo(){let t=document.querySelectorAll(".work-card");t.length&&t.forEach((e,s)=>{let i=e.querySelector(".swiper");if(!i)return;e.classList.add(`work-card-${s}`);let r=e.querySelector(".btn-next"),n=e.querySelector(".btn-prev"),o=new ve(i,{modules:[He,at,Rt,Je],loop:!0,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:3500,disableOnInteraction:!1},slidesPerView:1,speed:700,navigation:{nextEl:r,prevEl:n},on:{init:function(){setTimeout(()=>{if(this.slides&&this.slides.length>0){let l=this.slides[this.activeIndex];a(l,this)}},100)},slideChangeTransitionEnd:function(){if(this.slides){this.slides.forEach(c=>{let d=c.querySelector("video");d&&(d.pause(),d.currentTime=0)});let l=this.slides[this.activeIndex];a(l,this)}}}});function a(l,c){if(!l)return;let d=l.querySelector("video");d?(c.autoplay.stop(),d.muted=!0,d.play().catch(u=>console.log("Video play error:",u)),d.onended=()=>{c.slideNext()}):c.autoplay&&!c.autoplay.running&&c.autoplay.start()}})}function ao(){let t=document.querySelector(".swiper-related-posts .swiper");t&&new ve(t,{modules:[He,at,Je],slidesPerView:1,spaceBetween:20,speed:1e3,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".swiper-related-posts .swiper-pagination",clickable:!0},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3,spaceBetween:30}}})}var We=typeof window!="undefined",Os=We?window:null,Mt=We?document:null,ne={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},X={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},Ie={NONE:0,AUTO:1,FORCE:2},Se={replace:0,none:1,blend:2},Ri=Symbol(),qs=Symbol(),Qi=Symbol(),us=Symbol(),od=Symbol(),lo=Symbol(),U=1e-11,Ji=1e12,fe=1e3,Rs=120,it="",Ht=new Map;Ht.set("x","translateX");Ht.set("y","translateY");Ht.set("z","translateZ");var Gs=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],er=Gs.reduce((t,e)=>Ge(we({},t),{[e]:e+"("}),{}),_e=()=>{},co=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,uo=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,fo=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,po=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,ho=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Ni=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,tr=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,mo=/([a-z])([A-Z])/g,go=/(\w+)(\([^)]+\)+)/g,vo=/(\*=|\+=|-=)/,sr={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:Rs,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:fe,delay:0,loopDelay:0,ease:"out(2)",composition:Se.replace,modifier:t=>t,onBegin:_e,onBeforeUpdate:_e,onUpdate:_e,onLoop:_e,onPause:_e,onComplete:_e,onRender:_e},re={defaults:sr,root:Mt,scope:null,precision:4,timeScale:1,tickThreshold:200},ir={version:"4.0.1",engine:null};We&&(Os.AnimeJS||(Os.AnimeJS=[]),Os.AnimeJS.push(ir));var bo=t=>t.replace(mo,"$1-$2").toLowerCase(),dt=(t,e)=>t.indexOf(e)===0,Ft=Date.now,ut=Array.isArray,Ds=t=>t&&t.constructor===Object,js=t=>typeof t=="number"&&!isNaN(t),fs=t=>typeof t=="string",os=t=>typeof t=="function",Y=t=>typeof t=="undefined",ts=t=>Y(t)||t===null,rr=t=>We&&t instanceof SVGElement,nr=t=>co.test(t),or=t=>dt(t,"rgb"),ar=t=>dt(t,"hsl"),wo=t=>nr(t)||or(t)||ar(t),ss=t=>!re.defaults.hasOwnProperty(t),ct=t=>fs(t)?parseFloat(t):t,yt=Math.pow,Vt=Math.sqrt,lr=Math.sin,cr=Math.cos,_t=Math.abs,Vi=Math.exp,yo=Math.ceil,Yt=Math.floor,So=Math.asin,xo=Math.max;var Xt=Math.PI,Ns=Math.round,te=(t,e,s)=>t<e?e:t>s?s:t,Fi={},Z=(t,e)=>{if(e<0)return t;if(!e)return Ns(t);let s=Fi[e];return s||(s=Fi[e]=Le(10,e)),Ns(t*s)/s},To=(t,e)=>ut(e)?e.reduce((s,i)=>_t(i-t)<_t(s-t)?i:s):e?Ns(t/e)*e:t,st=(t,e,s)=>t+(e-t)*s,is=t=>t===1/0?Ji:t===-1/0?-1e12:t,Et=t=>t<U?U:t,ye=t=>ut(t)?[...t]:t,Eo=(t,e)=>{let s=we({},t);for(let i in e){let r=t[i];s[i]=Y(r)?e[i]:r}return s},ce=(t,e,s,i="_prev",r="_next")=>{let n=t._head,o=r;for(s&&(n=t._tail,o=i);n;){let a=n[o];e(n),n=a}},rt=(t,e,s="_prev",i="_next")=>{let r=e[s],n=e[i];r?r[i]=n:t._head=n,n?n[s]=r:t._tail=r,e[s]=null,e[i]=null},Tt=(t,e,s,i="_prev",r="_next")=>{let n=t._tail;for(;n&&s&&s(n,e);)n=n[i];let o=n?n[r]:t._head;n?n[r]=e:t._head=e,o?o[i]=e:t._tail=e,e[i]=n,e[r]=o},as=class{constructor(e=0){this.deltaTime=0,this._currentTime=e,this._elapsedTime=e,this._startTime=e,this._lastTime=e,this._scheduledTime=0,this._frameDuration=Z(fe/Rs,0),this._fps=Rs,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(e){let s=this._frameDuration,i=+e,r=i<U?U:i,n=Z(fe/r,0);this._fps=r,this._frameDuration=n,this._scheduledTime+=n-s}get speed(){return this._speed}set speed(e){let s=+e;this._speed=s<U?U:s}requestTick(e){let s=this._scheduledTime,i=this._elapsedTime;if(this._elapsedTime+=e-i,i<s)return Ie.NONE;let r=this._frameDuration,n=i-s;return this._scheduledTime+=n<r?r:n,Ie.AUTO}computeDeltaTime(e){let s=e-this._lastTime;return this.deltaTime=s,this._lastTime=e,s}},rs=(t,e,s,i,r)=>{let n=t.parent,o=t.duration,a=t.completed,l=t.iterationDuration,c=t.iterationCount,d=t._currentIteration,u=t._loopDelay,p=t._reversed,h=t._alternate,w=t._hasChildren,b=t._delay,C=t._currentTime,y=b+l,m=e-b,f=te(C,-b,o),g=te(m,-b,o),S=m-C,_=g>0,O=g>=o,A=o<=U,T=r===Ie.FORCE,v=0,M=m,x=0;if(c>1){let F=~~(g/(l+(O?0:u)));t._currentIteration=te(F,0,c),O&&t._currentIteration--,v=t._currentIteration%2,M=g%(l+u)||0}let E=p^(h&&v),L=t._ease,k=O?E?0:o:E?l-M:M;L&&(k=l*L(k/l)||0);let z=(n?n.backwards:m<C)?!E:!!E;if(t._currentTime=m,t._iterationTime=k,t.backwards=z,_&&!t.began?(t.began=!0,!s&&!(n&&(z||!n.began))&&t.onBegin(t)):m<=0&&(t.began=!1),!s&&!w&&_&&t._currentIteration!==d&&t.onLoop(t),T||r===Ie.AUTO&&(e>=b&&e<=y||e<=b&&f>b||e>=y&&f!==o)||k>=y&&f!==o||k<=b&&f>0||e<=f&&f===o&&a||O&&!a&&A){if(_&&(t.computeDeltaTime(f),s||t.onBeforeUpdate(t)),!w){let F=T||(z?S*-1:S)>=re.tickThreshold,I=t._offset+(n?n._offset:0)+b+k,P=t._head,D,R,H,Q,J=0;for(;P;){let G=P._composition,j=P._currentTime,K=P._changeDuration,xe=P._absoluteStartTime+P._changeDuration,de=P._nextRep,oe=P._prevRep,W=G!==Se.none;if((F||(j!==K||I<=xe+(de?de._delay:0))&&(j!==0||I>=P._absoluteStartTime))&&(!W||!P._isOverridden&&(!P._isOverlapped||I<=xe)&&(!de||de._isOverridden||I<=de._absoluteStartTime)&&(!oe||oe._isOverridden||I>=oe._absoluteStartTime+oe._changeDuration+P._delay))){let N=P._currentTime=te(k-P._startTime,0,K),q=P._ease(N/P._updateDuration),ie=P._modifier,Te=P._valueType,be=P._tweenType,Ee=be===ne.OBJECT,ft=Te===X.NUMBER,Ve=ft&&Ee||q===0||q===1?-1:re.precision,Ce,pt;if(ft)Ce=pt=ie(Z(st(P._fromNumber,P._toNumber,q),Ve));else if(Te===X.UNIT)pt=ie(Z(st(P._fromNumber,P._toNumber,q),Ve)),Ce=`${pt}${P._unit}`;else if(Te===X.COLOR){let ue=P._fromNumbers,Fe=P._toNumbers,Ye=Z(te(ie(st(ue[0],Fe[0],q)),0,255),0),qe=Z(te(ie(st(ue[1],Fe[1],q)),0,255),0),Gt=Z(te(ie(st(ue[2],Fe[2],q)),0,255),0),ht=te(ie(Z(st(ue[3],Fe[3],q),Ve)),0,1);if(Ce=`rgba(${Ye},${qe},${Gt},${ht})`,W){let nt=P._numbers;nt[0]=Ye,nt[1]=qe,nt[2]=Gt,nt[3]=ht}}else if(Te===X.COMPLEX){Ce=P._strings[0];for(let ue=0,Fe=P._toNumbers.length;ue<Fe;ue++){let Ye=ie(Z(st(P._fromNumbers[ue],P._toNumbers[ue],q),Ve)),qe=P._strings[ue+1];Ce+=`${qe?Ye+qe:Ye}`,W&&(P._numbers[ue]=Ye)}}if(W&&(P._number=pt),!i&&G!==Se.blend){let ue=P.property;D=P.target,Ee?D[ue]=Ce:be===ne.ATTRIBUTE?D.setAttribute(ue,Ce):(R=D.style,be===ne.TRANSFORM?(D!==H&&(H=D,Q=D[us]),Q[ue]=Ce,J=1):be===ne.CSS?R[ue]=Ce:be===ne.CSS_VAR&&R.setProperty(ue,Ce)),_&&(x=1)}else P._value=Ce}if(J&&P._renderTransforms){let N=it;for(let q in Q)N+=`${er[q]}${Q[q]}) `;R.transform=N,J=0}P=P._next}!s&&x&&t.onRender(t)}!s&&_&&t.onUpdate(t)}return n&&A?!s&&(n.began&&!z&&m>=o&&!a||z&&m<=U&&a)&&(t.onComplete(t),t.completed=!z):_&&O?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,!a&&!w&&(t.completed=!0,!s&&!(n&&(z||!n.began))&&(t.onComplete(t),t._resolve(t)))):t.completed=!1,x},St=(t,e,s,i,r)=>{let n=t._currentIteration;if(rs(t,e,s,i,r),t._hasChildren){let o=t,a=o.backwards,l=i?e:o._iterationTime,c=Ft(),d=0,u=!0;if(!i&&o._currentIteration!==n){let p=o.iterationDuration;ce(o,h=>{if(!a)!h.completed&&!h.backwards&&h._currentTime<h.iterationDuration&&rs(h,p,s,1,Ie.FORCE),h.began=!1,h.completed=!1;else{let w=h.duration,b=h._offset+h._delay,C=b+w;!s&&w<=U&&(!b||C===p)&&h.onComplete(h)}}),s||o.onLoop(o)}ce(o,p=>{let h=Z((l-p._offset)*p._speed,12),w=p._fps<o._fps?p.requestTick(c):r;d+=rs(p,h,s,i,w),!p.completed&&u&&(u=!1)},a),!s&&d&&o.onRender(o),u&&o._currentTime>=o.duration&&(o.paused=!0,o.completed||(o.completed=!0,s||(o.onComplete(o),o._resolve(o))))}},Ct={animation:null,update:_e},Co=t=>{let e=Ct.animation;return e||(e={duration:U,computeDeltaTime:_e,_offset:0,_delay:0,_head:null,_tail:null},Ct.animation=e,Ct.update=()=>{t.forEach(s=>{for(let i in s){let r=s[i],n=r._head;if(n){let o=n._valueType,a=o===X.COMPLEX||o===X.COLOR?ye(n._fromNumbers):null,l=n._fromNumber,c=r._tail;for(;c&&c!==n;){if(a)for(let d=0,u=c._numbers.length;d<u;d++)a[d]+=c._numbers[d];else l+=c._number;c=c._prevAdd}n._toNumber=l,n._toNumbers=a}}}),rs(e,1,1,0,Ie.FORCE)}),e},dr=We?requestAnimationFrame:setImmediate,Mo=We?cancelAnimationFrame:clearImmediate,Vs=class extends as{constructor(e){super(e),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=sr,this.paused=!!(We&&Mt.hidden),this.reqId=null}update(){let e=this._currentTime=Ft();if(this.requestTick(e)){this.computeDeltaTime(e);let s=this._speed,i=this._fps,r=this._head;for(;r;){let n=r._next;r.paused?(rt(this,r),this._hasChildren=!!this._tail,r._running=!1,r.completed&&!r._cancelled&&r.cancel()):St(r,(e-r._startTime)*r._speed*s,0,0,r._fps<i?r.requestTick(e):Ie.AUTO),r=n}Ct.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&!this.paused&&(this.reqId=dr(ur)),this}pause(){return this.paused=!0,_o()}resume(){if(this.paused)return this.paused=!1,ce(this,e=>e.resetTime()),this.wake()}get speed(){return this._speed*(re.timeScale===1?1:fe)}set speed(e){this._speed=e*re.timeScale,ce(this,s=>s.speed=s._speed)}get timeUnit(){return re.timeScale===1?"ms":"s"}set timeUnit(e){let i=e==="s",r=i?.001:1;if(re.timeScale!==r){re.timeScale=r,re.tickThreshold=200*r;let n=i?.001:fe;this.defaults.duration*=n,this._speed*=n}}get precision(){return re.precision}set precision(e){re.precision=e}},pe=(()=>{let t=new Vs(Ft());return We&&(ir.engine=t,Mt.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(Mt.hidden?t.pause():t.resume())})),t})(),ur=()=>{pe._head?(pe.reqId=dr(ur),pe.update()):pe.reqId=0},_o=()=>(Mo(pe.reqId),pe.reqId=0,pe),Po=(t,e,s)=>{let i=t.style.transform,r;if(i){let n=t[us],o;for(;o=go.exec(i);){let a=o[1],l=o[2].slice(1,-1);n[a]=l,a===e&&(r=l,s&&(s[e]=l))}}return i&&!Y(r)?r:dt(e,"scale")?"1":dt(e,"rotate")||dt(e,"skew")?"0deg":"0px"};function Yi(t){let e=fs(t)?re.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function fr(t){if(ts(t))return[];if(ut(t)){let s=t.flat(1/0),i=[];for(let r=0,n=s.length;r<n;r++){let o=s[r];if(!ts(o)){let a=Yi(o);if(a)for(let l=0,c=a.length;l<c;l++){let d=a[l];if(!ts(d)){let u=!1;for(let p=0,h=i.length;p<h;p++)if(i[p]===d){u=!0;break}u||i.push(d)}}else{let l=!1;for(let c=0,d=i.length;c<d;c++)if(i[c]===o){l=!0;break}l||i.push(o)}}}return i}if(!We)return[t];let e=Yi(t);return e?Array.from(e):[t]}function Us(t){let e=fr(t),s=e.length;if(s)for(let i=0;i<s;i++){let r=e[i];if(!r[Ri]){r[Ri]=!0;let n=rr(r);(r.nodeType||n)&&(r[qs]=!0,r[Qi]=n,r[us]={})}}return e}var Ao=["opacity","rotate","overflow","color"],Lo=(t,e)=>{if(Ao.includes(e))return!1;if(t.getAttribute(e)||e in t){if(e==="scale"){let s=t.parentNode;return s&&s.tagName==="filter"}return!0}};var $o=t=>{let e=uo.exec(t)||fo.exec(t),s=Y(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],s]},ko=t=>{let e=t.length,s=e===4||e===5;return[+("0x"+t[1]+t[s?1:2]),+("0x"+t[s?2:3]+t[s?2:4]),+("0x"+t[s?3:5]+t[s?3:6]),e===5||e===9?+(+("0x"+t[s?4:7]+t[s?4:8])/255).toFixed(3):1]},zs=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t),Io=t=>{let e=po.exec(t)||ho.exec(t),s=+e[1]/360,i=+e[2]/100,r=+e[3]/100,n=Y(e[4])?1:+e[4],o,a,l;if(i===0)o=a=l=r;else{let c=r<.5?r*(1+i):r+i-r*i,d=2*r-c;o=Z(zs(d,c,s+1/3)*255,0),a=Z(zs(d,c,s)*255,0),l=Z(zs(d,c,s-1/3)*255,0)}return[o,a,l,n]},Oo=t=>or(t)?$o(t):nr(t)?ko(t):ar(t)?Io(t):[0,0,0,1],se=(t,e)=>Y(t)?e:t,et=(t,e,s,i,r)=>{if(os(t)){let n=()=>{let o=t(e,s,i);return isNaN(+o)?o||0:+o};return r&&(r.func=n),n()}else return t},Ks=(t,e)=>t[qs]?t[Qi]&&Lo(t,e)?ne.ATTRIBUTE:Gs.includes(e)||Ht.get(e)?ne.TRANSFORM:dt(e,"--")?ne.CSS_VAR:e in t.style?ne.CSS:e in t?ne.OBJECT:ne.ATTRIBUTE:ne.OBJECT,Hi=(t,e,s)=>{let i=t.style[e];i&&s&&(s[e]=i);let r=i||getComputedStyle(t[lo]||t).getPropertyValue(e);return r==="auto"?"0":r},xt=(t,e,s,i)=>{let r=Y(s)?Ks(t,e):s;return r===ne.OBJECT?t[e]||0:r===ne.ATTRIBUTE?t.getAttribute(e):r===ne.TRANSFORM?Po(t,e,i):r===ne.CSS_VAR?Hi(t,e,i).trimStart():Hi(t,e,i)},Fs=(t,e,s)=>s==="-"?t-e:s==="+"?t+e:t*e,Zs=()=>({t:X.NUMBER,n:0,u:null,o:null,d:null,s:null}),Be=(t,e)=>{if(e.t=X.NUMBER,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;let s=+t;if(isNaN(s)){let i=t;i[1]==="="&&(e.o=i[0],i=i.slice(2));let r=i.includes(" ")?!1:tr.exec(i);if(r)return e.t=X.UNIT,e.n=+r[1],e.u=r[2],e;if(e.o)return e.n=+i,e;if(wo(i))return e.t=X.COLOR,e.d=Oo(i),e;{let n=i.match(Ni);return e.t=X.COMPLEX,e.d=n?n.map(Number):[],e.s=i.split(Ni)||[],e}}else return e.n=s,e},Xi=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=ye(t._toNumbers),e.s=ye(t._strings),e),ke=Zs(),ls={_rep:new WeakMap,_add:new Map},Qs=(t,e,s="_rep")=>{let i=ls[s],r=i.get(t);return r||(r={},i.set(t,r)),r[e]?r[e]:r[e]={_head:null,_tail:null}},Do=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,ns=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=U,t._currentTime=U},pr=(t,e)=>{let s=t._composition;if(s===Se.replace){let i=t._absoluteStartTime;Tt(e,t,Do,"_prevRep","_nextRep");let r=t._prevRep;if(r){let n=r.parent,o=r._absoluteStartTime+r._changeDuration;if(t.parent.id!==n.id&&n.iterationCount>1&&o+(n.duration-n.iterationDuration)>i){ns(r);let c=r._prevRep;for(;c&&c.parent.id===n.id;)ns(c),c=c._prevRep}let a=i-t._delay;if(o>a){let c=r._startTime,d=o-(c+r._updateDuration);r._changeDuration=a-d-c,r._currentTime=r._changeDuration,r._isOverlapped=1,r._changeDuration<U&&ns(r)}let l=!0;if(ce(n,c=>{c._isOverlapped||(l=!1)}),l){let c=n.parent;if(c){let d=!0;ce(c,u=>{u!==n&&ce(u,p=>{p._isOverlapped||(d=!1)})}),d&&c.cancel()}else n.cancel()}}}else if(s===Se.blend){let i=Qs(t.target,t.property,"_add"),r=Co(ls._add),n=i._head;n||(n=we({},t),n._composition=Se.replace,n._updateDuration=U,n._startTime=0,n._numbers=ye(t._fromNumbers),n._number=0,n._next=null,n._prev=null,Tt(i,n),Tt(r,n));let o=t._toNumber;if(t._fromNumber=n._fromNumber-o,t._toNumber=0,t._numbers=ye(t._fromNumbers),t._number=0,n._fromNumber=o,t._toNumbers){let a=ye(t._toNumbers);a&&a.forEach((l,c)=>{t._fromNumbers[c]=n._fromNumbers[c]-l,t._toNumbers[c]=0}),n._fromNumbers=a}Tt(i,t,null,"_prevAdd","_nextAdd")}return t},hr=t=>{let e=t._composition;if(e!==Se.none){let s=t.target,i=t.property,o=ls._rep.get(s)[i];if(rt(o,t,"_prevRep","_nextRep"),e===Se.blend){let a=ls._add,l=a.get(s);if(!l)return;let c=l[i],d=Ct.animation;rt(c,t,"_prevAdd","_nextAdd");let u=c._head;if(u&&u===c._tail){rt(c,u,"_prevAdd","_nextAdd"),rt(d,u);let p=!0;for(let h in l)if(l[h]._head){p=!1;break}p&&a.delete(s)}}}return t},Wi=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),Ys=t=>(t._cancelled&&(t._hasChildren?ce(t,Ys):ce(t,e=>{e._composition!==Se.none&&pr(e,Qs(e.target,e.property))}),t._cancelled=0),t),zo=0,cs=class extends as{constructor(e={},s=null,i=0){super(0);let{id:r,delay:n,duration:o,reversed:a,alternate:l,loop:c,loopDelay:d,autoplay:u,frameRate:p,playbackRate:h,onComplete:w,onLoop:b,onPause:C,onBegin:y,onBeforeUpdate:m,onUpdate:f}=e;re.scope&&re.scope.revertibles.push(this);let g=s?0:pe._elapsedTime,S=s?s.defaults:re.defaults,_=os(n)||Y(n)?S.delay:+n,O=os(o)||Y(o)?1/0:+o,A=se(c,S.loop),T=se(d,S.loopDelay),v=A===!0||A===1/0||A<0?1/0:A+1,M=0;if(s)M=i;else{let x=Ft();pe.paused&&(pe.requestTick(x),x=pe._elapsedTime),M=x-pe._startTime}this.id=Y(r)?++zo:r,this.parent=s,this.duration=is((O+T)*v-T)||U,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=y||S.onBegin,this.onBeforeUpdate=m||S.onBeforeUpdate,this.onUpdate=f||S.onUpdate,this.onLoop=b||S.onLoop,this.onPause=C||S.onPause,this.onComplete=w||S.onComplete,this.iterationDuration=O,this.iterationCount=v,this._autoplay=s?!1:se(u,S.autoplay),this._offset=M,this._delay=_,this._loopDelay=T,this._iterationTime=0,this._currentIteration=0,this._resolve=_e,this._running=!1,this._reversed=+se(a,S.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=se(l,S.alternate),this._prev=null,this._next=null,this._elapsedTime=g,this._startTime=g,this._lastTime=g,this._fps=se(p,S.frameRate),this._speed=se(h,S.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(e){e?this.cancel():this.reset(1).play()}get currentTime(){return te(Z(this._currentTime,re.precision),-this._delay,this.duration)}set currentTime(e){let s=this.paused;this.pause().seek(+e),s||this.resume()}get iterationCurrentTime(){return Z(this._iterationTime,re.precision)}set iterationCurrentTime(e){this.currentTime=this.iterationDuration*this._currentIteration+e}get progress(){return te(Z(this._currentTime/this.duration,5),0,1)}set progress(e){this.currentTime=this.duration*e}get iterationProgress(){return te(Z(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(e){let s=this.iterationDuration;this.currentTime=s*this._currentIteration+s*e}get currentIteration(){return this._currentIteration}set currentIteration(e){this.currentTime=this.iterationDuration*te(+e,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(e){e?this.reverse():this.play()}get speed(){return super.speed}set speed(e){super.speed=e,this.resetTime()}reset(e=0){return Ys(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,St(this,0,1,e,Ie.FORCE),Wi(this),this._hasChildren&&ce(this,Wi),this}init(e=0){this.fps=this._fps,this.speed=this._speed,!e&&this._hasChildren&&St(this,this.duration,1,e,Ie.FORCE),this.reset(e);let s=this._autoplay;return s===!0?this.resume():s&&!Y(s.linked)&&s.link(this),this}resetTime(){let e=1/(this._speed*pe._speed);return this._startTime=Ft()-(this._currentTime+this._delay)*e,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=U&&!this._hasChildren?St(this,U,0,0,Ie.FORCE):(this._running||(Tt(pe,this),pe._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,pe.wake()),this):this}restart(){return this.reset(0).resume()}seek(e,s=0,i=0){Ys(this),this.completed=!1;let r=this.paused;return this.paused=!0,St(this,e+this._delay,~~s,~~i,Ie.AUTO),r?this:this.resume()}alternate(){let e=this._reversed,s=this.iterationCount,i=this.iterationDuration,r=s===1/0?Yt(Ji/i):s;return this._reversed=+(this._alternate&&!(r%2)?e:!e),s===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(i*r-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?ce(this,e=>e.cancel(),!0):ce(this,hr),this._cancelled=1,this.pause()}stretch(e){let s=this.duration;if(s===Et(e))return this;let i=e/s,r=e<=U;return this.duration=r?U:Et(is(Z(s*i,12))),this.iterationDuration=r?U:Et(is(Z(this.iterationDuration*i,12))),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){St(this,0,1,0,Ie.AUTO);let e=this._autoplay;return e&&e.linked&&e.linked===this&&e.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(e=_e){let s=this.then,i=()=>{this.then=null,e(this),this.then=s,this._resolve=_e};return new Promise(r=>(this._resolve=()=>r(i()),this.completed&&this._resolve(),this))}};var Pt=t=>t,mr=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Bo=(t,e,s)=>{let i=0,r=1,n,o,a=0;do o=i+(r-i)/2,n=mr(o,e,s)-t,n>0?r=o:i=o;while(_t(n)>1e-7&&++a<100);return o},Ro=(t=.5,e=0,s=.5,i=1)=>t===e&&s===i?Pt:r=>r===0||r===1?r:mr(Bo(r,t,s),e,i),No=(t=10,e)=>{let s=e?yo:Yt;return i=>s(te(i,0,1)*t)*(1/t)},gr=(...t)=>{let e=t.length;if(!e)return Pt;let s=e-1,i=t[0],r=t[s],n=[0],o=[ct(i)];for(let a=1;a<s;a++){let l=t[a],c=fs(l)?l.trim().split(" "):[l],d=c[0],u=c[1];n.push(Y(u)?a/s:ct(u)/100),o.push(ct(d))}return o.push(ct(r)),n.push(1),function(l){for(let c=1,d=n.length;c<d;c++){let u=n[c];if(l<=u){let p=n[c-1],h=o[c-1];return h+(o[c]-h)*(l-p)/(u-p)}}return o[o.length-1]}},Vo=(t=10,e=1)=>{let s=[0],i=t-1;for(let r=1;r<i;r++){let n=s[r-1],o=r/i,a=(r+1)/i,l=o+(a-o)*Math.random(),c=o*(1-e)+l*e;s.push(te(c,n,1))}return s.push(1),gr(...s)},Fo=Xt/2,qi=Xt*2,Nt=(t=1.68)=>e=>yt(e,+t),Gi={[it]:Nt,Quad:Nt(2),Cubic:Nt(3),Quart:Nt(4),Quint:Nt(5),Sine:t=>1-cr(t*Fo),Circ:t=>1-Vt(1-t*t),Expo:t=>t?yt(2,10*t-10):0,Bounce:t=>{let e,s=4;for(;t<((e=yt(2,--s))-1)/11;);return 1/yt(4,3-s)-7.5625*yt((e*3-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{let s=te(+t,1,10),i=te(+e,U,2),r=i/qi*So(1/s),n=qi/i;return o=>o===0||o===1?o:-s*yt(2,-10*(1-o))*lr((1-o-r)*n)}},Hs={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(e*2)/2:1-t(e*-2+2)/2,outIn:t=>e=>e<.5?(1-t(1-e*2))/2:(t(e*2-1)+1)/2},Yo=(t,e,s)=>{if(s[t])return s[t];if(t.indexOf("(")<=-1){let r=Hs[t]||t.includes("Back")||t.includes("Elastic")?e[t]():e[t];return r?s[t]=r:Pt}else{let i=t.slice(0,-1).split("("),r=e[i[0]];return r?s[t]=r(...i[1].split(",")):Pt}},Ho=(()=>{let t={linear:gr,irregular:Vo,steps:No,cubicBezier:Ro};for(let e in Hs)for(let s in Gi){let i=Gi[s],r=Hs[e];t[e+s]=s===it||s==="Back"||s==="Elastic"?(n,o)=>r(i(n,o)):r(i)}return t})(),Xo={linear:Pt},Xs=t=>os(t)?t:fs(t)?Yo(t,Ho,Xo):Pt,ji={},Js=(t,e,s)=>{if(s===ne.TRANSFORM){let i=Ht.get(t);return i||t}else if(s===ne.CSS||s===ne.ATTRIBUTE&&rr(e)&&t in e.style){let i=ji[t];if(i)return i;{let r=t&&bo(t);return ji[t]=r,r}}else return t},Bs={deg:1,rad:180/Xt,turn:360},Ui={},vr=(t,e,s,i=!1)=>{let r=e.u,n=e.n;if(e.t===X.UNIT&&r===s)return e;let o=n+r+s,a=Ui[o];if(!Y(a)&&!i)e.n=a;else{let l;if(r in Bs)l=n*Bs[r]/Bs[s];else{let d=t.cloneNode(),u=t.parentNode,p=u&&u!==Mt?u:Mt.body;p.appendChild(d);let h=d.style;h.width=100+r;let w=d.offsetWidth||100;h.width=100+s;let b=d.offsetWidth||100,C=w/b;p.removeChild(d),l=C*n}e.n=l,Ui[o]=l}return e.t,X.UNIT,e.u=s,e},ei=t=>{if(t._hasChildren)ce(t,ei,!0);else{let e=t;e.pause(),ce(e,s=>{let i=s.property,r=s.target;if(r[qs]){let n=r.style,o=e._inlineStyles[i];if(s._tweenType===ne.TRANSFORM){let a=r[us];if(Y(o)||o===it?delete a[i]:a[i]=o,s._renderTransforms)if(!Object.keys(a).length)n.removeProperty("transform");else{let l=it;for(let c in a)l+=er[c]+a[c]+") ";n.transform=l}}else Y(o)||o===it?n.removeProperty(i):n[i]=o;e._tail===s&&e.targets.forEach(a=>{a.getAttribute&&a.getAttribute("style")===it&&a.removeAttribute("style")})}})}return t},B=Zs(),V=Zs(),Qt={func:null},Jt=[null],wt=[null,null],es={to:null},Wo=0,tt,Xe,qo=(t,e)=>{let s={};if(ut(t)){let i=[].concat(...t.map(r=>Object.keys(r))).filter(ss);for(let r=0,n=i.length;r<n;r++){let o=i[r],a=t.map(l=>{let c={};for(let d in l){let u=l[d];ss(d)?d===o&&(c.to=u):c[d]=u}return c});s[o]=a}}else{let i=se(e.duration,re.defaults.duration);Object.keys(t).map(n=>({o:parseFloat(n)/100,p:t[n]})).sort((n,o)=>n.o-o.o).forEach(n=>{let o=n.o,a=n.p;for(let l in a)if(ss(l)){let c=s[l];c||(c=s[l]=[]);let d=o*i,u=c.length,p=c[u-1],h={to:a[l]},w=0;for(let b=0;b<u;b++)w+=c[b].duration;u===1&&(h.from=p.to),a.ease&&(h.ease=a.ease),h.duration=d-(u?w:0),c.push(h)}return n});for(let n in s){let o=s[n],a;for(let l=0,c=o.length;l<c;l++){let d=o[l],u=d.ease;d.ease=a||void 0,a=u}o[0].duration||o.shift()}}return s},ds=class extends cs{constructor(e,s,i,r,n=!1,o=0,a=0){super(s,i,r);let l=Us(e),c=l.length,d=s.keyframes,u=d?Eo(qo(d,s),s):s,{delay:p,duration:h,ease:w,playbackEase:b,modifier:C,composition:y,onRender:m}=u,f=i?i.defaults:re.defaults,g=se(b,f.playbackEase),S=g?Xs(g):null,_=!Y(w)&&!Y(w.ease),O=_?w.ease:se(w,S?"linear":f.ease),A=_?w.duration:se(h,f.duration),T=se(p,f.delay),v=C||f.modifier,M=Y(y)&&c>=fe?Se.none:Y(y)?f.composition:y,x={},E=this._offset+(i?i._offset:0),L=NaN,k=NaN,z=0,F=0;for(let I=0;I<c;I++){let P=l[I],D=o||I,R=a||c,H=NaN,Q=NaN;for(let J in u)if(ss(J)){let G=Ks(P,J),j=Js(J,P,G),K=u[J],xe=ut(K);if(n&&!xe&&(wt[0]=K,wt[1]=K,K=wt),xe){let ie=K.length,Te=!Ds(K[0]);ie===2&&Te?(es.to=K,Jt[0]=es,tt=Jt):ie>2&&Te?(tt=[],K.forEach((be,Ee)=>{Ee?Ee===1?(wt[1]=be,tt.push(wt)):tt.push(be):wt[0]=be})):tt=K}else Jt[0]=K,tt=Jt;let de=null,oe=null,W=NaN,N=0,q=0;for(let ie=tt.length;q<ie;q++){let Te=tt[q];Ds(Te)?Xe=Te:(es.to=Te,Xe=es),Qt.func=null;let be=et(Xe.to,P,D,R,Qt),Ee;Ds(be)&&!Y(be.to)?(Xe=be,Ee=be.to):Ee=be;let ft=et(Xe.from,P,D,R),Ve=Xe.ease,Ce=!Y(Ve)&&!Y(Ve.ease),pt=Ce?Ve.ease:Ve||O,ue=Ce?Ve.duration:et(se(Xe.duration,ie>1?et(A,P,D,R)/ie:A),P,D,R),Fe=et(se(Xe.delay,q?0:T),P,D,R),Ye=et(se(Xe.composition,M),P,D,R),qe=js(Ye)?Ye:Se[Ye],Gt=Xe.modifier||v,ht=!Y(ft),nt=!Y(Ee),jt=ut(Ee),kr=jt||ht&&nt,ms=oe?N+Fe:Fe,gs=E+ms;!F&&(ht||jt)&&(F=1);let Ae=oe;if(qe!==Se.none){de||(de=Qs(P,j));let ee=de._head;for(;ee&&!ee._isOverridden&&ee._absoluteStartTime<=gs;)if(Ae=ee,ee=ee._nextRep,ee&&ee._absoluteStartTime>=gs)for(;ee;)ns(ee),ee=ee._nextRep}if(kr?(Be(jt?et(Ee[0],P,D,R):ft,B),Be(jt?et(Ee[1],P,D,R,Qt):Ee,V),B.t===X.NUMBER&&(Ae?Ae._valueType===X.UNIT&&(B.t=X.UNIT,B.u=Ae._unit):(Be(xt(P,j,G,x),ke),ke.t===X.UNIT&&(B.t=X.UNIT,B.u=ke.u)))):(nt?Be(Ee,V):oe?Xi(oe,V):Be(i&&Ae&&Ae.parent.parent===i?Ae._value:xt(P,j,G,x),V),ht?Be(ft,B):oe?Xi(oe,B):Be(i&&Ae&&Ae.parent.parent===i?Ae._value:xt(P,j,G,x),B)),B.o&&(B.n=Fs(Ae?Ae._toNumber:Be(xt(P,j,G,x),ke).n,B.n,B.o)),V.o&&(V.n=Fs(B.n,V.n,V.o)),B.t!==V.t){if(B.t===X.COMPLEX||V.t===X.COMPLEX){let ee=B.t===X.COMPLEX?B:V,ge=B.t===X.COMPLEX?V:B;ge.t=X.COMPLEX,ge.s=ye(ee.s),ge.d=ee.d.map(()=>ge.n)}else if(B.t===X.UNIT||V.t===X.UNIT){let ee=B.t===X.UNIT?B:V,ge=B.t===X.UNIT?V:B;ge.t=X.UNIT,ge.u=ee.u}else if(B.t===X.COLOR||V.t===X.COLOR){let ee=B.t===X.COLOR?B:V,ge=B.t===X.COLOR?V:B;ge.t=X.COLOR,ge.s=ee.s,ge.d=[0,0,0,1]}}if(B.u!==V.u){let ee=V.u?B:V;ee=vr(P,ee,V.u?V.u:B.u,!1)}if(V.d&&B.d&&V.d.length!==B.d.length){let ee=B.d.length>V.d.length?B:V,ge=ee===B?V:B;ge.d=ee.d.map((ga,ai)=>Y(ge.d[ai])?0:ge.d[ai]),ge.s=ye(ee.s)}let vs=Z(+ue||U,12),Ut={parent:this,id:Wo++,property:j,target:P,_value:null,_func:Qt.func,_ease:Xs(pt),_fromNumbers:ye(B.d),_toNumbers:ye(V.d),_strings:ye(V.s),_fromNumber:B.n,_toNumber:V.n,_numbers:ye(B.d),_number:B.n,_unit:V.u,_modifier:Gt,_currentTime:0,_startTime:ms,_delay:+Fe,_updateDuration:vs,_changeDuration:vs,_absoluteStartTime:gs,_tweenType:G,_valueType:V.t,_composition:qe,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};qe!==Se.none&&pr(Ut,de),isNaN(W)&&(W=Ut._startTime),N=Z(ms+vs,12),oe=Ut,z++,Tt(this,Ut)}(isNaN(k)||W<k)&&(k=W),(isNaN(L)||N>L)&&(L=N),G===ne.TRANSFORM&&(H=z-q,Q=z)}if(!isNaN(H)){let J=0;ce(this,G=>{J>=H&&J<Q&&(G._renderTransforms=1,G._composition===Se.blend&&ce(Ct.animation,j=>{j.id===G.id&&(j._renderTransforms=1)})),J++})}}c||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),k?(ce(this,I=>{I._startTime-I._delay||(I._delay-=k),I._startTime-=k}),L-=k):k=0,L||(L=U,this.iterationCount=0),this.targets=l,this.duration=L===U?U:is((L+this._loopDelay)*this.iterationCount-this._loopDelay)||U,this.onRender=m||f.onRender,this._ease=S,this._delay=k,this.iterationDuration=L,this._inlineStyles=x,!this._autoplay&&F&&this.onRender(this)}stretch(e){let s=this.duration;if(s===Et(e))return this;let i=e/s;return ce(this,r=>{r._updateDuration=Et(Z(r._updateDuration*i,12)),r._changeDuration=Et(Z(r._changeDuration*i,12)),r._currentTime*=i,r._startTime*=i,r._absoluteStartTime*=i}),super.stretch(e)}refresh(){return ce(this,e=>{let s=xt(e.target,e.property,e._tweenType);Be(s,ke),e._fromNumbers=ye(ke.d),e._fromNumber=ke.n,e._func&&(Be(e._func(),V),e._toNumbers=ye(V.d),e._strings=ye(V.s),e._toNumber=V.n)}),this}revert(){return super.revert(),ei(this)}then(e){return super.then(e)}},Pe=(t,e)=>new ds(t,e,null,0,!1).init();var br=["x","y","z"],ad=["perspective","width","height","margin","padding","top","right","bottom","left","borderWidth","fontSize","borderRadius",...br],ld=[...br,...Gs.filter(t=>["X","Y","Z"].some(e=>t.endsWith(e)))],cd=We&&(Y(CSS)||!Object.hasOwnProperty.call(CSS,"registerProperty"));var Ki={_head:null,_tail:null},Go=(t,e,s)=>{let i=Ki._head;for(;i;){let r=i._next,n=i.$el===t,o=!e||i.property===e,a=!s||i.parent===s;if(n&&o&&a){let l=i.animation;try{l.commitStyles()}catch(d){}l.cancel(),rt(Ki,i);let c=i.parent;c&&(c._completed++,c.animations.length===c._completed&&(c.completed=!0,c.muteCallbacks||(c.paused=!0,c.onComplete(c),c._resolve(c))))}i=r}};var jo=(t=_e)=>new cs({duration:1*re.timeScale,onComplete:t},null,0).resume();function Uo(t,e,s){let i=Us(t);if(!i.length)return;let[r]=i,n=Ks(r,e),o=Js(e,r,n),a=xt(r,o);if(Y(s))return a;if(Be(a,ke),ke.t===X.NUMBER||ke.t===X.UNIT){if(s===!1)return ke.n;{let l=vr(r,ke,s,!1);return`${Z(l.n,re.precision)}${l.u}`}}}var Ko=(t,e)=>{if(!Y(e))return e.duration=U,e.composition=se(e.composition,Se.none),new ds(t,e,null,0,!0).resume()},Zi=(t,e,s)=>{let i=!1;return ce(e,r=>{let n=r.target;if(t.includes(n)){let o=r.property,a=r._tweenType,l=Js(s,n,a);(!l||l&&l===o)&&(r.parent._tail===r&&r._tweenType===ne.TRANSFORM&&r._prev&&r._prev._tweenType===ne.TRANSFORM&&(r._prev._renderTransforms=1),rt(e,r),hr(r),i=!0)}},!0),i},wr=(t,e,s)=>{let i=fr(t),r=e||pe,n=e&&e.controlAnimation&&e;for(let a=0,l=i.length;a<l;a++){let c=i[a];Go(c,s,n)}let o;if(r._hasChildren){let a=0;ce(r,l=>{if(!l._hasChildren)if(o=Zi(i,l,s),o&&!l._head)l.cancel(),rt(r,l);else{let d=l._offset+l._delay+l.duration;d>a&&(a=d)}l._head?wr(t,l,s):l._hasChildren=!1},!0),Y(r.iterationDuration)||(r.iterationDuration=a)}else o=Zi(i,r,s);return o&&!r._head&&(r._hasChildren=!1,r.cancel&&r.cancel()),i},ti=(t,e,s)=>{let i=Le(10,s||0);return Yt((Math.random()*(e-t+1/i)+t)*i)/i},Zo=t=>t[ti(0,t.length-1)],Qo=t=>{let e=t.length,s,i;for(;e;)i=ti(0,--e),s=t[e],t[e]=t[i],t[i]=s;return t},Jo=(t,e)=>(+t).toFixed(e),ea=(t,e,s)=>`${t}`.padStart(e,s),ta=(t,e,s)=>`${t}`.padEnd(e,s),sa=(t,e,s)=>((t-e)%(s-e)+(s-e))%(s-e)+e,ia=(t,e,s,i,r)=>i+(t-e)/(s-e)*(r-i),ra=t=>t*Xt/180,na=t=>t*180/Xt,oa=(t,e,s,i)=>{let r=fe/re.defaults.frameRate;if(i!==!1){let o=i||pe._hasChildren&&pe;o&&o.deltaTime&&(r=o.deltaTime)}let n=1-Math.exp(-s*r*.1);return s?s===1?e:(1-n)*t+n*e:t},aa=(t,e=0)=>(...s)=>e?i=>t(...s,i):i=>t(i,...s),yr=t=>(...e)=>{let s=t(...e);return new Proxy(_e,{apply:(i,r,[n])=>s(n),get:(i,r)=>yr((...n)=>{let o=ae[r](...n);return a=>o(s(a))})})},ze=(t,e=0)=>(...s)=>(s.length<t.length?yr(aa(t,e)):t)(...s),ae={$:Us,get:Uo,set:Ko,remove:wr,cleanInlineStyles:ei,random:ti,randomPick:Zo,shuffle:Qo,lerp:oa,sync:jo,clamp:ze(te),round:ze(Z),snap:ze(To),wrap:ze(sa),interpolate:ze(st,1),mapRange:ze(ia),roundPad:ze(Jo),padStart:ze(ea),padEnd:ze(ta),degToRad:ze(ra),radToDeg:ze(na)},la=(t,e)=>{if(dt(e,"<")){let s=e[1]==="<",i=t._tail,r=i?i._offset+i._delay:0;return s?r:r+i.duration}},ca=(t,e)=>{let s=t.iterationDuration;if(s===U&&(s=0),Y(e))return s;if(js(+e))return+e;let i=e,r=t?t.labels:null,n=!ts(r),o=la(t,i),a=!Y(o),l=vo.exec(i);if(l){let c=l[0],d=i.split(c),u=n&&d[0]?r[d[0]]:s,p=a?o:n?u:s,h=+d[1];return Fs(p,h,c[0])}else return a?o:n?Y(r[i])?s:r[i]:s};var Ws=class{constructor(e={}){this.timeStep=.02,this.restThreshold=5e-4,this.restDuration=200,this.maxDuration=6e4,this.maxRestSteps=this.restDuration/this.timeStep/fe,this.maxIterations=this.maxDuration/this.timeStep/fe,this.m=te(se(e.mass,1),0,fe),this.s=te(se(e.stiffness,100),1,fe),this.d=te(se(e.damping,10),.1,fe),this.v=te(se(e.velocity,0),-1e3,fe),this.w0=0,this.zeta=0,this.wd=0,this.b=0,this.solverDuration=0,this.duration=0,this.compute(),this.ease=s=>s===0||s===1?s:this.solve(s*this.solverDuration)}solve(e){let{zeta:s,w0:i,wd:r,b:n}=this,o=e;return s<1?o=Vi(-o*s*i)*(1*cr(r*o)+n*lr(r*o)):o=(1+n*o)*Vi(-o*i),1-o}compute(){let{maxRestSteps:e,maxIterations:s,restThreshold:i,timeStep:r,m:n,d:o,s:a,v:l}=this,c=this.w0=te(Vt(a/n),U,fe),d=this.zeta=o/(2*Vt(a*n)),u=this.wd=d<1?c*Vt(1-d*d):0;this.b=d<1?(d*c+-l)/u:-l+c;let p=0,h=0,w=0;for(;h<e&&w<s;)_t(1-this.solve(p))<i?h++:h=0,this.solverDuration=p,p+=r,w++;this.duration=Z(this.solverDuration*fe,0)*re.timeScale}get mass(){return this.m}set mass(e){this.m=te(se(e,1),0,fe),this.compute()}get stiffness(){return this.s}set stiffness(e){this.s=te(se(e,100),1,fe),this.compute()}get damping(){return this.d}set damping(e){this.d=te(se(e,10),.1,fe),this.compute()}get velocity(){return this.v}set velocity(e){this.v=te(se(e,0),-1e3,fe),this.compute()}},At=t=>new Ws(t);var Ze=(t,e={})=>{let s=[],i=0,r=e.from,n=e.reversed,o=e.ease,a=!Y(o),c=a&&!Y(o.ease)?o.ease:a?Xs(o):null,d=e.grid,u=e.axis,p=Y(r)||r===0||r==="first",h=r==="center",w=r==="last",b=ut(t),C=ct(b?t[0]:t),y=b?ct(t[1]):0,m=tr.exec((b?t[1]:t)+it),f=e.start||0+(b?C:0),g=p?0:js(r)?r:0;return(S,_,O,A)=>{if(h&&(g=(O-1)/2),w&&(g=O-1),!s.length){for(let x=0;x<O;x++){if(!d)s.push(_t(g-x));else{let E=h?(d[0]-1)/2:g%d[0],L=h?(d[1]-1)/2:Yt(g/d[0]),k=x%d[0],z=Yt(x/d[0]),F=E-k,I=L-z,P=Vt(F*F+I*I);u==="x"&&(P=-F),u==="y"&&(P=-I),s.push(P)}i=xo(...s)}c&&(s=s.map(x=>c(x/i)*i)),n&&(s=s.map(x=>u?x<0?x*-1:-x:_t(i-x)))}let T=b?(y-C)/i:C,M=(A?ca(A,Y(e.start)?A.iterationDuration:f):f)+(T*Z(s[_],2)||0);return e.modifier&&(M=e.modifier(M)),m&&(M=`${M}${m[2]}`),M}};function Re(t){return t/1920*100+"rem"}var Wt,Lt,ii,da=()=>ii||qt.register(window.gsap),Sr=typeof Intl!="undefined"?new Intl.Segmenter:0,ps=t=>typeof t=="string"?ps(document.querySelectorAll(t)):"length"in t?Array.from(t):[t],xr=t=>ps(t).filter(e=>e instanceof HTMLElement),ri=[],si=function(){},ua=/\s+/g,Tr=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),Er={left:0,top:0,width:0,height:0},Cr=(t,e)=>{if(e){let s=new Set(t.join("").match(e)||ri),i=t.length,r,n,o,a;if(s.size)for(;--i>-1;){n=t[i];for(o of s)if(o.startsWith(n)&&o.length>n.length){for(r=0,a=n;o.startsWith(a+=t[i+ ++r])&&a.length<o.length;);if(r&&a.length===o.length){t[i]=o,t.splice(i+1,r);break}}}}return t},Mr=t=>window.getComputedStyle(t).display==="inline"&&(t.style.display="inline-block"),$t=(t,e,s)=>e.insertBefore(typeof t=="string"?document.createTextNode(t):t,s),ni=(t,e,s)=>{let i=e[t+"sClass"]||"",{tag:r="div",aria:n="auto",propIndex:o=!1}=e,a=t==="line"?"block":"inline-block",l=i.indexOf("++")>-1,c=d=>{let u=document.createElement(r),p=s.length+1;return i&&(u.className=i+(l?" "+i+p:"")),o&&u.style.setProperty("--"+t,p+""),n!=="none"&&u.setAttribute("aria-hidden","true"),r!=="span"&&(u.style.position="relative",u.style.display=a),u.textContent=d,s.push(u),u};return l&&(i=i.replace("++","")),c.collection=s,c},fa=(t,e,s,i)=>{let r=ni("line",s,i),n=window.getComputedStyle(t).textAlign||"left";return(o,a)=>{let l=r("");for(l.style.textAlign=n,t.insertBefore(l,e[o]);o<a;o++)l.appendChild(e[o]);l.normalize()}},_r=(t,e,s,i,r,n,o,a,l,c)=>{var d;let u=Array.from(t.childNodes),p=0,{wordDelimiter:h,reduceWhiteSpace:w=!0,prepareText:b}=e,C=t.getBoundingClientRect(),y=C,m=!w&&window.getComputedStyle(t).whiteSpace.substring(0,3)==="pre",f=0,g=s.collection,S,_,O,A,T,v,M,x,E,L,k,z,F,I,P,D,R,H;for(typeof h=="object"?(O=h.delimiter||h,_=h.replaceWith||""):_=h===""?"":h||" ",S=_!==" ";p<u.length;p++)if(A=u[p],A.nodeType===3){for(P=A.textContent||"",w?P=P.replace(ua," "):m&&(P=P.replace(/\n/g,_+`
`)),b&&(P=b(P,t)),A.textContent=P,T=_||O?P.split(O||_):P.match(a)||ri,R=T[T.length-1],x=S?R.slice(-1)===" ":!R,R||T.pop(),y=C,M=S?T[0].charAt(0)===" ":!T[0],M&&$t(" ",t,A),T[0]||T.shift(),Cr(T,l),n&&c||(A.textContent=""),E=1;E<=T.length;E++)if(D=T[E-1],!w&&m&&D.charAt(0)===`
`&&((d=A.previousSibling)==null||d.remove(),$t(document.createElement("br"),t,A),D=D.slice(1)),!w&&D==="")$t(_,t,A);else if(D===" ")t.insertBefore(document.createTextNode(" "),A);else{if(S&&D.charAt(0)===" "&&$t(" ",t,A),f&&E===1&&!M&&g.indexOf(f.parentNode)>-1?(v=g[g.length-1],v.appendChild(document.createTextNode(i?"":D))):(v=s(i?"":D),$t(v,t,A),f&&E===1&&!M&&v.insertBefore(f,v.firstChild)),i)for(k=Sr?Cr([...Sr.segment(D)].map(Q=>Q.segment),l):D.match(a)||ri,H=0;H<k.length;H++)v.appendChild(k[H]===" "?document.createTextNode(" "):i(k[H]));if(n&&c){if(P=A.textContent=P.substring(D.length+1,P.length),L=v.getBoundingClientRect(),L.top>y.top&&L.left<=y.left){for(z=t.cloneNode(),F=t.childNodes[0];F&&F!==v;)I=F,F=F.nextSibling,z.appendChild(I);t.parentNode.insertBefore(z,t),r&&Mr(z)}y=L}(E<T.length||x)&&$t(E>=T.length?" ":S&&D.slice(-1)===" "?" "+_:_,t,A)}t.removeChild(A),f=0}else A.nodeType===1&&(o&&o.indexOf(A)>-1?(g.indexOf(A.previousSibling)>-1&&g[g.length-1].appendChild(A),f=A):(_r(A,e,s,i,r,n,o,a,l,!0),f=0),r&&Mr(A))},Pr=class Ar{constructor(e,s){this.isSplit=!1,da(),this.elements=xr(e),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=s,this._split=()=>this.isSplit&&this.split(this.vars);let i=[],r,n=()=>{let o=i.length,a;for(;o--;){a=i[o];let l=a.element.offsetWidth;if(l!==a.width){a.width=l,this._split();return}}};this._data={orig:i,obs:typeof ResizeObserver!="undefined"&&new ResizeObserver(()=>{clearTimeout(r),r=setTimeout(n,200)})},si(this),this.split(s)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars||{};let{type:s="chars,words,lines",aria:i="auto",deepSlice:r=!0,smartWrap:n,onSplit:o,autoSplit:a=!1,specialChars:l,mask:c}=this.vars,d=s.indexOf("lines")>-1,u=s.indexOf("chars")>-1,p=s.indexOf("words")>-1,h=u&&!p&&!d,w=l&&("push"in l?new RegExp("(?:"+l.join("|")+")","gu"):l),b=w?new RegExp(w.source+"|"+Tr.source,"gu"):Tr,C=!!e.ignore&&xr(e.ignore),{orig:y,animTime:m,obs:f}=this._data,g;return(u||p||d)&&(this.elements.forEach((S,_)=>{y[_]={element:S,html:S.innerHTML,ariaL:S.getAttribute("aria-label"),ariaH:S.getAttribute("aria-hidden")},i==="auto"?S.setAttribute("aria-label",(S.textContent||"").trim()):i==="hidden"&&S.setAttribute("aria-hidden","true");let O=[],A=[],T=[],v=u?ni("char",e,O):null,M=ni("word",e,A),x,E,L,k;if(_r(S,e,M,v,h,r&&(d||h),C,b,w,!1),d){let z=ps(S.childNodes),F=fa(S,z,e,T),I,P=[],D=0,R=z.map(Q=>Q.nodeType===1?Q.getBoundingClientRect():Er),H=Er;for(x=0;x<z.length;x++)I=z[x],I.nodeType===1&&(I.nodeName==="BR"?(P.push(I),F(D,x+1),D=x+1,H=R[D]):(x&&R[x].top>H.top&&R[x].left<=H.left&&(F(D,x),D=x),H=R[x]));D<x&&F(D,x),P.forEach(Q=>{var J;return(J=Q.parentNode)==null?void 0:J.removeChild(Q)})}if(!p){for(x=0;x<A.length;x++)if(E=A[x],u||!E.nextSibling||E.nextSibling.nodeType!==3)if(n&&!d){for(L=document.createElement("span"),L.style.whiteSpace="nowrap";E.firstChild;)L.appendChild(E.firstChild);E.replaceWith(L)}else E.replaceWith(...E.childNodes);else k=E.nextSibling,k&&k.nodeType===3&&(k.textContent=(E.textContent||"")+(k.textContent||""),E.remove());A.length=0,S.normalize()}this.lines.push(...T),this.words.push(...A),this.chars.push(...O)}),c&&this[c]&&this.masks.push(...this[c].map(S=>{let _=S.cloneNode();return S.replaceWith(_),_.appendChild(S),S.className&&(_.className=S.className.replace(/(\b\w+\b)/g,"$1-mask")),_.style.overflow="clip",_}))),this.isSplit=!0,Lt&&(a?Lt.addEventListener("loadingdone",this._split):Lt.status==="loading"&&console.warn("SplitText called before fonts loaded")),(g=o&&o(this))&&g.totalTime&&(this._data.anim=m?g.totalTime(m):g),d&&a&&this.elements.forEach((S,_)=>{y[_].width=S.offsetWidth,f&&f.observe(S)}),this}revert(){var e,s;let{orig:i,anim:r,obs:n}=this._data;return n&&n.disconnect(),i.forEach(({element:o,html:a,ariaL:l,ariaH:c})=>{o.innerHTML=a,l?o.setAttribute("aria-label",l):o.removeAttribute("aria-label"),c?o.setAttribute("aria-hidden",c):o.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=i.length=this.masks.length=0,this.isSplit=!1,Lt==null||Lt.removeEventListener("loadingdone",this._split),r&&(this._data.animTime=r.totalTime(),r.revert()),(s=(e=this.vars).onRevert)==null||s.call(e,this),this}static create(e,s){return new Ar(e,s)}static register(e){Wt=Wt||e||window.gsap,Wt&&(ps=Wt.utils.toArray,si=Wt.core.context||si),!ii&&window.innerWidth>0&&(Lt=document.fonts,ii=!0)}};Pr.version="3.13.0";var qt=Pr;var oi=ae.$("section[class*='home-']"),Ne={home_2:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{let r=ae.$(i.target.querySelector(".map"));ae.set(r,{opacity:0,x:Re(300)});let n=ae.$(i.target.querySelector(".sub-title"));ae.set(n,{opacity:0,y:Re(100),duration:300});let o=ae.$(i.target.querySelector(".box"));ae.set(o,{opacity:0,y:Re(200),duration:300,ease:"easeInOutSine"}),i.intersectionRatio>.6&&(Pe(n,{opacity:1,y:0,duration:500,ease:"easeInOutSine"}),Pe(r,{opacity:1,x:0,duration:1200,delay:600,ease:"outCirc"}),Pe(o,{opacity:1,y:0,duration:1e3,delay:400,ease:"outCirc"}),s.unobserve(i.target))})},{threshold:.6});ae.$(".home-2").forEach(e=>{t.observe(e)})},home_3:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{let r=ae.$(i.target.querySelectorAll(".product-item"));r.forEach(n=>{ae.set(n,{scale:0,translateY:Re(40),ease:"easeInOutSine",duration:300})}),i.intersectionRatio>.5&&(Pe(r,{scale:1,translateY:0,delay:Ze(120)}),s.unobserve(i.target))})},{threshold:.5});ae.$(".home-3").forEach(e=>{t.observe(e)})},home_4:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{let r=ae.$(i.target.querySelectorAll(".lists"));r.forEach(n=>{ae.set(n,{scale:0,ease:"easeInOutSine",duration:300})}),i.intersectionRatio>.5&&(Pe(r,{scale:1,delay:Ze(120)}),s.unobserve(i.target))})},{threshold:.5});ae.$(".home-4").forEach(e=>{t.observe(e)})},home_5:()=>{let e=new IntersectionObserver((s,i)=>{s.forEach(r=>{r.intersectionRatio>.5&&(r.target.querySelectorAll(".swiper-slide").forEach((o,a)=>{Pe(o,{opacity:1,x:[Re(80),0],duration:1e3,ease:"outQuart",delay:a*200})}),i.unobserve(r.target))})},{threshold:.5});ae.$(".home-5").forEach(s=>{s.querySelectorAll(".swiper-slide").forEach(i=>{ae.set(i,{opacity:0})}),e.observe(s)})},home_items_animation:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach((i,r)=>{i.intersectionRatio>.5&&(Pe(i.target.querySelectorAll(".item"),{opacity:[0,1],y:[Re(40),0],ease:At({stiffness:150}),delay:Ze(100),duration:600}),s.unobserve(i.target))})},{threshold:.5});ae.$(".home-item-animation").forEach(e=>{ae.set(e.querySelectorAll(".item"),{opacity:0,y:Re(40)}),t.observe(e)})},homeBlockTitles:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target,n=window.getComputedStyle(r).textAlign,o="first";n==="center"&&(o="center"),n==="right"&&(o="last");let a=qt.create(r,{type:"chars,words"});i.target.closest(".block-title").style.opacity=1;let l=a.chars;Pe(l,{opacity:[0,1],y:[Re(20),0],duration:400,ease:At({stiffness:150}),delay:Ze(20,{from:o})}),s.unobserve(r)}})},{threshold:.2});oi.forEach(e=>{let s=e.querySelector(".block-title");s&&(s.style.opacity=0,t.observe(s))})},homeTitle:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.intersectionRatio>.5){let r=i.target,n=r.getAttribute("animate-title")||"fade-up",o=window.getComputedStyle(r).textAlign,a="first";o==="center"&&(a="center"),o==="right"&&(a="last");let l=qt.create(r,{type:"words"});r.style.overflow="hidden",n==="fade-up"&&Pe(l.words,{opacity:[0,1],y:["100%",0],duration:600,ease:At({stiffness:150}),delay:Ze(25,{from:a})}),n==="slide-up"&&Pe(l.words,{opacity:[0,1],x:["100%",0],duration:600,ease:At({stiffness:150}),delay:Ze(25,{from:a})}),s.unobserve(r)}})},{threshold:.5});oi.forEach(e=>{let s=e.querySelectorAll("[animate-title]");s&&s.forEach(i=>{t.observe(i)})})},homeDescription:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target,n="first",o=qt.create(r,{type:"words,lines"});r.style.opacity=1;let a=o.words;o.lines.forEach(c=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden"}),Pe(a,{opacity:[0,1],translateY:[Re(20),0],duration:500,delay:Ze(15,{from:n})}),s.unobserve(r)}})},{threshold:.2});oi.forEach(e=>{let s=e.querySelector(".desc");s&&(s.style.opacity=0,t.observe(s))})},homeButtons:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;Pe(r,{opacity:[0,1],y:[45,0],duration:500}),s.unobserve(r)}})},{threshold:.2})},primaryNav:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{i.isIntersecting&&(Pe(i.target.querySelectorAll("li"),{opacity:1,x:0,duration:600,delay:Ze(100),ease:At({stiffness:150,damping:10})}),s.unobserve(i.target))})},{threshold:.2});ae.$(".primary-nav").forEach(e=>{ae.set(e.querySelectorAll("li"),{opacity:0,x:Re(20)}),t.observe(e)})},init:()=>{$("body.home").length!==0&&($(window).width()<1200||(Ne.home_2(),Ne.home_3(),Ne.home_4(),Ne.home_5(),Ne.home_items_animation(),Ne.homeButtons(),document.fonts.ready.then(t=>{Ne.homeBlockTitles(),Ne.homeTitle(),Ne.homeDescription()})))}};$(document).ready(function(){mi(),yi(),Si(),Bi(),vi(),wi(),Ne.init(),gi(),Oe.init(),ma(),bi(".product-item .block-info .info-name",".product-item .block-info"),setTimeout(()=>{hs.default.init({offset:200,once:!0,disable:function(){return window.innerWidth<1200}})},100),setTimeout(()=>{hs.default.refresh()},1e3),ha(),pa()});function pa(){let t=$(".blog-tabs .tab-item"),e=$(".blog-list");if(t.length>0&&e.length>0&&window.blogListData){let s=i=>{let r=i==="all"?window.blogListData:window.blogListData.filter(o=>o.category===i),n="";r.forEach((o,a)=>{let l=a%4===0,c=l?"blog-card is-expand":"blog-card",d=l?"ratio:pt-[529_652]":"ratio:pt-[272_315]";n+=`
					<div class="${c}" data-category="${o.category}" data-aos="fade-up" data-aos-delay="${a%4*100}">
						<div class="img-ratio ${d}">
							<img data-src="${o.img}" alt="" class="lozad">
						</div>
						<div class="content">
							<div class="category">${o.category}</div>
							<h3 class="title">
								<a href="./BlogDetail.html">${o.title}</a>
							</h3>
							<div class="desc">
								<p>${o.desc}</p>
							</div>
							<a class="btn-view-more" href="./BlogDetail.html">
								<span>VIEW MORE</span>
								<i class="fa-regular fa-arrow-right-long"></i>
							</a>
						</div>
					</div>
				`}),e.fadeOut(300,function(){e.html(n),e.fadeIn(300),window.lozad&&window.lozad.observe(),setTimeout(()=>{window.AOS&&window.AOS.refresh()},200)})};t.on("click",function(i){i.preventDefault();let r=$(this).attr("data-filter");$(this).hasClass("active")||(t.removeClass("active"),$(this).addClass("active"),s(r))})}}function ha(){let t=document.getElementById("video-popup");if(!t)return;let e=t.querySelector(".close-popup"),s=document.querySelectorAll(".play-button"),i=t.querySelector(".video-container"),r=t.querySelector("video"),n=r.querySelector("source"),o=t.querySelectorAll(".video-thumb-item"),a=t.querySelector(".btn-play-popup"),l=t.querySelector(".overlay-title"),c=(d,u)=>{i.classList.remove("is-playing"),r.pause(),r.currentTime=0,d&&(n.src=d),r.load(),u&&l&&(l.textContent=u)};s&&s.forEach(d=>{d.addEventListener("click",()=>{c("https://avtshare01.rz.tu-ilmenau.de/avt-vqdb-uhd-1/test_1/segments/bigbuck_bunny_8bit_15000kbps_1080p_60.0fps_h264.mp4","LUNA LOPEZ"),t.classList.add("active"),document.body.style.overflow="hidden"})}),e&&e.addEventListener("click",()=>{t.classList.remove("active"),r.pause(),i.classList.remove("is-playing"),document.body.style.overflow=""}),a&&a.addEventListener("click",()=>{i.classList.add("is-playing"),r.play()}),o&&o.forEach(d=>{d.addEventListener("click",()=>{let u=d.getAttribute("data-src"),p=d.getAttribute("data-title");c(u,p);let h=t.querySelector(".video-title");h&&(h.textContent=p)})})}function ma(){let t=$(".section-field-op .field-op .swiper-field-op .field-op-item"),e=$(".section-field-op");t.on("mouseenter",function(){let s=$(this),i=s.closest(".section-field-op");if(i.find(".field-op-item").removeClass("active"),s.addClass("active"),i.hasClass("service-detail-4")){let r=s.closest(".swiper-field-op")[0];if(r!=null&&r.swiper){let n=r.swiper,o=s.index();n.slideTo(o),setTimeout(()=>{n.updateSlides(),n.updateSlidesClasses()},0)}}}),e.hasClass("service-detail-4")||t.first().addClass("active")}hs.default.init({offset:100});var $r=(0,Lr.default)();$r.observe();window.lozad=$r;})();
/*! Bundled license information:

lozad/dist/lozad.min.js:
  (*! lozad.js - v1.16.0 - 2020-09-06
  * https://github.com/ApoorvSaxena/lozad.js
  * Copyright (c) 2020 Apoorv Saxena; Licensed MIT *)

animejs/lib/anime.esm.js:
  (**
   * anime.js - ESM
   * @version v4.0.1
   * @author Julian Garnier
   * @license MIT
   * @copyright (c) 2025 Julian Garnier
   * @see https://animejs.com
   *)

gsap/SplitText.js:
  (*!
   * SplitText 3.13.0
   * https://gsap.com
   *
   * @license Copyright 2025, GreenSock. All rights reserved. Subject to the terms at https://gsap.com/standard-license.
   * @author: Jack Doyle
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2Fvcy9kaXN0L2Fvcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbG96YWQvZGlzdC9sb3phZC5taW4uanMiLCAiLi4vLi4vc3JjL2pzL21haW4uanMiLCAiLi4vLi4vc3JjL2pzL2hlbHBlci5qcyIsICIuLi8uLi9wbHVnaW5zL0NvbXBvbmVudHNVaS9IZWFkZXJTZWFyY2gvSGVhZGVyU2VhcmNoLmpzIiwgIi4uLy4uL3NyYy9qcy9oZWFkZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3V0aWxzLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9zd2lwZXItY29yZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21vdXNld2hlZWwubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2NyZWF0ZS1lbGVtZW50LWlmLW5vdC1kZWZpbmVkLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvbmF2aWdhdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3BhZ2luYXRpb24ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9hdXRvcGxheS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3RodW1icy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LWluaXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWZhZGUubWpzIiwgIi4uLy4uL3NyYy9qcy9zd2lwZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2FuaW1lanMvbGliL2FuaW1lLmVzbS5qcyIsICIuLi8uLi9zcmMvanMvdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dzYXAvU3BsaXRUZXh0LmpzIiwgIi4uLy4uL3NyYy9qcy9ob21lUGFnZS5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5BT1M9dCgpOmUuQU9TPXQoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG8pe2lmKG5bb10pcmV0dXJuIG5bb10uZXhwb3J0czt2YXIgaT1uW29dPXtleHBvcnRzOnt9LGlkOm8sbG9hZGVkOiExfTtyZXR1cm4gZVtvXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyx0KSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQucD1cImRpc3QvXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBvIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykmJihlW29dPW5bb10pfXJldHVybiBlfSxyPW4oMSksYT0obyhyKSxuKDYpKSx1PW8oYSksYz1uKDcpLHM9byhjKSxmPW4oOCksZD1vKGYpLGw9big5KSxwPW8obCksbT1uKDEwKSxiPW8obSksdj1uKDExKSx5PW8odiksZz1uKDE0KSxoPW8oZyksdz1bXSxrPSExLHg9e29mZnNldDoxMjAsZGVsYXk6MCxlYXNpbmc6XCJlYXNlXCIsZHVyYXRpb246NDAwLGRpc2FibGU6ITEsb25jZTohMSxzdGFydEV2ZW50OlwiRE9NQ29udGVudExvYWRlZFwiLHRocm90dGxlRGVsYXk6OTksZGVib3VuY2VEZWxheTo1MCxkaXNhYmxlTXV0YXRpb25PYnNlcnZlcjohMX0saj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07aWYoZSYmKGs9ITApLGspcmV0dXJuIHc9KDAseS5kZWZhdWx0KSh3LHgpLCgwLGIuZGVmYXVsdCkodyx4Lm9uY2UpLHd9LE89ZnVuY3Rpb24oKXt3PSgwLGguZGVmYXVsdCkoKSxqKCl9LE09ZnVuY3Rpb24oKXt3LmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3NcIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWVhc2luZ1wiKSxlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3MtZHVyYXRpb25cIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWRlbGF5XCIpfSl9LFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0hMHx8XCJtb2JpbGVcIj09PWUmJnAuZGVmYXVsdC5tb2JpbGUoKXx8XCJwaG9uZVwiPT09ZSYmcC5kZWZhdWx0LnBob25lKCl8fFwidGFibGV0XCI9PT1lJiZwLmRlZmF1bHQudGFibGV0KCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoKT09PSEwfSxfPWZ1bmN0aW9uKGUpe3g9aSh4LGUpLHc9KDAsaC5kZWZhdWx0KSgpO3ZhciB0PWRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9iO3JldHVybiBTKHguZGlzYWJsZSl8fHQ/TSgpOih4LmRpc2FibGVNdXRhdGlvbk9ic2VydmVyfHxkLmRlZmF1bHQuaXNTdXBwb3J0ZWQoKXx8KGNvbnNvbGUuaW5mbygnXFxuICAgICAgYW9zOiBNdXRhdGlvbk9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLFxcbiAgICAgIGNvZGUgbXV0YXRpb25zIG9ic2VydmluZyBoYXMgYmVlbiBkaXNhYmxlZC5cXG4gICAgICBZb3UgbWF5IGhhdmUgdG8gY2FsbCBcInJlZnJlc2hIYXJkKClcIiBieSB5b3Vyc2VsZi5cXG4gICAgJykseC5kaXNhYmxlTXV0YXRpb25PYnNlcnZlcj0hMCksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtZWFzaW5nXCIseC5lYXNpbmcpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnNldEF0dHJpYnV0ZShcImRhdGEtYW9zLWR1cmF0aW9uXCIseC5kdXJhdGlvbiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtZGVsYXlcIix4LmRlbGF5KSxcIkRPTUNvbnRlbnRMb2FkZWRcIj09PXguc3RhcnRFdmVudCYmW1wiY29tcGxldGVcIixcImludGVyYWN0aXZlXCJdLmluZGV4T2YoZG9jdW1lbnQucmVhZHlTdGF0ZSk+LTE/aighMCk6XCJsb2FkXCI9PT14LnN0YXJ0RXZlbnQ/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoeC5zdGFydEV2ZW50LGZ1bmN0aW9uKCl7aighMCl9KTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHguc3RhcnRFdmVudCxmdW5jdGlvbigpe2ooITApfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwoMCxzLmRlZmF1bHQpKGoseC5kZWJvdW5jZURlbGF5LCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCgwLHMuZGVmYXVsdCkoaix4LmRlYm91bmNlRGVsYXksITApKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCgwLHUuZGVmYXVsdCkoZnVuY3Rpb24oKXsoMCxiLmRlZmF1bHQpKHcseC5vbmNlKX0seC50aHJvdHRsZURlbGF5KSkseC5kaXNhYmxlTXV0YXRpb25PYnNlcnZlcnx8ZC5kZWZhdWx0LnJlYWR5KFwiW2RhdGEtYW9zXVwiLE8pLHcpfTtlLmV4cG9ydHM9e2luaXQ6XyxyZWZyZXNoOmoscmVmcmVzaEhhcmQ6T319LGZ1bmN0aW9uKGUsdCl7fSwsLCwsZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQsbil7ZnVuY3Rpb24gbyh0KXt2YXIgbj1iLG89djtyZXR1cm4gYj12PXZvaWQgMCxrPXQsZz1lLmFwcGx5KG8sbil9ZnVuY3Rpb24gcihlKXtyZXR1cm4gaz1lLGg9c2V0VGltZW91dChmLHQpLE0/byhlKTpnfWZ1bmN0aW9uIGEoZSl7dmFyIG49ZS13LG89ZS1rLGk9dC1uO3JldHVybiBTP2ooaSx5LW8pOml9ZnVuY3Rpb24gYyhlKXt2YXIgbj1lLXcsbz1lLWs7cmV0dXJuIHZvaWQgMD09PXd8fG4+PXR8fG48MHx8UyYmbz49eX1mdW5jdGlvbiBmKCl7dmFyIGU9TygpO3JldHVybiBjKGUpP2QoZSk6dm9pZChoPXNldFRpbWVvdXQoZixhKGUpKSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gaD12b2lkIDAsXyYmYj9vKGUpOihiPXY9dm9pZCAwLGcpfWZ1bmN0aW9uIGwoKXt2b2lkIDAhPT1oJiZjbGVhclRpbWVvdXQoaCksaz0wLGI9dz12PWg9dm9pZCAwfWZ1bmN0aW9uIHAoKXtyZXR1cm4gdm9pZCAwPT09aD9nOmQoTygpKX1mdW5jdGlvbiBtKCl7dmFyIGU9TygpLG49YyhlKTtpZihiPWFyZ3VtZW50cyx2PXRoaXMsdz1lLG4pe2lmKHZvaWQgMD09PWgpcmV0dXJuIHIodyk7aWYoUylyZXR1cm4gaD1zZXRUaW1lb3V0KGYsdCksbyh3KX1yZXR1cm4gdm9pZCAwPT09aCYmKGg9c2V0VGltZW91dChmLHQpKSxnfXZhciBiLHYseSxnLGgsdyxrPTAsTT0hMSxTPSExLF89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKHMpO3JldHVybiB0PXUodCl8fDAsaShuKSYmKE09ISFuLmxlYWRpbmcsUz1cIm1heFdhaXRcImluIG4seT1TP3godShuLm1heFdhaXQpfHwwLHQpOnksXz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpfKSxtLmNhbmNlbD1sLG0uZmx1c2g9cCxtfWZ1bmN0aW9uIG8oZSx0LG8pe3ZhciByPSEwLGE9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKHMpO3JldHVybiBpKG8pJiYocj1cImxlYWRpbmdcImluIG8/ISFvLmxlYWRpbmc6cixhPVwidHJhaWxpbmdcImluIG8/ISFvLnRyYWlsaW5nOmEpLG4oZSx0LHtsZWFkaW5nOnIsbWF4V2FpdDp0LHRyYWlsaW5nOmF9KX1mdW5jdGlvbiBpKGUpe3ZhciB0PVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YyhlKTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpjKGUpKX1mdW5jdGlvbiBhKGUpe3JldHVyblwic3ltYm9sXCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmMoZSkpfHxyKGUpJiZrLmNhbGwoZSk9PWR9ZnVuY3Rpb24gdShlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihhKGUpKXJldHVybiBmO2lmKGkoZSkpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9aSh0KT90K1wiXCI6dH1pZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShsLFwiXCIpO3ZhciBuPW0udGVzdChlKTtyZXR1cm4gbnx8Yi50ZXN0KGUpP3YoZS5zbGljZSgyKSxuPzI6OCk6cC50ZXN0KGUpP2Y6K2V9dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0scz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixmPU5hTixkPVwiW29iamVjdCBTeW1ib2xdXCIsbD0vXlxccyt8XFxzKyQvZyxwPS9eWy0rXTB4WzAtOWEtZl0rJC9pLG09L14wYlswMV0rJC9pLGI9L14wb1swLTddKyQvaSx2PXBhcnNlSW50LHk9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6Yyh0KSkmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LGc9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP1widW5kZWZpbmVkXCI6YyhzZWxmKSkmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGg9eXx8Z3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHc9T2JqZWN0LnByb3RvdHlwZSxrPXcudG9TdHJpbmcseD1NYXRoLm1heCxqPU1hdGgubWluLE89ZnVuY3Rpb24oKXtyZXR1cm4gaC5EYXRlLm5vdygpfTtlLmV4cG9ydHM9b30pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQsbil7ZnVuY3Rpb24gaSh0KXt2YXIgbj1iLG89djtyZXR1cm4gYj12PXZvaWQgMCxPPXQsZz1lLmFwcGx5KG8sbil9ZnVuY3Rpb24gcihlKXtyZXR1cm4gTz1lLGg9c2V0VGltZW91dChmLHQpLE0/aShlKTpnfWZ1bmN0aW9uIHUoZSl7dmFyIG49ZS13LG89ZS1PLGk9dC1uO3JldHVybiBTP3goaSx5LW8pOml9ZnVuY3Rpb24gcyhlKXt2YXIgbj1lLXcsbz1lLU87cmV0dXJuIHZvaWQgMD09PXd8fG4+PXR8fG48MHx8UyYmbz49eX1mdW5jdGlvbiBmKCl7dmFyIGU9aigpO3JldHVybiBzKGUpP2QoZSk6dm9pZChoPXNldFRpbWVvdXQoZix1KGUpKSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gaD12b2lkIDAsXyYmYj9pKGUpOihiPXY9dm9pZCAwLGcpfWZ1bmN0aW9uIGwoKXt2b2lkIDAhPT1oJiZjbGVhclRpbWVvdXQoaCksTz0wLGI9dz12PWg9dm9pZCAwfWZ1bmN0aW9uIHAoKXtyZXR1cm4gdm9pZCAwPT09aD9nOmQoaigpKX1mdW5jdGlvbiBtKCl7dmFyIGU9aigpLG49cyhlKTtpZihiPWFyZ3VtZW50cyx2PXRoaXMsdz1lLG4pe2lmKHZvaWQgMD09PWgpcmV0dXJuIHIodyk7aWYoUylyZXR1cm4gaD1zZXRUaW1lb3V0KGYsdCksaSh3KX1yZXR1cm4gdm9pZCAwPT09aCYmKGg9c2V0VGltZW91dChmLHQpKSxnfXZhciBiLHYseSxnLGgsdyxPPTAsTT0hMSxTPSExLF89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKGMpO3JldHVybiB0PWEodCl8fDAsbyhuKSYmKE09ISFuLmxlYWRpbmcsUz1cIm1heFdhaXRcImluIG4seT1TP2soYShuLm1heFdhaXQpfHwwLHQpOnksXz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpfKSxtLmNhbmNlbD1sLG0uZmx1c2g9cCxtfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjp1KGUpO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOnUoZSkpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuXCJzeW1ib2xcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6dShlKSl8fGkoZSkmJncuY2FsbChlKT09Zn1mdW5jdGlvbiBhKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKHIoZSkpcmV0dXJuIHM7aWYobyhlKSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mP2UudmFsdWVPZigpOmU7ZT1vKHQpP3QrXCJcIjp0fWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiAwPT09ZT9lOitlO2U9ZS5yZXBsYWNlKGQsXCJcIik7dmFyIG49cC50ZXN0KGUpO3JldHVybiBufHxtLnRlc3QoZSk/YihlLnNsaWNlKDIpLG4/Mjo4KTpsLnRlc3QoZSk/czorZX12YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxjPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLHM9TmFOLGY9XCJbb2JqZWN0IFN5bWJvbF1cIixkPS9eXFxzK3xcXHMrJC9nLGw9L15bLStdMHhbMC05YS1mXSskL2kscD0vXjBiWzAxXSskL2ksbT0vXjBvWzAtN10rJC9pLGI9cGFyc2VJbnQsdj1cIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjp1KHQpKSYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQseT1cIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/XCJ1bmRlZmluZWRcIjp1KHNlbGYpKSYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsZz12fHx5fHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksaD1PYmplY3QucHJvdG90eXBlLHc9aC50b1N0cmluZyxrPU1hdGgubWF4LHg9TWF0aC5taW4saj1mdW5jdGlvbigpe3JldHVybiBnLkRhdGUubm93KCl9O2UuZXhwb3J0cz1ufSkuY2FsbCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9dm9pZCAwLG89dm9pZCAwLGk9dm9pZCAwO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKXtpZihvPWVbdF0sby5kYXRhc2V0JiZvLmRhdGFzZXQuYW9zKXJldHVybiEwO2lmKGk9by5jaGlsZHJlbiYmbihvLmNoaWxkcmVuKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBvKCl7cmV0dXJuIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXJ9ZnVuY3Rpb24gaSgpe3JldHVybiEhbygpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj13aW5kb3cuZG9jdW1lbnQsaT1vKCkscj1uZXcgaShhKTt1PXQsci5vYnNlcnZlKG4uZG9jdW1lbnRFbGVtZW50LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMCxyZW1vdmVkTm9kZXM6ITB9KX1mdW5jdGlvbiBhKGUpe2UmJmUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmFkZGVkTm9kZXMpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5yZW1vdmVkTm9kZXMpLGk9dC5jb25jYXQobyk7aWYobihpKSlyZXR1cm4gdSgpfSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9ZnVuY3Rpb24oKXt9O3QuZGVmYXVsdD17aXNTdXBwb3J0ZWQ6aSxyZWFkeTpyfX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYXx8XCJcIn1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHI9LyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLGE9LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2ksdT0vKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2ksYz0vMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKX1yZXR1cm4gaShlLFt7a2V5OlwicGhvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW8oKTtyZXR1cm4hKCFyLnRlc3QoZSkmJiFhLnRlc3QoZS5zdWJzdHIoMCw0KSkpfX0se2tleTpcIm1vYmlsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bygpO3JldHVybiEoIXUudGVzdChlKSYmIWMudGVzdChlLnN1YnN0cigwLDQpKSl9fSx7a2V5OlwidGFibGV0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2JpbGUoKSYmIXRoaXMucGhvbmUoKX19XSksZX0oKTt0LmRlZmF1bHQ9bmV3IHN9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUubm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1vbmNlXCIpO3Q+ZS5wb3NpdGlvbj9lLm5vZGUuY2xhc3NMaXN0LmFkZChcImFvcy1hbmltYXRlXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBvJiYoXCJmYWxzZVwiPT09b3x8IW4mJlwidHJ1ZVwiIT09bykmJmUubm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwiYW9zLWFuaW1hdGVcIil9LG89ZnVuY3Rpb24oZSx0KXt2YXIgbz13aW5kb3cucGFnZVlPZmZzZXQsaT13aW5kb3cuaW5uZXJIZWlnaHQ7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUscil7bihlLGkrbyx0KX0pfTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMTIpLHI9byhpKSxhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLG4pe2Uubm9kZS5jbGFzc0xpc3QuYWRkKFwiYW9zLWluaXRcIiksZS5wb3NpdGlvbj0oMCxyLmRlZmF1bHQpKGUubm9kZSx0Lm9mZnNldCl9KSxlfTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMTMpLHI9byhpKSxhPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPTAsaT13aW5kb3cuaW5uZXJIZWlnaHQsYT17b2Zmc2V0OmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hb3Mtb2Zmc2V0XCIpLGFuY2hvcjplLmdldEF0dHJpYnV0ZShcImRhdGEtYW9zLWFuY2hvclwiKSxhbmNob3JQbGFjZW1lbnQ6ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1hbmNob3ItcGxhY2VtZW50XCIpfTtzd2l0Y2goYS5vZmZzZXQmJiFpc05hTihhLm9mZnNldCkmJihvPXBhcnNlSW50KGEub2Zmc2V0KSksYS5hbmNob3ImJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYS5hbmNob3IpJiYoZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGEuYW5jaG9yKVswXSksbj0oMCxyLmRlZmF1bHQpKGUpLnRvcCxhLmFuY2hvclBsYWNlbWVudCl7Y2FzZVwidG9wLWJvdHRvbVwiOmJyZWFrO2Nhc2VcImNlbnRlci1ib3R0b21cIjpuKz1lLm9mZnNldEhlaWdodC8yO2JyZWFrO2Nhc2VcImJvdHRvbS1ib3R0b21cIjpuKz1lLm9mZnNldEhlaWdodDticmVhaztjYXNlXCJ0b3AtY2VudGVyXCI6bis9aS8yO2JyZWFrO2Nhc2VcImJvdHRvbS1jZW50ZXJcIjpuKz1pLzIrZS5vZmZzZXRIZWlnaHQ7YnJlYWs7Y2FzZVwiY2VudGVyLWNlbnRlclwiOm4rPWkvMitlLm9mZnNldEhlaWdodC8yO2JyZWFrO2Nhc2VcInRvcC10b3BcIjpuKz1pO2JyZWFrO2Nhc2VcImJvdHRvbS10b3BcIjpuKz1lLm9mZnNldEhlaWdodCtpO2JyZWFrO2Nhc2VcImNlbnRlci10b3BcIjpuKz1lLm9mZnNldEhlaWdodC8yK2l9cmV0dXJuIGEuYW5jaG9yUGxhY2VtZW50fHxhLm9mZnNldHx8aXNOYU4odCl8fChvPXQpLG4rb307dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj0wO2UmJiFpc05hTihlLm9mZnNldExlZnQpJiYhaXNOYU4oZS5vZmZzZXRUb3ApOyl0Kz1lLm9mZnNldExlZnQtKFwiQk9EWVwiIT1lLnRhZ05hbWU/ZS5zY3JvbGxMZWZ0OjApLG4rPWUub2Zmc2V0VG9wLShcIkJPRFlcIiE9ZS50YWdOYW1lP2Uuc2Nyb2xsVG9wOjApLGU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJue3RvcDpuLGxlZnQ6dH19O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1hb3NdXCIpLEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLGZ1bmN0aW9uKGUpe3JldHVybntub2RlOmV9fSl9O3QuZGVmYXVsdD1ufV0pfSk7IiwgIi8qISBsb3phZC5qcyAtIHYxLjE2LjAgLSAyMDIwLTA5LTA2XG4qIGh0dHBzOi8vZ2l0aHViLmNvbS9BcG9vcnZTYXhlbmEvbG96YWQuanNcbiogQ29weXJpZ2h0IChjKSAyMDIwIEFwb29ydiBTYXhlbmE7IExpY2Vuc2VkIE1JVCAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6dC5sb3phZD1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtcbi8qKlxuICAgKiBEZXRlY3QgSUUgYnJvd3NlclxuICAgKiBAY29uc3Qge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL3ZhciBnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGY9e3Jvb3RNYXJnaW46XCIwcHhcIix0aHJlc2hvbGQ6MCxsb2FkOmZ1bmN0aW9uKHQpe2lmKFwicGljdHVyZVwiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZT10LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIikscj0hMTtudWxsPT09ZSYmKGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxyPSEwKSxnJiZ0LmdldEF0dHJpYnV0ZShcImRhdGEtaWVzcmNcIikmJihlLnNyYz10LmdldEF0dHJpYnV0ZShcImRhdGEtaWVzcmNcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hbHRcIikmJihlLmFsdD10LmdldEF0dHJpYnV0ZShcImRhdGEtYWx0XCIpKSxyJiZ0LmFwcGVuZChlKX1pZihcInZpZGVvXCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiF0LmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpJiZ0LmNoaWxkcmVuKXtmb3IodmFyIGE9dC5jaGlsZHJlbixvPXZvaWQgMCxpPTA7aTw9YS5sZW5ndGgtMTtpKyspKG89YVtpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSkmJihhW2ldLnNyYz1vKTt0LmxvYWQoKX10LmdldEF0dHJpYnV0ZShcImRhdGEtcG9zdGVyXCIpJiYodC5wb3N0ZXI9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBvc3RlclwiKSksdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSYmKHQuc3JjPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNzZXRcIikmJnQuc2V0QXR0cmlidXRlKFwic3Jjc2V0XCIsdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY3NldFwiKSk7dmFyIG49XCIsXCI7aWYodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtZGVsaW1pdGVyXCIpJiYobj10LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1kZWxpbWl0ZXJcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWltYWdlXCIpKXQuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKCdcIit0LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1pbWFnZVwiKS5zcGxpdChuKS5qb2luKFwiJyksdXJsKCdcIikrXCInKVwiO2Vsc2UgaWYodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtaW1hZ2Utc2V0XCIpKXt2YXIgZD10LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1pbWFnZS1zZXRcIikuc3BsaXQobiksdT1kWzBdLnN1YnN0cigwLGRbMF0uaW5kZXhPZihcIiBcIikpfHxkWzBdOy8vIFN1YnN0cmluZyBiZWZvcmUgLi4uIDF4XG51PS0xPT09dS5pbmRleE9mKFwidXJsKFwiKT9cInVybChcIit1K1wiKVwiOnUsMT09PWQubGVuZ3RoP3Quc3R5bGUuYmFja2dyb3VuZEltYWdlPXU6dC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCh0LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKStcImJhY2tncm91bmQtaW1hZ2U6IFwiK3UrXCI7IGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtaW1hZ2Utc2V0KFwiK2QrXCIpOyBiYWNrZ3JvdW5kLWltYWdlOiBpbWFnZS1zZXQoXCIrZCtcIilcIil9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZS1jbGFzc1wiKSYmdC5jbGFzc0xpc3QudG9nZ2xlKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10b2dnbGUtY2xhc3NcIikpfSxsb2FkZWQ6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBBKHQpe3Quc2V0QXR0cmlidXRlKFwiZGF0YS1sb2FkZWRcIiwhMCl9dmFyIG09ZnVuY3Rpb24odCl7cmV0dXJuXCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImRhdGEtbG9hZGVkXCIpfSx2PWZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpkb2N1bWVudDtyZXR1cm4gdCBpbnN0YW5jZW9mIEVsZW1lbnQ/W3RdOnQgaW5zdGFuY2VvZiBOb2RlTGlzdD90OmUucXVlcnlTZWxlY3RvckFsbCh0KX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsYSxvPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIi5sb3phZFwiLHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGU9T2JqZWN0LmFzc2lnbih7fSxmLHQpLGk9ZS5yb290LG49ZS5yb290TWFyZ2luLGQ9ZS50aHJlc2hvbGQsdT1lLmxvYWQsZz1lLmxvYWRlZCxzPXZvaWQgMDtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXImJihzPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigocj11LGE9ZyxmdW5jdGlvbih0LGUpe3QuZm9yRWFjaChmdW5jdGlvbih0KXsoMDx0LmludGVyc2VjdGlvblJhdGlvfHx0LmlzSW50ZXJzZWN0aW5nKSYmKGUudW5vYnNlcnZlKHQudGFyZ2V0KSxtKHQudGFyZ2V0KXx8KHIodC50YXJnZXQpLEEodC50YXJnZXQpLGEodC50YXJnZXQpKSl9KX0pLHtyb290Omkscm9vdE1hcmdpbjpuLHRocmVzaG9sZDpkfSkpO2Zvcih2YXIgYyxsPXYobyxpKSxiPTA7YjxsLmxlbmd0aDtiKyspKGM9bFtiXSkuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlci1iYWNrZ3JvdW5kXCIpJiYoYy5zdHlsZS5iYWNrZ3JvdW5kPWMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlci1iYWNrZ3JvdW5kXCIpKTtyZXR1cm57b2JzZXJ2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD12KG8saSksZT0wO2U8dC5sZW5ndGg7ZSsrKW0odFtlXSl8fChzP3Mub2JzZXJ2ZSh0W2VdKToodSh0W2VdKSxBKHRbZV0pLGcodFtlXSkpKX0sdHJpZ2dlckxvYWQ6ZnVuY3Rpb24odCl7bSh0KXx8KHUodCksQSh0KSxnKHQpKX0sb2JzZXJ2ZXI6c319fSk7XG4iLCAiaW1wb3J0IEFPUyBmcm9tIFwiYW9zXCI7XG5pbXBvcnQgbG96YWQgZnJvbSBcImxvemFkXCI7XG5pbXBvcnQge1xuXHRzZXRCYWNrZ3JvdW5kRWxlbWVudCxcblx0ZGV0ZWN0Q2xvc2VFbGVtZW50LFxuXHRidXR0b25Ub1RvcCxcblx0Y2xpY2tTY3JvbGxUb0Rpdixcblx0YXBwZW5kQ2FwdGNoYUFTUCxcblx0bWVudVNweSxcblx0VG9nZ2xlSXRlbSxcblx0c3RpY2tFbGVtZW50VG9FZGdlLFxuXHRyZXBsYWNlU3ZnSW1hZ2VzLFxuXHRzZXRPZmZzZXRUb1BhcmVudCxcbn0gZnJvbSBcIi4vaGVscGVyXCI7XG5pbXBvcnQgTGVuaXMgZnJvbSBcImxlbmlzXCI7XG5pbXBvcnQgeyBoZWFkZXIgfSBmcm9tIFwiLi9oZWFkZXJcIjtcbmltcG9ydCB7IHN3aXBlckluaXQgfSBmcm9tIFwiLi9zd2lwZXJcIjtcbmltcG9ydCB7IGhvbWVQYWdlIH0gZnJvbSBcIi4vaG9tZVBhZ2VcIjtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0c2V0QmFja2dyb3VuZEVsZW1lbnQoKTtcblx0c3RpY2tFbGVtZW50VG9FZGdlKCk7XG5cdG1lbnVTcHkoKTtcblx0c3dpcGVySW5pdCgpO1xuXHRUb2dnbGVJdGVtKCk7XG5cdHJlcGxhY2VTdmdJbWFnZXMoKTtcblx0aG9tZVBhZ2UuaW5pdCgpO1xuXHRidXR0b25Ub1RvcCgpO1xuXHRoZWFkZXIuaW5pdCgpO1xuXHRyZW1vdmVyQWxsQWN0aXZlRmllbGRPcCgpO1xuXHRzZXRPZmZzZXRUb1BhcmVudChcblx0XHRcIi5wcm9kdWN0LWl0ZW0gLmJsb2NrLWluZm8gLmluZm8tbmFtZVwiLFxuXHRcdFwiLnByb2R1Y3QtaXRlbSAuYmxvY2staW5mb1wiLFxuXHQpO1xuXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdEFPUy5pbml0KHtcblx0XHRcdG9mZnNldDogMjAwLFxuXHRcdFx0b25jZTogdHJ1ZSxcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgMTIwMDtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH0sIDEwMCk7XG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdEFPUy5yZWZyZXNoKCk7XG5cdH0sIDEwMDApO1xuXG5cdGluaXRWaWRlb1BvcHVwKCk7XG5cdGluaXRCbG9nRmlsdGVyKCk7XG59KTtcblxuXG5mdW5jdGlvbiBpbml0QmxvZ0ZpbHRlcigpIHtcblx0Y29uc3QgJHRhYnMgPSAkKCcuYmxvZy10YWJzIC50YWItaXRlbScpO1xuXHRjb25zdCAkY29udGFpbmVyID0gJCgnLmJsb2ctbGlzdCcpO1xuXG5cdGlmICgkdGFicy5sZW5ndGggPiAwICYmICRjb250YWluZXIubGVuZ3RoID4gMCAmJiB3aW5kb3cuYmxvZ0xpc3REYXRhKSB7XG5cdFx0Y29uc3QgcmVuZGVySXRlbXMgPSAoZmlsdGVyKSA9PiB7XG5cdFx0XHRjb25zdCBmaWx0ZXJlZERhdGEgPSBmaWx0ZXIgPT09ICdhbGwnIFxuXHRcdFx0XHQ/IHdpbmRvdy5ibG9nTGlzdERhdGEgXG5cdFx0XHRcdDogd2luZG93LmJsb2dMaXN0RGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09PSBmaWx0ZXIpO1xuXG5cdFx0XHRsZXQgaHRtbCA9ICcnO1xuXHRcdFx0ZmlsdGVyZWREYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGlzRXhwYW5kID0gaW5kZXggJSA0ID09PSAwO1xuXHRcdFx0XHRjb25zdCBjYXJkQ2xhc3MgPSBpc0V4cGFuZCA/ICdibG9nLWNhcmQgaXMtZXhwYW5kJyA6ICdibG9nLWNhcmQnO1xuXHRcdFx0XHRjb25zdCByYXRpb0NsYXNzID0gaXNFeHBhbmQgPyAncmF0aW86cHQtWzUyOV82NTJdJyA6ICdyYXRpbzpwdC1bMjcyXzMxNV0nO1xuXG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCIke2NhcmRDbGFzc31cIiBkYXRhLWNhdGVnb3J5PVwiJHtpdGVtLmNhdGVnb3J5fVwiIGRhdGEtYW9zPVwiZmFkZS11cFwiIGRhdGEtYW9zLWRlbGF5PVwiJHsoaW5kZXggJSA0KSAqIDEwMH1cIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbWctcmF0aW8gJHtyYXRpb0NsYXNzfVwiPlxuXHRcdFx0XHRcdFx0XHQ8aW1nIGRhdGEtc3JjPVwiJHtpdGVtLmltZ31cIiBhbHQ9XCJcIiBjbGFzcz1cImxvemFkXCI+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXRlZ29yeVwiPiR7aXRlbS5jYXRlZ29yeX08L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGVcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiLi9CbG9nRGV0YWlsLmh0bWxcIj4ke2l0ZW0udGl0bGV9PC9hPlxuXHRcdFx0XHRcdFx0XHQ8L2gzPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZGVzY1wiPlxuXHRcdFx0XHRcdFx0XHRcdDxwPiR7aXRlbS5kZXNjfTwvcD5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxhIGNsYXNzPVwiYnRuLXZpZXctbW9yZVwiIGhyZWY9XCIuL0Jsb2dEZXRhaWwuaHRtbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuPlZJRVcgTU9SRTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhLXJlZ3VsYXIgZmEtYXJyb3ctcmlnaHQtbG9uZ1wiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRmFkZSBvdXQgY3VycmVudCBpdGVtcywgdXBkYXRlIGNvbnRlbnQsIGFuZCBmYWRlIGluXG5cdFx0XHQkY29udGFpbmVyLmZhZGVPdXQoMzAwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JGNvbnRhaW5lci5odG1sKGh0bWwpO1xuXHRcdFx0XHQkY29udGFpbmVyLmZhZGVJbigzMDApO1xuXG5cdFx0XHRcdC8vIEluaXRpYWxpemUgTG96YWQgZm9yIG5ldyBpbWFnZXNcblx0XHRcdFx0aWYgKHdpbmRvdy5sb3phZCkge1xuXHRcdFx0XHRcdHdpbmRvdy5sb3phZC5vYnNlcnZlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWZyZXNoIEFPU1xuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRpZiAod2luZG93LkFPUykge1xuXHRcdFx0XHRcdFx0d2luZG93LkFPUy5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAyMDApO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdCR0YWJzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRjb25zdCBmaWx0ZXIgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmlsdGVyJyk7XG5cblx0XHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuO1xuXG5cdFx0XHQkdGFicy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuXHRcdFx0cmVuZGVySXRlbXMoZmlsdGVyKTtcblx0XHR9KTtcblx0fVxufVxuXG5cbmZ1bmN0aW9uIGluaXRWaWRlb1BvcHVwKCkge1xuXHRjb25zdCBwb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby1wb3B1cCcpO1xuXHRpZiAoIXBvcHVwKSByZXR1cm47XG5cblx0Y29uc3QgY2xvc2VCdG4gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtcG9wdXAnKTtcblx0Y29uc3QgdHJpZ2dlckJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheS1idXR0b24nKTtcblx0Y29uc3QgdmlkZW9Db250YWluZXIgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcudmlkZW8tY29udGFpbmVyJyk7XG5cdGNvbnN0IHZpZGVvID0gcG9wdXAucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcblx0Y29uc3Qgc291cmNlID0gdmlkZW8ucXVlcnlTZWxlY3Rvcignc291cmNlJyk7XG5cdGNvbnN0IHRodW1iSXRlbXMgPSBwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcudmlkZW8tdGh1bWItaXRlbScpO1xuXHRjb25zdCBwbGF5QnRuUG9wdXAgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcuYnRuLXBsYXktcG9wdXAnKTtcblx0Y29uc3Qgb3ZlcmxheVRpdGxlID0gcG9wdXAucXVlcnlTZWxlY3RvcignLm92ZXJsYXktdGl0bGUnKTtcblxuXHQvLyBIZWxwZXIgdG8gcmVzZXQgc3RhdGVcblx0Y29uc3QgcmVzZXRWaWRlb1N0YXRlID0gKHNyYywgdGl0bGUpID0+IHtcblx0XHR2aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1wbGF5aW5nJyk7XG5cdFx0dmlkZW8ucGF1c2UoKTtcblx0XHR2aWRlby5jdXJyZW50VGltZSA9IDA7XG5cdFx0aWYgKHNyYykgc291cmNlLnNyYyA9IHNyYztcblx0XHR2aWRlby5sb2FkKCk7XG5cdFx0aWYgKHRpdGxlICYmIG92ZXJsYXlUaXRsZSkgb3ZlcmxheVRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XG5cdH07XG5cblx0Ly8gT3BlbiBQb3B1cFxuXHRpZiAodHJpZ2dlckJ0bnMpIHtcblx0XHR0cmlnZ2VyQnRucy5mb3JFYWNoKGJ0biA9PiB7XG5cdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNyYyA9IFwiaHR0cHM6Ly9hdnRzaGFyZTAxLnJ6LnR1LWlsbWVuYXUuZGUvYXZ0LXZxZGItdWhkLTEvdGVzdF8xL3NlZ21lbnRzL2JpZ2J1Y2tfYnVubnlfOGJpdF8xNTAwMGticHNfMTA4MHBfNjAuMGZwc19oMjY0Lm1wNFwiO1xuXHRcdFx0XHQvLyBSZXNldCBzdGF0ZSAtPiBTaG93IG92ZXJsYXksIGRvbid0IGF1dG8gcGxheVxuXHRcdFx0XHRyZXNldFZpZGVvU3RhdGUoc3JjLCBcIkxVTkEgTE9QRVpcIik7XG5cdFx0XHRcdFxuXHRcdFx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBDbG9zZSBQb3B1cFxuXHRpZiAoY2xvc2VCdG4pIHtcblx0XHRjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0dmlkZW8ucGF1c2UoKTtcblx0XHRcdHZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXBsYXlpbmcnKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcblx0XHR9KTtcblx0fVxuXG5cdC8vIFBsYXkgZnJvbSBPdmVybGF5IEJ1dHRvblxuXHRpZiAocGxheUJ0blBvcHVwKSB7XG5cdFx0cGxheUJ0blBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dmlkZW9Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaXMtcGxheWluZycpO1xuXHRcdFx0dmlkZW8ucGxheSgpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gU3dpdGNoIFZpZGVvIGZyb20gVGh1bWJuYWlsXG5cdGlmICh0aHVtYkl0ZW1zKSB7XG5cdFx0dGh1bWJJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0Y29uc3QgbmV3U3JjID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG5cdFx0XHRcdGNvbnN0IG5ld1RpdGxlID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGl0bGUnKTtcblxuXHRcdFx0XHQvLyBSZXNldCBzdGF0ZSAtPiBzaG93IG92ZXJsYXkgd2l0aCBuZXcgdGl0bGVcblx0XHRcdFx0cmVzZXRWaWRlb1N0YXRlKG5ld1NyYywgbmV3VGl0bGUpO1xuXG5cdFx0XHRcdC8vIFVwZGF0ZSBTaWRlIEluZm8gKE1vY2sgdXBkYXRlKVxuXHRcdFx0XHRjb25zdCB0aXRsZUVsID0gcG9wdXAucXVlcnlTZWxlY3RvcignLnZpZGVvLXRpdGxlJyk7XG5cdFx0XHRcdGlmICh0aXRsZUVsKSB0aXRsZUVsLnRleHRDb250ZW50ID0gbmV3VGl0bGU7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxufVxuXG5cbi8vIGZ1bmN0aW9uIGdldEhlaWdodENoaWxkKCkge1xuLy8gXHQkKFwiLml0ZW0tdmFyLWhlaWdodFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbi8vIFx0XHRjb25zdCBoZWlnaHQgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG4vLyBcdFx0JCh0aGlzKVxuLy8gXHRcdFx0LmNsb3Nlc3QoXCIud3JhcC1pdGVtLWhlaWdodFwiKVxuLy8gXHRcdFx0LmNzcyhcIi0taGVpZ2h0LWVsZVwiLCBoZWlnaHQgKyBcInB4XCIpO1xuLy8gXHR9KTtcbi8vIH1cblxuXG5mdW5jdGlvbiByZW1vdmVyQWxsQWN0aXZlRmllbGRPcCgpIHtcblx0Y29uc3QgZmllbGRPcEl0ZW0gPSAkKFwiLnNlY3Rpb24tZmllbGQtb3AgLmZpZWxkLW9wIC5zd2lwZXItZmllbGQtb3AgLmZpZWxkLW9wLWl0ZW1cIik7XG5cdGNvbnN0IHNlY3Rpb25GaWVsZE9wID0gJChcIi5zZWN0aW9uLWZpZWxkLW9wXCIpO1xuXG5cdGZpZWxkT3BJdGVtLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuXHRcdGNvbnN0ICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KFwiLnNlY3Rpb24tZmllbGQtb3BcIik7XG5cblx0XHQvLyBSZW1vdmUgYWN0aXZlIHRcdTFFRUIgdFx1MUVBNXQgY1x1MUVBMyBpdGVtc1xuXHRcdCRwYXJlbnQuZmluZChcIi5maWVsZC1vcC1pdGVtXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdCR0aGlzLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG5cdFx0Ly8gTlx1MUVCRnUgbFx1MDBFMCBzZXJ2aWNlLWRldGFpbC00IHRoXHUwMEVDIHNsaWRlciBuaFx1MUVBM3kgXHUwMTExXHUxRUJGbiBzbGlkZSB0XHUwMUIwXHUwMUExbmcgXHUxRUU5bmdcblx0XHRpZiAoJHBhcmVudC5oYXNDbGFzcyhcInNlcnZpY2UtZGV0YWlsLTRcIikpIHtcblx0XHRcdGNvbnN0IHN3aXBlckVsID0gJHRoaXMuY2xvc2VzdChcIi5zd2lwZXItZmllbGQtb3BcIilbMF07XG5cdFx0XHRpZiAoc3dpcGVyRWw/LnN3aXBlcikge1xuXHRcdFx0XHRjb25zdCBzd2lwZXIgPSBzd2lwZXJFbC5zd2lwZXI7XG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gJHRoaXMuaW5kZXgoKTtcblx0XHRcdFx0c3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHN3aXBlci51cGRhdGVTbGlkZXMoKTtcblx0XHRcdFx0XHRzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8vIE5cdTFFQkZ1IGtoXHUwMEY0bmcgcGhcdTFFQTNpIHNlcnZpY2UtZGV0YWlsLTQ6IGFjdGl2ZSBpdGVtIFx1MDExMVx1MUVBN3UgdGlcdTAwRUFuIG1cdTFFQjdjIFx1MDExMVx1MUVDQm5oXG5cdGlmICghc2VjdGlvbkZpZWxkT3AuaGFzQ2xhc3MoXCJzZXJ2aWNlLWRldGFpbC00XCIpKSB7XG5cdFx0ZmllbGRPcEl0ZW0uZmlyc3QoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0fVxufVxuXG4vKj09PT09PT09PT09PT09PT09PT09IEFvcyBJbml0ID09PT09PT09PT09PT09PT09PT09Ki9cbkFPUy5pbml0KHtcblx0b2Zmc2V0OiAxMDAsXG59KTtcbi8qPT09PT09PT09PT09PT09PT09PT0gTGF6eWxvYWQgSlMgPT09PT09PT09PT09PT09PT09PT0qL1xuY29uc3Qgb2JzZXJ2ZXIgPSBsb3phZCgpOyAvLyBsYXp5IGxvYWRzIGVsZW1lbnRzIHdpdGggZGVmYXVsdCBzZWxlY3RvciBhcyAnLmxvemFkJ1xub2JzZXJ2ZXIub2JzZXJ2ZSgpO1xud2luZG93LmxvemFkID0gb2JzZXJ2ZXI7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHNldEJhY2tncm91bmRFbGVtZW50KCkge1xuXHQkKFwiW3NldEJhY2tncm91bmRdXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdHZhciBiYWNrZ3JvdW5kID0gJCh0aGlzKS5hdHRyKFwic2V0QmFja2dyb3VuZFwiKTtcblx0XHQkKHRoaXMpLmNzcyh7XG5cdFx0XHRcImJhY2tncm91bmQtaW1hZ2VcIjogXCJ1cmwoXCIgKyBiYWNrZ3JvdW5kICsgXCIpXCIsXG5cdFx0XHRcImJhY2tncm91bmQtc2l6ZVwiOiBcImNvdmVyXCIsXG5cdFx0XHRcImJhY2tncm91bmQtcG9zaXRpb25cIjogXCJjZW50ZXIgY2VudGVyXCIsXG5cdFx0fSk7XG5cdH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpY2tlckRhdGUoKSB7XG5cdCQoXCIuaW5wdXQtZGF0ZVwiKS5kYXRlcmFuZ2VwaWNrZXIoe1xuXHRcdHNpbmdsZURhdGVQaWNrZXI6IHRydWUsIC8vIENoXHUxRUM5IGNoXHUxRUNEbiAxIG5nXHUwMEUweVxuXHRcdHNob3dEcm9wZG93bnM6IHRydWUsIC8vIERyb3Bkb3duIGNoXHUxRUNEbiBuXHUwMTAzbS90aFx1MDBFMW5nXG5cdFx0YXV0b1VwZGF0ZUlucHV0OiBmYWxzZSwgLy8gS2hcdTAwRjRuZyB0XHUxRUYxIGdoaSBpbnB1dCwgeFx1MUVFRCBsXHUwMEZEIG1hbnVhbFxuXHRcdGxvY2FsZToge1xuXHRcdFx0Zm9ybWF0OiBcIkREL01NL1lZWVlcIixcblx0XHRcdGNhbmNlbExhYmVsOiBcIlhcdTAwRjNhXCIsXG5cdFx0XHRhcHBseUxhYmVsOiBcIkNoXHUxRUNEblwiLFxuXHRcdH0sXG5cdH0pO1xuXG5cdC8vIEtoaSBjaFx1MUVDRG4gbmdcdTAwRTB5LCB1cGRhdGUgdmFsdWUgaW5wdXRcblx0JChcIi5pbnB1dC1kYXRlXCIpLm9uKFwiYXBwbHkuZGF0ZXJhbmdlcGlja2VyXCIsIGZ1bmN0aW9uIChldiwgcGlja2VyKSB7XG5cdFx0JCh0aGlzKS52YWwocGlja2VyLnN0YXJ0RGF0ZS5mb3JtYXQoXCJERC9NTS9ZWVlZXCIpKTtcblx0fSk7XG5cblx0Ly8gS2hpIGNhbmNlbCwgeFx1MDBGM2EgdmFsdWVcblx0JChcIi5pbnB1dC1kYXRlXCIpLm9uKFwiY2FuY2VsLmRhdGVyYW5nZXBpY2tlclwiLCBmdW5jdGlvbiAoZXYsIHBpY2tlcikge1xuXHRcdCQodGhpcykudmFsKFwiXCIpO1xuXHR9KTtcblxuXHQkKGZ1bmN0aW9uICgpIHtcblx0XHQkKFwiI2RhdGVyYW5nZVwiKS5kYXRlcmFuZ2VwaWNrZXIoe1xuXHRcdFx0bG9jYWxlOiB7XG5cdFx0XHRcdGZvcm1hdDogXCJERC9NTS9ZWVlZXCIsXG5cdFx0XHR9LFxuXHRcdFx0c3RhcnREYXRlOiBtb21lbnQoKS5zdGFydE9mKFwibW9udGhcIiksXG5cdFx0XHRlbmREYXRlOiBtb21lbnQoKS5lbmRPZihcIm1vbnRoXCIpLFxuXHRcdH0pO1xuXHR9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDbG9zZUVsZW1lbnQoZWxlLCBlbGUyLCBmdW5jUmVtb3ZlKSB7XG5cdC8vIGNsb3NlXG5cdCQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRjb25zb2xlLmxvZygpO1xuXHRcdGlmICghJChlLnRhcmdldCkuY2xvc2VzdChlbGUpLmxlbmd0aCAmJiAhJChlLnRhcmdldCkuaGFzQ2xhc3MoZWxlMikpIHtcblx0XHRcdGZ1bmNSZW1vdmUoKTtcblx0XHR9XG5cdH0pO1xuXHQvLyBlc2Ncblx0JChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcblx0XHRcdGZ1bmNSZW1vdmUoKTtcblx0XHR9XG5cdH0pO1xuXHQvLyBvdmVybGF5LWJsdXJcbn1cbmV4cG9ydCBmdW5jdGlvbiBidXR0b25Ub1RvcCgpIHtcblx0bGV0IHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0JChkb2N1bWVudCkub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuXHRcdGxldCBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cdFx0bGV0IGRvY3VtZW50SGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XG5cdFx0aWYgKHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCA+IGRvY3VtZW50SGVpZ2h0IC0gd2luZG93SGVpZ2h0KSB7XG5cdFx0XHQkKFwiLmJ1dHRvbi10by10b3BcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoXCIuYnV0dG9uLXRvLXRvcFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHR9XG5cdH0pO1xuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmJ1dHRvbi10by10b3BcIiwgZnVuY3Rpb24gKCkge1xuXHRcdCQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSk7XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlSXRlbSgpIHtcblx0Y29uc3Qgbm9kZVBhcmVudCA9ICQoXCIud3JhcC1pdGVtLXRvZ2dsZVwiKTtcblx0Y29uc3Qgbm9kZUl0ZW0gPSBub2RlUGFyZW50LmZpbmQoXCIuaXRlbS10b2dnbGVcIik7XG5cdGNvbnN0IG5vZGVUaXRsZSA9IG5vZGVJdGVtLmZpbmQoXCIudGl0bGVcIik7XG5cblx0Ly8gTVx1MUVCN2MgXHUwMTExXHUxRUNCbmggYWN0aXZlIGl0ZW0gXHUwMTExXHUxRUE3dSB0aVx1MDBFQW5cblx0aWYgKG5vZGVUaXRsZS5sZW5ndGggPiAwKSB7XG5cdFx0Y29uc3QgZmlyc3RUaXRsZSA9IG5vZGVUaXRsZS5maXJzdCgpO1xuXHRcdGNvbnN0IGZpcnN0Q29udGVudCA9IGZpcnN0VGl0bGUubmV4dCgpO1xuXHRcdGZpcnN0VGl0bGUuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0Zmlyc3RDb250ZW50LnNob3coKTtcblx0fVxuXG5cdG5vZGVUaXRsZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHQkKHRoaXMpXG5cdFx0XHQudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIilcblx0XHRcdC5uZXh0KClcblx0XHRcdC5zbGlkZVRvZ2dsZSgpXG5cdFx0XHQuY2xvc2VzdChcIi5pdGVtLXRvZ2dsZVwiKVxuXHRcdFx0LnNpYmxpbmdzKClcblx0XHRcdC5maW5kKFwiLnRpdGxlXCIpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcblx0XHRcdC5uZXh0KClcblx0XHRcdC5zbGlkZVVwKCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW1cbiAqIEBwYXJhbSB7IHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW19IGxpc3ROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmdW5jRXhwYW5kQ29udGVudChsaXN0Tm9kZSkge1xuXHRjb25zdCB7IHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW0sIGdhcCA9IDAgfSA9IGxpc3ROb2RlO1xuXHRpZiAoISQocGFyZW50KS5sZW5ndGgpIHJldHVybjtcblx0bGV0IGl0ZW1IZWlnaHQgPSAkKGl0ZW0pLm91dGVySGVpZ2h0KCk7XG5cdGxldCBnYXBDYWxjdWxhdGUgPSBnYXBcblx0XHQ/IE51bWJlcigkKHBhcmVudCkuZmluZChjaGlsZHJlbikuY3NzKFwiY29sdW1uLWdhcFwiKS5zbGljZSgwLCAtMikpICogZ2FwXG5cdFx0OiAwO1xuXHRsZXQgaW5pdEhlaWdodCA9IGl0ZW1IZWlnaHQgKiBpbml0SXRlbSArIGdhcENhbGN1bGF0ZTtcblx0bGV0IG9yaWdpbmFsSGVpZ2h0ID0gJChwYXJlbnQpLmZpbmQoY2hpbGRyZW4pLm91dGVySGVpZ2h0KCk7XG5cdGlmIChvcmlnaW5hbEhlaWdodCA8IGluaXRIZWlnaHQpIHtcblx0XHQkKGJ1dHRvbikucmVtb3ZlKCk7XG5cdH0gZWxzZSB7XG5cdFx0JChwYXJlbnQpLmNzcyhcImhlaWdodFwiLCBpbml0SGVpZ2h0KTtcblx0fVxuXHQkKGJ1dHRvbikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoXCJleHBhbmRcIikpIHtcblx0XHRcdCQocGFyZW50KS5jc3MoXCJoZWlnaHRcIiwgaW5pdEhlaWdodCk7XG5cdFx0XHQkKHRoaXMpLmZpbmQoXCJzcGFuXCIpLnRleHQoXCJYZW0gdGhcdTAwRUFtXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKHBhcmVudCkuY3NzKFwiaGVpZ2h0XCIsIG9yaWdpbmFsSGVpZ2h0KTtcblx0XHRcdC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Ly8gXHQkKHBhcmVudCkuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcblx0XHRcdC8vIH0sIDEwMDApO1xuXHRcdFx0JCh0aGlzKS5maW5kKFwic3BhblwiKS50ZXh0KFwiUlx1MDBGQXQgZ1x1MUVDRG5cIik7XG5cdFx0fVxuXHRcdCQodGhpcykudG9nZ2xlQ2xhc3MoXCJleHBhbmRcIik7XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tTY3JvbGxUb0Rpdihub2RlRWxlLCBoZWlnaHRTcGFjaW5nID0gKCkgPT4geyB9KSB7XG5cdCQobm9kZUVsZSkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRsZXQgaGVpZ2h0ID0gMDtcblx0XHQkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0aWYgKGhlaWdodFNwYWNpbmcpIHtcblx0XHRcdGhlaWdodCA9IGhlaWdodFNwYWNpbmcoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGVpZ2h0ID0gMDtcblx0XHR9XG5cdFx0aWYgKHRoaXMuaGFzaCAhPT0gXCJcIikge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciBoYXNoID0gdGhpcy5oYXNoO1xuXHRcdFx0JChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNjcm9sbFRvcDogJChoYXNoKS5vZmZzZXQoKS50b3AgLSBoZWlnaHQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdDgwMFxuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ2FwdGNoYUFTUCgpIHtcblx0aWYgKCEkKFwiI2N0bDAwX21haW5Db250ZW50X2N0bDAxX3BubEZvcm1XaXphcmRcIikubGVuZ3RoKSByZXR1cm47XG5cdC8vIFNlbGVjdCB0aGUgZGl2IGVsZW1lbnQgeW91IHdhbnQgdG8gb2JzZXJ2ZVxuXHRjb25zdCBteURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3RsMDBfbWFpbkNvbnRlbnRfY3RsMDFfcG5sRm9ybVdpemFyZFwiKTtcblx0Ly8gQ3JlYXRlIGEgbmV3IE11dGF0aW9uT2JzZXJ2ZXIgb2JqZWN0XG5cdGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuXHRcdG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikge1xuXHRcdFx0Y29uc29sZS5sb2coXCJSdW5cIik7XG5cdFx0XHRhcHBlbmRDYXB0Y2hhKCk7XG5cdFx0fSk7XG5cdH0pO1xuXHQvLyBDb25maWd1cmUgdGhlIG9ic2VydmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyB0byB0aGUgXCJjbGFzc1wiIGF0dHJpYnV0ZVxuXHRjb25zdCBjb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSB9O1xuXHQvLyBTdGFydCBvYnNlcnZpbmcgdGhlIHRhcmdldCBkaXYgZWxlbWVudFxuXHRvYnNlcnZlci5vYnNlcnZlKG15RGl2LCBjb25maWcpO1xuXHRmdW5jdGlvbiBhcHBlbmRDYXB0Y2hhKCkge1xuXHRcdCQoXCIuZm9ybS1ncm91cC5mcm0tY2FwdGNoYVwiKS5hcHBlbmRUbyhcIi53cmFwLWZvcm0tc3VibWl0XCIpO1xuXHRcdCQoXCIuZm9ybS1ncm91cC5mcm0tYnRud3JhcFwiKS5hcHBlbmRUbyhcIi53cmFwLWZvcm0tc3VibWl0XCIpO1xuXHR9XG5cdGFwcGVuZENhcHRjaGEoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcmVudChpdGVtLCBwYXJlbnQpIHtcblx0Y29uc3QgJGl0ZW0gPSAkKGl0ZW0pO1xuXHRjb25zdCAkcGFyZW50ID0gJChwYXJlbnQpO1xuXG5cdGlmICghJGl0ZW0ubGVuZ3RoIHx8ICEkcGFyZW50Lmxlbmd0aCkgcmV0dXJuO1xuXG5cdGNvbnN0IG9mZnNldEJvdHRvbSA9XG5cdFx0JHBhcmVudC5pbm5lckhlaWdodCgpIC0gKCRpdGVtLnBvc2l0aW9uKCkudG9wICsgJGl0ZW0ub3V0ZXJIZWlnaHQoKSk7XG5cblx0JHBhcmVudC5jc3Moe1xuXHRcdFwiLS1vZmZzZXQtYm90dG9tXCI6IG9mZnNldEJvdHRvbSArIFwicHhcIixcblx0fSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZVN2Z0ltYWdlcygpIHtcblx0JChcIi5pbWctc3ZnXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0ICRpbWcgPSAkKHRoaXMpO1xuXHRcdGNvbnN0IGltZ1VSTCA9ICRpbWcuYXR0cihcInNyY1wiKTtcblx0XHRjb25zdCBpbWdDbGFzcyA9ICRpbWcuYXR0cihcImNsYXNzXCIpO1xuXHRcdGNvbnN0IGltZ1dpZHRoID0gJGltZy5hdHRyKFwid2lkdGhcIik7XG5cdFx0Y29uc3QgaW1nSGVpZ2h0ID0gJGltZy5hdHRyKFwiaGVpZ2h0XCIpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIGltYWdlIGlzIFNWRywgc2tpcCBpZiBpdCdzIFBORyBvciBKUEdcblx0XHRpZiAoIWltZ1VSTCkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gaW1nVVJMLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcblx0XHRpZiAoZXh0ZW5zaW9uID09PSAncG5nJyB8fCBleHRlbnNpb24gPT09ICdqcGcnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZWcnKSB7XG5cdFx0XHRyZXR1cm47IC8vIFNraXAgbm9uLVNWRyBpbWFnZXMsIGxldCB0aGVtIGRpc3BsYXkgbm9ybWFsbHlcblx0XHR9XG5cblx0XHQkLmFqYXgoe1xuXHRcdFx0dXJsOiBpbWdVUkwsXG5cdFx0XHRkYXRhVHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoc3ZnQ29udGVudCkge1xuXHRcdFx0XHQvLyBDcmVhdGUgYSBuZXcgZGl2IHRvIGhvbGQgdGhlIFNWRyBjb250ZW50XG5cdFx0XHRcdGNvbnN0ICRzdmdEaXYgPSAkKFwiPGRpdj5cIikuaHRtbChzdmdDb250ZW50KTtcblx0XHRcdFx0Y29uc3QgJHN2ZyA9ICRzdmdEaXYuZmluZChcInN2Z1wiKTtcblxuXHRcdFx0XHQvLyBBcHBseSBvcmlnaW5hbCBpbWFnZSBhdHRyaWJ1dGVzIHRvIFNWR1xuXHRcdFx0XHRpZiAoaW1nQ2xhc3MpIHtcblx0XHRcdFx0XHQkc3ZnLmFkZENsYXNzKGltZ0NsYXNzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlcGxhY2UgdGhlIGltYWdlIHdpdGggdGhlIFNWR1xuXHRcdFx0XHQkaW1nLnJlcGxhY2VXaXRoKCRzdmcpO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIFNWRzpcIiwgZXJyb3IpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0fSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5kaWNhdG9yU2xpZGUoKSB7XG5cdGlmICgkKFwiLmluZGljYXRvci1zd2lwZVwiKS5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKGVudHJpZXMpIHtcblx0XHRcdGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcblx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcblx0XHRcdFx0XHR9LCAzMDAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHZhciBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjayk7XG5cdFx0dmFyIGFuaW1hdGlvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbmRpY2F0b3Itc3dpcGVcIik7XG5cdFx0YW5pbWF0aW9uSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShpdGVtKTtcblx0XHR9KTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRVcEluaXQoKSB7XG5cdGNvbnN0IGNvdW50VXBFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY291bnR1cFwiKTtcblxuXHRjb3VudFVwRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuXHRcdGNvbnN0IHRhcmdldE51bWJlciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1udW1iZXJcIik7XG5cdFx0Y29uc3Qgc3VmZml4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN1ZmZpeFwiKSB8fCBcIlwiO1xuXHRcdGNvbnN0IGNvdW50VmFsdWVFbCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb3VudC12YWx1ZVwiKTtcblxuXHRcdGlmICghY291bnRWYWx1ZUVsKSByZXR1cm47XG5cblx0XHRjb25zdCBjb3VudFVwID0gbmV3IENvdW50VXAoY291bnRWYWx1ZUVsLCB0YXJnZXROdW1iZXIsIHtcblx0XHRcdGR1cmF0aW9uOiA0LFxuXHRcdFx0c2VwYXJhdG9yOiBcIi5cIixcblx0XHRcdGRlY2ltYWw6IFwiLFwiLFxuXHRcdFx0c3VmZml4OiBzdWZmaXgsXG5cdFx0XHRlbmFibGVTY3JvbGxTcHk6IHRydWUsXG5cdFx0fSk7XG5cblx0XHRpZiAoIWNvdW50VXAuZXJyb3IpIHtcblx0XHRcdGNvdW50VXAuc3RhcnQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihjb3VudFVwLmVycm9yKTtcblx0XHR9XG5cdH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0aWNrRWxlbWVudFRvRWRnZSgpIHtcblx0dmFyIHRhcmdldCA9ICQoXCJbc3RpY2stdG8tZWRnZV1cIik7XG5cdHRhcmdldC5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRjb25zdCAkdGhpcyA9ICQodGhpcyk7XG5cdFx0Y29uc3QgZWRnZVBvc2l0aW9uID0gJHRoaXMuYXR0cihcImVkZ2UtcGxhY2VtZW50XCIpID8gXCJpbm5lclwiIDogXCJzY3JlZW5cIjtcblx0XHRjb25zdCBwb3NpdGlvbiA9ICR0aGlzLmF0dHIoXCJzdGljay10by1lZGdlXCIpO1xuXHRcdGNvbnN0IHVuc3RpY2sgPSAkdGhpcy5hdHRyKFwidW5zdGljay1taW5cIikgfHwgMTIwMDtcblx0XHRsZXQgb2Zmc2V0ID0gKCQod2luZG93KS53aWR0aCgpIC0gJChcIi5kZWZhdWx0LWNvbnRhaW5lci1qc1wiKS53aWR0aCgpKSAvIDI7XG5cdFx0aWYgKGVkZ2VQb3NpdGlvbiA9PT0gXCJpbm5lclwiKSB7XG5cdFx0XHRpZiAoJHRoaXMuY2xvc2VzdChcIi5jb250YWluZXJcIikgJiYgJHRoaXMuY2xvc2VzdChcIi5jb250YWluZXJcIikuY2xvc2VzdChcIi5jb250YWluZXItZmx1aWRcIikpIHtcblx0XHRcdFx0Y29uc3QgbmV3T2Zmc2V0ID0gTWF0aC5hYnMoXG5cdFx0XHRcdFx0JChcIi53aWRlLWNvbnRhaW5lci1qc1wiKS5vZmZzZXQoKS5sZWZ0IC0gJChcIi5kZWZhdWx0LWNvbnRhaW5lci1qc1wiKS5vZmZzZXQoKS5sZWZ0XG5cdFx0XHRcdCk7XG5cdFx0XHRcdG9mZnNldCA9IG5ld09mZnNldDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHBvc2l0aW9uID09PSBcImxlZnRcIikge1xuXHRcdFx0JHRoaXMuY3NzKHtcblx0XHRcdFx0XCJtYXJnaW4tbGVmdFwiOiBgLSR7b2Zmc2V0fXB4YCxcblx0XHRcdFx0XCItLW1sXCI6IGAke01hdGguYWJzKG9mZnNldCl9YCxcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuXHRcdFx0JHRoaXMuY3NzKHtcblx0XHRcdFx0XCJtYXJnaW4tcmlnaHRcIjogYC0ke29mZnNldH1weGAsXG5cdFx0XHRcdFwiLS1tclwiOiBgJHtNYXRoLmFicyhvZmZzZXQpfWAsXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKCQod2luZG93KS53aWR0aCgpIDwgdW5zdGljaykge1xuXHRcdFx0JHRoaXMucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuXHRcdFx0JHRoaXMuY3NzKHtcblx0XHRcdFx0XCItLW1sXCI6IFwiMFwiLFxuXHRcdFx0XHRcIi0tbXJcIjogXCIwXCIsXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lbnVTcHkoKSB7XG5cdHZhciBlbG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21lbnUtc3B5XCIpO1xuXHRsZXQgZGVib3VuY2VUaW1lcjtcblx0bGV0IGlzQWN0aXZlID0gZmFsc2U7XG5cblx0dmFyIG1zID0gbmV3IE1lbnVTcHkoZWxtLCB7XG5cdFx0YWN0aXZlQ2xhc3M6IFwiYWN0aXZlXCIsXG5cdFx0dGhyZXNob2xkOiAzMDAsXG5cdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uIChjdXJyZW50SXRlbSkge1xuXHRcdFx0Y29uc3Qgbm9kZVBhcmVudCA9ICQoXCIuc2VjdGlvbi1zY3JvbGxUby1hY3RpdmVcIik7XG5cdFx0XHRjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lcik7XG5cdFx0XHRpc0FjdGl2ZSA9IHRydWU7XG5cdFx0XHRkZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQobm9kZVBhcmVudCkuc2Nyb2xsVG8oXCJsaS5hY3RpdmVcIiwgODAwKTtcblx0XHRcdFx0aXNBY3RpdmUgPSBmYWxzZTtcblx0XHRcdH0sIDEwMDApO1xuXHRcdH0sXG5cdH0pO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBoZWFkZXJTZWFyY2ggKCkge1xuXHRmdW5jdGlvbiBjbG9zZVNlYXJjaCAoKSB7XG5cdFx0JChcIi5oZWFkZXItc2VhcmNoLWZvcm1cIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0JChcIi5oZWFkZXItc2VhcmNoXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZVwiKTtcblx0fVxuXHQkKFwiLmhlYWRlci1zZWFyY2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0JChcIi5oZWFkZXItc2VhcmNoLWZvcm1cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJkaXNhYmxlXCIpO1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0JChcIi5oZWFkZXItc2VhcmNoLWZvcm0gLnNlYXJjaGlucHV0XCIpLmZvY3VzKCk7XG5cdFx0fSwgNDAwKTtcblx0fSk7XG5cdCQoXCIuaGVhZGVyLXNlYXJjaC1mb3JtIC5jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRjbG9zZVNlYXJjaCgpO1xuXHR9KTtcblx0JChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcblx0XHRcdGNsb3NlU2VhcmNoKCk7XG5cdFx0fVxuXHR9KTtcblx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICgkKFwiLmhlYWRlci1zZWFyY2gtZm9ybVwiKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSkge1xuXHRcdFx0aWYgKCEkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLnByb2R1Y3RzZWFyY2hib3hcIikubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5pcygnLmhlYWRlci1zZWFyY2gnKSAmJiAhJChlLnRhcmdldCkuY2xvc2VzdCgnLmhlYWRlci1zZWFyY2gnKS5sZW5ndGgpIHtcblx0XHRcdFx0Y2xvc2VTZWFyY2goKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuIiwgImltcG9ydCB7IGhlYWRlclNlYXJjaCB9IGZyb20gXCIuLi8uLi9wbHVnaW5zL0NvbXBvbmVudHNVaS9IZWFkZXJTZWFyY2gvSGVhZGVyU2VhcmNoXCI7XG5pbXBvcnQgeyBkZXRlY3RDbG9zZUVsZW1lbnQgfSBmcm9tIFwiLi9oZWxwZXJcIjtcbi8qPT09PT09PT09PT09PT09PT09PT0gSGVhZGVyID09PT09PT09PT09PT09PT09PT09Ki9cbi8qKlxuICogQHBhcmFtIGhlYWRlclxuICovXG5jb25zdCB2dyA9ICQod2luZG93KS53aWR0aCgpO1xuZXhwb3J0IGNvbnN0IGhlYWRlciA9IHtcblx0bGFzdFNjcm9sbDogMCxcblx0c2Nyb2xsQWN0aXZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0bGV0IGhlaWdodCA9ICQoXCJoZWFkZXJcIikuaGVpZ2h0KCk7XG5cdFx0aWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IGhlaWdodCkge1xuXHRcdFx0JChcImhlYWRlclwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JChcImhlYWRlclwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHR9XG5cdH0sXG5cdHNjcm9sbERpcmVjdGlvbjogZnVuY3Rpb24gKCkge1xuXHRcdGxldCBzdCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblx0XHRpZiAoc3QgPiBoZWFkZXIubGFzdFNjcm9sbCAmJiBzdCA+IDEwMCkge1xuXHRcdFx0JChcImhlYWRlclwiKS5hZGRDbGFzcyhcInNjcm9sbGRvd25cIikucmVtb3ZlQ2xhc3MoXCJzY3JvbGx1cFwiKTtcblx0XHR9IGVsc2UgaWYgKHN0IDwgaGVhZGVyLmxhc3RTY3JvbGwpIHtcblx0XHRcdCQoXCJoZWFkZXJcIikuYWRkQ2xhc3MoXCJzY3JvbGx1cFwiKS5yZW1vdmVDbGFzcyhcInNjcm9sbGRvd25cIik7XG5cdFx0fVxuXHRcdGlmIChzdCA8PSAwKSB7XG5cdFx0XHQkKFwiaGVhZGVyXCIpLnJlbW92ZUNsYXNzKFwic2Nyb2xsZG93biBzY3JvbGx1cFwiKTtcblx0XHR9XG5cdFx0aGVhZGVyLmxhc3RTY3JvbGwgPSBzdDtcblx0fSxcblx0bW9iaWxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0JChcIi5oZWFkZXItYmFyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0JCh0aGlzKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdCQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwiaXNPcGVuTWVudVwiKTtcblx0XHR9KTtcblx0XHQkKFwiLmhlYWRlci1jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoXCIuaGVhZGVyLWJhclwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiaXNPcGVuTWVudVwiKTtcblx0XHR9KTtcblx0XHQkKFwiLmhlYWRlci1vdmVybGF5XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0JChcIi5oZWFkZXItYmFyXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJpc09wZW5NZW51XCIpO1xuXHRcdH0pO1xuXHRcdGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDExOTkuOThweClcIikubWF0Y2hlcykge1xuXHRcdFx0JChcIi5oZWFkZXItd3JhcC1tZW51IC5tZW51LW1vYmlsZSBsaVtjbGFzcyo9J2hhcy1jaGlsZHJlbiddPmFcIikuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQodGhpcylcblx0XHRcdFx0XHQud3JhcCgnPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiPjwvZGl2PicpXG5cdFx0XHRcdFx0LnBhcmVudCgpXG5cdFx0XHRcdFx0LmFwcGVuZCgnPGRpdiBjbGFzcz1cImljb24tYXJyb3dcIj48L2Rpdj4nKTtcblx0XHRcdH0pO1xuXHRcdFx0JChcIi5oZWFkZXItd3JhcC1tZW51IC5tZW51LW1vYmlsZSBsaVtjbGFzcyo9J2hhcy1jaGlsZHJlbiddIC5pY29uLWFycm93XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoXCJsaVwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KFwibGlcIikuZmluZChcInVsXCIpLnNsaWRlVG9nZ2xlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cdGluaXRWYXJpYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0ICRoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpO1xuXHRcdGlmICghJGhlYWRlcikgcmV0dXJuO1xuXG5cdFx0Ly8gSFx1MDBFMG0gY1x1MUVBRHAgbmhcdTFFQUR0IGNoaVx1MUVDMXUgY2FvIGhlYWRlclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUhlYWRlckhlaWdodCgpIHtcblx0XHRcdGNvbnN0IGhlaWdodCA9ICRoZWFkZXIub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1oZWFkZXItaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuXHRcdH1cblxuXHRcdC8vIENcdTFFQURwIG5oXHUxRUFEdCBiYW4gXHUwMTExXHUxRUE3dVxuXHRcdHVwZGF0ZUhlYWRlckhlaWdodCgpO1xuXG5cdFx0Ly8gVGhlbyBkXHUwMEY1aSBtXHUxRUNEaSB0aGF5IFx1MDExMVx1MUVENWkgY2hpXHUxRUMxdSBjYW8gY1x1MUVFN2EgaGVhZGVyXG5cdFx0Y29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlSGVhZGVySGVpZ2h0KTtcblx0XHRyby5vYnNlcnZlKCRoZWFkZXIpO1xuXG5cdFx0Ly8gUGhcdTAwRjJuZyB0clx1MDFCMFx1MUVERG5nIGhcdTFFRTNwIFx1MUVBM25oIGhvXHUxRUI3YyBmb250IGNoXHUwMUIwYSBsb2FkIHhvbmdcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuXHRcdFx0c2V0VGltZW91dCh1cGRhdGVIZWFkZXJIZWlnaHQsIDEwMCk7XG5cdFx0fSk7XG5cdH0sXG5cdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRoZWFkZXJTZWFyY2goKTtcblx0XHRoZWFkZXIuc2Nyb2xsQWN0aXZlKCk7XG5cdFx0aGVhZGVyLnNjcm9sbERpcmVjdGlvbigpO1xuXHRcdGhlYWRlci5tb2JpbGUoKTtcblx0XHRoZWFkZXIuaW5pdFZhcmlhYmxlKCk7XG5cdH0sXG59O1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcblx0XCJzY3JvbGxcIixcblx0ZnVuY3Rpb24gKGUpIHtcblx0XHRoZWFkZXIuc2Nyb2xsQWN0aXZlKCk7XG5cdFx0aGVhZGVyLnNjcm9sbERpcmVjdGlvbigpO1xuXHR9LFxuXHR0cnVlXG4pO1xuIiwgIi8qKlxuICogU1NSIFdpbmRvdyA0LjAuMlxuICogQmV0dGVyIGhhbmRsaW5nIGZvciB3aW5kb3cgb2JqZWN0IGluIFNTUiBlbnZpcm9ubWVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL25vbGltaXRzNHdlYi9zc3Itd2luZG93XG4gKlxuICogQ29weXJpZ2h0IDIwMjEsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICogUmVsZWFzZWQgb246IERlY2VtYmVyIDEzLCAyMDIxXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAnY29uc3RydWN0b3InIGluIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNyYykge1xuICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHtcbiAgICB0YXJnZXQgPSB7fTtcbiAgfVxuICBpZiAoc3JjID09PSB2b2lkIDApIHtcbiAgICBzcmMgPSB7fTtcbiAgfVxuICBPYmplY3Qua2V5cyhzcmMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAndW5kZWZpbmVkJykgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtlbHNlIGlmIChpc09iamVjdChzcmNba2V5XSkgJiYgaXNPYmplY3QodGFyZ2V0W2tleV0pICYmIE9iamVjdC5rZXlzKHNyY1trZXldKS5sZW5ndGggPiAwKSB7XG4gICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICB9XG4gIH0pO1xufVxuY29uc3Qgc3NyRG9jdW1lbnQgPSB7XG4gIGJvZHk6IHt9LFxuICBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgYWN0aXZlRWxlbWVudDoge1xuICAgIGJsdXIoKSB7fSxcbiAgICBub2RlTmFtZTogJydcbiAgfSxcbiAgcXVlcnlTZWxlY3RvcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcXVlcnlTZWxlY3RvckFsbCgpIHtcbiAgICByZXR1cm4gW107XG4gIH0sXG4gIGdldEVsZW1lbnRCeUlkKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBjcmVhdGVFdmVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdEV2ZW50KCkge31cbiAgICB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBjaGlsZE5vZGVzOiBbXSxcbiAgICAgIHN0eWxlOiB7fSxcbiAgICAgIHNldEF0dHJpYnV0ZSgpIHt9LFxuICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50TlMoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICBpbXBvcnROb2RlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIGhhc2g6ICcnLFxuICAgIGhvc3Q6ICcnLFxuICAgIGhvc3RuYW1lOiAnJyxcbiAgICBocmVmOiAnJyxcbiAgICBvcmlnaW46ICcnLFxuICAgIHBhdGhuYW1lOiAnJyxcbiAgICBwcm90b2NvbDogJycsXG4gICAgc2VhcmNoOiAnJ1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gIGNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHt9O1xuICBleHRlbmQoZG9jLCBzc3JEb2N1bWVudCk7XG4gIHJldHVybiBkb2M7XG59XG5jb25zdCBzc3JXaW5kb3cgPSB7XG4gIGRvY3VtZW50OiBzc3JEb2N1bWVudCxcbiAgbmF2aWdhdG9yOiB7XG4gICAgdXNlckFnZW50OiAnJ1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIGhhc2g6ICcnLFxuICAgIGhvc3Q6ICcnLFxuICAgIGhvc3RuYW1lOiAnJyxcbiAgICBocmVmOiAnJyxcbiAgICBvcmlnaW46ICcnLFxuICAgIHBhdGhuYW1lOiAnJyxcbiAgICBwcm90b2NvbDogJycsXG4gICAgc2VhcmNoOiAnJ1xuICB9LFxuICBoaXN0b3J5OiB7XG4gICAgcmVwbGFjZVN0YXRlKCkge30sXG4gICAgcHVzaFN0YXRlKCkge30sXG4gICAgZ28oKSB7fSxcbiAgICBiYWNrKCkge31cbiAgfSxcbiAgQ3VzdG9tRXZlbnQ6IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgZ2V0Q29tcHV0ZWRTdHlsZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0UHJvcGVydHlWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIEltYWdlKCkge30sXG4gIERhdGUoKSB7fSxcbiAgc2NyZWVuOiB7fSxcbiAgc2V0VGltZW91dCgpIHt9LFxuICBjbGVhclRpbWVvdXQoKSB7fSxcbiAgbWF0Y2hNZWRpYSgpIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICB9LFxuICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkge1xuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgY29uc3Qgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiAgZXh0ZW5kKHdpbiwgc3NyV2luZG93KTtcbiAgcmV0dXJuIHdpbjtcbn1cblxuZXhwb3J0IHsgZ2V0V2luZG93IGFzIGEsIGdldERvY3VtZW50IGFzIGcgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdywgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4vc3NyLXdpbmRvdy5lc20ubWpzJztcblxuZnVuY3Rpb24gY2xhc3Nlc1RvVG9rZW5zKGNsYXNzZXMpIHtcbiAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgIGNsYXNzZXMgPSAnJztcbiAgfVxuICByZXR1cm4gY2xhc3Nlcy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoYyA9PiAhIWMudHJpbSgpKTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlUHJvcHMob2JqKSB7XG4gIGNvbnN0IG9iamVjdCA9IG9iajtcbiAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIG9iamVjdFtrZXldID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBubyBnZXR0ZXIgZm9yIG9iamVjdFxuICAgIH1cbiAgICB0cnkge1xuICAgICAgZGVsZXRlIG9iamVjdFtrZXldO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNvbWV0aGluZyBnb3Qgd3JvbmdcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbmV4dFRpY2soY2FsbGJhY2ssIGRlbGF5KSB7XG4gIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgZGVsYXkgPSAwO1xuICB9XG4gIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSk7XG59XG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IHN0eWxlO1xuICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcbiAgfVxuICBpZiAoIXN0eWxlICYmIGVsLmN1cnJlbnRTdHlsZSkge1xuICAgIHN0eWxlID0gZWwuY3VycmVudFN0eWxlO1xuICB9XG4gIGlmICghc3R5bGUpIHtcbiAgICBzdHlsZSA9IGVsLnN0eWxlO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlbCwgYXhpcykge1xuICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgYXhpcyA9ICd4JztcbiAgfVxuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IG1hdHJpeDtcbiAgbGV0IGN1clRyYW5zZm9ybTtcbiAgbGV0IHRyYW5zZm9ybU1hdHJpeDtcbiAgY29uc3QgY3VyU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIHtcbiAgICBjdXJUcmFuc2Zvcm0gPSBjdXJTdHlsZS50cmFuc2Zvcm0gfHwgY3VyU3R5bGUud2Via2l0VHJhbnNmb3JtO1xuICAgIGlmIChjdXJUcmFuc2Zvcm0uc3BsaXQoJywnKS5sZW5ndGggPiA2KSB7XG4gICAgICBjdXJUcmFuc2Zvcm0gPSBjdXJUcmFuc2Zvcm0uc3BsaXQoJywgJykubWFwKGEgPT4gYS5yZXBsYWNlKCcsJywgJy4nKSkuam9pbignLCAnKTtcbiAgICB9XG4gICAgLy8gU29tZSBvbGQgdmVyc2lvbnMgb2YgV2Via2l0IGNob2tlIHdoZW4gJ25vbmUnIGlzIHBhc3NlZDsgcGFzc1xuICAgIC8vIGVtcHR5IHN0cmluZyBpbnN0ZWFkIGluIHRoaXMgY2FzZVxuICAgIHRyYW5zZm9ybU1hdHJpeCA9IG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KGN1clRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBjdXJUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zZm9ybU1hdHJpeCA9IGN1clN0eWxlLk1velRyYW5zZm9ybSB8fCBjdXJTdHlsZS5PVHJhbnNmb3JtIHx8IGN1clN0eWxlLk1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLm1zVHJhbnNmb3JtIHx8IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKS5yZXBsYWNlKCd0cmFuc2xhdGUoJywgJ21hdHJpeCgxLCAwLCAwLCAxLCcpO1xuICAgIG1hdHJpeCA9IHRyYW5zZm9ybU1hdHJpeC50b1N0cmluZygpLnNwbGl0KCcsJyk7XG4gIH1cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDE7XG4gICAgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTJdKTtcbiAgICAvLyBOb3JtYWwgQnJvd3NlcnNcbiAgICBlbHNlIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzRdKTtcbiAgfVxuICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MjtcbiAgICAvLyBDcmF6eSBJRTEwIE1hdHJpeFxuICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxM10pO1xuICAgIC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNV0pO1xuICB9XG4gIHJldHVybiBjdXJUcmFuc2Zvcm0gfHwgMDtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvICE9PSBudWxsICYmIG8uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCc7XG59XG5mdW5jdGlvbiBpc05vZGUobm9kZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgfVxuICByZXR1cm4gbm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PT0gMSB8fCBub2RlLm5vZGVUeXBlID09PSAxMSk7XG59XG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gIGNvbnN0IHRvID0gT2JqZWN0KGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSk7XG4gIGNvbnN0IG5vRXh0ZW5kID0gWydfX3Byb3RvX18nLCAnY29uc3RydWN0b3InLCAncHJvdG90eXBlJ107XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgbmV4dFNvdXJjZSA9IGkgPCAwIHx8IGFyZ3VtZW50cy5sZW5ndGggPD0gaSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAobmV4dFNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIG5leHRTb3VyY2UgIT09IG51bGwgJiYgIWlzTm9kZShuZXh0U291cmNlKSkge1xuICAgICAgY29uc3Qga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoT2JqZWN0KG5leHRTb3VyY2UpKS5maWx0ZXIoa2V5ID0+IG5vRXh0ZW5kLmluZGV4T2Yoa2V5KSA8IDApO1xuICAgICAgZm9yIChsZXQgbmV4dEluZGV4ID0gMCwgbGVuID0ga2V5c0FycmF5Lmxlbmd0aDsgbmV4dEluZGV4IDwgbGVuOyBuZXh0SW5kZXggKz0gMSkge1xuICAgICAgICBjb25zdCBuZXh0S2V5ID0ga2V5c0FycmF5W25leHRJbmRleF07XG4gICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5leHRTb3VyY2UsIG5leHRLZXkpO1xuICAgICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICAgIGlmIChpc09iamVjdCh0b1tuZXh0S2V5XSkgJiYgaXNPYmplY3QobmV4dFNvdXJjZVtuZXh0S2V5XSkpIHtcbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc09iamVjdCh0b1tuZXh0S2V5XSkgJiYgaXNPYmplY3QobmV4dFNvdXJjZVtuZXh0S2V5XSkpIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0ge307XG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuZnVuY3Rpb24gc2V0Q1NTUHJvcGVydHkoZWwsIHZhck5hbWUsIHZhclZhbHVlKSB7XG4gIGVsLnN0eWxlLnNldFByb3BlcnR5KHZhck5hbWUsIHZhclZhbHVlKTtcbn1cbmZ1bmN0aW9uIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgdGFyZ2V0UG9zaXRpb24sXG4gICAgc2lkZVxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XG4gIGxldCB0aW1lO1xuICBjb25zdCBkdXJhdGlvbiA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShzd2lwZXIuY3NzTW9kZUZyYW1lSUQpO1xuICBjb25zdCBkaXIgPSB0YXJnZXRQb3NpdGlvbiA+IHN0YXJ0UG9zaXRpb24gPyAnbmV4dCcgOiAncHJldic7XG4gIGNvbnN0IGlzT3V0T2ZCb3VuZCA9IChjdXJyZW50LCB0YXJnZXQpID0+IHtcbiAgICByZXR1cm4gZGlyID09PSAnbmV4dCcgJiYgY3VycmVudCA+PSB0YXJnZXQgfHwgZGlyID09PSAncHJldicgJiYgY3VycmVudCA8PSB0YXJnZXQ7XG4gIH07XG4gIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcbiAgICAgIHN0YXJ0VGltZSA9IHRpbWU7XG4gICAgfVxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oKHRpbWUgLSBzdGFydFRpbWUpIC8gZHVyYXRpb24sIDEpLCAwKTtcbiAgICBjb25zdCBlYXNlUHJvZ3Jlc3MgPSAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbiArIGVhc2VQcm9ncmVzcyAqICh0YXJnZXRQb3NpdGlvbiAtIHN0YXJ0UG9zaXRpb24pO1xuICAgIGlmIChpc091dE9mQm91bmQoY3VycmVudFBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbikpIHtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IHRhcmdldFBvc2l0aW9uO1xuICAgIH1cbiAgICBzd2lwZXIud3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgIFtzaWRlXTogY3VycmVudFBvc2l0aW9uXG4gICAgfSk7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICcnO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgICAgW3NpZGVdOiBjdXJyZW50UG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShzd2lwZXIuY3NzTW9kZUZyYW1lSUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2lwZXIuY3NzTW9kZUZyYW1lSUQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICB9O1xuICBhbmltYXRlKCk7XG59XG5mdW5jdGlvbiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpIHtcbiAgcmV0dXJuIHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSB8fCBzbGlkZUVsLnNoYWRvd1Jvb3QgJiYgc2xpZGVFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgfHwgc2xpZGVFbDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRDaGlsZHJlbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoc2VsZWN0b3IgPT09IHZvaWQgMCkge1xuICAgIHNlbGVjdG9yID0gJyc7XG4gIH1cbiAgcmV0dXJuIFsuLi5lbGVtZW50LmNoaWxkcmVuXS5maWx0ZXIoZWwgPT4gZWwubWF0Y2hlcyhzZWxlY3RvcikpO1xufVxuZnVuY3Rpb24gc2hvd1dhcm5pbmcodGV4dCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUud2Fybih0ZXh0KTtcbiAgICByZXR1cm47XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIGVyclxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZywgY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9IFtdO1xuICB9XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBlbC5jbGFzc0xpc3QuYWRkKC4uLihBcnJheS5pc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IGNsYXNzZXNUb1Rva2VucyhjbGFzc2VzKSkpO1xuICByZXR1cm4gZWw7XG59XG5mdW5jdGlvbiBlbGVtZW50T2Zmc2V0KGVsKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgY29uc3QgY2xpZW50VG9wID0gZWwuY2xpZW50VG9wIHx8IGJvZHkuY2xpZW50VG9wIHx8IDA7XG4gIGNvbnN0IGNsaWVudExlZnQgPSBlbC5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwO1xuICBjb25zdCBzY3JvbGxUb3AgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFkgOiBlbC5zY3JvbGxUb3A7XG4gIGNvbnN0IHNjcm9sbExlZnQgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFggOiBlbC5zY3JvbGxMZWZ0O1xuICByZXR1cm4ge1xuICAgIHRvcDogYm94LnRvcCArIHNjcm9sbFRvcCAtIGNsaWVudFRvcCxcbiAgICBsZWZ0OiBib3gubGVmdCArIHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0XG4gIH07XG59XG5mdW5jdGlvbiBlbGVtZW50UHJldkFsbChlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgcHJldkVscyA9IFtdO1xuICB3aGlsZSAoZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIGNvbnN0IHByZXYgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAocHJldi5tYXRjaGVzKHNlbGVjdG9yKSkgcHJldkVscy5wdXNoKHByZXYpO1xuICAgIH0gZWxzZSBwcmV2RWxzLnB1c2gocHJldik7XG4gICAgZWwgPSBwcmV2O1xuICB9XG4gIHJldHVybiBwcmV2RWxzO1xufVxuZnVuY3Rpb24gZWxlbWVudE5leHRBbGwoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IG5leHRFbHMgPSBbXTtcbiAgd2hpbGUgKGVsLm5leHRFbGVtZW50U2libGluZykge1xuICAgIGNvbnN0IG5leHQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChuZXh0Lm1hdGNoZXMoc2VsZWN0b3IpKSBuZXh0RWxzLnB1c2gobmV4dCk7XG4gICAgfSBlbHNlIG5leHRFbHMucHVzaChuZXh0KTtcbiAgICBlbCA9IG5leHQ7XG4gIH1cbiAgcmV0dXJuIG5leHRFbHM7XG59XG5mdW5jdGlvbiBlbGVtZW50U3R5bGUoZWwsIHByb3ApIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRJbmRleChlbCkge1xuICBsZXQgY2hpbGQgPSBlbDtcbiAgbGV0IGk7XG4gIGlmIChjaGlsZCkge1xuICAgIGkgPSAwO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHdoaWxlICgoY2hpbGQgPSBjaGlsZC5wcmV2aW91c1NpYmxpbmcpICE9PSBudWxsKSB7XG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIGkgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQYXJlbnRzKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBwYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgbGV0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKHBhcmVudC5tYXRjaGVzKHNlbGVjdG9yKSkgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgIH1cbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gcGFyZW50cztcbn1cbmZ1bmN0aW9uIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGVsLCBjYWxsYmFjaykge1xuICBmdW5jdGlvbiBmaXJlQ2FsbEJhY2soZSkge1xuICAgIGlmIChlLnRhcmdldCAhPT0gZWwpIHJldHVybjtcbiAgICBjYWxsYmFjay5jYWxsKGVsLCBlKTtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgfVxufVxuZnVuY3Rpb24gZWxlbWVudE91dGVyU2l6ZShlbCwgc2l6ZSwgaW5jbHVkZU1hcmdpbnMpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGlmIChpbmNsdWRlTWFyZ2lucykge1xuICAgIHJldHVybiBlbFtzaXplID09PSAnd2lkdGgnID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnXSArIHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoc2l6ZSA9PT0gJ3dpZHRoJyA/ICdtYXJnaW4tcmlnaHQnIDogJ21hcmdpbi10b3AnKSkgKyBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHNpemUgPT09ICd3aWR0aCcgPyAnbWFyZ2luLWxlZnQnIDogJ21hcmdpbi1ib3R0b20nKSk7XG4gIH1cbiAgcmV0dXJuIGVsLm9mZnNldFdpZHRoO1xufVxuXG5leHBvcnQgeyBlbGVtZW50UGFyZW50cyBhcyBhLCBlbGVtZW50T2Zmc2V0IGFzIGIsIGNyZWF0ZUVsZW1lbnQgYXMgYywgbm93IGFzIGQsIGVsZW1lbnRDaGlsZHJlbiBhcyBlLCBlbGVtZW50T3V0ZXJTaXplIGFzIGYsIGVsZW1lbnRJbmRleCBhcyBnLCBjbGFzc2VzVG9Ub2tlbnMgYXMgaCwgZ2V0VHJhbnNsYXRlIGFzIGksIGVsZW1lbnRUcmFuc2l0aW9uRW5kIGFzIGosIGlzT2JqZWN0IGFzIGssIGdldFNsaWRlVHJhbnNmb3JtRWwgYXMgbCwgZWxlbWVudFN0eWxlIGFzIG0sIG5leHRUaWNrIGFzIG4sIGVsZW1lbnROZXh0QWxsIGFzIG8sIGVsZW1lbnRQcmV2QWxsIGFzIHAsIGFuaW1hdGVDU1NNb2RlU2Nyb2xsIGFzIHEsIHNob3dXYXJuaW5nIGFzIHIsIHNldENTU1Byb3BlcnR5IGFzIHMsIGV4dGVuZCBhcyB0LCBkZWxldGVQcm9wcyBhcyB1IH07XG4iLCAiaW1wb3J0IHsgYSBhcyBnZXRXaW5kb3csIGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5pbXBvcnQgeyBhIGFzIGVsZW1lbnRQYXJlbnRzLCBtIGFzIGVsZW1lbnRTdHlsZSwgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIHMgYXMgc2V0Q1NTUHJvcGVydHksIGYgYXMgZWxlbWVudE91dGVyU2l6ZSwgbyBhcyBlbGVtZW50TmV4dEFsbCwgcCBhcyBlbGVtZW50UHJldkFsbCwgaSBhcyBnZXRUcmFuc2xhdGUsIHEgYXMgYW5pbWF0ZUNTU01vZGVTY3JvbGwsIG4gYXMgbmV4dFRpY2ssIHIgYXMgc2hvd1dhcm5pbmcsIGMgYXMgY3JlYXRlRWxlbWVudCwgZCBhcyBub3csIHQgYXMgZXh0ZW5kLCBnIGFzIGVsZW1lbnRJbmRleCwgdSBhcyBkZWxldGVQcm9wcyB9IGZyb20gJy4vdXRpbHMubWpzJztcblxubGV0IHN1cHBvcnQ7XG5mdW5jdGlvbiBjYWxjU3VwcG9ydCgpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgcmV0dXJuIHtcbiAgICBzbW9vdGhTY3JvbGw6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgJ3Njcm9sbEJlaGF2aW9yJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsXG4gICAgdG91Y2g6ICEhKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U3VwcG9ydCgpIHtcbiAgaWYgKCFzdXBwb3J0KSB7XG4gICAgc3VwcG9ydCA9IGNhbGNTdXBwb3J0KCk7XG4gIH1cbiAgcmV0dXJuIHN1cHBvcnQ7XG59XG5cbmxldCBkZXZpY2VDYWNoZWQ7XG5mdW5jdGlvbiBjYWxjRGV2aWNlKF90ZW1wKSB7XG4gIGxldCB7XG4gICAgdXNlckFnZW50XG4gIH0gPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDtcbiAgY29uc3Qgc3VwcG9ydCA9IGdldFN1cHBvcnQoKTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IHBsYXRmb3JtID0gd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybTtcbiAgY29uc3QgdWEgPSB1c2VyQWdlbnQgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIGNvbnN0IGRldmljZSA9IHtcbiAgICBpb3M6IGZhbHNlLFxuICAgIGFuZHJvaWQ6IGZhbHNlXG4gIH07XG4gIGNvbnN0IHNjcmVlbldpZHRoID0gd2luZG93LnNjcmVlbi53aWR0aDtcbiAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gd2luZG93LnNjcmVlbi5oZWlnaHQ7XG4gIGNvbnN0IGFuZHJvaWQgPSB1YS5tYXRjaCgvKEFuZHJvaWQpOz9bXFxzXFwvXSsoW1xcZC5dKyk/Lyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgbGV0IGlwYWQgPSB1YS5tYXRjaCgvKGlQYWQpLipPU1xccyhbXFxkX10rKS8pO1xuICBjb25zdCBpcG9kID0gdWEubWF0Y2goLyhpUG9kKSguKk9TXFxzKFtcXGRfXSspKT8vKTtcbiAgY29uc3QgaXBob25lID0gIWlwYWQgJiYgdWEubWF0Y2goLyhpUGhvbmVcXHNPU3xpT1MpXFxzKFtcXGRfXSspLyk7XG4gIGNvbnN0IHdpbmRvd3MgPSBwbGF0Zm9ybSA9PT0gJ1dpbjMyJztcbiAgbGV0IG1hY29zID0gcGxhdGZvcm0gPT09ICdNYWNJbnRlbCc7XG5cbiAgLy8gaVBhZE9zIDEzIGZpeFxuICBjb25zdCBpUGFkU2NyZWVucyA9IFsnMTAyNHgxMzY2JywgJzEzNjZ4MTAyNCcsICc4MzR4MTE5NCcsICcxMTk0eDgzNCcsICc4MzR4MTExMicsICcxMTEyeDgzNCcsICc3Njh4MTAyNCcsICcxMDI0eDc2OCcsICc4MjB4MTE4MCcsICcxMTgweDgyMCcsICc4MTB4MTA4MCcsICcxMDgweDgxMCddO1xuICBpZiAoIWlwYWQgJiYgbWFjb3MgJiYgc3VwcG9ydC50b3VjaCAmJiBpUGFkU2NyZWVucy5pbmRleE9mKGAke3NjcmVlbldpZHRofXgke3NjcmVlbkhlaWdodH1gKSA+PSAwKSB7XG4gICAgaXBhZCA9IHVhLm1hdGNoKC8oVmVyc2lvbilcXC8oW1xcZC5dKykvKTtcbiAgICBpZiAoIWlwYWQpIGlwYWQgPSBbMCwgMSwgJzEzXzBfMCddO1xuICAgIG1hY29zID0gZmFsc2U7XG4gIH1cblxuICAvLyBBbmRyb2lkXG4gIGlmIChhbmRyb2lkICYmICF3aW5kb3dzKSB7XG4gICAgZGV2aWNlLm9zID0gJ2FuZHJvaWQnO1xuICAgIGRldmljZS5hbmRyb2lkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaXBhZCB8fCBpcGhvbmUgfHwgaXBvZCkge1xuICAgIGRldmljZS5vcyA9ICdpb3MnO1xuICAgIGRldmljZS5pb3MgPSB0cnVlO1xuICB9XG5cbiAgLy8gRXhwb3J0IG9iamVjdFxuICByZXR1cm4gZGV2aWNlO1xufVxuZnVuY3Rpb24gZ2V0RGV2aWNlKG92ZXJyaWRlcykge1xuICBpZiAob3ZlcnJpZGVzID09PSB2b2lkIDApIHtcbiAgICBvdmVycmlkZXMgPSB7fTtcbiAgfVxuICBpZiAoIWRldmljZUNhY2hlZCkge1xuICAgIGRldmljZUNhY2hlZCA9IGNhbGNEZXZpY2Uob3ZlcnJpZGVzKTtcbiAgfVxuICByZXR1cm4gZGV2aWNlQ2FjaGVkO1xufVxuXG5sZXQgYnJvd3NlcjtcbmZ1bmN0aW9uIGNhbGNCcm93c2VyKCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IG5lZWRQZXJzcGVjdGl2ZUZpeCA9IGZhbHNlO1xuICBmdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgICBjb25zdCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ3NhZmFyaScpID49IDAgJiYgdWEuaW5kZXhPZignY2hyb21lJykgPCAwICYmIHVhLmluZGV4T2YoJ2FuZHJvaWQnKSA8IDA7XG4gIH1cbiAgaWYgKGlzU2FmYXJpKCkpIHtcbiAgICBjb25zdCB1YSA9IFN0cmluZyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKHVhLmluY2x1ZGVzKCdWZXJzaW9uLycpKSB7XG4gICAgICBjb25zdCBbbWFqb3IsIG1pbm9yXSA9IHVhLnNwbGl0KCdWZXJzaW9uLycpWzFdLnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKS5tYXAobnVtID0+IE51bWJlcihudW0pKTtcbiAgICAgIG5lZWRQZXJzcGVjdGl2ZUZpeCA9IG1ham9yIDwgMTYgfHwgbWFqb3IgPT09IDE2ICYmIG1pbm9yIDwgMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1NhZmFyaTogbmVlZFBlcnNwZWN0aXZlRml4IHx8IGlzU2FmYXJpKCksXG4gICAgbmVlZFBlcnNwZWN0aXZlRml4LFxuICAgIGlzV2ViVmlldzogLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0QnJvd3NlcigpIHtcbiAgaWYgKCFicm93c2VyKSB7XG4gICAgYnJvd3NlciA9IGNhbGNCcm93c2VyKCk7XG4gIH1cbiAgcmV0dXJuIGJyb3dzZXI7XG59XG5cbmZ1bmN0aW9uIFJlc2l6ZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgb2JzZXJ2ZXIgPSBudWxsO1xuICBsZXQgYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuICBjb25zdCByZXNpemVIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIGVtaXQoJ2JlZm9yZVJlc2l6ZScpO1xuICAgIGVtaXQoJ3Jlc2l6ZScpO1xuICB9O1xuICBjb25zdCBjcmVhdGVPYnNlcnZlciA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIGFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHRcbiAgICAgICAgfSA9IHN3aXBlcjtcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gd2lkdGg7XG4gICAgICAgIGxldCBuZXdIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChfcmVmMiA9PiB7XG4gICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGNvbnRlbnRCb3hTaXplLFxuICAgICAgICAgICAgY29udGVudFJlY3QsXG4gICAgICAgICAgICB0YXJnZXRcbiAgICAgICAgICB9ID0gX3JlZjI7XG4gICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09IHN3aXBlci5lbCkgcmV0dXJuO1xuICAgICAgICAgIG5ld1dpZHRoID0gY29udGVudFJlY3QgPyBjb250ZW50UmVjdC53aWR0aCA6IChjb250ZW50Qm94U2l6ZVswXSB8fCBjb250ZW50Qm94U2l6ZSkuaW5saW5lU2l6ZTtcbiAgICAgICAgICBuZXdIZWlnaHQgPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LmhlaWdodCA6IChjb250ZW50Qm94U2l6ZVswXSB8fCBjb250ZW50Qm94U2l6ZSkuYmxvY2tTaXplO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5ld1dpZHRoICE9PSB3aWR0aCB8fCBuZXdIZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgIHJlc2l6ZUhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICB9O1xuICBjb25zdCByZW1vdmVPYnNlcnZlciA9ICgpID0+IHtcbiAgICBpZiAoYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZSk7XG4gICAgfVxuICAgIGlmIChvYnNlcnZlciAmJiBvYnNlcnZlci51bm9ic2VydmUgJiYgc3dpcGVyLmVsKSB7XG4gICAgICBvYnNlcnZlci51bm9ic2VydmUoc3dpcGVyLmVsKTtcbiAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlciA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICBlbWl0KCdvcmllbnRhdGlvbmNoYW5nZScpO1xuICB9O1xuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5yZXNpemVPYnNlcnZlciAmJiB0eXBlb2Ygd2luZG93LlJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY3JlYXRlT2JzZXJ2ZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICByZW1vdmVPYnNlcnZlcigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gT2JzZXJ2ZXIoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgb2JzZXJ2ZXJzID0gW107XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBhdHRhY2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBPYnNlcnZlckZ1bmMgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2Via2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlckZ1bmMobXV0YXRpb25zID0+IHtcbiAgICAgIC8vIFRoZSBvYnNlcnZlclVwZGF0ZSBldmVudCBzaG91bGQgb25seSBiZSB0cmlnZ2VyZWRcbiAgICAgIC8vIG9uY2UgZGVzcGl0ZSB0aGUgbnVtYmVyIG9mIG11dGF0aW9ucy4gIEFkZGl0aW9uYWxcbiAgICAgIC8vIHRyaWdnZXJzIGFyZSByZWR1bmRhbnQgYW5kIGFyZSB2ZXJ5IGNvc3RseVxuICAgICAgaWYgKHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fKSByZXR1cm47XG4gICAgICBpZiAobXV0YXRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBlbWl0KCdvYnNlcnZlclVwZGF0ZScsIG11dGF0aW9uc1swXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9ic2VydmVyVXBkYXRlID0gZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoKSB7XG4gICAgICAgIGVtaXQoJ29ic2VydmVyVXBkYXRlJywgbXV0YXRpb25zWzBdKTtcbiAgICAgIH07XG4gICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9ic2VydmVyVXBkYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KG9ic2VydmVyVXBkYXRlLCAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwge1xuICAgICAgYXR0cmlidXRlczogdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5hdHRyaWJ1dGVzLFxuICAgICAgY2hpbGRMaXN0OiB0eXBlb2Ygb3B0aW9ucy5jaGlsZExpc3QgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuY2hpbGRMaXN0LFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHlwZW9mIG9wdGlvbnMuY2hhcmFjdGVyRGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGFyYWN0ZXJEYXRhXG4gICAgfSk7XG4gICAgb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICB9O1xuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5vYnNlcnZlcikgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm9ic2VydmVQYXJlbnRzKSB7XG4gICAgICBjb25zdCBjb250YWluZXJQYXJlbnRzID0gZWxlbWVudFBhcmVudHMoc3dpcGVyLmhvc3RFbCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lclBhcmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXR0YWNoKGNvbnRhaW5lclBhcmVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBPYnNlcnZlIGNvbnRhaW5lclxuICAgIGF0dGFjaChzd2lwZXIuaG9zdEVsLCB7XG4gICAgICBjaGlsZExpc3Q6IHN3aXBlci5wYXJhbXMub2JzZXJ2ZVNsaWRlQ2hpbGRyZW5cbiAgICB9KTtcblxuICAgIC8vIE9ic2VydmUgd3JhcHBlclxuICAgIGF0dGFjaChzd2lwZXIud3JhcHBlckVsLCB7XG4gICAgICBhdHRyaWJ1dGVzOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICAgIG9ic2VydmVycy5mb3JFYWNoKG9ic2VydmVyID0+IHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMuc3BsaWNlKDAsIG9ic2VydmVycy5sZW5ndGgpO1xuICB9O1xuICBleHRlbmRQYXJhbXMoe1xuICAgIG9ic2VydmVyOiBmYWxzZSxcbiAgICBvYnNlcnZlUGFyZW50czogZmFsc2UsXG4gICAgb2JzZXJ2ZVNsaWRlQ2hpbGRyZW46IGZhbHNlXG4gIH0pO1xuICBvbignaW5pdCcsIGluaXQpO1xuICBvbignZGVzdHJveScsIGRlc3Ryb3kpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xuXG52YXIgZXZlbnRzRW1pdHRlciA9IHtcbiAgb24oZXZlbnRzLCBoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF1bbWV0aG9kXShoYW5kbGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb25jZShldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBmdW5jdGlvbiBvbmNlSGFuZGxlcigpIHtcbiAgICAgIHNlbGYub2ZmKGV2ZW50cywgb25jZUhhbmRsZXIpO1xuICAgICAgaWYgKG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5KSB7XG4gICAgICAgIGRlbGV0ZSBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgaGFuZGxlci5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9XG4gICAgb25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkgPSBoYW5kbGVyO1xuICAgIHJldHVybiBzZWxmLm9uKGV2ZW50cywgb25jZUhhbmRsZXIsIHByaW9yaXR5KTtcbiAgfSxcbiAgb25BbnkoaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGNvbnN0IG1ldGhvZCA9IHByaW9yaXR5ID8gJ3Vuc2hpZnQnIDogJ3B1c2gnO1xuICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpIDwgMCkge1xuICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnNbbWV0aG9kXShoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIG9mZkFueShoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0FueUxpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgaW5kZXggPSBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmKGV2ZW50cywgaGFuZGxlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKChldmVudEhhbmRsZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50SGFuZGxlciA9PT0gaGFuZGxlciB8fCBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgJiYgZXZlbnRIYW5kbGVyLl9fZW1pdHRlclByb3h5ID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBlbWl0KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGxldCBldmVudHM7XG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IGNvbnRleHQ7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgZXZlbnRzID0gYXJnc1swXTtcbiAgICAgIGRhdGEgPSBhcmdzLnNsaWNlKDEsIGFyZ3MubGVuZ3RoKTtcbiAgICAgIGNvbnRleHQgPSBzZWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdLmV2ZW50cztcbiAgICAgIGRhdGEgPSBhcmdzWzBdLmRhdGE7XG4gICAgICBjb250ZXh0ID0gYXJnc1swXS5jb250ZXh0IHx8IHNlbGY7XG4gICAgfVxuICAgIGRhdGEudW5zaGlmdChjb250ZXh0KTtcbiAgICBjb25zdCBldmVudHNBcnJheSA9IEFycmF5LmlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IGV2ZW50cy5zcGxpdCgnICcpO1xuICAgIGV2ZW50c0FycmF5LmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5mb3JFYWNoKGV2ZW50SGFuZGxlciA9PiB7XG4gICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIFtldmVudCwgLi4uZGF0YV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVycyAmJiBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG59O1xuXG5mdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgd2lkdGg7XG4gIGxldCBoZWlnaHQ7XG4gIGNvbnN0IGVsID0gc3dpcGVyLmVsO1xuICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMud2lkdGggIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMud2lkdGggIT09IG51bGwpIHtcbiAgICB3aWR0aCA9IHN3aXBlci5wYXJhbXMud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSBlbC5jbGllbnRXaWR0aDtcbiAgfVxuICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSAndW5kZWZpbmVkJyAmJiBzd2lwZXIucGFyYW1zLmhlaWdodCAhPT0gbnVsbCkge1xuICAgIGhlaWdodCA9IHN3aXBlci5wYXJhbXMuaGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGhlaWdodCA9IGVsLmNsaWVudEhlaWdodDtcbiAgfVxuICBpZiAod2lkdGggPT09IDAgJiYgc3dpcGVyLmlzSG9yaXpvbnRhbCgpIHx8IGhlaWdodCA9PT0gMCAmJiBzd2lwZXIuaXNWZXJ0aWNhbCgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU3VidHJhY3QgcGFkZGluZ3NcbiAgd2lkdGggPSB3aWR0aCAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctbGVmdCcpIHx8IDAsIDEwKSAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctcmlnaHQnKSB8fCAwLCAxMCk7XG4gIGhlaWdodCA9IGhlaWdodCAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctdG9wJykgfHwgMCwgMTApIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1ib3R0b20nKSB8fCAwLCAxMCk7XG4gIGlmIChOdW1iZXIuaXNOYU4od2lkdGgpKSB3aWR0aCA9IDA7XG4gIGlmIChOdW1iZXIuaXNOYU4oaGVpZ2h0KSkgaGVpZ2h0ID0gMDtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgc2l6ZTogc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gd2lkdGggOiBoZWlnaHRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShub2RlLCBsYWJlbCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KG5vZGUuZ2V0UHJvcGVydHlWYWx1ZShzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwobGFiZWwpKSB8fCAwKTtcbiAgfVxuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB7XG4gICAgd3JhcHBlckVsLFxuICAgIHNsaWRlc0VsLFxuICAgIHNpemU6IHN3aXBlclNpemUsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgd3JvbmdSVExcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgcHJldmlvdXNTbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICBjb25zdCBzbGlkZXNMZW5ndGggPSBpc1ZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc2xpZGVzLmxlbmd0aDtcbiAgbGV0IHNuYXBHcmlkID0gW107XG4gIGNvbnN0IHNsaWRlc0dyaWQgPSBbXTtcbiAgY29uc3Qgc2xpZGVzU2l6ZXNHcmlkID0gW107XG4gIGxldCBvZmZzZXRCZWZvcmUgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlO1xuICBpZiAodHlwZW9mIG9mZnNldEJlZm9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmUuY2FsbChzd2lwZXIpO1xuICB9XG4gIGxldCBvZmZzZXRBZnRlciA9IHBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlcjtcbiAgaWYgKHR5cGVvZiBvZmZzZXRBZnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyLmNhbGwoc3dpcGVyKTtcbiAgfVxuICBjb25zdCBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgY29uc3QgcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoID0gc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoO1xuICBsZXQgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgbGV0IHNsaWRlUG9zaXRpb24gPSAtb2Zmc2V0QmVmb3JlO1xuICBsZXQgcHJldlNsaWRlU2l6ZSA9IDA7XG4gIGxldCBpbmRleCA9IDA7XG4gIGlmICh0eXBlb2Ygc3dpcGVyU2l6ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnICYmIHNwYWNlQmV0d2Vlbi5pbmRleE9mKCclJykgPj0gMCkge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuLnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwICogc3dpcGVyU2l6ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJykge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuKTtcbiAgfVxuICBzd2lwZXIudmlydHVhbFNpemUgPSAtc3BhY2VCZXR3ZWVuO1xuXG4gIC8vIHJlc2V0IG1hcmdpbnNcbiAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgaWYgKHJ0bCkge1xuICAgICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5MZWZ0ID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luUmlnaHQgPSAnJztcbiAgICB9XG4gICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnJztcbiAgICBzbGlkZUVsLnN0eWxlLm1hcmdpblRvcCA9ICcnO1xuICB9KTtcblxuICAvLyByZXNldCBjc3NNb2RlIG9mZnNldHNcbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1iZWZvcmUnLCAnJyk7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWFmdGVyJywgJycpO1xuICB9XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDEgJiYgc3dpcGVyLmdyaWQ7XG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLmluaXRTbGlkZXMoc2xpZGVzKTtcbiAgfSBlbHNlIGlmIChzd2lwZXIuZ3JpZCkge1xuICAgIHN3aXBlci5ncmlkLnVuc2V0U2xpZGVzKCk7XG4gIH1cblxuICAvLyBDYWxjIHNsaWRlc1xuICBsZXQgc2xpZGVTaXplO1xuICBjb25zdCBzaG91bGRSZXNldFNsaWRlU2l6ZSA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLmJyZWFrcG9pbnRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5icmVha3BvaW50cykuZmlsdGVyKGtleSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBwYXJhbXMuYnJlYWtwb2ludHNba2V5XS5zbGlkZXNQZXJWaWV3ICE9PSAndW5kZWZpbmVkJztcbiAgfSkubGVuZ3RoID4gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNMZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlU2l6ZSA9IDA7XG4gICAgbGV0IHNsaWRlO1xuICAgIGlmIChzbGlkZXNbaV0pIHNsaWRlID0gc2xpZGVzW2ldO1xuICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmdyaWQudXBkYXRlU2xpZGUoaSwgc2xpZGUsIHNsaWRlcyk7XG4gICAgfVxuICAgIGlmIChzbGlkZXNbaV0gJiYgZWxlbWVudFN0eWxlKHNsaWRlLCAnZGlzcGxheScpID09PSAnbm9uZScpIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgaWYgKHNob3VsZFJlc2V0U2xpZGVTaXplKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYGA7XG4gICAgICB9XG4gICAgICBjb25zdCBzbGlkZVN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoc2xpZGUpO1xuICAgICAgY29uc3QgY3VycmVudFRyYW5zZm9ybSA9IHNsaWRlLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgIGNvbnN0IGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0gPSBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm07XG4gICAgICBpZiAoY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgICAgICBzbGlkZVNpemUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBlbGVtZW50T3V0ZXJTaXplKHNsaWRlLCAnd2lkdGgnLCB0cnVlKSA6IGVsZW1lbnRPdXRlclNpemUoc2xpZGUsICdoZWlnaHQnLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBjb25zdCB3aWR0aCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICd3aWR0aCcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLWxlZnQnKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgY29uc3QgbWFyZ2luTGVmdCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdtYXJnaW4tbGVmdCcpO1xuICAgICAgICBjb25zdCBtYXJnaW5SaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgY29uc3QgYm94U2l6aW5nID0gc2xpZGVTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnYm94LXNpemluZycpO1xuICAgICAgICBpZiAoYm94U2l6aW5nICYmIGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgc2xpZGVTaXplID0gd2lkdGggKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBvZmZzZXRXaWR0aFxuICAgICAgICAgIH0gPSBzbGlkZTtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0ICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0ICsgKG9mZnNldFdpZHRoIC0gY2xpZW50V2lkdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2Zvcm0gPSBjdXJyZW50VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gY3VycmVudFdlYktpdFRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlU2l6ZSA9IChzd2lwZXJTaXplIC0gKHBhcmFtcy5zbGlkZXNQZXJWaWV3IC0gMSkgKiBzcGFjZUJldHdlZW4pIC8gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVTaXplID0gTWF0aC5mbG9vcihzbGlkZVNpemUpO1xuICAgICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGVbc3dpcGVyLmdldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IGAke3NsaWRlU2l6ZX1weGA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgfVxuICAgIHNsaWRlc1NpemVzR3JpZC5wdXNoKHNsaWRlU2l6ZSk7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gKyBzbGlkZVNpemUgLyAyICsgcHJldlNsaWRlU2l6ZSAvIDIgKyBzcGFjZUJldHdlZW47XG4gICAgICBpZiAocHJldlNsaWRlU2l6ZSA9PT0gMCAmJiBpICE9PSAwKSBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiAtIHN3aXBlclNpemUgLyAyIC0gc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKGkgPT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoTWF0aC5hYnMoc2xpZGVQb3NpdGlvbikgPCAxIC8gMTAwMCkgc2xpZGVQb3NpdGlvbiA9IDA7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVQb3NpdGlvbiA9IE1hdGguZmxvb3Ioc2xpZGVQb3NpdGlvbik7XG4gICAgICBpZiAoaW5kZXggJSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDApIHNuYXBHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICBzbGlkZXNHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmICgoaW5kZXggLSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpKSAlIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDApIHNuYXBHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICBzbGlkZXNHcmlkLnB1c2goc2xpZGVQb3NpdGlvbik7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICB9XG4gICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbjtcbiAgICBwcmV2U2xpZGVTaXplID0gc2xpZGVTaXplO1xuICAgIGluZGV4ICs9IDE7XG4gIH1cbiAgc3dpcGVyLnZpcnR1YWxTaXplID0gTWF0aC5tYXgoc3dpcGVyLnZpcnR1YWxTaXplLCBzd2lwZXJTaXplKSArIG9mZnNldEFmdGVyO1xuICBpZiAocnRsICYmIHdyb25nUlRMICYmIChwYXJhbXMuZWZmZWN0ID09PSAnc2xpZGUnIHx8IHBhcmFtcy5lZmZlY3QgPT09ICdjb3ZlcmZsb3cnKSkge1xuICAgIHdyYXBwZXJFbC5zdHlsZS53aWR0aCA9IGAke3N3aXBlci52aXJ0dWFsU2l6ZSArIHNwYWNlQmV0d2Vlbn1weGA7XG4gIH1cbiAgaWYgKHBhcmFtcy5zZXRXcmFwcGVyU2l6ZSkge1xuICAgIHdyYXBwZXJFbC5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgfVxuICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICBzd2lwZXIuZ3JpZC51cGRhdGVXcmFwcGVyU2l6ZShzbGlkZVNpemUsIHNuYXBHcmlkKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBsYXN0IGdyaWQgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdpZHRoXG4gIGlmICghcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgY29uc3QgbmV3U2xpZGVzR3JpZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc25hcEdyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGxldCBzbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW2ldO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlc0dyaWRJdGVtID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkSXRlbSk7XG4gICAgICBpZiAoc25hcEdyaWRbaV0gPD0gc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkge1xuICAgICAgICBuZXdTbGlkZXNHcmlkLnB1c2goc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICBzbmFwR3JpZCA9IG5ld1NsaWRlc0dyaWQ7XG4gICAgaWYgKE1hdGguZmxvb3Ioc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSkgLSBNYXRoLmZsb29yKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdKSA+IDEpIHtcbiAgICAgIHNuYXBHcmlkLnB1c2goc3dpcGVyLnZpcnR1YWxTaXplIC0gc3dpcGVyU2l6ZSk7XG4gICAgfVxuICB9XG4gIGlmIChpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3ApIHtcbiAgICBjb25zdCBzaXplID0gc2xpZGVzU2l6ZXNHcmlkWzBdICsgc3BhY2VCZXR3ZWVuO1xuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxKSB7XG4gICAgICBjb25zdCBncm91cHMgPSBNYXRoLmNlaWwoKHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0FmdGVyKSAvIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gICAgICBjb25zdCBncm91cFNpemUgPSBzaXplICogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHM7IGkgKz0gMSkge1xuICAgICAgICBzbmFwR3JpZC5wdXNoKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdICsgZ3JvdXBTaXplKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUgKyBzd2lwZXIudmlydHVhbC5zbGlkZXNBZnRlcjsgaSArPSAxKSB7XG4gICAgICBpZiAocGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxKSB7XG4gICAgICAgIHNuYXBHcmlkLnB1c2goc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0gKyBzaXplKTtcbiAgICAgIH1cbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMV0gKyBzaXplKTtcbiAgICAgIHN3aXBlci52aXJ0dWFsU2l6ZSArPSBzaXplO1xuICAgIH1cbiAgfVxuICBpZiAoc25hcEdyaWQubGVuZ3RoID09PSAwKSBzbmFwR3JpZCA9IFswXTtcbiAgaWYgKHNwYWNlQmV0d2VlbiAhPT0gMCkge1xuICAgIGNvbnN0IGtleSA9IHN3aXBlci5pc0hvcml6b250YWwoKSAmJiBydGwgPyAnbWFyZ2luTGVmdCcgOiBzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ21hcmdpblJpZ2h0Jyk7XG4gICAgc2xpZGVzLmZpbHRlcigoXywgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgaWYgKCFwYXJhbXMuY3NzTW9kZSB8fCBwYXJhbXMubG9vcCkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoc2xpZGVJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIHNsaWRlRWwuc3R5bGVba2V5XSA9IGAke3NwYWNlQmV0d2Vlbn1weGA7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpIHtcbiAgICBsZXQgYWxsU2xpZGVzU2l6ZSA9IDA7XG4gICAgc2xpZGVzU2l6ZXNHcmlkLmZvckVhY2goc2xpZGVTaXplVmFsdWUgPT4ge1xuICAgICAgYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChzcGFjZUJldHdlZW4gfHwgMCk7XG4gICAgfSk7XG4gICAgYWxsU2xpZGVzU2l6ZSAtPSBzcGFjZUJldHdlZW47XG4gICAgY29uc3QgbWF4U25hcCA9IGFsbFNsaWRlc1NpemUgLSBzd2lwZXJTaXplO1xuICAgIHNuYXBHcmlkID0gc25hcEdyaWQubWFwKHNuYXAgPT4ge1xuICAgICAgaWYgKHNuYXAgPD0gMCkgcmV0dXJuIC1vZmZzZXRCZWZvcmU7XG4gICAgICBpZiAoc25hcCA+IG1heFNuYXApIHJldHVybiBtYXhTbmFwICsgb2Zmc2V0QWZ0ZXI7XG4gICAgICByZXR1cm4gc25hcDtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmNlbnRlckluc3VmZmljaWVudFNsaWRlcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHNwYWNlQmV0d2VlbiB8fCAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHNwYWNlQmV0d2VlbjtcbiAgICBpZiAoYWxsU2xpZGVzU2l6ZSA8IHN3aXBlclNpemUpIHtcbiAgICAgIGNvbnN0IGFsbFNsaWRlc09mZnNldCA9IChzd2lwZXJTaXplIC0gYWxsU2xpZGVzU2l6ZSkgLyAyO1xuICAgICAgc25hcEdyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICAgIHNuYXBHcmlkW3NuYXBJbmRleF0gPSBzbmFwIC0gYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBzbGlkZXNHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgICBzbGlkZXNHcmlkW3NuYXBJbmRleF0gPSBzbmFwICsgYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgc2xpZGVzLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgc2xpZGVzU2l6ZXNHcmlkXG4gIH0pO1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlICYmICFwYXJhbXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpIHtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlJywgYCR7LXNuYXBHcmlkWzBdfXB4YCk7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWFmdGVyJywgYCR7c3dpcGVyLnNpemUgLyAyIC0gc2xpZGVzU2l6ZXNHcmlkW3NsaWRlc1NpemVzR3JpZC5sZW5ndGggLSAxXSAvIDJ9cHhgKTtcbiAgICBjb25zdCBhZGRUb1NuYXBHcmlkID0gLXN3aXBlci5zbmFwR3JpZFswXTtcbiAgICBjb25zdCBhZGRUb1NsaWRlc0dyaWQgPSAtc3dpcGVyLnNsaWRlc0dyaWRbMF07XG4gICAgc3dpcGVyLnNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLm1hcCh2ID0+IHYgKyBhZGRUb1NuYXBHcmlkKTtcbiAgICBzd2lwZXIuc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLm1hcCh2ID0+IHYgKyBhZGRUb1NsaWRlc0dyaWQpO1xuICB9XG4gIGlmIChzbGlkZXNMZW5ndGggIT09IHByZXZpb3VzU2xpZGVzTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0xlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU25hcEdyaWRMZW5ndGgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIHN3aXBlci5lbWl0KCdzbmFwR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChzbGlkZXNHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0dyaWRMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NsaWRlc1VwZGF0ZWQnKTtcbiAgaWYgKCFpc1ZpcnR1YWwgJiYgIXBhcmFtcy5jc3NNb2RlICYmIChwYXJhbXMuZWZmZWN0ID09PSAnc2xpZGUnIHx8IHBhcmFtcy5lZmZlY3QgPT09ICdmYWRlJykpIHtcbiAgICBjb25zdCBiYWNrRmFjZUhpZGRlbkNsYXNzID0gYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9YmFja2ZhY2UtaGlkZGVuYDtcbiAgICBjb25zdCBoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCA9IHN3aXBlci5lbC5jbGFzc0xpc3QuY29udGFpbnMoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgaWYgKHNsaWRlc0xlbmd0aCA8PSBwYXJhbXMubWF4QmFja2ZhY2VIaWRkZW5TbGlkZXMpIHtcbiAgICAgIGlmICghaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVBdXRvSGVpZ2h0KHNwZWVkKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGFjdGl2ZVNsaWRlcyA9IFtdO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgbGV0IG5ld0hlaWdodCA9IDA7XG4gIGxldCBpO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAnbnVtYmVyJykge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgfSBlbHNlIGlmIChzcGVlZCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpO1xuICB9XG4gIGNvbnN0IGdldFNsaWRlQnlJbmRleCA9IGluZGV4ID0+IHtcbiAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICByZXR1cm4gc3dpcGVyLnNsaWRlc1tzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShpbmRleCldO1xuICAgIH1cbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlc1tpbmRleF07XG4gIH07XG4gIC8vIEZpbmQgc2xpZGVzIGN1cnJlbnRseSBpbiB2aWV3XG4gIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIChzd2lwZXIudmlzaWJsZVNsaWRlcyB8fCBbXSkuZm9yRWFjaChzbGlkZSA9PiB7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyk7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCArIGk7XG4gICAgICAgIGlmIChpbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoICYmICFpc1ZpcnR1YWwpIGJyZWFrO1xuICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlU2xpZGVzLnB1c2goZ2V0U2xpZGVCeUluZGV4KHN3aXBlci5hY3RpdmVJbmRleCkpO1xuICB9XG5cbiAgLy8gRmluZCBuZXcgaGVpZ2h0IGZyb20gaGlnaGVzdCBzbGlkZSBpbiB2aWV3XG4gIGZvciAoaSA9IDA7IGkgPCBhY3RpdmVTbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGFjdGl2ZVNsaWRlc1tpXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBuZXdIZWlnaHQgPSBoZWlnaHQgPiBuZXdIZWlnaHQgPyBoZWlnaHQgOiBuZXdIZWlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIEhlaWdodFxuICBpZiAobmV3SGVpZ2h0IHx8IG5ld0hlaWdodCA9PT0gMCkgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNPZmZzZXQoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBtaW51c09mZnNldCA9IHN3aXBlci5pc0VsZW1lbnQgPyBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzd2lwZXIud3JhcHBlckVsLm9mZnNldExlZnQgOiBzd2lwZXIud3JhcHBlckVsLm9mZnNldFRvcCA6IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlT2Zmc2V0ID0gKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlc1tpXS5vZmZzZXRMZWZ0IDogc2xpZGVzW2ldLm9mZnNldFRvcCkgLSBtaW51c09mZnNldCAtIHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlID0gdGhpcyAmJiB0aGlzLnRyYW5zbGF0ZSB8fCAwO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgc25hcEdyaWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQgPT09ICd1bmRlZmluZWQnKSBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIGxldCBvZmZzZXRDZW50ZXIgPSAtdHJhbnNsYXRlO1xuICBpZiAocnRsKSBvZmZzZXRDZW50ZXIgPSB0cmFuc2xhdGU7XG5cbiAgLy8gVmlzaWJsZSBTbGlkZXNcbiAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcywgcGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MpO1xuICB9KTtcbiAgc3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzID0gW107XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzID0gW107XG4gIGxldCBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4ucmVwbGFjZSgnJScsICcnKSkgLyAxMDAgKiBzd2lwZXIuc2l6ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJykge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHNsaWRlID0gc2xpZGVzW2ldO1xuICAgIGxldCBzbGlkZU9mZnNldCA9IHNsaWRlLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgIGlmIChwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHNsaWRlT2Zmc2V0IC09IHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICB9XG4gICAgY29uc3Qgc2xpZGVQcm9ncmVzcyA9IChvZmZzZXRDZW50ZXIgKyAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIDogMCkgLSBzbGlkZU9mZnNldCkgLyAoc2xpZGUuc3dpcGVyU2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuKTtcbiAgICBjb25zdCBvcmlnaW5hbFNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyIC0gc25hcEdyaWRbMF0gKyAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIDogMCkgLSBzbGlkZU9mZnNldCkgLyAoc2xpZGUuc3dpcGVyU2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuKTtcbiAgICBjb25zdCBzbGlkZUJlZm9yZSA9IC0ob2Zmc2V0Q2VudGVyIC0gc2xpZGVPZmZzZXQpO1xuICAgIGNvbnN0IHNsaWRlQWZ0ZXIgPSBzbGlkZUJlZm9yZSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbaV07XG4gICAgY29uc3QgaXNGdWxseVZpc2libGUgPSBzbGlkZUJlZm9yZSA+PSAwICYmIHNsaWRlQmVmb3JlIDw9IHN3aXBlci5zaXplIC0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICBjb25zdCBpc1Zpc2libGUgPSBzbGlkZUJlZm9yZSA+PSAwICYmIHNsaWRlQmVmb3JlIDwgc3dpcGVyLnNpemUgLSAxIHx8IHNsaWRlQWZ0ZXIgPiAxICYmIHNsaWRlQWZ0ZXIgPD0gc3dpcGVyLnNpemUgfHwgc2xpZGVCZWZvcmUgPD0gMCAmJiBzbGlkZUFmdGVyID49IHN3aXBlci5zaXplO1xuICAgIGlmIChpc1Zpc2libGUpIHtcbiAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzLnB1c2goc2xpZGUpO1xuICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzLnB1c2goaSk7XG4gICAgICBzbGlkZXNbaV0uY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAoaXNGdWxseVZpc2libGUpIHtcbiAgICAgIHNsaWRlc1tpXS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZUZ1bGx5VmlzaWJsZUNsYXNzKTtcbiAgICB9XG4gICAgc2xpZGUucHJvZ3Jlc3MgPSBydGwgPyAtc2xpZGVQcm9ncmVzcyA6IHNsaWRlUHJvZ3Jlc3M7XG4gICAgc2xpZGUub3JpZ2luYWxQcm9ncmVzcyA9IHJ0bCA/IC1vcmlnaW5hbFNsaWRlUHJvZ3Jlc3MgOiBvcmlnaW5hbFNsaWRlUHJvZ3Jlc3M7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdHJhbnNsYXRlID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLTEgOiAxO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHRyYW5zbGF0ZSA9IHN3aXBlciAmJiBzd2lwZXIudHJhbnNsYXRlICYmIHN3aXBlci50cmFuc2xhdGUgKiBtdWx0aXBsaWVyIHx8IDA7XG4gIH1cbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGxldCB7XG4gICAgcHJvZ3Jlc3MsXG4gICAgaXNCZWdpbm5pbmcsXG4gICAgaXNFbmQsXG4gICAgcHJvZ3Jlc3NMb29wXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHdhc0JlZ2lubmluZyA9IGlzQmVnaW5uaW5nO1xuICBjb25zdCB3YXNFbmQgPSBpc0VuZDtcbiAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgcHJvZ3Jlc3MgPSAwO1xuICAgIGlzQmVnaW5uaW5nID0gdHJ1ZTtcbiAgICBpc0VuZCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICAgIGNvbnN0IGlzQmVnaW5uaW5nUm91bmRlZCA9IE1hdGguYWJzKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgPCAxO1xuICAgIGNvbnN0IGlzRW5kUm91bmRlZCA9IE1hdGguYWJzKHRyYW5zbGF0ZSAtIHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgPCAxO1xuICAgIGlzQmVnaW5uaW5nID0gaXNCZWdpbm5pbmdSb3VuZGVkIHx8IHByb2dyZXNzIDw9IDA7XG4gICAgaXNFbmQgPSBpc0VuZFJvdW5kZWQgfHwgcHJvZ3Jlc3MgPj0gMTtcbiAgICBpZiAoaXNCZWdpbm5pbmdSb3VuZGVkKSBwcm9ncmVzcyA9IDA7XG4gICAgaWYgKGlzRW5kUm91bmRlZCkgcHJvZ3Jlc3MgPSAxO1xuICB9XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGNvbnN0IGZpcnN0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKDApO1xuICAgIGNvbnN0IGxhc3RTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEoc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBmaXJzdFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbZmlyc3RTbGlkZUluZGV4XTtcbiAgICBjb25zdCBsYXN0U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFtsYXN0U2xpZGVJbmRleF07XG4gICAgY29uc3QgdHJhbnNsYXRlTWF4ID0gc3dpcGVyLnNsaWRlc0dyaWRbc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgdHJhbnNsYXRlQWJzID0gTWF0aC5hYnModHJhbnNsYXRlKTtcbiAgICBpZiAodHJhbnNsYXRlQWJzID49IGZpcnN0U2xpZGVUcmFuc2xhdGUpIHtcbiAgICAgIHByb2dyZXNzTG9vcCA9ICh0cmFuc2xhdGVBYnMgLSBmaXJzdFNsaWRlVHJhbnNsYXRlKSAvIHRyYW5zbGF0ZU1heDtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZ3Jlc3NMb29wID0gKHRyYW5zbGF0ZUFicyArIHRyYW5zbGF0ZU1heCAtIGxhc3RTbGlkZVRyYW5zbGF0ZSkgLyB0cmFuc2xhdGVNYXg7XG4gICAgfVxuICAgIGlmIChwcm9ncmVzc0xvb3AgPiAxKSBwcm9ncmVzc0xvb3AgLT0gMTtcbiAgfVxuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHByb2dyZXNzLFxuICAgIHByb2dyZXNzTG9vcCxcbiAgICBpc0JlZ2lubmluZyxcbiAgICBpc0VuZFxuICB9KTtcbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuYXV0b0hlaWdodCkgc3dpcGVyLnVwZGF0ZVNsaWRlc1Byb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIGlmIChpc0JlZ2lubmluZyAmJiAhd2FzQmVnaW5uaW5nKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3JlYWNoQmVnaW5uaW5nIHRvRWRnZScpO1xuICB9XG4gIGlmIChpc0VuZCAmJiAhd2FzRW5kKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3JlYWNoRW5kIHRvRWRnZScpO1xuICB9XG4gIGlmICh3YXNCZWdpbm5pbmcgJiYgIWlzQmVnaW5uaW5nIHx8IHdhc0VuZCAmJiAhaXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgnZnJvbUVkZ2UnKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgncHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc0NsYXNzZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsLFxuICAgIGFjdGl2ZUluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGNvbnN0IGdldEZpbHRlcmVkU2xpZGUgPSBzZWxlY3RvciA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSR7c2VsZWN0b3J9LCBzd2lwZXItc2xpZGUke3NlbGVjdG9yfWApWzBdO1xuICB9O1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MsIHBhcmFtcy5zbGlkZU5leHRDbGFzcywgcGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgfSk7XG4gIGxldCBhY3RpdmVTbGlkZTtcbiAgbGV0IHByZXZTbGlkZTtcbiAgbGV0IG5leHRTbGlkZTtcbiAgaWYgKGlzVmlydHVhbCkge1xuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgbGV0IHNsaWRlSW5kZXggPSBhY3RpdmVJbmRleCAtIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICAgIGlmIChzbGlkZUluZGV4IDwgMCkgc2xpZGVJbmRleCA9IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyBzbGlkZUluZGV4O1xuICAgICAgaWYgKHNsaWRlSW5kZXggPj0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCkgc2xpZGVJbmRleCAtPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoO1xuICAgICAgYWN0aXZlU2xpZGUgPSBnZXRGaWx0ZXJlZFNsaWRlKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3NsaWRlSW5kZXh9XCJdYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gZ2V0RmlsdGVyZWRTbGlkZShgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHthY3RpdmVJbmRleH1cIl1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXgpWzBdO1xuICAgICAgbmV4dFNsaWRlID0gc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCArIDEpWzBdO1xuICAgICAgcHJldlNsaWRlID0gc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCAtIDEpWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1thY3RpdmVJbmRleF07XG4gICAgfVxuICB9XG4gIGlmIChhY3RpdmVTbGlkZSkge1xuICAgIC8vIEFjdGl2ZSBjbGFzc2VzXG4gICAgYWN0aXZlU2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBpZiAobmV4dFNsaWRlKSB7XG4gICAgICAgIG5leHRTbGlkZS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAocHJldlNsaWRlKSB7XG4gICAgICAgIHByZXZTbGlkZS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5leHQgU2xpZGVcbiAgICAgIG5leHRTbGlkZSA9IGVsZW1lbnROZXh0QWxsKGFjdGl2ZVNsaWRlLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKVswXTtcbiAgICAgIGlmIChwYXJhbXMubG9vcCAmJiAhbmV4dFNsaWRlKSB7XG4gICAgICAgIG5leHRTbGlkZSA9IHNsaWRlc1swXTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0U2xpZGUpIHtcbiAgICAgICAgbmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJldiBTbGlkZVxuICAgICAgcHJldlNsaWRlID0gZWxlbWVudFByZXZBbGwoYWN0aXZlU2xpZGUsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApWzBdO1xuICAgICAgaWYgKHBhcmFtcy5sb29wICYmICFwcmV2U2xpZGUgPT09IDApIHtcbiAgICAgICAgcHJldlNsaWRlID0gc2xpZGVzW3NsaWRlcy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2U2xpZGUpIHtcbiAgICAgICAgcHJldlNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXRTbGlkZXNDbGFzc2VzKCk7XG59XG5cbmNvbnN0IHByb2Nlc3NMYXp5UHJlbG9hZGVyID0gKHN3aXBlciwgaW1hZ2VFbCkgPT4ge1xuICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIucGFyYW1zKSByZXR1cm47XG4gIGNvbnN0IHNsaWRlU2VsZWN0b3IgPSAoKSA9PiBzd2lwZXIuaXNFbGVtZW50ID8gYHN3aXBlci1zbGlkZWAgOiBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWA7XG4gIGNvbnN0IHNsaWRlRWwgPSBpbWFnZUVsLmNsb3Nlc3Qoc2xpZGVTZWxlY3RvcigpKTtcbiAgaWYgKHNsaWRlRWwpIHtcbiAgICBsZXQgbGF6eUVsID0gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICBpZiAoIWxhenlFbCAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBpZiAoc2xpZGVFbC5zaGFkb3dSb290KSB7XG4gICAgICAgIGxhenlFbCA9IHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaXQgbGF0ZXJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGVFbC5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBsYXp5RWwgPSBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgICAgICAgICBpZiAobGF6eUVsKSBsYXp5RWwucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhenlFbCkgbGF6eUVsLnJlbW92ZSgpO1xuICB9XG59O1xuY29uc3QgdW5sYXp5ID0gKHN3aXBlciwgaW5kZXgpID0+IHtcbiAgaWYgKCFzd2lwZXIuc2xpZGVzW2luZGV4XSkgcmV0dXJuO1xuICBjb25zdCBpbWFnZUVsID0gc3dpcGVyLnNsaWRlc1tpbmRleF0ucXVlcnlTZWxlY3RvcignW2xvYWRpbmc9XCJsYXp5XCJdJyk7XG4gIGlmIChpbWFnZUVsKSBpbWFnZUVsLnJlbW92ZUF0dHJpYnV0ZSgnbG9hZGluZycpO1xufTtcbmNvbnN0IHByZWxvYWQgPSBzd2lwZXIgPT4ge1xuICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIucGFyYW1zKSByZXR1cm47XG4gIGxldCBhbW91bnQgPSBzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkUHJldk5leHQ7XG4gIGNvbnN0IGxlbiA9IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICBpZiAoIWxlbiB8fCAhYW1vdW50IHx8IGFtb3VudCA8IDApIHJldHVybjtcbiAgYW1vdW50ID0gTWF0aC5taW4oYW1vdW50LCBsZW4pO1xuICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpO1xuICBjb25zdCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgaWYgKHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDEpIHtcbiAgICBjb25zdCBhY3RpdmVDb2x1bW4gPSBhY3RpdmVJbmRleDtcbiAgICBjb25zdCBwcmVsb2FkQ29sdW1ucyA9IFthY3RpdmVDb2x1bW4gLSBhbW91bnRdO1xuICAgIHByZWxvYWRDb2x1bW5zLnB1c2goLi4uQXJyYXkuZnJvbSh7XG4gICAgICBsZW5ndGg6IGFtb3VudFxuICAgIH0pLm1hcCgoXywgaSkgPT4ge1xuICAgICAgcmV0dXJuIGFjdGl2ZUNvbHVtbiArIHNsaWRlc1BlclZpZXcgKyBpO1xuICAgIH0pKTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlRWwsIGkpID0+IHtcbiAgICAgIGlmIChwcmVsb2FkQ29sdW1ucy5pbmNsdWRlcyhzbGlkZUVsLmNvbHVtbikpIHVubGF6eShzd2lwZXIsIGkpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzbGlkZUluZGV4TGFzdEluVmlldyA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzUGVyVmlldyAtIDE7XG4gIGlmIChzd2lwZXIucGFyYW1zLnJld2luZCB8fCBzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSBhbW91bnQ7IGkgPD0gc2xpZGVJbmRleExhc3RJblZpZXcgKyBhbW91bnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgcmVhbEluZGV4ID0gKGkgJSBsZW4gKyBsZW4pICUgbGVuO1xuICAgICAgaWYgKHJlYWxJbmRleCA8IGFjdGl2ZUluZGV4IHx8IHJlYWxJbmRleCA+IHNsaWRlSW5kZXhMYXN0SW5WaWV3KSB1bmxhenkoc3dpcGVyLCByZWFsSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gTWF0aC5tYXgoYWN0aXZlSW5kZXggLSBhbW91bnQsIDApOyBpIDw9IE1hdGgubWluKHNsaWRlSW5kZXhMYXN0SW5WaWV3ICsgYW1vdW50LCBsZW4gLSAxKTsgaSArPSAxKSB7XG4gICAgICBpZiAoaSAhPT0gYWN0aXZlSW5kZXggJiYgKGkgPiBzbGlkZUluZGV4TGFzdEluVmlldyB8fCBpIDwgYWN0aXZlSW5kZXgpKSB7XG4gICAgICAgIHVubGF6eShzd2lwZXIsIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgY29uc3Qge1xuICAgIHNsaWRlc0dyaWQsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGxldCBhY3RpdmVJbmRleDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSAtIChzbGlkZXNHcmlkW2kgKyAxXSAtIHNsaWRlc0dyaWRbaV0pIC8gMikge1xuICAgICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gaSArIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgIH1cbiAgfVxuICAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPCAwIHx8IHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIGFjdGl2ZUluZGV4ID0gMDtcbiAgfVxuICByZXR1cm4gYWN0aXZlSW5kZXg7XG59XG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBjb25zdCB7XG4gICAgc25hcEdyaWQsXG4gICAgcGFyYW1zLFxuICAgIGFjdGl2ZUluZGV4OiBwcmV2aW91c0luZGV4LFxuICAgIHJlYWxJbmRleDogcHJldmlvdXNSZWFsSW5kZXgsXG4gICAgc25hcEluZGV4OiBwcmV2aW91c1NuYXBJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleDtcbiAgbGV0IHNuYXBJbmRleDtcbiAgY29uc3QgZ2V0VmlydHVhbFJlYWxJbmRleCA9IGFJbmRleCA9PiB7XG4gICAgbGV0IHJlYWxJbmRleCA9IGFJbmRleCAtIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICBpZiAocmVhbEluZGV4IDwgMCkge1xuICAgICAgcmVhbEluZGV4ID0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHJlYWxJbmRleDtcbiAgICB9XG4gICAgaWYgKHJlYWxJbmRleCA+PSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZWFsSW5kZXggLT0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWxJbmRleDtcbiAgfTtcbiAgaWYgKHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY3RpdmVJbmRleCA9IGdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUoc3dpcGVyKTtcbiAgfVxuICBpZiAoc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpID49IDApIHtcbiAgICBzbmFwSW5kZXggPSBzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGFjdGl2ZUluZGV4KTtcbiAgICBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoYWN0aXZlSW5kZXggLSBza2lwKSAvIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIH1cbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG4gIGlmIChhY3RpdmVJbmRleCA9PT0gcHJldmlvdXNJbmRleCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHNuYXBJbmRleCAhPT0gcHJldmlvdXNTbmFwSW5kZXgpIHtcbiAgICAgIHN3aXBlci5zbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYWN0aXZlSW5kZXggPT09IHByZXZpb3VzSW5kZXggJiYgc3dpcGVyLnBhcmFtcy5sb29wICYmIHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgc3dpcGVyLnJlYWxJbmRleCA9IGdldFZpcnR1YWxSZWFsSW5kZXgoYWN0aXZlSW5kZXgpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuXG4gIC8vIEdldCByZWFsIGluZGV4XG4gIGxldCByZWFsSW5kZXg7XG4gIGlmIChzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHBhcmFtcy5sb29wKSB7XG4gICAgcmVhbEluZGV4ID0gZ2V0VmlydHVhbFJlYWxJbmRleChhY3RpdmVJbmRleCk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5Db2x1bW4gPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleClbMF07XG4gICAgbGV0IGFjdGl2ZVNsaWRlSW5kZXggPSBwYXJzZUludChmaXJzdFNsaWRlSW5Db2x1bW4uZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgaWYgKE51bWJlci5pc05hTihhY3RpdmVTbGlkZUluZGV4KSkge1xuICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IE1hdGgubWF4KHN3aXBlci5zbGlkZXMuaW5kZXhPZihmaXJzdFNsaWRlSW5Db2x1bW4pLCAwKTtcbiAgICB9XG4gICAgcmVhbEluZGV4ID0gTWF0aC5mbG9vcihhY3RpdmVTbGlkZUluZGV4IC8gcGFyYW1zLmdyaWQucm93cyk7XG4gIH0gZWxzZSBpZiAoc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleF0pIHtcbiAgICBjb25zdCBzbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICByZWFsSW5kZXggPSBwYXJzZUludChzbGlkZUluZGV4LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWxJbmRleCA9IGFjdGl2ZUluZGV4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZWFsSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgfVxuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHByZXZpb3VzU25hcEluZGV4LFxuICAgIHNuYXBJbmRleCxcbiAgICBwcmV2aW91c1JlYWxJbmRleCxcbiAgICByZWFsSW5kZXgsXG4gICAgcHJldmlvdXNJbmRleCxcbiAgICBhY3RpdmVJbmRleFxuICB9KTtcbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCkge1xuICAgIHByZWxvYWQoc3dpcGVyKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnYWN0aXZlSW5kZXhDaGFuZ2UnKTtcbiAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkIHx8IHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSB7XG4gICAgaWYgKHByZXZpb3VzUmVhbEluZGV4ICE9PSByZWFsSW5kZXgpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdyZWFsSW5kZXhDaGFuZ2UnKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlQ2hhbmdlJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2xpY2tlZFNsaWRlKGVsLCBwYXRoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGxldCBzbGlkZSA9IGVsLmNsb3Nlc3QoYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIGlmICghc2xpZGUgJiYgc3dpcGVyLmlzRWxlbWVudCAmJiBwYXRoICYmIHBhdGgubGVuZ3RoID4gMSAmJiBwYXRoLmluY2x1ZGVzKGVsKSkge1xuICAgIFsuLi5wYXRoLnNsaWNlKHBhdGguaW5kZXhPZihlbCkgKyAxLCBwYXRoLmxlbmd0aCldLmZvckVhY2gocGF0aEVsID0+IHtcbiAgICAgIGlmICghc2xpZGUgJiYgcGF0aEVsLm1hdGNoZXMgJiYgcGF0aEVsLm1hdGNoZXMoYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCkpIHtcbiAgICAgICAgc2xpZGUgPSBwYXRoRWw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbGV0IHNsaWRlRm91bmQgPSBmYWxzZTtcbiAgbGV0IHNsaWRlSW5kZXg7XG4gIGlmIChzbGlkZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHN3aXBlci5zbGlkZXNbaV0gPT09IHNsaWRlKSB7XG4gICAgICAgIHNsaWRlRm91bmQgPSB0cnVlO1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzbGlkZSAmJiBzbGlkZUZvdW5kKSB7XG4gICAgc3dpcGVyLmNsaWNrZWRTbGlkZSA9IHNsaWRlO1xuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHBhcnNlSW50KHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gc2xpZGVJbmRleDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLmNsaWNrZWRTbGlkZSA9IHVuZGVmaW5lZDtcbiAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLnNsaWRlVG9DbGlja2VkU2xpZGUgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gdW5kZWZpbmVkICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHN3aXBlci5hY3RpdmVJbmRleCkge1xuICAgIHN3aXBlci5zbGlkZVRvQ2xpY2tlZFNsaWRlKCk7XG4gIH1cbn1cblxudmFyIHVwZGF0ZSA9IHtcbiAgdXBkYXRlU2l6ZSxcbiAgdXBkYXRlU2xpZGVzLFxuICB1cGRhdGVBdXRvSGVpZ2h0LFxuICB1cGRhdGVTbGlkZXNPZmZzZXQsXG4gIHVwZGF0ZVNsaWRlc1Byb2dyZXNzLFxuICB1cGRhdGVQcm9ncmVzcyxcbiAgdXBkYXRlU2xpZGVzQ2xhc3NlcyxcbiAgdXBkYXRlQWN0aXZlSW5kZXgsXG4gIHVwZGF0ZUNsaWNrZWRTbGlkZVxufTtcblxuZnVuY3Rpb24gZ2V0U3dpcGVyVHJhbnNsYXRlKGF4aXMpIHtcbiAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgIGF4aXMgPSB0aGlzLmlzSG9yaXpvbnRhbCgpID8gJ3gnIDogJ3knO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgdHJhbnNsYXRlLFxuICAgIHdyYXBwZXJFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHtcbiAgICByZXR1cm4gcnRsID8gLXRyYW5zbGF0ZSA6IHRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRlO1xuICB9XG4gIGxldCBjdXJyZW50VHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKHdyYXBwZXJFbCwgYXhpcyk7XG4gIGN1cnJlbnRUcmFuc2xhdGUgKz0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICBpZiAocnRsKSBjdXJyZW50VHJhbnNsYXRlID0gLWN1cnJlbnRUcmFuc2xhdGU7XG4gIHJldHVybiBjdXJyZW50VHJhbnNsYXRlIHx8IDA7XG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zbGF0ZSh0cmFuc2xhdGUsIGJ5Q29udHJvbGxlcikge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgcGFyYW1zLFxuICAgIHdyYXBwZXJFbCxcbiAgICBwcm9ncmVzc1xuICB9ID0gc3dpcGVyO1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgY29uc3QgeiA9IDA7XG4gIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICB4ID0gcnRsID8gLXRyYW5zbGF0ZSA6IHRyYW5zbGF0ZTtcbiAgfSBlbHNlIHtcbiAgICB5ID0gdHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgeCA9IE1hdGguZmxvb3IoeCk7XG4gICAgeSA9IE1hdGguZmxvb3IoeSk7XG4gIH1cbiAgc3dpcGVyLnByZXZpb3VzVHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgc3dpcGVyLnRyYW5zbGF0ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHggOiB5O1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB3cmFwcGVyRWxbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gLXggOiAteTtcbiAgfSBlbHNlIGlmICghcGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHtcbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB4IC09IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeSAtPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gICAgfVxuICAgIHdyYXBwZXJFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt4fXB4LCAke3l9cHgsICR7en1weClgO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byB1cGRhdGUgcHJvZ3Jlc3NcbiAgbGV0IG5ld1Byb2dyZXNzO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAwO1xuICB9IGVsc2Uge1xuICAgIG5ld1Byb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgfVxuICBpZiAobmV3UHJvZ3Jlc3MgIT09IHByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIG1pblRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkWzBdO1xufVxuXG5mdW5jdGlvbiBtYXhUcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aCAtIDFdO1xufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVUbyh0cmFuc2xhdGUsIHNwZWVkLCBydW5DYWxsYmFja3MsIHRyYW5zbGF0ZUJvdW5kcywgaW50ZXJuYWwpIHtcbiAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlID0gMDtcbiAgfVxuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHJhbnNsYXRlQm91bmRzID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGVCb3VuZHMgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgbWluVHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBjb25zdCBtYXhUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gIGxldCBuZXdUcmFuc2xhdGU7XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlID4gbWluVHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtaW5UcmFuc2xhdGU7ZWxzZSBpZiAodHJhbnNsYXRlQm91bmRzICYmIHRyYW5zbGF0ZSA8IG1heFRyYW5zbGF0ZSkgbmV3VHJhbnNsYXRlID0gbWF4VHJhbnNsYXRlO2Vsc2UgbmV3VHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MobmV3VHJhbnNsYXRlKTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgY29uc3QgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IC1uZXdUcmFuc2xhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3dpcGVyLnN1cHBvcnQuc21vb3RoU2Nyb2xsKSB7XG4gICAgICAgIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKHtcbiAgICAgICAgICBzd2lwZXIsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb246IC1uZXdUcmFuc2xhdGUsXG4gICAgICAgICAgc2lkZTogaXNIID8gJ2xlZnQnIDogJ3RvcCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogLW5ld1RyYW5zbGF0ZSxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uU3RhcnQnKTtcbiAgICB9XG4gICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgIGlmICghc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kO1xuICAgICAgICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgICAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uRW5kJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG52YXIgdHJhbnNsYXRlID0ge1xuICBnZXRUcmFuc2xhdGU6IGdldFN3aXBlclRyYW5zbGF0ZSxcbiAgc2V0VHJhbnNsYXRlLFxuICBtaW5UcmFuc2xhdGUsXG4gIG1heFRyYW5zbGF0ZSxcbiAgdHJhbnNsYXRlVG9cbn07XG5cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gZHVyYXRpb24gPT09IDAgPyBgMG1zYCA6ICcnO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2l0aW9uJywgZHVyYXRpb24sIGJ5Q29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbWl0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwXG4gIH0gPSBfcmVmO1xuICBjb25zdCB7XG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcHJldmlvdXNJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgZGlyID0gZGlyZWN0aW9uO1xuICBpZiAoIWRpcikge1xuICAgIGlmIChhY3RpdmVJbmRleCA+IHByZXZpb3VzSW5kZXgpIGRpciA9ICduZXh0JztlbHNlIGlmIChhY3RpdmVJbmRleCA8IHByZXZpb3VzSW5kZXgpIGRpciA9ICdwcmV2JztlbHNlIGRpciA9ICdyZXNldCc7XG4gIH1cbiAgc3dpcGVyLmVtaXQoYHRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gIGlmIChydW5DYWxsYmFja3MgJiYgYWN0aXZlSW5kZXggIT09IHByZXZpb3VzSW5kZXgpIHtcbiAgICBpZiAoZGlyID09PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVSZXNldFRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KGBzbGlkZUNoYW5nZVRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgaWYgKGRpciA9PT0gJ25leHQnKSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVOZXh0VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlUHJldlRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gIH1cbiAgdHJhbnNpdGlvbkVtaXQoe1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXA6ICdTdGFydCdcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICB0cmFuc2l0aW9uRW1pdCh7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcDogJ0VuZCdcbiAgfSk7XG59XG5cbnZhciB0cmFuc2l0aW9uID0ge1xuICBzZXRUcmFuc2l0aW9uLFxuICB0cmFuc2l0aW9uU3RhcnQsXG4gIHRyYW5zaXRpb25FbmRcbn07XG5cbmZ1bmN0aW9uIHNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsLCBpbml0aWFsKSB7XG4gIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XG4gICAgaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCBzbGlkZUluZGV4ID0gaW5kZXg7XG4gIGlmIChzbGlkZUluZGV4IDwgMCkgc2xpZGVJbmRleCA9IDA7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHdyYXBwZXJFbCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24gfHwgIWVuYWJsZWQgJiYgIWludGVybmFsICYmICFpbml0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgc2xpZGVJbmRleCk7XG4gIGxldCBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoc2xpZGVJbmRleCAtIHNraXApIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIGlmIChzbmFwSW5kZXggPj0gc25hcEdyaWQubGVuZ3RoKSBzbmFwSW5kZXggPSBzbmFwR3JpZC5sZW5ndGggLSAxO1xuICBjb25zdCB0cmFuc2xhdGUgPSAtc25hcEdyaWRbc25hcEluZGV4XTtcbiAgLy8gTm9ybWFsaXplIHNsaWRlSW5kZXhcbiAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkVHJhbnNsYXRlID0gLU1hdGguZmxvb3IodHJhbnNsYXRlICogMTAwKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHcmlkID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2ldICogMTAwKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHcmlkTmV4dCA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZFtpICsgMV0gKiAxMDApO1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdyaWQgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA8IG5vcm1hbGl6ZWRHcmlkTmV4dCAtIChub3JtYWxpemVkR3JpZE5leHQgLSBub3JtYWxpemVkR3JpZCkgLyAyKSB7XG4gICAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0KSB7XG4gICAgICAgICAgc2xpZGVJbmRleCA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdyaWQpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERpcmVjdGlvbnMgbG9ja3NcbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCAmJiBzbGlkZUluZGV4ICE9PSBhY3RpdmVJbmRleCkge1xuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIChydGwgPyB0cmFuc2xhdGUgPiBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA+IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IHRyYW5zbGF0ZSA8IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlIDwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiB0cmFuc2xhdGUgPiBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA+IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgaWYgKChhY3RpdmVJbmRleCB8fCAwKSAhPT0gc2xpZGVJbmRleCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzbGlkZUluZGV4ICE9PSAocHJldmlvdXNJbmRleCB8fCAwKSAmJiBydW5DYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlU2xpZGVDaGFuZ2VTdGFydCcpO1xuICB9XG5cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICBsZXQgZGlyZWN0aW9uO1xuICBpZiAoc2xpZGVJbmRleCA+IGFjdGl2ZUluZGV4KSBkaXJlY3Rpb24gPSAnbmV4dCc7ZWxzZSBpZiAoc2xpZGVJbmRleCA8IGFjdGl2ZUluZGV4KSBkaXJlY3Rpb24gPSAncHJldic7ZWxzZSBkaXJlY3Rpb24gPSAncmVzZXQnO1xuXG4gIC8vIFVwZGF0ZSBJbmRleFxuICBpZiAocnRsICYmIC10cmFuc2xhdGUgPT09IHN3aXBlci50cmFuc2xhdGUgfHwgIXJ0bCAmJiB0cmFuc2xhdGUgPT09IHN3aXBlci50cmFuc2xhdGUpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gICAgLy8gVXBkYXRlIEhlaWdodFxuICAgIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICB9XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICBpZiAocGFyYW1zLmVmZmVjdCAhPT0gJ3NsaWRlJykge1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICAgIH1cbiAgICBpZiAoZGlyZWN0aW9uICE9PSAncmVzZXQnKSB7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIGNvbnN0IGlzSCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0ID0gcnRsID8gdHJhbnNsYXRlIDogLXRyYW5zbGF0ZTtcbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJ25vbmUnO1xuICAgICAgICBzd2lwZXIuX2ltbWVkaWF0ZVZpcnR1YWwgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmlydHVhbCAmJiAhc3dpcGVyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQgJiYgc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUgPiAwKSB7XG4gICAgICAgIHN3aXBlci5fY3NzTW9kZVZpcnR1YWxJbml0aWFsU2V0ID0gdHJ1ZTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gdDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gdDtcbiAgICAgIH1cbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJyc7XG4gICAgICAgICAgc3dpcGVyLl9pbW1lZGlhdGVWaXJ0dWFsID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXN3aXBlci5zdXBwb3J0LnNtb290aFNjcm9sbCkge1xuICAgICAgICBhbmltYXRlQ1NTTW9kZVNjcm9sbCh7XG4gICAgICAgICAgc3dpcGVyLFxuICAgICAgICAgIHRhcmdldFBvc2l0aW9uOiB0LFxuICAgICAgICAgIHNpZGU6IGlzSCA/ICdsZWZ0JyA6ICd0b3AnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHdyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgIFtpc0ggPyAnbGVmdCcgOiAndG9wJ106IHQsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgc3dpcGVyLnNldFRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoc2xpZGVJbmRleCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICB9IGVsc2UgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgaWYgKCFzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpIHtcbiAgICAgIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoZSkge1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICBkZWxldGUgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzbGlkZVRvTG9vcChpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICBpbmRleCA9IDA7XG4gIH1cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBpbmRleEFzTnVtYmVyID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICBpbmRleCA9IGluZGV4QXNOdW1iZXI7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBsZXQgbmV3SW5kZXggPSBpbmRleDtcbiAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBuZXdJbmRleCA9IG5ld0luZGV4ICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdGFyZ2V0U2xpZGVJbmRleDtcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gbmV3SW5kZXggKiBzd2lwZXIucGFyYW1zLmdyaWQucm93cztcbiAgICAgICAgdGFyZ2V0U2xpZGVJbmRleCA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxID09PSBzbGlkZUluZGV4KVswXS5jb2x1bW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEobmV3SW5kZXgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29scyA9IGdyaWRFbmFibGVkID8gTWF0aC5jZWlsKHN3aXBlci5zbGlkZXMubGVuZ3RoIC8gc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MpIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNlbnRlcmVkU2xpZGVzXG4gICAgICB9ID0gc3dpcGVyLnBhcmFtcztcbiAgICAgIGxldCBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgICAgaWYgKHNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgICAgICBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZXNQZXJWaWV3ID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCkpO1xuICAgICAgICBpZiAoY2VudGVyZWRTbGlkZXMgJiYgc2xpZGVzUGVyVmlldyAlIDIgPT09IDApIHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3ID0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBuZWVkTG9vcEZpeCA9IGNvbHMgLSB0YXJnZXRTbGlkZUluZGV4IDwgc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChjZW50ZXJlZFNsaWRlcykge1xuICAgICAgICBuZWVkTG9vcEZpeCA9IG5lZWRMb29wRml4IHx8IHRhcmdldFNsaWRlSW5kZXggPCBNYXRoLmNlaWwoc2xpZGVzUGVyVmlldyAvIDIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMb29wRml4KSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGNlbnRlcmVkU2xpZGVzID8gdGFyZ2V0U2xpZGVJbmRleCA8IHN3aXBlci5hY3RpdmVJbmRleCA/ICdwcmV2JyA6ICduZXh0JyA6IHRhcmdldFNsaWRlSW5kZXggLSBzd2lwZXIuYWN0aXZlSW5kZXggLSAxIDwgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gJ25leHQnIDogJ3ByZXYnO1xuICAgICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgIHNsaWRlVG86IHRydWUsXG4gICAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogZGlyZWN0aW9uID09PSAnbmV4dCcgPyB0YXJnZXRTbGlkZUluZGV4ICsgMSA6IHRhcmdldFNsaWRlSW5kZXggLSBjb2xzICsgMSxcbiAgICAgICAgICBzbGlkZVJlYWxJbmRleDogZGlyZWN0aW9uID09PSAnbmV4dCcgPyBzd2lwZXIucmVhbEluZGV4IDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlSW5kZXggPSBuZXdJbmRleCAqIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgICBuZXdJbmRleCA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxID09PSBzbGlkZUluZGV4KVswXS5jb2x1bW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKG5ld0luZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9KTtcbiAgcmV0dXJuIHN3aXBlcjtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZU5leHQoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGVuYWJsZWQsXG4gICAgcGFyYW1zLFxuICAgIGFuaW1hdGluZ1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybiBzd2lwZXI7XG4gIGxldCBwZXJHcm91cCA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8pIHtcbiAgICBwZXJHcm91cCA9IE1hdGgubWF4KHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygnY3VycmVudCcsIHRydWUpLCAxKTtcbiAgfVxuICBjb25zdCBpbmNyZW1lbnQgPSBzd2lwZXIuYWN0aXZlSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBlckdyb3VwO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmICFpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICBkaXJlY3Rpb246ICduZXh0J1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci53cmFwcGVyRWwuY2xpZW50TGVmdDtcbiAgICBpZiAoc3dpcGVyLmFjdGl2ZUluZGV4ID09PSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIGluY3JlbWVudCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcmFtcy5yZXdpbmQgJiYgc3dpcGVyLmlzRW5kKSB7XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfVxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVQcmV2KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBydGxUcmFuc2xhdGUsXG4gICAgZW5hYmxlZCxcbiAgICBhbmltYXRpbmdcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmICFpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICBkaXJlY3Rpb246ICdwcmV2J1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci53cmFwcGVyRWwuY2xpZW50TGVmdDtcbiAgfVxuICBjb25zdCB0cmFuc2xhdGUgPSBydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWwpIHtcbiAgICBpZiAodmFsIDwgMCkgcmV0dXJuIC1NYXRoLmZsb29yKE1hdGguYWJzKHZhbCkpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKHZhbCk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZFRyYW5zbGF0ZSA9IG5vcm1hbGl6ZSh0cmFuc2xhdGUpO1xuICBjb25zdCBub3JtYWxpemVkU25hcEdyaWQgPSBzbmFwR3JpZC5tYXAodmFsID0+IG5vcm1hbGl6ZSh2YWwpKTtcbiAgbGV0IHByZXZTbmFwID0gc25hcEdyaWRbbm9ybWFsaXplZFNuYXBHcmlkLmluZGV4T2Yobm9ybWFsaXplZFRyYW5zbGF0ZSkgLSAxXTtcbiAgaWYgKHR5cGVvZiBwcmV2U25hcCA9PT0gJ3VuZGVmaW5lZCcgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICBsZXQgcHJldlNuYXBJbmRleDtcbiAgICBzbmFwR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IHNuYXApIHtcbiAgICAgICAgLy8gcHJldlNuYXAgPSBzbmFwO1xuICAgICAgICBwcmV2U25hcEluZGV4ID0gc25hcEluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgcHJldlNuYXBJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHByZXZTbmFwID0gc25hcEdyaWRbcHJldlNuYXBJbmRleCA+IDAgPyBwcmV2U25hcEluZGV4IC0gMSA6IHByZXZTbmFwSW5kZXhdO1xuICAgIH1cbiAgfVxuICBsZXQgcHJldkluZGV4ID0gMDtcbiAgaWYgKHR5cGVvZiBwcmV2U25hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBwcmV2SW5kZXggPSBzbGlkZXNHcmlkLmluZGV4T2YocHJldlNuYXApO1xuICAgIGlmIChwcmV2SW5kZXggPCAwKSBwcmV2SW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggLSAxO1xuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXBBdXRvKSB7XG4gICAgICBwcmV2SW5kZXggPSBwcmV2SW5kZXggLSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoJ3ByZXZpb3VzJywgdHJ1ZSkgKyAxO1xuICAgICAgcHJldkluZGV4ID0gTWF0aC5tYXgocHJldkluZGV4LCAwKTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcmFtcy5yZXdpbmQgJiYgc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgY29uc3QgbGFzdEluZGV4ID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCAtIDEgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGxhc3RJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9IGVsc2UgaWYgKHBhcmFtcy5sb29wICYmIHN3aXBlci5hY3RpdmVJbmRleCA9PT0gMCAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhwcmV2SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVSZXNldChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVUb0Nsb3Nlc3Qoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIHRocmVzaG9sZCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICB0aHJlc2hvbGQgPSAwLjU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgbGV0IGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBjb25zdCBza2lwID0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGluZGV4KTtcbiAgY29uc3Qgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgaWYgKHRyYW5zbGF0ZSA+PSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XSkge1xuICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBvbiBvciBhZnRlciB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBhZnRlciBpdC5cbiAgICBjb25zdCBjdXJyZW50U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAgIGNvbnN0IG5leHRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleCArIDFdO1xuICAgIGlmICh0cmFuc2xhdGUgLSBjdXJyZW50U25hcCA+IChuZXh0U25hcCAtIGN1cnJlbnRTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggKz0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIGJlZm9yZSB0aGUgY3VycmVudCBzbmFwIGluZGV4LCBzbyB0aGUgY2hvaWNlXG4gICAgLy8gaXMgYmV0d2VlbiB0aGUgY3VycmVudCBpbmRleCBhbmQgdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgY29uc3QgcHJldlNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4IC0gMV07XG4gICAgY29uc3QgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICBpZiAodHJhbnNsYXRlIC0gcHJldlNuYXAgPD0gKGN1cnJlbnRTbmFwIC0gcHJldlNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICBpbmRleCAtPSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIH1cbiAgfVxuICBpbmRleCA9IE1hdGgubWF4KGluZGV4LCAwKTtcbiAgaW5kZXggPSBNYXRoLm1pbihpbmRleCwgc3dpcGVyLnNsaWRlc0dyaWQubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG5mdW5jdGlvbiBzbGlkZVRvQ2xpY2tlZFNsaWRlKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgbGV0IHNsaWRlVG9JbmRleCA9IHN3aXBlci5jbGlja2VkSW5kZXg7XG4gIGxldCByZWFsSW5kZXg7XG4gIGNvbnN0IHNsaWRlU2VsZWN0b3IgPSBzd2lwZXIuaXNFbGVtZW50ID8gYHN3aXBlci1zbGlkZWAgOiBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcpIHJldHVybjtcbiAgICByZWFsSW5kZXggPSBwYXJzZUludChzd2lwZXIuY2xpY2tlZFNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGlmIChzbGlkZVRvSW5kZXggPCBzd2lwZXIubG9vcGVkU2xpZGVzIC0gc2xpZGVzUGVyVmlldyAvIDIgfHwgc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzd2lwZXIubG9vcGVkU2xpZGVzICsgc2xpZGVzUGVyVmlldyAvIDIpIHtcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgICAgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgJHtzbGlkZVNlbGVjdG9yfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7cmVhbEluZGV4fVwiXWApWzBdKTtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNsaWRlVG9JbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gc2xpZGVzUGVyVmlldykge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgICAgIHNsaWRlVG9JbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYCR7c2xpZGVTZWxlY3Rvcn1bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3JlYWxJbmRleH1cIl1gKVswXSk7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgfVxufVxuXG52YXIgc2xpZGUgPSB7XG4gIHNsaWRlVG8sXG4gIHNsaWRlVG9Mb29wLFxuICBzbGlkZU5leHQsXG4gIHNsaWRlUHJldixcbiAgc2xpZGVSZXNldCxcbiAgc2xpZGVUb0Nsb3Nlc3QsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGVcbn07XG5cbmZ1bmN0aW9uIGxvb3BDcmVhdGUoc2xpZGVSZWFsSW5kZXgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIXBhcmFtcy5sb29wIHx8IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gIGNvbnN0IGluaXRTbGlkZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgICBzbGlkZXMuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JywgaW5kZXgpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBjb25zdCBzbGlkZXNQZXJHcm91cCA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cCAqIChncmlkRW5hYmxlZCA/IHBhcmFtcy5ncmlkLnJvd3MgOiAxKTtcbiAgY29uc3Qgc2hvdWxkRmlsbEdyb3VwID0gc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBzbGlkZXNQZXJHcm91cCAhPT0gMDtcbiAgY29uc3Qgc2hvdWxkRmlsbEdyaWQgPSBncmlkRW5hYmxlZCAmJiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHBhcmFtcy5ncmlkLnJvd3MgIT09IDA7XG4gIGNvbnN0IGFkZEJsYW5rU2xpZGVzID0gYW1vdW50T2ZTbGlkZXMgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50T2ZTbGlkZXM7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHN3aXBlci5pc0VsZW1lbnQgPyBjcmVhdGVFbGVtZW50KCdzd2lwZXItc2xpZGUnLCBbcGFyYW1zLnNsaWRlQmxhbmtDbGFzc10pIDogY3JlYXRlRWxlbWVudCgnZGl2JywgW3BhcmFtcy5zbGlkZUNsYXNzLCBwYXJhbXMuc2xpZGVCbGFua0NsYXNzXSk7XG4gICAgICBzd2lwZXIuc2xpZGVzRWwuYXBwZW5kKHNsaWRlRWwpO1xuICAgIH1cbiAgfTtcbiAgaWYgKHNob3VsZEZpbGxHcm91cCkge1xuICAgIGlmIChwYXJhbXMubG9vcEFkZEJsYW5rU2xpZGVzKSB7XG4gICAgICBjb25zdCBzbGlkZXNUb0FkZCA9IHNsaWRlc1Blckdyb3VwIC0gc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBzbGlkZXNQZXJHcm91cDtcbiAgICAgIGFkZEJsYW5rU2xpZGVzKHNsaWRlc1RvQWRkKTtcbiAgICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBldmVuIHRvIHNsaWRlc1Blckdyb3VwLCBsb29wIG1vZGUgbWF5IG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMsIG9yIGVtcHR5IHNsaWRlcyknKTtcbiAgICB9XG4gICAgaW5pdFNsaWRlcygpO1xuICB9IGVsc2UgaWYgKHNob3VsZEZpbGxHcmlkKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wQWRkQmxhbmtTbGlkZXMpIHtcbiAgICAgIGNvbnN0IHNsaWRlc1RvQWRkID0gcGFyYW1zLmdyaWQucm93cyAtIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgcGFyYW1zLmdyaWQucm93cztcbiAgICAgIGFkZEJsYW5rU2xpZGVzKHNsaWRlc1RvQWRkKTtcbiAgICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBldmVuIHRvIGdyaWQucm93cywgbG9vcCBtb2RlIG1heSBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzLCBvciBlbXB0eSBzbGlkZXMpJyk7XG4gICAgfVxuICAgIGluaXRTbGlkZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0U2xpZGVzKCk7XG4gIH1cbiAgc3dpcGVyLmxvb3BGaXgoe1xuICAgIHNsaWRlUmVhbEluZGV4LFxuICAgIGRpcmVjdGlvbjogcGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gdW5kZWZpbmVkIDogJ25leHQnXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb29wRml4KF90ZW1wKSB7XG4gIGxldCB7XG4gICAgc2xpZGVSZWFsSW5kZXgsXG4gICAgc2xpZGVUbyA9IHRydWUsXG4gICAgZGlyZWN0aW9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBhY3RpdmVTbGlkZUluZGV4LFxuICAgIGJ5Q29udHJvbGxlcixcbiAgICBieU1vdXNld2hlZWxcbiAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5wYXJhbXMubG9vcCkgcmV0dXJuO1xuICBzd2lwZXIuZW1pdCgnYmVmb3JlTG9vcEZpeCcpO1xuICBjb25zdCB7XG4gICAgc2xpZGVzLFxuICAgIGFsbG93U2xpZGVQcmV2LFxuICAgIGFsbG93U2xpZGVOZXh0LFxuICAgIHNsaWRlc0VsLFxuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCB7XG4gICAgY2VudGVyZWRTbGlkZXNcbiAgfSA9IHBhcmFtcztcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gdHJ1ZTtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICBpZiAoc2xpZGVUbykge1xuICAgICAgaWYgKCFwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgc3dpcGVyLnNuYXBJbmRleCA9PT0gMCkge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIuc25hcEluZGV4IDwgcGFyYW1zLnNsaWRlc1BlclZpZXcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHN3aXBlci5zbmFwSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnNuYXBJbmRleCA9PT0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICAgIHN3aXBlci5lbWl0KCdsb29wRml4Jyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzbGlkZXNQZXJWaWV3ID0gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCk7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVzUGVyVmlldyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCkpO1xuICAgIGlmIChjZW50ZXJlZFNsaWRlcyAmJiBzbGlkZXNQZXJWaWV3ICUgMiA9PT0gMCkge1xuICAgICAgc2xpZGVzUGVyVmlldyA9IHNsaWRlc1BlclZpZXcgKyAxO1xuICAgIH1cbiAgfVxuICBjb25zdCBzbGlkZXNQZXJHcm91cCA9IHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8gPyBzbGlkZXNQZXJWaWV3IDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBsZXQgbG9vcGVkU2xpZGVzID0gc2xpZGVzUGVyR3JvdXA7XG4gIGlmIChsb29wZWRTbGlkZXMgJSBzbGlkZXNQZXJHcm91cCAhPT0gMCkge1xuICAgIGxvb3BlZFNsaWRlcyArPSBzbGlkZXNQZXJHcm91cCAtIGxvb3BlZFNsaWRlcyAlIHNsaWRlc1Blckdyb3VwO1xuICB9XG4gIGxvb3BlZFNsaWRlcyArPSBwYXJhbXMubG9vcEFkZGl0aW9uYWxTbGlkZXM7XG4gIHN3aXBlci5sb29wZWRTbGlkZXMgPSBsb29wZWRTbGlkZXM7XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGlmIChzbGlkZXMubGVuZ3RoIDwgc2xpZGVzUGVyVmlldyArIGxvb3BlZFNsaWRlcykge1xuICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZW5vdWdoIGZvciBsb29wIG1vZGUsIGl0IHdpbGwgYmUgZGlzYWJsZWQgYW5kIG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMpIG9yIGxvd2VyIHRoZSB2YWx1ZXMgb2Ygc2xpZGVzUGVyVmlldyBhbmQgc2xpZGVzUGVyR3JvdXAgcGFyYW1ldGVycycpO1xuICB9IGVsc2UgaWYgKGdyaWRFbmFibGVkICYmIHBhcmFtcy5ncmlkLmZpbGwgPT09ICdyb3cnKSB7XG4gICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IExvb3AgbW9kZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGdyaWQuZmlsbCA9IGByb3dgJyk7XG4gIH1cbiAgY29uc3QgcHJlcGVuZFNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgY29uc3QgYXBwZW5kU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBsZXQgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGlmICh0eXBlb2YgYWN0aXZlU2xpZGVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY3RpdmVTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXgoc2xpZGVzLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpKVswXSk7XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlSW5kZXggPSBhY3RpdmVTbGlkZUluZGV4O1xuICB9XG4gIGNvbnN0IGlzTmV4dCA9IGRpcmVjdGlvbiA9PT0gJ25leHQnIHx8ICFkaXJlY3Rpb247XG4gIGNvbnN0IGlzUHJldiA9IGRpcmVjdGlvbiA9PT0gJ3ByZXYnIHx8ICFkaXJlY3Rpb247XG4gIGxldCBzbGlkZXNQcmVwZW5kZWQgPSAwO1xuICBsZXQgc2xpZGVzQXBwZW5kZWQgPSAwO1xuICBjb25zdCBjb2xzID0gZ3JpZEVuYWJsZWQgPyBNYXRoLmNlaWwoc2xpZGVzLmxlbmd0aCAvIHBhcmFtcy5ncmlkLnJvd3MpIDogc2xpZGVzLmxlbmd0aDtcbiAgY29uc3QgYWN0aXZlQ29sSW5kZXggPSBncmlkRW5hYmxlZCA/IHNsaWRlc1thY3RpdmVTbGlkZUluZGV4XS5jb2x1bW4gOiBhY3RpdmVTbGlkZUluZGV4O1xuICBjb25zdCBhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCA9IGFjdGl2ZUNvbEluZGV4ICsgKGNlbnRlcmVkU2xpZGVzICYmIHR5cGVvZiBzZXRUcmFuc2xhdGUgPT09ICd1bmRlZmluZWQnID8gLXNsaWRlc1BlclZpZXcgLyAyICsgMC41IDogMCk7XG4gIC8vIHByZXBlbmQgbGFzdCBzbGlkZXMgYmVmb3JlIHN0YXJ0XG4gIGlmIChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCA8IGxvb3BlZFNsaWRlcykge1xuICAgIHNsaWRlc1ByZXBlbmRlZCA9IE1hdGgubWF4KGxvb3BlZFNsaWRlcyAtIGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0LCBzbGlkZXNQZXJHcm91cCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb29wZWRTbGlkZXMgLSBhY3RpdmVDb2xJbmRleFdpdGhTaGlmdDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGkgLSBNYXRoLmZsb29yKGkgLyBjb2xzKSAqIGNvbHM7XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgY29sSW5kZXhUb1ByZXBlbmQgPSBjb2xzIC0gaW5kZXggLSAxO1xuICAgICAgICBmb3IgKGxldCBpID0gc2xpZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgaWYgKHNsaWRlc1tpXS5jb2x1bW4gPT09IGNvbEluZGV4VG9QcmVwZW5kKSBwcmVwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNsaWRlcy5mb3JFYWNoKChzbGlkZSwgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgICAvLyAgIGlmIChzbGlkZS5jb2x1bW4gPT09IGNvbEluZGV4VG9QcmVwZW5kKSBwcmVwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKHNsaWRlSW5kZXgpO1xuICAgICAgICAvLyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goY29scyAtIGluZGV4IC0gMSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0ICsgc2xpZGVzUGVyVmlldyA+IGNvbHMgLSBsb29wZWRTbGlkZXMpIHtcbiAgICBzbGlkZXNBcHBlbmRlZCA9IE1hdGgubWF4KGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0IC0gKGNvbHMgLSBsb29wZWRTbGlkZXMgKiAyKSwgc2xpZGVzUGVyR3JvdXApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzQXBwZW5kZWQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgaW5kZXggPSBpIC0gTWF0aC5mbG9vcihpIC8gY29scykgKiBjb2xzO1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIHNsaWRlcy5mb3JFYWNoKChzbGlkZSwgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChzbGlkZS5jb2x1bW4gPT09IGluZGV4KSBhcHBlbmRTbGlkZXNJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gZmFsc2U7XG4gIH0pO1xuICBpZiAoaXNQcmV2KSB7XG4gICAgcHJlcGVuZFNsaWRlc0luZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gdHJ1ZTtcbiAgICAgIHNsaWRlc0VsLnByZXBlbmQoc2xpZGVzW2luZGV4XSk7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzTmV4dCkge1xuICAgIGFwcGVuZFNsaWRlc0luZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gdHJ1ZTtcbiAgICAgIHNsaWRlc0VsLmFwcGVuZChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICB9IGVsc2UgaWYgKGdyaWRFbmFibGVkICYmIChwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzUHJldiB8fCBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNOZXh0KSkge1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgIHN3aXBlci5ncmlkLnVwZGF0ZVNsaWRlKHNsaWRlSW5kZXgsIHNsaWRlLCBzd2lwZXIuc2xpZGVzKTtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cbiAgaWYgKHNsaWRlVG8pIHtcbiAgICBpZiAocHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc1ByZXYpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVSZWFsSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV3U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleCArIHNsaWRlc1ByZXBlbmRlZF07XG4gICAgICAgIGNvbnN0IGRpZmYgPSBuZXdTbGlkZVRyYW5zbGF0ZSAtIGN1cnJlbnRTbGlkZVRyYW5zbGF0ZTtcbiAgICAgICAgaWYgKGJ5TW91c2V3aGVlbCkge1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoc3dpcGVyLnRyYW5zbGF0ZSAtIGRpZmYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGFjdGl2ZUluZGV4ICsgc2xpZGVzUHJlcGVuZGVkLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICBjb25zdCBzaGlmdCA9IGdyaWRFbmFibGVkID8gcHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cyA6IHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBzaGlmdCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc05leHQpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVSZWFsSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV3U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleCAtIHNsaWRlc0FwcGVuZGVkXTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5ld1NsaWRlVHJhbnNsYXRlIC0gY3VycmVudFNsaWRlVHJhbnNsYXRlO1xuICAgICAgICBpZiAoYnlNb3VzZXdoZWVsKSB7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShzd2lwZXIudHJhbnNsYXRlIC0gZGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXggLSBzbGlkZXNBcHBlbmRlZCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGdyaWRFbmFibGVkID8gYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzIDogYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGg7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCAtIHNoaWZ0LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgaWYgKHN3aXBlci5jb250cm9sbGVyICYmIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgJiYgIWJ5Q29udHJvbGxlcikge1xuICAgIGNvbnN0IGxvb3BQYXJhbXMgPSB7XG4gICAgICBzbGlkZVJlYWxJbmRleCxcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNldFRyYW5zbGF0ZSxcbiAgICAgIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgICBieUNvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpKSB7XG4gICAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGlmICghYy5kZXN0cm95ZWQgJiYgYy5wYXJhbXMubG9vcCkgYy5sb29wRml4KHtcbiAgICAgICAgICAuLi5sb29wUGFyYW1zLFxuICAgICAgICAgIHNsaWRlVG86IGMucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gc2xpZGVUbyA6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuY29udHJvbGxlci5jb250cm9sIGluc3RhbmNlb2Ygc3dpcGVyLmNvbnN0cnVjdG9yICYmIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wubG9vcEZpeCh7XG4gICAgICAgIC4uLmxvb3BQYXJhbXMsXG4gICAgICAgIHNsaWRlVG86IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gc2xpZGVUbyA6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbn1cblxuZnVuY3Rpb24gbG9vcERlc3Ryb3koKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFwYXJhbXMubG9vcCB8fCBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGNvbnN0IG5ld1NsaWRlc09yZGVyID0gW107XG4gIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHR5cGVvZiBzbGlkZUVsLnN3aXBlclNsaWRlSW5kZXggPT09ICd1bmRlZmluZWQnID8gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxIDogc2xpZGVFbC5zd2lwZXJTbGlkZUluZGV4O1xuICAgIG5ld1NsaWRlc09yZGVyW2luZGV4XSA9IHNsaWRlRWw7XG4gIH0pO1xuICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gIH0pO1xuICBuZXdTbGlkZXNPcmRlci5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlc0VsLmFwcGVuZChzbGlkZUVsKTtcbiAgfSk7XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnJlYWxJbmRleCwgMCk7XG59XG5cbnZhciBsb29wID0ge1xuICBsb29wQ3JlYXRlLFxuICBsb29wRml4LFxuICBsb29wRGVzdHJveVxufTtcblxuZnVuY3Rpb24gc2V0R3JhYkN1cnNvcihtb3ZpbmcpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLnNpbXVsYXRlVG91Y2ggfHwgc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5pc0xvY2tlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgY29uc3QgZWwgPSBzd2lwZXIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnY29udGFpbmVyJyA/IHN3aXBlci5lbCA6IHN3aXBlci53cmFwcGVyRWw7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICB9XG4gIGVsLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgZWwuc3R5bGUuY3Vyc29yID0gbW92aW5nID8gJ2dyYWJiaW5nJyA6ICdncmFiJztcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnNldEdyYWJDdXJzb3IoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgfVxuICBzd2lwZXJbc3dpcGVyLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ2NvbnRhaW5lcicgPyAnZWwnIDogJ3dyYXBwZXJFbCddLnN0eWxlLmN1cnNvciA9ICcnO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG5cbnZhciBncmFiQ3Vyc29yID0ge1xuICBzZXRHcmFiQ3Vyc29yLFxuICB1bnNldEdyYWJDdXJzb3Jcbn07XG5cbi8vIE1vZGlmaWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQ1MjA1NTQvY3VzdG9tLWVsZW1lbnQtZ2V0cm9vdG5vZGUtY2xvc2VzdC1mdW5jdGlvbi1jcm9zc2luZy1tdWx0aXBsZS1wYXJlbnQtc2hhZG93ZFxuZnVuY3Rpb24gY2xvc2VzdEVsZW1lbnQoc2VsZWN0b3IsIGJhc2UpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSB0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIF9fY2xvc2VzdEZyb20oZWwpIHtcbiAgICBpZiAoIWVsIHx8IGVsID09PSBnZXREb2N1bWVudCgpIHx8IGVsID09PSBnZXRXaW5kb3coKSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKGVsLmFzc2lnbmVkU2xvdCkgZWwgPSBlbC5hc3NpZ25lZFNsb3Q7XG4gICAgY29uc3QgZm91bmQgPSBlbC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICBpZiAoIWZvdW5kICYmICFlbC5nZXRSb290Tm9kZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZCB8fCBfX2Nsb3Nlc3RGcm9tKGVsLmdldFJvb3ROb2RlKCkuaG9zdCk7XG4gIH1cbiAgcmV0dXJuIF9fY2xvc2VzdEZyb20oYmFzZSk7XG59XG5mdW5jdGlvbiBwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZXZlbnQsIHN0YXJ0WCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCBlZGdlU3dpcGVEZXRlY3Rpb24gPSBwYXJhbXMuZWRnZVN3aXBlRGV0ZWN0aW9uO1xuICBjb25zdCBlZGdlU3dpcGVUaHJlc2hvbGQgPSBwYXJhbXMuZWRnZVN3aXBlVGhyZXNob2xkO1xuICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uICYmIChzdGFydFggPD0gZWRnZVN3aXBlVGhyZXNob2xkIHx8IHN0YXJ0WCA+PSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVkZ2VTd2lwZVRocmVzaG9sZCkpIHtcbiAgICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uID09PSAncHJldmVudCcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgY29uc3QgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIGlmIChlLnR5cGUgPT09ICdwb2ludGVyZG93bicpIHtcbiAgICBpZiAoZGF0YS5wb2ludGVySWQgIT09IG51bGwgJiYgZGF0YS5wb2ludGVySWQgIT09IGUucG9pbnRlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRhdGEucG9pbnRlcklkID0gZS5wb2ludGVySWQ7XG4gIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgIGRhdGEudG91Y2hJZCA9IGUudGFyZ2V0VG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICB9XG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgIC8vIGRvbid0IHByb2NlZWQgdG91Y2ggZXZlbnRcbiAgICBwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZSwgZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRml4KCk7XG4gIH1cbiAgbGV0IHRhcmdldEVsID0gZS50YXJnZXQ7XG4gIGlmIChwYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICd3cmFwcGVyJykge1xuICAgIGlmICghc3dpcGVyLndyYXBwZXJFbC5jb250YWlucyh0YXJnZXRFbCkpIHJldHVybjtcbiAgfVxuICBpZiAoJ3doaWNoJyBpbiBlICYmIGUud2hpY2ggPT09IDMpIHJldHVybjtcbiAgaWYgKCdidXR0b24nIGluIGUgJiYgZS5idXR0b24gPiAwKSByZXR1cm47XG4gIGlmIChkYXRhLmlzVG91Y2hlZCAmJiBkYXRhLmlzTW92ZWQpIHJldHVybjtcblxuICAvLyBjaGFuZ2UgdGFyZ2V0IGVsIGZvciBzaGFkb3cgcm9vdCBjb21wb25lbnRcbiAgY29uc3Qgc3dpcGluZ0NsYXNzSGFzVmFsdWUgPSAhIXBhcmFtcy5ub1N3aXBpbmdDbGFzcyAmJiBwYXJhbXMubm9Td2lwaW5nQ2xhc3MgIT09ICcnO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3QgZXZlbnRQYXRoID0gZS5jb21wb3NlZFBhdGggPyBlLmNvbXBvc2VkUGF0aCgpIDogZS5wYXRoO1xuICBpZiAoc3dpcGluZ0NsYXNzSGFzVmFsdWUgJiYgZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCAmJiBldmVudFBhdGgpIHtcbiAgICB0YXJnZXRFbCA9IGV2ZW50UGF0aFswXTtcbiAgfVxuICBjb25zdCBub1N3aXBpbmdTZWxlY3RvciA9IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA/IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA6IGAuJHtwYXJhbXMubm9Td2lwaW5nQ2xhc3N9YDtcbiAgY29uc3QgaXNUYXJnZXRTaGFkb3cgPSAhIShlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290KTtcblxuICAvLyB1c2UgY2xvc2VzdEVsZW1lbnQgZm9yIHNoYWRvdyByb290IGVsZW1lbnQgdG8gZ2V0IHRoZSBhY3R1YWwgY2xvc2VzdCBmb3IgbmVzdGVkIHNoYWRvdyByb290IGVsZW1lbnRcbiAgaWYgKHBhcmFtcy5ub1N3aXBpbmcgJiYgKGlzVGFyZ2V0U2hhZG93ID8gY2xvc2VzdEVsZW1lbnQobm9Td2lwaW5nU2VsZWN0b3IsIHRhcmdldEVsKSA6IHRhcmdldEVsLmNsb3Nlc3Qobm9Td2lwaW5nU2VsZWN0b3IpKSkge1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5zd2lwZUhhbmRsZXIpIHtcbiAgICBpZiAoIXRhcmdldEVsLmNsb3Nlc3QocGFyYW1zLnN3aXBlSGFuZGxlcikpIHJldHVybjtcbiAgfVxuICB0b3VjaGVzLmN1cnJlbnRYID0gZS5wYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IGUucGFnZVk7XG4gIGNvbnN0IHN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIGNvbnN0IHN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7XG5cbiAgLy8gRG8gTk9UIHN0YXJ0IGlmIGlPUyBlZGdlIHN3aXBlIGlzIGRldGVjdGVkLiBPdGhlcndpc2UgaU9TIGFwcCBjYW5ub3Qgc3dpcGUtdG8tZ28tYmFjayBhbnltb3JlXG5cbiAgaWYgKCFwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZSwgc3RhcnRYKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICBpc1RvdWNoZWQ6IHRydWUsXG4gICAgaXNNb3ZlZDogZmFsc2UsXG4gICAgYWxsb3dUb3VjaENhbGxiYWNrczogdHJ1ZSxcbiAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgfSk7XG4gIHRvdWNoZXMuc3RhcnRYID0gc3RhcnRYO1xuICB0b3VjaGVzLnN0YXJ0WSA9IHN0YXJ0WTtcbiAgZGF0YS50b3VjaFN0YXJ0VGltZSA9IG5vdygpO1xuICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IGZhbHNlO1xuICBsZXQgcHJldmVudERlZmF1bHQgPSB0cnVlO1xuICBpZiAodGFyZ2V0RWwubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgIHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG4gICAgaWYgKHRhcmdldEVsLm5vZGVOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRhcmdldEVsKSB7XG4gICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gIH1cbiAgY29uc3Qgc2hvdWxkUHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdCAmJiBzd2lwZXIuYWxsb3dUb3VjaE1vdmUgJiYgcGFyYW1zLnRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDtcbiAgaWYgKChwYXJhbXMudG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQgfHwgc2hvdWxkUHJldmVudERlZmF1bHQpICYmICF0YXJnZXRFbC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSAmJiBzd2lwZXIuYW5pbWF0aW5nICYmICFwYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoU3RhcnQoKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgndG91Y2hTdGFydCcsIGUpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoTW92ZShldmVudCkge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBpZiAoZS50eXBlID09PSAncG9pbnRlcm1vdmUnKSB7XG4gICAgaWYgKGRhdGEudG91Y2hJZCAhPT0gbnVsbCkgcmV0dXJuOyAvLyByZXR1cm4gZnJvbSBwb2ludGVyIGlmIHdlIHVzZSB0b3VjaFxuICAgIGNvbnN0IGlkID0gZS5wb2ludGVySWQ7XG4gICAgaWYgKGlkICE9PSBkYXRhLnBvaW50ZXJJZCkgcmV0dXJuO1xuICB9XG4gIGxldCB0YXJnZXRUb3VjaDtcbiAgaWYgKGUudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICB0YXJnZXRUb3VjaCA9IFsuLi5lLmNoYW5nZWRUb3VjaGVzXS5maWx0ZXIodCA9PiB0LmlkZW50aWZpZXIgPT09IGRhdGEudG91Y2hJZClbMF07XG4gICAgaWYgKCF0YXJnZXRUb3VjaCB8fCB0YXJnZXRUb3VjaC5pZGVudGlmaWVyICE9PSBkYXRhLnRvdWNoSWQpIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXRUb3VjaCA9IGU7XG4gIH1cbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLnN0YXJ0TW92aW5nICYmIGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmVPcHBvc2l0ZScsIGUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGFnZVggPSB0YXJnZXRUb3VjaC5wYWdlWDtcbiAgY29uc3QgcGFnZVkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgaWYgKGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpIHtcbiAgICB0b3VjaGVzLnN0YXJ0WCA9IHBhZ2VYO1xuICAgIHRvdWNoZXMuc3RhcnRZID0gcGFnZVk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghc3dpcGVyLmFsbG93VG91Y2hNb3ZlKSB7XG4gICAgaWYgKCFlLnRhcmdldC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGF0YS5pc1RvdWNoZWQpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odG91Y2hlcywge1xuICAgICAgICBzdGFydFg6IHBhZ2VYLFxuICAgICAgICBzdGFydFk6IHBhZ2VZLFxuICAgICAgICBjdXJyZW50WDogcGFnZVgsXG4gICAgICAgIGN1cnJlbnRZOiBwYWdlWVxuICAgICAgfSk7XG4gICAgICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gbm93KCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMgJiYgIXBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgIC8vIFZlcnRpY2FsXG4gICAgICBpZiAocGFnZVkgPCB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWSA+IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYWdlWCA8IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VYID4gdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZS50YXJnZXQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlJywgZSk7XG4gIH1cbiAgdG91Y2hlcy5wcmV2aW91c1ggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICB0b3VjaGVzLnByZXZpb3VzWSA9IHRvdWNoZXMuY3VycmVudFk7XG4gIHRvdWNoZXMuY3VycmVudFggPSBwYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IHBhZ2VZO1xuICBjb25zdCBkaWZmWCA9IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WDtcbiAgY29uc3QgZGlmZlkgPSB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gIGlmIChzd2lwZXIucGFyYW1zLnRocmVzaG9sZCAmJiBNYXRoLnNxcnQoZGlmZlggKiogMiArIGRpZmZZICoqIDIpIDwgc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBkYXRhLmlzU2Nyb2xsaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgIGxldCB0b3VjaEFuZ2xlO1xuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgdG91Y2hlcy5jdXJyZW50WSA9PT0gdG91Y2hlcy5zdGFydFkgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRYID09PSB0b3VjaGVzLnN0YXJ0WCkge1xuICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmIChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSA+PSAyNSkge1xuICAgICAgICB0b3VjaEFuZ2xlID0gTWF0aC5hdGFuMihNYXRoLmFicyhkaWZmWSksIE1hdGguYWJzKGRpZmZYKSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBkYXRhLnN0YXJ0TW92aW5nID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0b3VjaGVzLmN1cnJlbnRYICE9PSB0b3VjaGVzLnN0YXJ0WCB8fCB0b3VjaGVzLmN1cnJlbnRZICE9PSB0b3VjaGVzLnN0YXJ0WSkge1xuICAgICAgZGF0YS5zdGFydE1vdmluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFkYXRhLnN0YXJ0TW92aW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gIGlmICghcGFyYW1zLmNzc01vZGUgJiYgZS5jYW5jZWxhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGlmIChwYXJhbXMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFwYXJhbXMubmVzdGVkKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICBsZXQgZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGRpZmZYIDogZGlmZlk7XG4gIGxldCB0b3VjaGVzRGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnByZXZpb3VzWCA6IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnByZXZpb3VzWTtcbiAgaWYgKHBhcmFtcy5vbmVXYXlNb3ZlbWVudCkge1xuICAgIGRpZmYgPSBNYXRoLmFicyhkaWZmKSAqIChydGwgPyAxIDogLTEpO1xuICAgIHRvdWNoZXNEaWZmID0gTWF0aC5hYnModG91Y2hlc0RpZmYpICogKHJ0bCA/IDEgOiAtMSk7XG4gIH1cbiAgdG91Y2hlcy5kaWZmID0gZGlmZjtcbiAgZGlmZiAqPSBwYXJhbXMudG91Y2hSYXRpbztcbiAgaWYgKHJ0bCkge1xuICAgIGRpZmYgPSAtZGlmZjtcbiAgICB0b3VjaGVzRGlmZiA9IC10b3VjaGVzRGlmZjtcbiAgfVxuICBjb25zdCBwcmV2VG91Y2hlc0RpcmVjdGlvbiA9IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uO1xuICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSBkaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPSB0b3VjaGVzRGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gIGNvbnN0IGlzTG9vcCA9IHN3aXBlci5wYXJhbXMubG9vcCAmJiAhcGFyYW1zLmNzc01vZGU7XG4gIGNvbnN0IGFsbG93TG9vcEZpeCA9IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgc3dpcGVyLmFsbG93U2xpZGVOZXh0IHx8IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID09PSAncHJldicgJiYgc3dpcGVyLmFsbG93U2xpZGVQcmV2O1xuICBpZiAoIWRhdGEuaXNNb3ZlZCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4KSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgIGRpcmVjdGlvbjogc3dpcGVyLnN3aXBlRGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgY29uc3QgZXZ0ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCgndHJhbnNpdGlvbmVuZCcsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG4gICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gZmFsc2U7XG4gICAgLy8gR3JhYiBDdXJzb3JcbiAgICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcih0cnVlKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlckZpcnN0TW92ZScsIGUpO1xuICB9XG4gIGxldCBsb29wRml4ZWQ7XG4gIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBpZiAoZGF0YS5pc01vdmVkICYmIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlICYmIHByZXZUb3VjaGVzRGlyZWN0aW9uICE9PSBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiAmJiBpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmIE1hdGguYWJzKGRpZmYpID49IDEpIHtcbiAgICBPYmplY3QuYXNzaWduKHRvdWNoZXMsIHtcbiAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICBzdGFydFk6IHBhZ2VZLFxuICAgICAgY3VycmVudFg6IHBhZ2VYLFxuICAgICAgY3VycmVudFk6IHBhZ2VZLFxuICAgICAgc3RhcnRUcmFuc2xhdGU6IGRhdGEuY3VycmVudFRyYW5zbGF0ZVxuICAgIH0pO1xuICAgIGRhdGEubG9vcFN3YXBSZXNldCA9IHRydWU7XG4gICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IGRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NsaWRlck1vdmUnLCBlKTtcbiAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGlmZiArIGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIGxldCBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgbGV0IHJlc2lzdGFuY2VSYXRpbyA9IHBhcmFtcy5yZXNpc3RhbmNlUmF0aW87XG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcykge1xuICAgIHJlc2lzdGFuY2VSYXRpbyA9IDA7XG4gIH1cbiAgaWYgKGRpZmYgPiAwKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgIWxvb3BGaXhlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIC0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuYWN0aXZlSW5kZXggKyAxXSA6IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHJldicsXG4gICAgICAgIHNldFRyYW5zbGF0ZTogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBmYWxzZTtcbiAgICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkge1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSAxICsgKC1zd2lwZXIubWluVHJhbnNsYXRlKCkgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlICsgZGlmZikgKiogcmVzaXN0YW5jZVJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChkaWZmIDwgMCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmICFsb29wRml4ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLnNsaWRlc1NpemVzR3JpZC5sZW5ndGggLSAxXSA6IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiAnbmV4dCcsXG4gICAgICAgIHNldFRyYW5zbGF0ZTogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSB7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIDEgLSAoc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gZGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmYpICoqIHJlc2lzdGFuY2VSYXRpbztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRpc2FibGVQYXJlbnRTd2lwZXIpIHtcbiAgICBlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIERpcmVjdGlvbnMgbG9ja3NcbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgIXN3aXBlci5hbGxvd1NsaWRlTmV4dCkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cblxuICAvLyBUaHJlc2hvbGRcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSB7XG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID4gcGFyYW1zLnRocmVzaG9sZCB8fCBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgaWYgKCFkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgICBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IHRydWU7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgICAgICAgdG91Y2hlcy5zdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgICB0b3VjaGVzLmRpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5zdGFydFggOiB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKCFwYXJhbXMuZm9sbG93RmluZ2VyIHx8IHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG5cbiAgLy8gVXBkYXRlIGFjdGl2ZSBpbmRleCBpbiBmcmVlIG1vZGVcbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgfHwgcGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hNb3ZlKCk7XG4gIH1cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhkYXRhLmN1cnJlbnRUcmFuc2xhdGUpO1xuICAvLyBVcGRhdGUgdHJhbnNsYXRlXG4gIHN3aXBlci5zZXRUcmFuc2xhdGUoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTtcbn1cblxuZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgbGV0IHRhcmdldFRvdWNoO1xuICBjb25zdCBpc1RvdWNoRXZlbnQgPSBlLnR5cGUgPT09ICd0b3VjaGVuZCcgfHwgZS50eXBlID09PSAndG91Y2hjYW5jZWwnO1xuICBpZiAoIWlzVG91Y2hFdmVudCkge1xuICAgIGlmIChkYXRhLnRvdWNoSWQgIT09IG51bGwpIHJldHVybjsgLy8gcmV0dXJuIGZyb20gcG9pbnRlciBpZiB3ZSB1c2UgdG91Y2hcbiAgICBpZiAoZS5wb2ludGVySWQgIT09IGRhdGEucG9pbnRlcklkKSByZXR1cm47XG4gICAgdGFyZ2V0VG91Y2ggPSBlO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFRvdWNoID0gWy4uLmUuY2hhbmdlZFRvdWNoZXNdLmZpbHRlcih0ID0+IHQuaWRlbnRpZmllciA9PT0gZGF0YS50b3VjaElkKVswXTtcbiAgICBpZiAoIXRhcmdldFRvdWNoIHx8IHRhcmdldFRvdWNoLmlkZW50aWZpZXIgIT09IGRhdGEudG91Y2hJZCkgcmV0dXJuO1xuICB9XG4gIGlmIChbJ3BvaW50ZXJjYW5jZWwnLCAncG9pbnRlcm91dCcsICdwb2ludGVybGVhdmUnLCAnY29udGV4dG1lbnUnXS5pbmNsdWRlcyhlLnR5cGUpKSB7XG4gICAgY29uc3QgcHJvY2VlZCA9IFsncG9pbnRlcmNhbmNlbCcsICdjb250ZXh0bWVudSddLmluY2x1ZGVzKGUudHlwZSkgJiYgKHN3aXBlci5icm93c2VyLmlzU2FmYXJpIHx8IHN3aXBlci5icm93c2VyLmlzV2ViVmlldyk7XG4gICAgaWYgKCFwcm9jZWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGRhdGEucG9pbnRlcklkID0gbnVsbDtcbiAgZGF0YS50b3VjaElkID0gbnVsbDtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hFbmQnLCBlKTtcbiAgfVxuICBkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MgPSBmYWxzZTtcbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLmlzTW92ZWQgJiYgcGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgICB9XG4gICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJldHVybiBHcmFiIEN1cnNvclxuICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgZGF0YS5pc01vdmVkICYmIGRhdGEuaXNUb3VjaGVkICYmIChzd2lwZXIuYWxsb3dTbGlkZU5leHQgPT09IHRydWUgfHwgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSkge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgfVxuXG4gIC8vIFRpbWUgZGlmZlxuICBjb25zdCB0b3VjaEVuZFRpbWUgPSBub3coKTtcbiAgY29uc3QgdGltZURpZmYgPSB0b3VjaEVuZFRpbWUgLSBkYXRhLnRvdWNoU3RhcnRUaW1lO1xuXG4gIC8vIFRhcCwgZG91YmxlVGFwLCBDbGlja1xuICBpZiAoc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICBjb25zdCBwYXRoVHJlZSA9IGUucGF0aCB8fCBlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHN3aXBlci51cGRhdGVDbGlja2VkU2xpZGUocGF0aFRyZWUgJiYgcGF0aFRyZWVbMF0gfHwgZS50YXJnZXQsIHBhdGhUcmVlKTtcbiAgICBzd2lwZXIuZW1pdCgndGFwIGNsaWNrJywgZSk7XG4gICAgaWYgKHRpbWVEaWZmIDwgMzAwICYmIHRvdWNoRW5kVGltZSAtIGRhdGEubGFzdENsaWNrVGltZSA8IDMwMCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ2RvdWJsZVRhcCBkb3VibGVDbGljaycsIGUpO1xuICAgIH1cbiAgfVxuICBkYXRhLmxhc3RDbGlja1RpbWUgPSBub3coKTtcbiAgbmV4dFRpY2soKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLmRlc3Ryb3llZCkgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICB9KTtcbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCB8fCAhZGF0YS5pc01vdmVkIHx8ICFzd2lwZXIuc3dpcGVEaXJlY3Rpb24gfHwgdG91Y2hlcy5kaWZmID09PSAwICYmICFkYXRhLmxvb3BTd2FwUmVzZXQgfHwgZGF0YS5jdXJyZW50VHJhbnNsYXRlID09PSBkYXRhLnN0YXJ0VHJhbnNsYXRlICYmICFkYXRhLmxvb3BTd2FwUmVzZXQpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgbGV0IGN1cnJlbnRQb3M7XG4gIGlmIChwYXJhbXMuZm9sbG93RmluZ2VyKSB7XG4gICAgY3VycmVudFBvcyA9IHJ0bCA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50UG9zID0gLWRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoRW5kKHtcbiAgICAgIGN1cnJlbnRQb3NcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGaW5kIGN1cnJlbnQgc2xpZGVcbiAgY29uc3Qgc3dpcGVUb0xhc3QgPSBjdXJyZW50UG9zID49IC1zd2lwZXIubWF4VHJhbnNsYXRlKCkgJiYgIXN3aXBlci5wYXJhbXMubG9vcDtcbiAgbGV0IHN0b3BJbmRleCA9IDA7XG4gIGxldCBncm91cFNpemUgPSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkWzBdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cCkge1xuICAgIGNvbnN0IGluY3JlbWVudCA9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHN3aXBlVG9MYXN0IHx8IGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSAmJiBjdXJyZW50UG9zIDwgc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSkge1xuICAgICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdIC0gc2xpZGVzR3JpZFtpXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN3aXBlVG9MYXN0IHx8IGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSAtIHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAyXTtcbiAgICB9XG4gIH1cbiAgbGV0IHJld2luZEZpcnN0SW5kZXggPSBudWxsO1xuICBsZXQgcmV3aW5kTGFzdEluZGV4ID0gbnVsbDtcbiAgaWYgKHBhcmFtcy5yZXdpbmQpIHtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICByZXdpbmRMYXN0SW5kZXggPSBwYXJhbXMudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCAtIDEgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgIHJld2luZEZpcnN0SW5kZXggPSAwO1xuICAgIH1cbiAgfVxuICAvLyBGaW5kIGN1cnJlbnQgc2xpZGUgc2l6ZVxuICBjb25zdCByYXRpbyA9IChjdXJyZW50UG9zIC0gc2xpZGVzR3JpZFtzdG9wSW5kZXhdKSAvIGdyb3VwU2l6ZTtcbiAgY29uc3QgaW5jcmVtZW50ID0gc3RvcEluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAodGltZURpZmYgPiBwYXJhbXMubG9uZ1N3aXBlc01zKSB7XG4gICAgLy8gTG9uZyB0b3VjaGVzXG4gICAgaWYgKCFwYXJhbXMubG9uZ1N3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAocmF0aW8gPj0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykgc3dpcGVyLnNsaWRlVG8ocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQgPyByZXdpbmRGaXJzdEluZGV4IDogc3RvcEluZGV4ICsgaW5jcmVtZW50KTtlbHNlIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgaWYgKHJhdGlvID4gMSAtIHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAocmV3aW5kTGFzdEluZGV4ICE9PSBudWxsICYmIHJhdGlvIDwgMCAmJiBNYXRoLmFicyhyYXRpbykgPiBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZExhc3RJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTaG9ydCBzd2lwZXNcbiAgICBpZiAoIXBhcmFtcy5zaG9ydFN3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXNOYXZCdXR0b25UYXJnZXQgPSBzd2lwZXIubmF2aWdhdGlvbiAmJiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKTtcbiAgICBpZiAoIWlzTmF2QnV0dG9uVGFyZ2V0KSB7XG4gICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kRmlyc3RJbmRleCAhPT0gbnVsbCA/IHJld2luZEZpcnN0SW5kZXggOiBzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZExhc3RJbmRleCAhPT0gbnVsbCA/IHJld2luZExhc3RJbmRleCA6IHN0b3BJbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBlbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoZWwgJiYgZWwub2Zmc2V0V2lkdGggPT09IDApIHJldHVybjtcblxuICAvLyBCcmVha3BvaW50c1xuICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgfVxuXG4gIC8vIFNhdmUgbG9ja3NcbiAgY29uc3Qge1xuICAgIGFsbG93U2xpZGVOZXh0LFxuICAgIGFsbG93U2xpZGVQcmV2LFxuICAgIHNuYXBHcmlkXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuXG4gIC8vIERpc2FibGUgbG9ja3Mgb24gcmVzaXplXG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgY29uc3QgaXNWaXJ0dWFsTG9vcCA9IGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcDtcbiAgaWYgKChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgIWlzVmlydHVhbExvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIDAsIGZhbHNlLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wICYmICFpc1ZpcnR1YWwpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvTG9vcChzd2lwZXIucmVhbEluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgfVxuICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICBjbGVhclRpbWVvdXQoc3dpcGVyLmF1dG9wbGF5LnJlc2l6ZVRpbWVvdXQpO1xuICAgIHN3aXBlci5hdXRvcGxheS5yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJlc3VtZSgpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH1cbiAgLy8gUmV0dXJuIGxvY2tzIGFmdGVyIHJlc2l6ZVxuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25DbGljayhlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3MpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24gJiYgc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgd3JhcHBlckVsLFxuICAgIHJ0bFRyYW5zbGF0ZSxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsTGVmdDtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIudHJhbnNsYXRlID0gLXdyYXBwZXJFbC5zY3JvbGxUb3A7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlmIChzd2lwZXIudHJhbnNsYXRlID09PSAwKSBzd2lwZXIudHJhbnNsYXRlID0gMDtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIGxldCBuZXdQcm9ncmVzcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9IChzd2lwZXIudHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gc3dpcGVyLnByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHJ0bFRyYW5zbGF0ZSA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gb25Mb2FkKGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBlLnRhcmdldCk7XG4gIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgfHwgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgIXN3aXBlci5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIudXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIG9uRG9jdW1lbnRUb3VjaFN0YXJ0KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkKSByZXR1cm47XG4gIHN3aXBlci5kb2N1bWVudFRvdWNoSGFuZGxlclByb2NlZWRlZCA9IHRydWU7XG4gIGlmIChzd2lwZXIucGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMpIHtcbiAgICBzd2lwZXIuZWwuc3R5bGUudG91Y2hBY3Rpb24gPSAnYXV0byc7XG4gIH1cbn1cblxuY29uc3QgZXZlbnRzID0gKHN3aXBlciwgbWV0aG9kKSA9PiB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBlbCxcbiAgICB3cmFwcGVyRWwsXG4gICAgZGV2aWNlXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGNhcHR1cmUgPSAhIXBhcmFtcy5uZXN0ZWQ7XG4gIGNvbnN0IGRvbU1ldGhvZCA9IG1ldGhvZCA9PT0gJ29uJyA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcbiAgY29uc3Qgc3dpcGVyTWV0aG9kID0gbWV0aG9kO1xuXG4gIC8vIFRvdWNoIEV2ZW50c1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaHN0YXJ0Jywgc3dpcGVyLm9uRG9jdW1lbnRUb3VjaFN0YXJ0LCB7XG4gICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgY2FwdHVyZVxuICB9KTtcbiAgZWxbZG9tTWV0aG9kXSgndG91Y2hzdGFydCcsIHN3aXBlci5vblRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZVxuICB9KTtcbiAgZWxbZG9tTWV0aG9kXSgncG9pbnRlcmRvd24nLCBzd2lwZXIub25Ub3VjaFN0YXJ0LCB7XG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNobW92ZScsIHN3aXBlci5vblRvdWNoTW92ZSwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJtb3ZlJywgc3dpcGVyLm9uVG91Y2hNb3ZlLCB7XG4gICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgY2FwdHVyZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2hlbmQnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJ1cCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcmNhbmNlbCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2hjYW5jZWwnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJvdXQnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJsZWF2ZScsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgnY29udGV4dG1lbnUnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG5cbiAgLy8gUHJldmVudCBMaW5rcyBDbGlja3NcbiAgaWYgKHBhcmFtcy5wcmV2ZW50Q2xpY2tzIHx8IHBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24pIHtcbiAgICBlbFtkb21NZXRob2RdKCdjbGljaycsIHN3aXBlci5vbkNsaWNrLCB0cnVlKTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB3cmFwcGVyRWxbZG9tTWV0aG9kXSgnc2Nyb2xsJywgc3dpcGVyLm9uU2Nyb2xsKTtcbiAgfVxuXG4gIC8vIFJlc2l6ZSBoYW5kbGVyXG4gIGlmIChwYXJhbXMudXBkYXRlT25XaW5kb3dSZXNpemUpIHtcbiAgICBzd2lwZXJbc3dpcGVyTWV0aG9kXShkZXZpY2UuaW9zIHx8IGRldmljZS5hbmRyb2lkID8gJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZScgOiAncmVzaXplIG9ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlcltzd2lwZXJNZXRob2RdKCdvYnNlcnZlclVwZGF0ZScsIG9uUmVzaXplLCB0cnVlKTtcbiAgfVxuXG4gIC8vIEltYWdlcyBsb2FkZXJcbiAgZWxbZG9tTWV0aG9kXSgnbG9hZCcsIHN3aXBlci5vbkxvYWQsIHtcbiAgICBjYXB0dXJlOiB0cnVlXG4gIH0pO1xufTtcbmZ1bmN0aW9uIGF0dGFjaEV2ZW50cygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBzd2lwZXIub25Ub3VjaFN0YXJ0ID0gb25Ub3VjaFN0YXJ0LmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uVG91Y2hNb3ZlID0gb25Ub3VjaE1vdmUuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaEVuZCA9IG9uVG91Y2hFbmQuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Eb2N1bWVudFRvdWNoU3RhcnQgPSBvbkRvY3VtZW50VG91Y2hTdGFydC5iaW5kKHN3aXBlcik7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci5vblNjcm9sbCA9IG9uU2Nyb2xsLmJpbmQoc3dpcGVyKTtcbiAgfVxuICBzd2lwZXIub25DbGljayA9IG9uQ2xpY2suYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Mb2FkID0gb25Mb2FkLmJpbmQoc3dpcGVyKTtcbiAgZXZlbnRzKHN3aXBlciwgJ29uJyk7XG59XG5mdW5jdGlvbiBkZXRhY2hFdmVudHMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGV2ZW50cyhzd2lwZXIsICdvZmYnKTtcbn1cbnZhciBldmVudHMkMSA9IHtcbiAgYXR0YWNoRXZlbnRzLFxuICBkZXRhY2hFdmVudHNcbn07XG5cbmNvbnN0IGlzR3JpZEVuYWJsZWQgPSAoc3dpcGVyLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xufTtcbmZ1bmN0aW9uIHNldEJyZWFrcG9pbnQoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICByZWFsSW5kZXgsXG4gICAgaW5pdGlhbGl6ZWQsXG4gICAgcGFyYW1zLFxuICAgIGVsXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGJyZWFrcG9pbnRzID0gcGFyYW1zLmJyZWFrcG9pbnRzO1xuICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJyZWFrcG9pbnRzICYmIE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAvLyBHZXQgYnJlYWtwb2ludCBmb3Igd2luZG93IHdpZHRoIGFuZCB1cGRhdGUgcGFyYW1ldGVyc1xuICBjb25zdCBicmVha3BvaW50ID0gc3dpcGVyLmdldEJyZWFrcG9pbnQoYnJlYWtwb2ludHMsIHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHNCYXNlLCBzd2lwZXIuZWwpO1xuICBpZiAoIWJyZWFrcG9pbnQgfHwgc3dpcGVyLmN1cnJlbnRCcmVha3BvaW50ID09PSBicmVha3BvaW50KSByZXR1cm47XG4gIGNvbnN0IGJyZWFrcG9pbnRPbmx5UGFyYW1zID0gYnJlYWtwb2ludCBpbiBicmVha3BvaW50cyA/IGJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdIDogdW5kZWZpbmVkO1xuICBjb25zdCBicmVha3BvaW50UGFyYW1zID0gYnJlYWtwb2ludE9ubHlQYXJhbXMgfHwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zO1xuICBjb25zdCB3YXNNdWx0aVJvdyA9IGlzR3JpZEVuYWJsZWQoc3dpcGVyLCBwYXJhbXMpO1xuICBjb25zdCBpc011bHRpUm93ID0gaXNHcmlkRW5hYmxlZChzd2lwZXIsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBjb25zdCB3YXNFbmFibGVkID0gcGFyYW1zLmVuYWJsZWQ7XG4gIGlmICh3YXNNdWx0aVJvdyAmJiAhaXNNdWx0aVJvdykge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGAsIGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCk7XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH0gZWxzZSBpZiAoIXdhc011bHRpUm93ICYmIGlzTXVsdGlSb3cpIHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgKTtcbiAgICBpZiAoYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgJiYgYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nIHx8ICFicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJykge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfVxuXG4gIC8vIFRvZ2dsZSBuYXZpZ2F0aW9uLCBwYWdpbmF0aW9uLCBzY3JvbGxiYXJcbiAgWyduYXZpZ2F0aW9uJywgJ3BhZ2luYXRpb24nLCAnc2Nyb2xsYmFyJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICBpZiAodHlwZW9mIGJyZWFrcG9pbnRQYXJhbXNbcHJvcF0gPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgY29uc3Qgd2FzTW9kdWxlRW5hYmxlZCA9IHBhcmFtc1twcm9wXSAmJiBwYXJhbXNbcHJvcF0uZW5hYmxlZDtcbiAgICBjb25zdCBpc01vZHVsZUVuYWJsZWQgPSBicmVha3BvaW50UGFyYW1zW3Byb3BdICYmIGJyZWFrcG9pbnRQYXJhbXNbcHJvcF0uZW5hYmxlZDtcbiAgICBpZiAod2FzTW9kdWxlRW5hYmxlZCAmJiAhaXNNb2R1bGVFbmFibGVkKSB7XG4gICAgICBzd2lwZXJbcHJvcF0uZGlzYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoIXdhc01vZHVsZUVuYWJsZWQgJiYgaXNNb2R1bGVFbmFibGVkKSB7XG4gICAgICBzd2lwZXJbcHJvcF0uZW5hYmxlKCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZGlyZWN0aW9uQ2hhbmdlZCA9IGJyZWFrcG9pbnRQYXJhbXMuZGlyZWN0aW9uICYmIGJyZWFrcG9pbnRQYXJhbXMuZGlyZWN0aW9uICE9PSBwYXJhbXMuZGlyZWN0aW9uO1xuICBjb25zdCBuZWVkc1JlTG9vcCA9IHBhcmFtcy5sb29wICYmIChicmVha3BvaW50UGFyYW1zLnNsaWRlc1BlclZpZXcgIT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3IHx8IGRpcmVjdGlvbkNoYW5nZWQpO1xuICBjb25zdCB3YXNMb29wID0gcGFyYW1zLmxvb3A7XG4gIGlmIChkaXJlY3Rpb25DaGFuZ2VkICYmIGluaXRpYWxpemVkKSB7XG4gICAgc3dpcGVyLmNoYW5nZURpcmVjdGlvbigpO1xuICB9XG4gIGV4dGVuZChzd2lwZXIucGFyYW1zLCBicmVha3BvaW50UGFyYW1zKTtcbiAgY29uc3QgaXNFbmFibGVkID0gc3dpcGVyLnBhcmFtcy5lbmFibGVkO1xuICBjb25zdCBoYXNMb29wID0gc3dpcGVyLnBhcmFtcy5sb29wO1xuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIGFsbG93VG91Y2hNb3ZlOiBzd2lwZXIucGFyYW1zLmFsbG93VG91Y2hNb3ZlLFxuICAgIGFsbG93U2xpZGVOZXh0OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVOZXh0LFxuICAgIGFsbG93U2xpZGVQcmV2OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVQcmV2XG4gIH0pO1xuICBpZiAod2FzRW5hYmxlZCAmJiAhaXNFbmFibGVkKSB7XG4gICAgc3dpcGVyLmRpc2FibGUoKTtcbiAgfSBlbHNlIGlmICghd2FzRW5hYmxlZCAmJiBpc0VuYWJsZWQpIHtcbiAgICBzd2lwZXIuZW5hYmxlKCk7XG4gIH1cbiAgc3dpcGVyLmN1cnJlbnRCcmVha3BvaW50ID0gYnJlYWtwb2ludDtcbiAgc3dpcGVyLmVtaXQoJ19iZWZvcmVCcmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGlmIChpbml0aWFsaXplZCkge1xuICAgIGlmIChuZWVkc1JlTG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZShyZWFsSW5kZXgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSBpZiAoIXdhc0xvb3AgJiYgaGFzTG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUocmVhbEluZGV4KTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2UgaWYgKHdhc0xvb3AgJiYgIWhhc0xvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIH1cbiAgfVxuICBzd2lwZXIuZW1pdCgnYnJlYWtwb2ludCcsIGJyZWFrcG9pbnRQYXJhbXMpO1xufVxuXG5mdW5jdGlvbiBnZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBiYXNlLCBjb250YWluZXJFbCkge1xuICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgYmFzZSA9ICd3aW5kb3cnO1xuICB9XG4gIGlmICghYnJlYWtwb2ludHMgfHwgYmFzZSA9PT0gJ2NvbnRhaW5lcicgJiYgIWNvbnRhaW5lckVsKSByZXR1cm4gdW5kZWZpbmVkO1xuICBsZXQgYnJlYWtwb2ludCA9IGZhbHNlO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgY3VycmVudEhlaWdodCA9IGJhc2UgPT09ICd3aW5kb3cnID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0O1xuICBjb25zdCBwb2ludHMgPSBPYmplY3Qua2V5cyhicmVha3BvaW50cykubWFwKHBvaW50ID0+IHtcbiAgICBpZiAodHlwZW9mIHBvaW50ID09PSAnc3RyaW5nJyAmJiBwb2ludC5pbmRleE9mKCdAJykgPT09IDApIHtcbiAgICAgIGNvbnN0IG1pblJhdGlvID0gcGFyc2VGbG9hdChwb2ludC5zdWJzdHIoMSkpO1xuICAgICAgY29uc3QgdmFsdWUgPSBjdXJyZW50SGVpZ2h0ICogbWluUmF0aW87XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgcG9pbnRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcG9pbnQsXG4gICAgICBwb2ludFxuICAgIH07XG4gIH0pO1xuICBwb2ludHMuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYS52YWx1ZSwgMTApIC0gcGFyc2VJbnQoYi52YWx1ZSwgMTApKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCB7XG4gICAgICBwb2ludCxcbiAgICAgIHZhbHVlXG4gICAgfSA9IHBvaW50c1tpXTtcbiAgICBpZiAoYmFzZSA9PT0gJ3dpbmRvdycpIHtcbiAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShgKG1pbi13aWR0aDogJHt2YWx1ZX1weClgKS5tYXRjaGVzKSB7XG4gICAgICAgIGJyZWFrcG9pbnQgPSBwb2ludDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlIDw9IGNvbnRhaW5lckVsLmNsaWVudFdpZHRoKSB7XG4gICAgICBicmVha3BvaW50ID0gcG9pbnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBicmVha3BvaW50IHx8ICdtYXgnO1xufVxuXG52YXIgYnJlYWtwb2ludHMgPSB7XG4gIHNldEJyZWFrcG9pbnQsXG4gIGdldEJyZWFrcG9pbnRcbn07XG5cbmZ1bmN0aW9uIHByZXBhcmVDbGFzc2VzKGVudHJpZXMsIHByZWZpeCkge1xuICBjb25zdCByZXN1bHRDbGFzc2VzID0gW107XG4gIGVudHJpZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGNsYXNzTmFtZXMgPT4ge1xuICAgICAgICBpZiAoaXRlbVtjbGFzc05hbWVzXSkge1xuICAgICAgICAgIHJlc3VsdENsYXNzZXMucHVzaChwcmVmaXggKyBjbGFzc05hbWVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJlc3VsdENsYXNzZXMucHVzaChwcmVmaXggKyBpdGVtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0Q2xhc3Nlcztcbn1cbmZ1bmN0aW9uIGFkZENsYXNzZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWVzLFxuICAgIHBhcmFtcyxcbiAgICBydGwsXG4gICAgZWwsXG4gICAgZGV2aWNlXG4gIH0gPSBzd2lwZXI7XG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICBjb25zdCBzdWZmaXhlcyA9IHByZXBhcmVDbGFzc2VzKFsnaW5pdGlhbGl6ZWQnLCBwYXJhbXMuZGlyZWN0aW9uLCB7XG4gICAgJ2ZyZWUtbW9kZSc6IHN3aXBlci5wYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWRcbiAgfSwge1xuICAgICdhdXRvaGVpZ2h0JzogcGFyYW1zLmF1dG9IZWlnaHRcbiAgfSwge1xuICAgICdydGwnOiBydGxcbiAgfSwge1xuICAgICdncmlkJzogcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDFcbiAgfSwge1xuICAgICdncmlkLWNvbHVtbic6IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxICYmIHBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nXG4gIH0sIHtcbiAgICAnYW5kcm9pZCc6IGRldmljZS5hbmRyb2lkXG4gIH0sIHtcbiAgICAnaW9zJzogZGV2aWNlLmlvc1xuICB9LCB7XG4gICAgJ2Nzcy1tb2RlJzogcGFyYW1zLmNzc01vZGVcbiAgfSwge1xuICAgICdjZW50ZXJlZCc6IHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc1xuICB9LCB7XG4gICAgJ3dhdGNoLXByb2dyZXNzJzogcGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3NcbiAgfV0sIHBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKTtcbiAgY2xhc3NOYW1lcy5wdXNoKC4uLnN1ZmZpeGVzKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBlbCxcbiAgICBjbGFzc05hbWVzXG4gIH0gPSBzd2lwZXI7XG4gIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3NOYW1lcyk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufVxuXG52YXIgY2xhc3NlcyA9IHtcbiAgYWRkQ2xhc3NlcyxcbiAgcmVtb3ZlQ2xhc3Nlc1xufTtcblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGlzTG9ja2VkOiB3YXNMb2NrZWQsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXNPZmZzZXRCZWZvcmVcbiAgfSA9IHBhcmFtcztcbiAgaWYgKHNsaWRlc09mZnNldEJlZm9yZSkge1xuICAgIGNvbnN0IGxhc3RTbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGxhc3RTbGlkZVJpZ2h0RWRnZSA9IHN3aXBlci5zbGlkZXNHcmlkW2xhc3RTbGlkZUluZGV4XSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc2xpZGVzT2Zmc2V0QmVmb3JlICogMjtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc2l6ZSA+IGxhc3RTbGlkZVJpZ2h0RWRnZTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuaXNMb2NrZWQgPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoID09PSAxO1xuICB9XG4gIGlmIChwYXJhbXMuYWxsb3dTbGlkZU5leHQgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSAhc3dpcGVyLmlzTG9ja2VkO1xuICB9XG4gIGlmIChwYXJhbXMuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSAhc3dpcGVyLmlzTG9ja2VkO1xuICB9XG4gIGlmICh3YXNMb2NrZWQgJiYgd2FzTG9ja2VkICE9PSBzd2lwZXIuaXNMb2NrZWQpIHtcbiAgICBzd2lwZXIuaXNFbmQgPSBmYWxzZTtcbiAgfVxuICBpZiAod2FzTG9ja2VkICE9PSBzd2lwZXIuaXNMb2NrZWQpIHtcbiAgICBzd2lwZXIuZW1pdChzd2lwZXIuaXNMb2NrZWQgPyAnbG9jaycgOiAndW5sb2NrJyk7XG4gIH1cbn1cbnZhciBjaGVja092ZXJmbG93JDEgPSB7XG4gIGNoZWNrT3ZlcmZsb3dcbn07XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgaW5pdDogdHJ1ZSxcbiAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gIG9uZVdheU1vdmVtZW50OiBmYWxzZSxcbiAgdG91Y2hFdmVudHNUYXJnZXQ6ICd3cmFwcGVyJyxcbiAgaW5pdGlhbFNsaWRlOiAwLFxuICBzcGVlZDogMzAwLFxuICBjc3NNb2RlOiBmYWxzZSxcbiAgdXBkYXRlT25XaW5kb3dSZXNpemU6IHRydWUsXG4gIHJlc2l6ZU9ic2VydmVyOiB0cnVlLFxuICBuZXN0ZWQ6IGZhbHNlLFxuICBjcmVhdGVFbGVtZW50czogZmFsc2UsXG4gIGV2ZW50c1ByZWZpeDogJ3N3aXBlcicsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIGZvY3VzYWJsZUVsZW1lbnRzOiAnaW5wdXQsIHNlbGVjdCwgb3B0aW9uLCB0ZXh0YXJlYSwgYnV0dG9uLCB2aWRlbywgbGFiZWwnLFxuICAvLyBPdmVycmlkZXNcbiAgd2lkdGg6IG51bGwsXG4gIGhlaWdodDogbnVsbCxcbiAgLy9cbiAgcHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiBmYWxzZSxcbiAgLy8gc3NyXG4gIHVzZXJBZ2VudDogbnVsbCxcbiAgdXJsOiBudWxsLFxuICAvLyBUbyBzdXBwb3J0IGlPUydzIHN3aXBlLXRvLWdvLWJhY2sgZ2VzdHVyZSAod2hlbiBiZWluZyB1c2VkIGluLWFwcCkuXG4gIGVkZ2VTd2lwZURldGVjdGlvbjogZmFsc2UsXG4gIGVkZ2VTd2lwZVRocmVzaG9sZDogMjAsXG4gIC8vIEF1dG9oZWlnaHRcbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIC8vIFNldCB3cmFwcGVyIHdpZHRoXG4gIHNldFdyYXBwZXJTaXplOiBmYWxzZSxcbiAgLy8gVmlydHVhbCBUcmFuc2xhdGVcbiAgdmlydHVhbFRyYW5zbGF0ZTogZmFsc2UsXG4gIC8vIEVmZmVjdHNcbiAgZWZmZWN0OiAnc2xpZGUnLFxuICAvLyAnc2xpZGUnIG9yICdmYWRlJyBvciAnY3ViZScgb3IgJ2NvdmVyZmxvdycgb3IgJ2ZsaXAnXG5cbiAgLy8gQnJlYWtwb2ludHNcbiAgYnJlYWtwb2ludHM6IHVuZGVmaW5lZCxcbiAgYnJlYWtwb2ludHNCYXNlOiAnd2luZG93JyxcbiAgLy8gU2xpZGVzIGdyaWRcbiAgc3BhY2VCZXR3ZWVuOiAwLFxuICBzbGlkZXNQZXJWaWV3OiAxLFxuICBzbGlkZXNQZXJHcm91cDogMSxcbiAgc2xpZGVzUGVyR3JvdXBTa2lwOiAwLFxuICBzbGlkZXNQZXJHcm91cEF1dG86IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gIGNlbnRlcmVkU2xpZGVzQm91bmRzOiBmYWxzZSxcbiAgc2xpZGVzT2Zmc2V0QmVmb3JlOiAwLFxuICAvLyBpbiBweFxuICBzbGlkZXNPZmZzZXRBZnRlcjogMCxcbiAgLy8gaW4gcHhcbiAgbm9ybWFsaXplU2xpZGVJbmRleDogdHJ1ZSxcbiAgY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiBmYWxzZSxcbiAgLy8gRGlzYWJsZSBzd2lwZXIgYW5kIGhpZGUgbmF2aWdhdGlvbiB3aGVuIGNvbnRhaW5lciBub3Qgb3ZlcmZsb3dcbiAgd2F0Y2hPdmVyZmxvdzogdHJ1ZSxcbiAgLy8gUm91bmQgbGVuZ3RoXG4gIHJvdW5kTGVuZ3RoczogZmFsc2UsXG4gIC8vIFRvdWNoZXNcbiAgdG91Y2hSYXRpbzogMSxcbiAgdG91Y2hBbmdsZTogNDUsXG4gIHNpbXVsYXRlVG91Y2g6IHRydWUsXG4gIHNob3J0U3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzUmF0aW86IDAuNSxcbiAgbG9uZ1N3aXBlc01zOiAzMDAsXG4gIGZvbGxvd0ZpbmdlcjogdHJ1ZSxcbiAgYWxsb3dUb3VjaE1vdmU6IHRydWUsXG4gIHRocmVzaG9sZDogNSxcbiAgdG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgdG91Y2hTdGFydFByZXZlbnREZWZhdWx0OiB0cnVlLFxuICB0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gIHRvdWNoUmVsZWFzZU9uRWRnZXM6IGZhbHNlLFxuICAvLyBVbmlxdWUgTmF2aWdhdGlvbiBFbGVtZW50c1xuICB1bmlxdWVOYXZFbGVtZW50czogdHJ1ZSxcbiAgLy8gUmVzaXN0YW5jZVxuICByZXNpc3RhbmNlOiB0cnVlLFxuICByZXNpc3RhbmNlUmF0aW86IDAuODUsXG4gIC8vIFByb2dyZXNzXG4gIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IGZhbHNlLFxuICAvLyBDdXJzb3JcbiAgZ3JhYkN1cnNvcjogZmFsc2UsXG4gIC8vIENsaWNrc1xuICBwcmV2ZW50Q2xpY2tzOiB0cnVlLFxuICBwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb246IHRydWUsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlLFxuICAvLyBsb29wXG4gIGxvb3A6IGZhbHNlLFxuICBsb29wQWRkQmxhbmtTbGlkZXM6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAwLFxuICBsb29wUHJldmVudHNTbGlkaW5nOiB0cnVlLFxuICAvLyByZXdpbmRcbiAgcmV3aW5kOiBmYWxzZSxcbiAgLy8gU3dpcGluZy9ubyBzd2lwaW5nXG4gIGFsbG93U2xpZGVQcmV2OiB0cnVlLFxuICBhbGxvd1NsaWRlTmV4dDogdHJ1ZSxcbiAgc3dpcGVIYW5kbGVyOiBudWxsLFxuICAvLyAnLnN3aXBlLWhhbmRsZXInLFxuICBub1N3aXBpbmc6IHRydWUsXG4gIG5vU3dpcGluZ0NsYXNzOiAnc3dpcGVyLW5vLXN3aXBpbmcnLFxuICBub1N3aXBpbmdTZWxlY3RvcjogbnVsbCxcbiAgLy8gUGFzc2l2ZSBMaXN0ZW5lcnNcbiAgcGFzc2l2ZUxpc3RlbmVyczogdHJ1ZSxcbiAgbWF4QmFja2ZhY2VIaWRkZW5TbGlkZXM6IDEwLFxuICAvLyBOU1xuICBjb250YWluZXJNb2RpZmllckNsYXNzOiAnc3dpcGVyLScsXG4gIC8vIE5FV1xuICBzbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlJyxcbiAgc2xpZGVCbGFua0NsYXNzOiAnc3dpcGVyLXNsaWRlLWJsYW5rJyxcbiAgc2xpZGVBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS1hY3RpdmUnLFxuICBzbGlkZVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS12aXNpYmxlJyxcbiAgc2xpZGVGdWxseVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS1mdWxseS12aXNpYmxlJyxcbiAgc2xpZGVOZXh0Q2xhc3M6ICdzd2lwZXItc2xpZGUtbmV4dCcsXG4gIHNsaWRlUHJldkNsYXNzOiAnc3dpcGVyLXNsaWRlLXByZXYnLFxuICB3cmFwcGVyQ2xhc3M6ICdzd2lwZXItd3JhcHBlcicsXG4gIGxhenlQcmVsb2FkZXJDbGFzczogJ3N3aXBlci1sYXp5LXByZWxvYWRlcicsXG4gIGxhenlQcmVsb2FkUHJldk5leHQ6IDAsXG4gIC8vIENhbGxiYWNrc1xuICBydW5DYWxsYmFja3NPbkluaXQ6IHRydWUsXG4gIC8vIEludGVybmFsc1xuICBfZW1pdENsYXNzZXM6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBtb2R1bGVFeHRlbmRQYXJhbXMocGFyYW1zLCBhbGxNb2R1bGVzUGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbiBleHRlbmRQYXJhbXMob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gdm9pZCAwKSB7XG4gICAgICBvYmogPSB7fTtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlUGFyYW1OYW1lID0gT2JqZWN0LmtleXMob2JqKVswXTtcbiAgICBjb25zdCBtb2R1bGVQYXJhbXMgPSBvYmpbbW9kdWxlUGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIG1vZHVsZVBhcmFtcyAhPT0gJ29iamVjdCcgfHwgbW9kdWxlUGFyYW1zID09PSBudWxsKSB7XG4gICAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSB0cnVlKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZVBhcmFtTmFtZSA9PT0gJ25hdmlnYXRpb24nICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLnByZXZFbCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0ubmV4dEVsKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5hdXRvID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFsncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5pbmRleE9mKG1vZHVsZVBhcmFtTmFtZSkgPj0gMCAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbCkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uYXV0byA9IHRydWU7XG4gICAgfVxuICAgIGlmICghKG1vZHVsZVBhcmFtTmFtZSBpbiBwYXJhbXMgJiYgJ2VuYWJsZWQnIGluIG1vZHVsZVBhcmFtcykpIHtcbiAgICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSAnb2JqZWN0JyAmJiAhKCdlbmFibGVkJyBpbiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgfTtcbn1cblxuLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiBcIm9mZlwiICovXG5jb25zdCBwcm90b3R5cGVzID0ge1xuICBldmVudHNFbWl0dGVyLFxuICB1cGRhdGUsXG4gIHRyYW5zbGF0ZSxcbiAgdHJhbnNpdGlvbixcbiAgc2xpZGUsXG4gIGxvb3AsXG4gIGdyYWJDdXJzb3IsXG4gIGV2ZW50czogZXZlbnRzJDEsXG4gIGJyZWFrcG9pbnRzLFxuICBjaGVja092ZXJmbG93OiBjaGVja092ZXJmbG93JDEsXG4gIGNsYXNzZXNcbn07XG5jb25zdCBleHRlbmRlZERlZmF1bHRzID0ge307XG5jbGFzcyBTd2lwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgZWw7XG4gICAgbGV0IHBhcmFtcztcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdLmNvbnN0cnVjdG9yICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmdzWzBdKS5zbGljZSg4LCAtMSkgPT09ICdPYmplY3QnKSB7XG4gICAgICBwYXJhbXMgPSBhcmdzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBbZWwsIHBhcmFtc10gPSBhcmdzO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge307XG4gICAgcGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuICAgIGlmIChlbCAmJiAhcGFyYW1zLmVsKSBwYXJhbXMuZWwgPSBlbDtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgaWYgKHBhcmFtcy5lbCAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCkubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3Qgc3dpcGVycyA9IFtdO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpLmZvckVhY2goY29udGFpbmVyRWwgPT4ge1xuICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcywge1xuICAgICAgICAgIGVsOiBjb250YWluZXJFbFxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVycy5wdXNoKG5ldyBTd2lwZXIobmV3UGFyYW1zKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICAgIHJldHVybiBzd2lwZXJzO1xuICAgIH1cblxuICAgIC8vIFN3aXBlciBJbnN0YW5jZVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLl9fc3dpcGVyX18gPSB0cnVlO1xuICAgIHN3aXBlci5zdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICAgIHN3aXBlci5kZXZpY2UgPSBnZXREZXZpY2Uoe1xuICAgICAgdXNlckFnZW50OiBwYXJhbXMudXNlckFnZW50XG4gICAgfSk7XG4gICAgc3dpcGVyLmJyb3dzZXIgPSBnZXRCcm93c2VyKCk7XG4gICAgc3dpcGVyLmV2ZW50c0xpc3RlbmVycyA9IHt9O1xuICAgIHN3aXBlci5ldmVudHNBbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICBzd2lwZXIubW9kdWxlcyA9IFsuLi5zd2lwZXIuX19tb2R1bGVzX19dO1xuICAgIGlmIChwYXJhbXMubW9kdWxlcyAmJiBBcnJheS5pc0FycmF5KHBhcmFtcy5tb2R1bGVzKSkge1xuICAgICAgc3dpcGVyLm1vZHVsZXMucHVzaCguLi5wYXJhbXMubW9kdWxlcyk7XG4gICAgfVxuICAgIGNvbnN0IGFsbE1vZHVsZXNQYXJhbXMgPSB7fTtcbiAgICBzd2lwZXIubW9kdWxlcy5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICBtb2Qoe1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHN3aXBlcixcbiAgICAgICAgZXh0ZW5kUGFyYW1zOiBtb2R1bGVFeHRlbmRQYXJhbXMocGFyYW1zLCBhbGxNb2R1bGVzUGFyYW1zKSxcbiAgICAgICAgb246IHN3aXBlci5vbi5iaW5kKHN3aXBlciksXG4gICAgICAgIG9uY2U6IHN3aXBlci5vbmNlLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgb2ZmOiBzd2lwZXIub2ZmLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgZW1pdDogc3dpcGVyLmVtaXQuYmluZChzd2lwZXIpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIG1vZHVsZXMgcGFyYW1zXG4gICAgY29uc3Qgc3dpcGVyUGFyYW1zID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgYWxsTW9kdWxlc1BhcmFtcyk7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBwYXNzZWQgcGFyYW1zXG4gICAgc3dpcGVyLnBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyUGFyYW1zLCBleHRlbmRlZERlZmF1bHRzLCBwYXJhbXMpO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyLnBhcmFtcyk7XG4gICAgc3dpcGVyLnBhc3NlZFBhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zKTtcblxuICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uKSB7XG4gICAgICBPYmplY3Qua2V5cyhzd2lwZXIucGFyYW1zLm9uKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgIHN3aXBlci5vbihldmVudE5hbWUsIHN3aXBlci5wYXJhbXMub25bZXZlbnROYW1lXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbkFueSkge1xuICAgICAgc3dpcGVyLm9uQW55KHN3aXBlci5wYXJhbXMub25BbnkpO1xuICAgIH1cblxuICAgIC8vIEV4dGVuZCBTd2lwZXJcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgICAgZW5hYmxlZDogc3dpcGVyLnBhcmFtcy5lbmFibGVkLFxuICAgICAgZWwsXG4gICAgICAvLyBDbGFzc2VzXG4gICAgICBjbGFzc05hbWVzOiBbXSxcbiAgICAgIC8vIFNsaWRlc1xuICAgICAgc2xpZGVzOiBbXSxcbiAgICAgIHNsaWRlc0dyaWQ6IFtdLFxuICAgICAgc25hcEdyaWQ6IFtdLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkOiBbXSxcbiAgICAgIC8vIGlzRGlyZWN0aW9uXG4gICAgICBpc0hvcml6b250YWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgfSxcbiAgICAgIGlzVmVydGljYWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgIH0sXG4gICAgICAvLyBJbmRleGVzXG4gICAgICBhY3RpdmVJbmRleDogMCxcbiAgICAgIHJlYWxJbmRleDogMCxcbiAgICAgIC8vXG4gICAgICBpc0JlZ2lubmluZzogdHJ1ZSxcbiAgICAgIGlzRW5kOiBmYWxzZSxcbiAgICAgIC8vIFByb3BzXG4gICAgICB0cmFuc2xhdGU6IDAsXG4gICAgICBwcmV2aW91c1RyYW5zbGF0ZTogMCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgdmVsb2NpdHk6IDAsXG4gICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCkge1xuICAgICAgICAvLyBSZXR1cm5zIDAgdW5sZXNzIGB0cmFuc2xhdGVgIGlzID4gMioqMjNcbiAgICAgICAgLy8gU2hvdWxkIGJlIHN1YnRyYWN0ZWQgZnJvbSBjc3MgdmFsdWVzIHRvIHByZXZlbnQgb3ZlcmZsb3dcbiAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmModGhpcy50cmFuc2xhdGUgLyAyICoqIDIzKSAqIDIgKiogMjM7XG4gICAgICB9LFxuICAgICAgLy8gTG9ja3NcbiAgICAgIGFsbG93U2xpZGVOZXh0OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVOZXh0LFxuICAgICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXYsXG4gICAgICAvLyBUb3VjaCBFdmVudHNcbiAgICAgIHRvdWNoRXZlbnRzRGF0YToge1xuICAgICAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdWNoU3RhcnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUaHJlc2hvbGRNb3ZlOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIEZvcm0gZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHM6IHN3aXBlci5wYXJhbXMuZm9jdXNhYmxlRWxlbWVudHMsXG4gICAgICAgIC8vIExhc3QgY2xpY2sgdGltZVxuICAgICAgICBsYXN0Q2xpY2tUaW1lOiAwLFxuICAgICAgICBjbGlja1RpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gVmVsb2NpdGllc1xuICAgICAgICB2ZWxvY2l0aWVzOiBbXSxcbiAgICAgICAgYWxsb3dNb21lbnR1bUJvdW5jZTogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydE1vdmluZzogdW5kZWZpbmVkLFxuICAgICAgICBwb2ludGVySWQ6IG51bGwsXG4gICAgICAgIHRvdWNoSWQ6IG51bGxcbiAgICAgIH0sXG4gICAgICAvLyBDbGlja3NcbiAgICAgIGFsbG93Q2xpY2s6IHRydWUsXG4gICAgICAvLyBUb3VjaGVzXG4gICAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICAgIHRvdWNoZXM6IHtcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGN1cnJlbnRYOiAwLFxuICAgICAgICBjdXJyZW50WTogMCxcbiAgICAgICAgZGlmZjogMFxuICAgICAgfSxcbiAgICAgIC8vIEltYWdlc1xuICAgICAgaW1hZ2VzVG9Mb2FkOiBbXSxcbiAgICAgIGltYWdlc0xvYWRlZDogMFxuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc3dpcGVyJyk7XG5cbiAgICAvLyBJbml0XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaW5pdCkge1xuICAgICAgc3dpcGVyLmluaXQoKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYXBwIGluc3RhbmNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0cnVjdG9yLXJldHVyblxuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgZ2V0RGlyZWN0aW9uTGFiZWwocHJvcGVydHkpIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4ge1xuICAgICAgJ3dpZHRoJzogJ2hlaWdodCcsXG4gICAgICAnbWFyZ2luLXRvcCc6ICdtYXJnaW4tbGVmdCcsXG4gICAgICAnbWFyZ2luLWJvdHRvbSAnOiAnbWFyZ2luLXJpZ2h0JyxcbiAgICAgICdtYXJnaW4tbGVmdCc6ICdtYXJnaW4tdG9wJyxcbiAgICAgICdtYXJnaW4tcmlnaHQnOiAnbWFyZ2luLWJvdHRvbScsXG4gICAgICAncGFkZGluZy1sZWZ0JzogJ3BhZGRpbmctdG9wJyxcbiAgICAgICdwYWRkaW5nLXJpZ2h0JzogJ3BhZGRpbmctYm90dG9tJyxcbiAgICAgICdtYXJnaW5SaWdodCc6ICdtYXJnaW5Cb3R0b20nXG4gICAgfVtwcm9wZXJ0eV07XG4gIH1cbiAgZ2V0U2xpZGVJbmRleChzbGlkZUVsKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzRWwsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICAgIGNvbnN0IGZpcnN0U2xpZGVJbmRleCA9IGVsZW1lbnRJbmRleChzbGlkZXNbMF0pO1xuICAgIHJldHVybiBlbGVtZW50SW5kZXgoc2xpZGVFbCkgLSBmaXJzdFNsaWRlSW5kZXg7XG4gIH1cbiAgZ2V0U2xpZGVJbmRleEJ5RGF0YShpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmdldFNsaWRlSW5kZXgodGhpcy5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxID09PSBpbmRleClbMF0pO1xuICB9XG4gIHJlY2FsY1NsaWRlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc0VsLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHN3aXBlcjtcbiAgICBzd2lwZXIuc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IHRydWU7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2VuYWJsZScpO1xuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIudW5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdkaXNhYmxlJyk7XG4gIH1cbiAgc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MsIHNwZWVkKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBwcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSk7XG4gICAgY29uc3QgbWluID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgIGNvbnN0IG1heCA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50ID0gKG1heCAtIG1pbikgKiBwcm9ncmVzcyArIG1pbjtcbiAgICBzd2lwZXIudHJhbnNsYXRlVG8oY3VycmVudCwgdHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJyA/IDAgOiBzcGVlZCk7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgfVxuICBlbWl0Q29udGFpbmVyQ2xhc3NlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IGNscyA9IHN3aXBlci5lbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoY2xhc3NOYW1lID0+IHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKSA9PT0gMDtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX2NvbnRhaW5lckNsYXNzZXMnLCBjbHMuam9pbignICcpKTtcbiAgfVxuICBnZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQpIHJldHVybiAnJztcbiAgICByZXR1cm4gc2xpZGVFbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoY2xhc3NOYW1lID0+IHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyLXNsaWRlJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKSA9PT0gMDtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH1cbiAgZW1pdFNsaWRlc0NsYXNzZXMoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuX2VtaXRDbGFzc2VzIHx8ICFzd2lwZXIuZWwpIHJldHVybjtcbiAgICBjb25zdCB1cGRhdGVzID0gW107XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgY29uc3QgY2xhc3NOYW1lcyA9IHN3aXBlci5nZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCk7XG4gICAgICB1cGRhdGVzLnB1c2goe1xuICAgICAgICBzbGlkZUVsLFxuICAgICAgICBjbGFzc05hbWVzXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci5lbWl0KCdfc2xpZGVDbGFzcycsIHNsaWRlRWwsIGNsYXNzTmFtZXMpO1xuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc2xpZGVDbGFzc2VzJywgdXBkYXRlcyk7XG4gIH1cbiAgc2xpZGVzUGVyVmlld0R5bmFtaWModmlldywgZXhhY3QpIHtcbiAgICBpZiAodmlldyA9PT0gdm9pZCAwKSB7XG4gICAgICB2aWV3ID0gJ2N1cnJlbnQnO1xuICAgIH1cbiAgICBpZiAoZXhhY3QgPT09IHZvaWQgMCkge1xuICAgICAgZXhhY3QgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXMsXG4gICAgICBzbGlkZXMsXG4gICAgICBzbGlkZXNHcmlkLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkLFxuICAgICAgc2l6ZTogc3dpcGVyU2l6ZSxcbiAgICAgIGFjdGl2ZUluZGV4XG4gICAgfSA9IHN3aXBlcjtcbiAgICBsZXQgc3B2ID0gMTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnbnVtYmVyJykgcmV0dXJuIHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGxldCBzbGlkZVNpemUgPSBzbGlkZXNbYWN0aXZlSW5kZXhdID8gc2xpZGVzW2FjdGl2ZUluZGV4XS5zd2lwZXJTbGlkZVNpemUgOiAwO1xuICAgICAgbGV0IGJyZWFrTG9vcDtcbiAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCArIDE7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWYgKHZpZXcgPT09ICdjdXJyZW50Jykge1xuICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBleGFjdCA/IHNsaWRlc0dyaWRbaV0gKyBzbGlkZXNTaXplc0dyaWRbaV0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemUgOiBzbGlkZXNHcmlkW2ldIC0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gPCBzd2lwZXJTaXplO1xuICAgICAgICAgIGlmIChzbGlkZUluVmlldykge1xuICAgICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwcmV2aW91c1xuICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgIGNvbnN0IHNsaWRlSW5WaWV3ID0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gLSBzbGlkZXNHcmlkW2ldIDwgc3dpcGVyU2l6ZTtcbiAgICAgICAgICBpZiAoc2xpZGVJblZpZXcpIHtcbiAgICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3B2O1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBzbmFwR3JpZCxcbiAgICAgIHBhcmFtc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgLy8gQnJlYWtwb2ludHNcbiAgICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgIH1cbiAgICBbLi4uc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpXS5mb3JFYWNoKGltYWdlRWwgPT4ge1xuICAgICAgaWYgKGltYWdlRWwuY29tcGxldGUpIHtcbiAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBpbWFnZUVsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZVZhbHVlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgKiAtMSA6IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBjb25zdCBuZXdUcmFuc2xhdGUgPSBNYXRoLm1pbihNYXRoLm1heCh0cmFuc2xhdGVWYWx1ZSwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSwgc3dpcGVyLm1pblRyYW5zbGF0ZSgpKTtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICB9XG4gICAgbGV0IHRyYW5zbGF0ZWQ7XG4gICAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiAhcGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlcyA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMgOiBzd2lwZXIuc2xpZGVzO1xuICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc2xpZGVzLmxlbmd0aCAtIDEsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNsYXRlZCkge1xuICAgICAgICBzZXRUcmFuc2xhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCd1cGRhdGUnKTtcbiAgfVxuICBjaGFuZ2VEaXJlY3Rpb24obmV3RGlyZWN0aW9uLCBuZWVkVXBkYXRlKSB7XG4gICAgaWYgKG5lZWRVcGRhdGUgPT09IHZvaWQgMCkge1xuICAgICAgbmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3QgY3VycmVudERpcmVjdGlvbiA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uO1xuICAgIGlmICghbmV3RGlyZWN0aW9uKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0RpcmVjdGlvbiA9IGN1cnJlbnREaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgfVxuICAgIGlmIChuZXdEaXJlY3Rpb24gPT09IGN1cnJlbnREaXJlY3Rpb24gfHwgbmV3RGlyZWN0aW9uICE9PSAnaG9yaXpvbnRhbCcgJiYgbmV3RGlyZWN0aW9uICE9PSAndmVydGljYWwnKSB7XG4gICAgICByZXR1cm4gc3dpcGVyO1xuICAgIH1cbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtjdXJyZW50RGlyZWN0aW9ufWApO1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke25ld0RpcmVjdGlvbn1gKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgICBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9IG5ld0RpcmVjdGlvbjtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBpZiAobmV3RGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ2NoYW5nZURpcmVjdGlvbicpO1xuICAgIGlmIChuZWVkVXBkYXRlKSBzd2lwZXIudXBkYXRlKCk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuICBjaGFuZ2VMYW5ndWFnZURpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIucnRsICYmIGRpcmVjdGlvbiA9PT0gJ3J0bCcgfHwgIXN3aXBlci5ydGwgJiYgZGlyZWN0aW9uID09PSAnbHRyJykgcmV0dXJuO1xuICAgIHN3aXBlci5ydGwgPSBkaXJlY3Rpb24gPT09ICdydGwnO1xuICAgIHN3aXBlci5ydGxUcmFuc2xhdGUgPSBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIHN3aXBlci5ydGw7XG4gICAgaWYgKHN3aXBlci5ydGwpIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ydGxgKTtcbiAgICAgIHN3aXBlci5lbC5kaXIgPSAncnRsJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXJ0bGApO1xuICAgICAgc3dpcGVyLmVsLmRpciA9ICdsdHInO1xuICAgIH1cbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbiAgbW91bnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5tb3VudGVkKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIEZpbmQgZWxcbiAgICBsZXQgZWwgPSBlbGVtZW50IHx8IHN3aXBlci5wYXJhbXMuZWw7XG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7XG4gICAgfVxuICAgIGlmICghZWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWwuc3dpcGVyID0gc3dpcGVyO1xuICAgIGlmIChlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUuaG9zdCAmJiBlbC5wYXJlbnROb2RlLmhvc3Qubm9kZU5hbWUgPT09ICdTV0lQRVItQ09OVEFJTkVSJykge1xuICAgICAgc3dpcGVyLmlzRWxlbWVudCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGdldFdyYXBwZXJTZWxlY3RvciA9ICgpID0+IHtcbiAgICAgIHJldHVybiBgLiR7KHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzIHx8ICcnKS50cmltKCkuc3BsaXQoJyAnKS5qb2luKCcuJyl9YDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFdyYXBwZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoZWwgJiYgZWwuc2hhZG93Um9vdCAmJiBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3QgcmVzID0gZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGdldFdyYXBwZXJTZWxlY3RvcigpKTtcbiAgICAgICAgLy8gQ2hpbGRyZW4gbmVlZHMgdG8gcmV0dXJuIHNsb3QgaXRlbXNcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50Q2hpbGRyZW4oZWwsIGdldFdyYXBwZXJTZWxlY3RvcigpKVswXTtcbiAgICB9O1xuICAgIC8vIEZpbmQgV3JhcHBlclxuICAgIGxldCB3cmFwcGVyRWwgPSBnZXRXcmFwcGVyKCk7XG4gICAgaWYgKCF3cmFwcGVyRWwgJiYgc3dpcGVyLnBhcmFtcy5jcmVhdGVFbGVtZW50cykge1xuICAgICAgd3JhcHBlckVsID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MpO1xuICAgICAgZWwuYXBwZW5kKHdyYXBwZXJFbCk7XG4gICAgICBlbGVtZW50Q2hpbGRyZW4oZWwsIGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YCkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgd3JhcHBlckVsLmFwcGVuZChzbGlkZUVsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgICAgZWwsXG4gICAgICB3cmFwcGVyRWwsXG4gICAgICBzbGlkZXNFbDogc3dpcGVyLmlzRWxlbWVudCAmJiAhZWwucGFyZW50Tm9kZS5ob3N0LnNsaWRlU2xvdHMgPyBlbC5wYXJlbnROb2RlLmhvc3QgOiB3cmFwcGVyRWwsXG4gICAgICBob3N0RWw6IHN3aXBlci5pc0VsZW1lbnQgPyBlbC5wYXJlbnROb2RlLmhvc3QgOiBlbCxcbiAgICAgIG1vdW50ZWQ6IHRydWUsXG4gICAgICAvLyBSVExcbiAgICAgIHJ0bDogZWwuZGlyLnRvTG93ZXJDYXNlKCkgPT09ICdydGwnIHx8IGVsZW1lbnRTdHlsZShlbCwgJ2RpcmVjdGlvbicpID09PSAncnRsJyxcbiAgICAgIHJ0bFRyYW5zbGF0ZTogc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyAmJiAoZWwuZGlyLnRvTG93ZXJDYXNlKCkgPT09ICdydGwnIHx8IGVsZW1lbnRTdHlsZShlbCwgJ2RpcmVjdGlvbicpID09PSAncnRsJyksXG4gICAgICB3cm9uZ1JUTDogZWxlbWVudFN0eWxlKHdyYXBwZXJFbCwgJ2Rpc3BsYXknKSA9PT0gJy13ZWJraXQtYm94J1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGluaXQoZWwpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybiBzd2lwZXI7XG4gICAgY29uc3QgbW91bnRlZCA9IHN3aXBlci5tb3VudChlbCk7XG4gICAgaWYgKG1vdW50ZWQgPT09IGZhbHNlKSByZXR1cm4gc3dpcGVyO1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVJbml0Jyk7XG5cbiAgICAvLyBTZXQgYnJlYWtwb2ludFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICAgIH1cblxuICAgIC8vIEFkZCBDbGFzc2VzXG4gICAgc3dpcGVyLmFkZENsYXNzZXMoKTtcblxuICAgIC8vIFVwZGF0ZSBzaXplXG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcblxuICAgIC8vIFVwZGF0ZSBzbGlkZXNcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdykge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgR3JhYiBDdXJzb3JcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cblxuICAgIC8vIFNsaWRlIFRvIEluaXRpYWwgU2xpZGVcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wICYmIHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSwgMCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGxvb3BcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICAgIH1cblxuICAgIC8vIEF0dGFjaCBldmVudHNcbiAgICBzd2lwZXIuYXR0YWNoRXZlbnRzKCk7XG4gICAgY29uc3QgbGF6eUVsZW1lbnRzID0gWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKV07XG4gICAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIGxhenlFbGVtZW50cy5wdXNoKC4uLnN3aXBlci5ob3N0RWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJykpO1xuICAgIH1cbiAgICBsYXp5RWxlbWVudHMuZm9yRWFjaChpbWFnZUVsID0+IHtcbiAgICAgIGlmIChpbWFnZUVsLmNvbXBsZXRlKSB7XG4gICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgaW1hZ2VFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBlID0+IHtcbiAgICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGUudGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuXG4gICAgLy8gSW5pdCBGbGFnXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG5cbiAgICAvLyBFbWl0XG4gICAgc3dpcGVyLmVtaXQoJ2luaXQnKTtcbiAgICBzd2lwZXIuZW1pdCgnYWZ0ZXJJbml0Jyk7XG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuICBkZXN0cm95KGRlbGV0ZUluc3RhbmNlLCBjbGVhblN0eWxlcykge1xuICAgIGlmIChkZWxldGVJbnN0YW5jZSA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWxldGVJbnN0YW5jZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjbGVhblN0eWxlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBjbGVhblN0eWxlcyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgZWwsXG4gICAgICB3cmFwcGVyRWwsXG4gICAgICBzbGlkZXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcyA9PT0gJ3VuZGVmaW5lZCcgfHwgc3dpcGVyLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVEZXN0cm95Jyk7XG5cbiAgICAvLyBJbml0IEZsYWdcbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICAgIC8vIERldGFjaCBldmVudHNcbiAgICBzd2lwZXIuZGV0YWNoRXZlbnRzKCk7XG5cbiAgICAvLyBEZXN0cm95IGxvb3BcbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vIENsZWFudXAgc3R5bGVzXG4gICAgaWYgKGNsZWFuU3R5bGVzKSB7XG4gICAgICBzd2lwZXIucmVtb3ZlQ2xhc3NlcygpO1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgd3JhcHBlckVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIGlmIChzbGlkZXMgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICBzbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVGdWxseVZpc2libGVDbGFzcywgcGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MsIHBhcmFtcy5zbGlkZU5leHRDbGFzcywgcGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgICAgICBzbGlkZUVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICBzbGlkZUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdkZXN0cm95Jyk7XG5cbiAgICAvLyBEZXRhY2ggZW1pdHRlciBldmVudHNcbiAgICBPYmplY3Qua2V5cyhzd2lwZXIuZXZlbnRzTGlzdGVuZXJzKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICBzd2lwZXIub2ZmKGV2ZW50TmFtZSk7XG4gICAgfSk7XG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlICE9PSBmYWxzZSkge1xuICAgICAgc3dpcGVyLmVsLnN3aXBlciA9IG51bGw7XG4gICAgICBkZWxldGVQcm9wcyhzd2lwZXIpO1xuICAgIH1cbiAgICBzd2lwZXIuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzdGF0aWMgZXh0ZW5kRGVmYXVsdHMobmV3RGVmYXVsdHMpIHtcbiAgICBleHRlbmQoZXh0ZW5kZWREZWZhdWx0cywgbmV3RGVmYXVsdHMpO1xuICB9XG4gIHN0YXRpYyBnZXQgZXh0ZW5kZWREZWZhdWx0cygpIHtcbiAgICByZXR1cm4gZXh0ZW5kZWREZWZhdWx0cztcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBkZWZhdWx0cztcbiAgfVxuICBzdGF0aWMgaW5zdGFsbE1vZHVsZShtb2QpIHtcbiAgICBpZiAoIVN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX18pIFN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX18gPSBbXTtcbiAgICBjb25zdCBtb2R1bGVzID0gU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXztcbiAgICBpZiAodHlwZW9mIG1vZCA9PT0gJ2Z1bmN0aW9uJyAmJiBtb2R1bGVzLmluZGV4T2YobW9kKSA8IDApIHtcbiAgICAgIG1vZHVsZXMucHVzaChtb2QpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgdXNlKG1vZHVsZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgIG1vZHVsZS5mb3JFYWNoKG0gPT4gU3dpcGVyLmluc3RhbGxNb2R1bGUobSkpO1xuICAgICAgcmV0dXJuIFN3aXBlcjtcbiAgICB9XG4gICAgU3dpcGVyLmluc3RhbGxNb2R1bGUobW9kdWxlKTtcbiAgICByZXR1cm4gU3dpcGVyO1xuICB9XG59XG5PYmplY3Qua2V5cyhwcm90b3R5cGVzKS5mb3JFYWNoKHByb3RvdHlwZUdyb3VwID0+IHtcbiAgT2JqZWN0LmtleXMocHJvdG90eXBlc1twcm90b3R5cGVHcm91cF0pLmZvckVhY2gocHJvdG9NZXRob2QgPT4ge1xuICAgIFN3aXBlci5wcm90b3R5cGVbcHJvdG9NZXRob2RdID0gcHJvdG90eXBlc1twcm90b3R5cGVHcm91cF1bcHJvdG9NZXRob2RdO1xuICB9KTtcbn0pO1xuU3dpcGVyLnVzZShbUmVzaXplLCBPYnNlcnZlcl0pO1xuXG5leHBvcnQgeyBTd2lwZXIgYXMgUywgZGVmYXVsdHMgYXMgZCB9O1xuIiwgImltcG9ydCB7IGEgYXMgZ2V0V2luZG93IH0gZnJvbSAnLi4vc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5pbXBvcnQgeyBuIGFzIG5leHRUaWNrLCBkIGFzIG5vdyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuZnVuY3Rpb24gTW91c2V3aGVlbChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBtb3VzZXdoZWVsOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIHJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgICAgIGludmVydDogZmFsc2UsXG4gICAgICBmb3JjZVRvQXhpczogZmFsc2UsXG4gICAgICBzZW5zaXRpdml0eTogMSxcbiAgICAgIGV2ZW50c1RhcmdldDogJ2NvbnRhaW5lcicsXG4gICAgICB0aHJlc2hvbGREZWx0YTogbnVsbCxcbiAgICAgIHRocmVzaG9sZFRpbWU6IG51bGwsXG4gICAgICBub01vdXNld2hlZWxDbGFzczogJ3N3aXBlci1uby1tb3VzZXdoZWVsJ1xuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5tb3VzZXdoZWVsID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgbGFzdFNjcm9sbFRpbWUgPSBub3coKTtcbiAgbGV0IGxhc3RFdmVudEJlZm9yZVNuYXA7XG4gIGNvbnN0IHJlY2VudFdoZWVsRXZlbnRzID0gW107XG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZShlKSB7XG4gICAgLy8gUmVhc29uYWJsZSBkZWZhdWx0c1xuICAgIGNvbnN0IFBJWEVMX1NURVAgPSAxMDtcbiAgICBjb25zdCBMSU5FX0hFSUdIVCA9IDQwO1xuICAgIGNvbnN0IFBBR0VfSEVJR0hUID0gODAwO1xuICAgIGxldCBzWCA9IDA7XG4gICAgbGV0IHNZID0gMDsgLy8gc3BpblgsIHNwaW5ZXG4gICAgbGV0IHBYID0gMDtcbiAgICBsZXQgcFkgPSAwOyAvLyBwaXhlbFgsIHBpeGVsWVxuXG4gICAgLy8gTGVnYWN5XG4gICAgaWYgKCdkZXRhaWwnIGluIGUpIHtcbiAgICAgIHNZID0gZS5kZXRhaWw7XG4gICAgfVxuICAgIGlmICgnd2hlZWxEZWx0YScgaW4gZSkge1xuICAgICAgc1kgPSAtZS53aGVlbERlbHRhIC8gMTIwO1xuICAgIH1cbiAgICBpZiAoJ3doZWVsRGVsdGFZJyBpbiBlKSB7XG4gICAgICBzWSA9IC1lLndoZWVsRGVsdGFZIC8gMTIwO1xuICAgIH1cbiAgICBpZiAoJ3doZWVsRGVsdGFYJyBpbiBlKSB7XG4gICAgICBzWCA9IC1lLndoZWVsRGVsdGFYIC8gMTIwO1xuICAgIH1cblxuICAgIC8vIHNpZGUgc2Nyb2xsaW5nIG9uIEZGIHdpdGggRE9NTW91c2VTY3JvbGxcbiAgICBpZiAoJ2F4aXMnIGluIGUgJiYgZS5heGlzID09PSBlLkhPUklaT05UQUxfQVhJUykge1xuICAgICAgc1ggPSBzWTtcbiAgICAgIHNZID0gMDtcbiAgICB9XG4gICAgcFggPSBzWCAqIFBJWEVMX1NURVA7XG4gICAgcFkgPSBzWSAqIFBJWEVMX1NURVA7XG4gICAgaWYgKCdkZWx0YVknIGluIGUpIHtcbiAgICAgIHBZID0gZS5kZWx0YVk7XG4gICAgfVxuICAgIGlmICgnZGVsdGFYJyBpbiBlKSB7XG4gICAgICBwWCA9IGUuZGVsdGFYO1xuICAgIH1cbiAgICBpZiAoZS5zaGlmdEtleSAmJiAhcFgpIHtcbiAgICAgIC8vIGlmIHVzZXIgc2Nyb2xscyB3aXRoIHNoaWZ0IGhlIHdhbnRzIGhvcml6b250YWwgc2Nyb2xsXG4gICAgICBwWCA9IHBZO1xuICAgICAgcFkgPSAwO1xuICAgIH1cbiAgICBpZiAoKHBYIHx8IHBZKSAmJiBlLmRlbHRhTW9kZSkge1xuICAgICAgaWYgKGUuZGVsdGFNb2RlID09PSAxKSB7XG4gICAgICAgIC8vIGRlbHRhIGluIExJTkUgdW5pdHNcbiAgICAgICAgcFggKj0gTElORV9IRUlHSFQ7XG4gICAgICAgIHBZICo9IExJTkVfSEVJR0hUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVsdGEgaW4gUEFHRSB1bml0c1xuICAgICAgICBwWCAqPSBQQUdFX0hFSUdIVDtcbiAgICAgICAgcFkgKj0gUEFHRV9IRUlHSFQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbC1iYWNrIGlmIHNwaW4gY2Fubm90IGJlIGRldGVybWluZWRcbiAgICBpZiAocFggJiYgIXNYKSB7XG4gICAgICBzWCA9IHBYIDwgMSA/IC0xIDogMTtcbiAgICB9XG4gICAgaWYgKHBZICYmICFzWSkge1xuICAgICAgc1kgPSBwWSA8IDEgPyAtMSA6IDE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzcGluWDogc1gsXG4gICAgICBzcGluWTogc1ksXG4gICAgICBwaXhlbFg6IHBYLFxuICAgICAgcGl4ZWxZOiBwWVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLm1vdXNlRW50ZXJlZCA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLm1vdXNlRW50ZXJlZCA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZERlbHRhICYmIG5ld0V2ZW50LmRlbHRhIDwgc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZERlbHRhKSB7XG4gICAgICAvLyBQcmV2ZW50IGlmIGRlbHRhIG9mIHdoZWVsIHNjcm9sbCBkZWx0YSBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZFRpbWUgJiYgbm93KCkgLSBsYXN0U2Nyb2xsVGltZSA8IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lKSB7XG4gICAgICAvLyBQcmV2ZW50IGlmIHRpbWUgYmV0d2VlbiBzY3JvbGxzIGlzIGJlbG93IGNvbmZpZ3VyZWQgdGhyZXNob2xkXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG1vdmVtZW50IGlzIE5PVCBiaWcgZW5vdWdoIGFuZFxuICAgIC8vIGlmIHRoZSBsYXN0IHRpbWUgdGhlIHVzZXIgc2Nyb2xsZWQgd2FzIHRvbyBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUgKGF2b2lkIGNvbnRpbnVvdXNseSB0cmlnZ2VyaW5nIHRoZSBzbGlkZXIpOlxuICAgIC8vICAgRG9uJ3QgZ28gYW55IGZ1cnRoZXIgKGF2b2lkIGluc2lnbmlmaWNhbnQgc2Nyb2xsIG1vdmVtZW50KS5cbiAgICBpZiAobmV3RXZlbnQuZGVsdGEgPj0gNiAmJiBub3coKSAtIGxhc3RTY3JvbGxUaW1lIDwgNjApIHtcbiAgICAgIC8vIFJldHVybiBmYWxzZSBhcyBhIGRlZmF1bHRcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBJZiB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBlbmQ6XG4gICAgLy8gICBJZiB0aGUgc2xpZGVyIGhhc24ndCBoaXQgdGhlIGxhdGVzdCBzbGlkZSBvclxuICAgIC8vICAgaWYgdGhlIHNsaWRlciBpcyBhIGxvb3AgYW5kXG4gICAgLy8gICBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgLy8gICAgIEdvIHRvIG5leHQgc2xpZGUgYW5kXG4gICAgLy8gICAgIGVtaXQgYSBzY3JvbGwgZXZlbnQuXG4gICAgLy8gRWxzZSAodGhlIHVzZXIgaXMgc2Nyb2xsaW5nIHRvd2FyZHMgdGhlIGJlZ2lubmluZykgYW5kXG4gICAgLy8gaWYgdGhlIHNsaWRlciBoYXNuJ3QgaGl0IHRoZSBmaXJzdCBzbGlkZSBvclxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaXNuJ3QgbW92aW5nIHJpZ2h0IG5vdzpcbiAgICAvLyAgIEdvIHRvIHByZXYgc2xpZGUgYW5kXG4gICAgLy8gICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoKCFzd2lwZXIuaXNFbmQgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICAgIGVtaXQoJ3Njcm9sbCcsIG5ld0V2ZW50LnJhdyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoIXN3aXBlci5pc0JlZ2lubmluZyB8fCBzd2lwZXIucGFyYW1zLmxvb3ApICYmICFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgICBlbWl0KCdzY3JvbGwnLCBuZXdFdmVudC5yYXcpO1xuICAgIH1cbiAgICAvLyBJZiB5b3UgZ290IGhlcmUgaXMgYmVjYXVzZSBhbiBhbmltYXRpb24gaGFzIGJlZW4gdHJpZ2dlcmVkIHNvIHN0b3JlIHRoZSBjdXJyZW50IHRpbWVcbiAgICBsYXN0U2Nyb2xsVGltZSA9IG5ldyB3aW5kb3cuRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJlbGVhc2VTY3JvbGwobmV3RXZlbnQpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm1vdXNld2hlZWw7XG4gICAgaWYgKG5ld0V2ZW50LmRpcmVjdGlvbiA8IDApIHtcbiAgICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiBwYXJhbXMucmVsZWFzZU9uRWRnZXMpIHtcbiAgICAgICAgLy8gUmV0dXJuIHRydWUgdG8gYW5pbWF0ZSBzY3JvbGwgb24gZWRnZXNcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiBwYXJhbXMucmVsZWFzZU9uRWRnZXMpIHtcbiAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZShldmVudCkge1xuICAgIGxldCBlID0gZXZlbnQ7XG4gICAgbGV0IGRpc2FibGVQYXJlbnRTd2lwZXIgPSB0cnVlO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcblxuICAgIC8vIElnbm9yZSBldmVudCBpZiB0aGUgdGFyZ2V0IG9yIGl0cyBwYXJlbnRzIGhhdmUgdGhlIHN3aXBlci1uby1tb3VzZXdoZWVsIGNsYXNzXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbG9zZXN0KGAuJHtzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwubm9Nb3VzZXdoZWVsQ2xhc3N9YCkpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm1vdXNld2hlZWw7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBsZXQgdGFyZ2V0RWwgPSBzd2lwZXIuZWw7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICB0YXJnZXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldEVsQ29udGFpbnNUYXJnZXQgPSB0YXJnZXRFbCAmJiB0YXJnZXRFbC5jb250YWlucyhlLnRhcmdldCk7XG4gICAgaWYgKCFzd2lwZXIubW91c2VFbnRlcmVkICYmICF0YXJnZXRFbENvbnRhaW5zVGFyZ2V0ICYmICFwYXJhbXMucmVsZWFzZU9uRWRnZXMpIHJldHVybiB0cnVlO1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7IC8vIGpxdWVyeSBmaXhcbiAgICBsZXQgZGVsdGEgPSAwO1xuICAgIGNvbnN0IHJ0bEZhY3RvciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7XG4gICAgY29uc3QgZGF0YSA9IG5vcm1hbGl6ZShlKTtcbiAgICBpZiAocGFyYW1zLmZvcmNlVG9BeGlzKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkYXRhLnBpeGVsWCkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWSkpIGRlbHRhID0gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yO2Vsc2UgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGRhdGEucGl4ZWxZKSA+IE1hdGguYWJzKGRhdGEucGl4ZWxYKSkgZGVsdGEgPSAtZGF0YS5waXhlbFk7ZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsdGEgPSBNYXRoLmFicyhkYXRhLnBpeGVsWCkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWSkgPyAtZGF0YS5waXhlbFggKiBydGxGYWN0b3IgOiAtZGF0YS5waXhlbFk7XG4gICAgfVxuICAgIGlmIChkZWx0YSA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHBhcmFtcy5pbnZlcnQpIGRlbHRhID0gLWRlbHRhO1xuXG4gICAgLy8gR2V0IHRoZSBzY3JvbGwgcG9zaXRpb25zXG4gICAgbGV0IHBvc2l0aW9ucyA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKSArIGRlbHRhICogcGFyYW1zLnNlbnNpdGl2aXR5O1xuICAgIGlmIChwb3NpdGlvbnMgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgaWYgKHBvc2l0aW9ucyA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHBvc2l0aW9ucyA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcblxuICAgIC8vIFdoZW4gbG9vcCBpcyB0cnVlOlxuICAgIC8vICAgICB0aGUgZGlzYWJsZVBhcmVudFN3aXBlciB3aWxsIGJlIHRydWUuXG4gICAgLy8gV2hlbiBsb29wIGlzIGZhbHNlOlxuICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIHBvc2l0aW9ucyBpcyBub3Qgb24gZWRnZSxcbiAgICAvLyAgICAgdGhlbiB0aGUgZGlzYWJsZVBhcmVudFN3aXBlciB3aWxsIGJlIHRydWUuXG4gICAgLy8gICAgIGlmIHRoZSBzY3JvbGwgb24gZWRnZSBwb3NpdGlvbnMsXG4gICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSBmYWxzZS5cbiAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gc3dpcGVyLnBhcmFtcy5sb29wID8gdHJ1ZSA6ICEocG9zaXRpb25zID09PSBzd2lwZXIubWluVHJhbnNsYXRlKCkgfHwgcG9zaXRpb25zID09PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpO1xuICAgIGlmIChkaXNhYmxlUGFyZW50U3dpcGVyICYmIHN3aXBlci5wYXJhbXMubmVzdGVkKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSB8fCAhc3dpcGVyLnBhcmFtcy5mcmVlTW9kZS5lbmFibGVkKSB7XG4gICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGV2ZW50IGluIGEgdmFyaWFibGUgd2hpY2ggc3RvcmVzIHRoZSByZWxldmFudCBkYXRhXG4gICAgICBjb25zdCBuZXdFdmVudCA9IHtcbiAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgIGRlbHRhOiBNYXRoLmFicyhkZWx0YSksXG4gICAgICAgIGRpcmVjdGlvbjogTWF0aC5zaWduKGRlbHRhKSxcbiAgICAgICAgcmF3OiBldmVudFxuICAgICAgfTtcblxuICAgICAgLy8gS2VlcCB0aGUgbW9zdCByZWNlbnQgZXZlbnRzXG4gICAgICBpZiAocmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc2hpZnQoKTsgLy8gb25seSBzdG9yZSB0aGUgbGFzdCBOIGV2ZW50c1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcmV2RXZlbnQgPSByZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggPyByZWNlbnRXaGVlbEV2ZW50c1tyZWNlbnRXaGVlbEV2ZW50cy5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnB1c2gobmV3RXZlbnQpO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgcHJldmlvdXMgcmVjb3JkZWQgZXZlbnQ6XG4gICAgICAvLyAgIElmIGRpcmVjdGlvbiBoYXMgY2hhbmdlZCBvclxuICAgICAgLy8gICBpZiB0aGUgc2Nyb2xsIGlzIHF1aWNrZXIgdGhhbiB0aGUgcHJldmlvdXMgb25lOlxuICAgICAgLy8gICAgIEFuaW1hdGUgdGhlIHNsaWRlci5cbiAgICAgIC8vIEVsc2UgKHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhlIHdoZWVsIGlzIG1vdmVkKTpcbiAgICAgIC8vICAgICBBbmltYXRlIHRoZSBzbGlkZXIuXG4gICAgICBpZiAocHJldkV2ZW50KSB7XG4gICAgICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gIT09IHByZXZFdmVudC5kaXJlY3Rpb24gfHwgbmV3RXZlbnQuZGVsdGEgPiBwcmV2RXZlbnQuZGVsdGEgfHwgbmV3RXZlbnQudGltZSA+IHByZXZFdmVudC50aW1lICsgMTUwKSB7XG4gICAgICAgICAgYW5pbWF0ZVNsaWRlcihuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdCdzIHRpbWUgdG8gcmVsZWFzZSB0aGUgc2Nyb2xsOlxuICAgICAgLy8gICBSZXR1cm4gbm93IHNvIHlvdSBkb24ndCBoaXQgdGhlIHByZXZlbnREZWZhdWx0LlxuICAgICAgaWYgKHJlbGVhc2VTY3JvbGwobmV3RXZlbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGcmVlbW9kZSBvciBzY3JvbGxDb250YWluZXI6XG5cbiAgICAgIC8vIElmIHdlIHJlY2VudGx5IHNuYXBwZWQgYWZ0ZXIgYSBtb21lbnR1bSBzY3JvbGwsIHRoZW4gaWdub3JlIHdoZWVsIGV2ZW50c1xuICAgICAgLy8gdG8gZ2l2ZSB0aW1lIGZvciB0aGUgZGVjZWxlcmF0aW9uIHRvIGZpbmlzaC4gU3RvcCBpZ25vcmluZyBhZnRlciA1MDAgbXNlY3NcbiAgICAgIC8vIG9yIGlmIGl0J3MgYSBuZXcgc2Nyb2xsIChsYXJnZXIgZGVsdGEgb3IgaW52ZXJzZSBzaWduIGFzIGxhc3QgZXZlbnQgYmVmb3JlXG4gICAgICAvLyBhbiBlbmQtb2YtbW9tZW50dW0gc25hcCkuXG4gICAgICBjb25zdCBuZXdFdmVudCA9IHtcbiAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgIGRlbHRhOiBNYXRoLmFicyhkZWx0YSksXG4gICAgICAgIGRpcmVjdGlvbjogTWF0aC5zaWduKGRlbHRhKVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGlnbm9yZVdoZWVsRXZlbnRzID0gbGFzdEV2ZW50QmVmb3JlU25hcCAmJiBuZXdFdmVudC50aW1lIDwgbGFzdEV2ZW50QmVmb3JlU25hcC50aW1lICsgNTAwICYmIG5ld0V2ZW50LmRlbHRhIDw9IGxhc3RFdmVudEJlZm9yZVNuYXAuZGVsdGEgJiYgbmV3RXZlbnQuZGlyZWN0aW9uID09PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRpcmVjdGlvbjtcbiAgICAgIGlmICghaWdub3JlV2hlZWxFdmVudHMpIHtcbiAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpICsgZGVsdGEgKiBwYXJhbXMuc2Vuc2l0aXZpdHk7XG4gICAgICAgIGNvbnN0IHdhc0JlZ2lubmluZyA9IHN3aXBlci5pc0JlZ2lubmluZztcbiAgICAgICAgY29uc3Qgd2FzRW5kID0gc3dpcGVyLmlzRW5kO1xuICAgICAgICBpZiAocG9zaXRpb24gPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSBwb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgICAgICBpZiAoIXdhc0JlZ2lubmluZyAmJiBzd2lwZXIuaXNCZWdpbm5pbmcgfHwgIXdhc0VuZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgICAgICBkaXJlY3Rpb246IG5ld0V2ZW50LmRpcmVjdGlvbiA8IDAgPyAnbmV4dCcgOiAncHJldicsXG4gICAgICAgICAgICBieU1vdXNld2hlZWw6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mcmVlTW9kZS5zdGlja3kpIHtcbiAgICAgICAgICAvLyBXaGVuIHdoZWVsIHNjcm9sbGluZyBzdGFydHMgd2l0aCBzdGlja3kgKGFrYSBzbmFwKSBlbmFibGVkLCB0aGVuIGRldGVjdFxuICAgICAgICAgIC8vIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgYnkgc3RvcmluZyByZWNlbnQgKE49MTU/KSB3aGVlbCBldmVudHMuXG4gICAgICAgICAgLy8gMS4gZG8gYWxsIE4gZXZlbnRzIGhhdmUgZGVjcmVhc2luZyBvciBzYW1lIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGE/XG4gICAgICAgICAgLy8gMi4gZGlkIGFsbCBOIGV2ZW50cyBhcnJpdmUgaW4gdGhlIGxhc3QgTSAoTT01MDA/KSBtc2Vjcz9cbiAgICAgICAgICAvLyAzLiBkb2VzIHRoZSBlYXJsaWVzdCBldmVudCBoYXZlIGFuIChhYnNvbHV0ZSB2YWx1ZSkgZGVsdGEgdGhhdCdzXG4gICAgICAgICAgLy8gICAgYXQgbGVhc3QgUCAoUD0xPykgbGFyZ2VyIHRoYW4gdGhlIG1vc3QgcmVjZW50IGV2ZW50J3MgZGVsdGE/XG4gICAgICAgICAgLy8gNC4gZG9lcyB0aGUgbGF0ZXN0IGV2ZW50IGhhdmUgYSBkZWx0YSB0aGF0J3Mgc21hbGxlciB0aGFuIFEgKFE9Nj8pIHBpeGVscz9cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlIFwieWVzXCIgdGhlbiB3ZSdyZSBuZWFyIHRoZSBlbmQgb2YgYSBtb21lbnR1bSBzY3JvbGwgZGVjZWxlcmF0aW9uLlxuICAgICAgICAgIC8vIFNuYXAgaW1tZWRpYXRlbHkgYW5kIGlnbm9yZSByZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsLlxuICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlIGZvciBcInJlbWFpbmluZyB3aGVlbCBldmVudHMgaW4gdGhpcyBzY3JvbGxcIiBkZXRlcm1pbmF0aW9uLlxuICAgICAgICAgIC8vIElmIDEtNCBhcmVuJ3Qgc2F0aXNmaWVkLCB0aGVuIHdhaXQgdG8gc25hcCB1bnRpbCA1MDBtcyBhZnRlciB0aGUgbGFzdCBldmVudC5cbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAocmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDE1KSB7XG4gICAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5zaGlmdCgpOyAvLyBvbmx5IHN0b3JlIHRoZSBsYXN0IE4gZXZlbnRzXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcHJldkV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gcmVjZW50V2hlZWxFdmVudHNbcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgY29uc3QgZmlyc3RFdmVudCA9IHJlY2VudFdoZWVsRXZlbnRzWzBdO1xuICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnB1c2gobmV3RXZlbnQpO1xuICAgICAgICAgIGlmIChwcmV2RXZlbnQgJiYgKG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LmRpcmVjdGlvbiAhPT0gcHJldkV2ZW50LmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIC8vIEluY3JlYXNpbmcgb3IgcmV2ZXJzZS1zaWduIGRlbHRhIG1lYW5zIHRoZSB1c2VyIHN0YXJ0ZWQgc2Nyb2xsaW5nIGFnYWluLiBDbGVhciB0aGUgd2hlZWwgZXZlbnQgbG9nLlxuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID49IDE1ICYmIG5ld0V2ZW50LnRpbWUgLSBmaXJzdEV2ZW50LnRpbWUgPCA1MDAgJiYgZmlyc3RFdmVudC5kZWx0YSAtIG5ld0V2ZW50LmRlbHRhID49IDEgJiYgbmV3RXZlbnQuZGVsdGEgPD0gNikge1xuICAgICAgICAgICAgLy8gV2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgZGVjZWxlcmF0aW9uIG9mIGEgbW9tZW50dW0gc2Nyb2xsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIHdhaXQgZm9yIG1vcmUgZXZlbnRzLiBTbmFwIEFTQVAgb24gdGhlIG5leHQgdGljay5cbiAgICAgICAgICAgIC8vIEFsc28sIGJlY2F1c2UgdGhlcmUncyBzb21lIHJlbWFpbmluZyBtb21lbnR1bSB3ZSdsbCBiaWFzIHRoZSBzbmFwIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlyZWN0aW9uIG9mIHRoZSBvbmdvaW5nIHNjcm9sbCBiZWNhdXNlIGl0J3MgYmV0dGVyIFVYIGZvciB0aGUgc2Nyb2xsIHRvIHNuYXBcbiAgICAgICAgICAgIC8vIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhcyB0aGUgc2Nyb2xsIGluc3RlYWQgb2YgcmV2ZXJzaW5nIHRvIHNuYXAuICBUaGVyZWZvcmUsXG4gICAgICAgICAgICAvLyBpZiBpdCdzIGFscmVhZHkgc2Nyb2xsZWQgbW9yZSB0aGFuIDIwJSBpbiB0aGUgY3VycmVudCBkaXJlY3Rpb24sIGtlZXAgZ29pbmcuXG4gICAgICAgICAgICBjb25zdCBzbmFwVG9UaHJlc2hvbGQgPSBkZWx0YSA+IDAgPyAwLjggOiAwLjI7XG4gICAgICAgICAgICBsYXN0RXZlbnRCZWZvcmVTbmFwID0gbmV3RXZlbnQ7XG4gICAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5zcGxpY2UoMCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgMCk7IC8vIG5vIGRlbGF5OyBtb3ZlIG9uIG5leHQgdGlja1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgaGF2ZW4ndCBkZXRlY3RlZCB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsLCBzb1xuICAgICAgICAgICAgLy8gd2UnbGwgY29uc2lkZXIgYSBzY3JvbGwgXCJjb21wbGV0ZVwiIHdoZW4gdGhlcmUgaGF2ZW4ndCBiZWVuIGFueSB3aGVlbCBldmVudHNcbiAgICAgICAgICAgIC8vIGZvciA1MDBtcy5cbiAgICAgICAgICAgIHRpbWVvdXQgPSBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNuYXBUb1RocmVzaG9sZCA9IDAuNTtcbiAgICAgICAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcCA9IG5ld0V2ZW50O1xuICAgICAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5zcGxpY2UoMCk7XG4gICAgICAgICAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdChzd2lwZXIucGFyYW1zLnNwZWVkLCB0cnVlLCB1bmRlZmluZWQsIHNuYXBUb1RocmVzaG9sZCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtaXQgZXZlbnRcbiAgICAgICAgaWYgKCFpZ25vcmVXaGVlbEV2ZW50cykgZW1pdCgnc2Nyb2xsJywgZSk7XG5cbiAgICAgICAgLy8gU3RvcCBhdXRvcGxheVxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24pIHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4gICAgICAgIC8vIFJldHVybiBwYWdlIHNjcm9sbCBvbiBlZGdlIHBvc2l0aW9uc1xuICAgICAgICBpZiAocGFyYW1zLnJlbGVhc2VPbkVkZ2VzICYmIChwb3NpdGlvbiA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9uID09PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtlbHNlIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gZXZlbnRzKG1ldGhvZCkge1xuICAgIGxldCB0YXJnZXRFbCA9IHN3aXBlci5lbDtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCAhPT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgIHRhcmdldEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KTtcbiAgICB9XG4gICAgdGFyZ2V0RWxbbWV0aG9kXSgnbW91c2VlbnRlcicsIGhhbmRsZU1vdXNlRW50ZXIpO1xuICAgIHRhcmdldEVsW21ldGhvZF0oJ21vdXNlbGVhdmUnLCBoYW5kbGVNb3VzZUxlYXZlKTtcbiAgICB0YXJnZXRFbFttZXRob2RdKCd3aGVlbCcsIGhhbmRsZSk7XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBoYW5kbGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgZXZlbnRzKCdhZGRFdmVudExpc3RlbmVyJyk7XG4gICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSByZXR1cm4gZmFsc2U7XG4gICAgZXZlbnRzKCdyZW1vdmVFdmVudExpc3RlbmVyJyk7XG4gICAgc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBkaXNhYmxlKCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZW5hYmxlZCkgZW5hYmxlKCk7XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBlbmFibGUoKTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQpIGRpc2FibGUoKTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLm1vdXNld2hlZWwsIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTW91c2V3aGVlbCBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIG9yaWdpbmFsUGFyYW1zLCBwYXJhbXMsIGNoZWNrUHJvcHMpIHtcbiAgaWYgKHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMpIHtcbiAgICBPYmplY3Qua2V5cyhjaGVja1Byb3BzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoIXBhcmFtc1trZXldICYmIHBhcmFtcy5hdXRvID09PSB0cnVlKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZWxlbWVudENoaWxkcmVuKHN3aXBlci5lbCwgYC4ke2NoZWNrUHJvcHNba2V5XX1gKVswXTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGNoZWNrUHJvcHNba2V5XSk7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjaGVja1Byb3BzW2tleV07XG4gICAgICAgICAgc3dpcGVyLmVsLmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgIG9yaWdpbmFsUGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgYXMgYyB9O1xuIiwgImltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5tanMnO1xuXG5mdW5jdGlvbiBOYXZpZ2F0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBudWxsLFxuICAgICAgcHJldkVsOiBudWxsLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgZGlzYWJsZWRDbGFzczogJ3N3aXBlci1idXR0b24tZGlzYWJsZWQnLFxuICAgICAgaGlkZGVuQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWhpZGRlbicsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWxvY2snLFxuICAgICAgbmF2aWdhdGlvbkRpc2FibGVkQ2xhc3M6ICdzd2lwZXItbmF2aWdhdGlvbi1kaXNhYmxlZCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIubmF2aWdhdGlvbiA9IHtcbiAgICBuZXh0RWw6IG51bGwsXG4gICAgcHJldkVsOiBudWxsXG4gIH07XG4gIGNvbnN0IG1ha2VFbGVtZW50c0FycmF5ID0gZWwgPT4gKEFycmF5LmlzQXJyYXkoZWwpID8gZWwgOiBbZWxdKS5maWx0ZXIoZSA9PiAhIWUpO1xuICBmdW5jdGlvbiBnZXRFbChlbCkge1xuICAgIGxldCByZXM7XG4gICAgaWYgKGVsICYmIHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgJiYgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgcmVzID0gc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgaWYgKHJlcykgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgaWYgKGVsKSB7XG4gICAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykgcmVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWwpXTtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgJiYgcmVzLmxlbmd0aCA+IDEgJiYgc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZWwpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXMgPSBzd2lwZXIuZWwucXVlcnlTZWxlY3RvcihlbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbCAmJiAhcmVzKSByZXR1cm4gZWw7XG4gICAgLy8gaWYgKEFycmF5LmlzQXJyYXkocmVzKSAmJiByZXMubGVuZ3RoID09PSAxKSByZXMgPSByZXNbMF07XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBmdW5jdGlvbiB0b2dnbGVFbChlbCwgZGlzYWJsZWQpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAoc3ViRWwpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0W2Rpc2FibGVkID8gJ2FkZCcgOiAncmVtb3ZlJ10oLi4ucGFyYW1zLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgIGlmIChzdWJFbC50YWdOYW1lID09PSAnQlVUVE9OJykgc3ViRWwuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICAgIHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkJyA6ICdyZW1vdmUnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAvLyBVcGRhdGUgTmF2aWdhdGlvbiBCdXR0b25zXG4gICAgY29uc3Qge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHRvZ2dsZUVsKHByZXZFbCwgZmFsc2UpO1xuICAgICAgdG9nZ2xlRWwobmV4dEVsLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvZ2dsZUVsKHByZXZFbCwgc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gICAgdG9nZ2xlRWwobmV4dEVsLCBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKTtcbiAgfVxuICBmdW5jdGlvbiBvblByZXZDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHJldHVybjtcbiAgICBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgZW1pdCgnbmF2aWdhdGlvblByZXYnKTtcbiAgfVxuICBmdW5jdGlvbiBvbk5leHRDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHJldHVybjtcbiAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgZW1pdCgnbmF2aWdhdGlvbk5leHQnKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbjtcbiAgICBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24gPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLm5hdmlnYXRpb24sIHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsOiAnc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJ3N3aXBlci1idXR0b24tcHJldidcbiAgICB9KTtcbiAgICBpZiAoIShwYXJhbXMubmV4dEVsIHx8IHBhcmFtcy5wcmV2RWwpKSByZXR1cm47XG4gICAgbGV0IG5leHRFbCA9IGdldEVsKHBhcmFtcy5uZXh0RWwpO1xuICAgIGxldCBwcmV2RWwgPSBnZXRFbChwYXJhbXMucHJldkVsKTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgICBuZXh0RWwsXG4gICAgICBwcmV2RWxcbiAgICB9KTtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgaW5pdEJ1dHRvbiA9IChlbCwgZGlyKSA9PiB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXIgPT09ICduZXh0JyA/IG9uTmV4dENsaWNrIDogb25QcmV2Q2xpY2spO1xuICAgICAgfVxuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCAmJiBlbCkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKC4uLnBhcmFtcy5sb2NrQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBpbml0QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBpbml0QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGxldCB7XG4gICAgICBuZXh0RWwsXG4gICAgICBwcmV2RWxcbiAgICB9ID0gc3dpcGVyLm5hdmlnYXRpb247XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGRlc3Ryb3lCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXIgPT09ICduZXh0JyA/IG9uTmV4dENsaWNrIDogb25QcmV2Q2xpY2spO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcy5zcGxpdCgnICcpKTtcbiAgICB9O1xuICAgIG5leHRFbC5mb3JFYWNoKGVsID0+IGRlc3Ryb3lCdXR0b24oZWwsICduZXh0JykpO1xuICAgIHByZXZFbC5mb3JFYWNoKGVsID0+IGRlc3Ryb3lCdXR0b24oZWwsICdwcmV2JykpO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbigndG9FZGdlIGZyb21FZGdlIGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGxldCB7XG4gICAgICBuZXh0RWwsXG4gICAgICBwcmV2RWxcbiAgICB9ID0gc3dpcGVyLm5hdmlnYXRpb247XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGlmIChzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFsuLi5uZXh0RWwsIC4uLnByZXZFbF0uZmlsdGVyKGVsID0+ICEhZWwpLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKSk7XG4gIH0pO1xuICBvbignY2xpY2snLCAoX3MsIGUpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZU9uQ2xpY2sgJiYgIXByZXZFbC5pbmNsdWRlcyh0YXJnZXRFbCkgJiYgIW5leHRFbC5pbmNsdWRlcyh0YXJnZXRFbCkpIHtcbiAgICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmNsaWNrYWJsZSAmJiAoc3dpcGVyLnBhZ2luYXRpb24uZWwgPT09IHRhcmdldEVsIHx8IHN3aXBlci5wYWdpbmF0aW9uLmVsLmNvbnRhaW5zKHRhcmdldEVsKSkpIHJldHVybjtcbiAgICAgIGxldCBpc0hpZGRlbjtcbiAgICAgIGlmIChuZXh0RWwubGVuZ3RoKSB7XG4gICAgICAgIGlzSGlkZGVuID0gbmV4dEVsWzBdLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgfSBlbHNlIGlmIChwcmV2RWwubGVuZ3RoKSB7XG4gICAgICAgIGlzSGlkZGVuID0gcHJldkVsWzBdLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKGlzSGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgIGVtaXQoJ25hdmlnYXRpb25TaG93Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbWl0KCduYXZpZ2F0aW9uSGlkZScpO1xuICAgICAgfVxuICAgICAgWy4uLm5leHRFbCwgLi4ucHJldkVsXS5maWx0ZXIoZWwgPT4gISFlbCkuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3QudG9nZ2xlKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcykpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGVuYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubmF2aWdhdGlvbkRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgaW5pdCgpO1xuICAgIHVwZGF0ZSgpO1xuICB9O1xuICBjb25zdCBkaXNhYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKC4uLnN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5uYXZpZ2F0aW9uRGlzYWJsZWRDbGFzcy5zcGxpdCgnICcpKTtcbiAgICBkZXN0cm95KCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLm5hdmlnYXRpb24sIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICB1cGRhdGUsXG4gICAgaW5pdCxcbiAgICBkZXN0cm95XG4gIH0pO1xufVxuXG5leHBvcnQgeyBOYXZpZ2F0aW9uIGFzIGRlZmF1bHQgfTtcbiIsICJmdW5jdGlvbiBjbGFzc2VzVG9TZWxlY3RvcihjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gJyc7XG4gIH1cbiAgcmV0dXJuIGAuJHtjbGFzc2VzLnRyaW0oKS5yZXBsYWNlKC8oW1xcLjohK1xcL10pL2csICdcXFxcJDEnKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIC5yZXBsYWNlKC8gL2csICcuJyl9YDtcbn1cblxuZXhwb3J0IHsgY2xhc3Nlc1RvU2VsZWN0b3IgYXMgYyB9O1xuIiwgImltcG9ydCB7IGMgYXMgY2xhc3Nlc1RvU2VsZWN0b3IgfSBmcm9tICcuLi9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5tanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIH0gZnJvbSAnLi4vc2hhcmVkL2NyZWF0ZS1lbGVtZW50LWlmLW5vdC1kZWZpbmVkLm1qcyc7XG5pbXBvcnQgeyBmIGFzIGVsZW1lbnRPdXRlclNpemUsIGcgYXMgZWxlbWVudEluZGV4LCBhIGFzIGVsZW1lbnRQYXJlbnRzIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIFBhZ2luYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3QgcGZ4ID0gJ3N3aXBlci1wYWdpbmF0aW9uJztcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogbnVsbCxcbiAgICAgIGJ1bGxldEVsZW1lbnQ6ICdzcGFuJyxcbiAgICAgIGNsaWNrYWJsZTogZmFsc2UsXG4gICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICByZW5kZXJCdWxsZXQ6IG51bGwsXG4gICAgICByZW5kZXJQcm9ncmVzc2JhcjogbnVsbCxcbiAgICAgIHJlbmRlckZyYWN0aW9uOiBudWxsLFxuICAgICAgcmVuZGVyQ3VzdG9tOiBudWxsLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnYnVsbGV0cycsXG4gICAgICAvLyAnYnVsbGV0cycgb3IgJ3Byb2dyZXNzYmFyJyBvciAnZnJhY3Rpb24nIG9yICdjdXN0b20nXG4gICAgICBkeW5hbWljQnVsbGV0czogZmFsc2UsXG4gICAgICBkeW5hbWljTWFpbkJ1bGxldHM6IDEsXG4gICAgICBmb3JtYXRGcmFjdGlvbkN1cnJlbnQ6IG51bWJlciA9PiBudW1iZXIsXG4gICAgICBmb3JtYXRGcmFjdGlvblRvdGFsOiBudW1iZXIgPT4gbnVtYmVyLFxuICAgICAgYnVsbGV0Q2xhc3M6IGAke3BmeH0tYnVsbGV0YCxcbiAgICAgIGJ1bGxldEFjdGl2ZUNsYXNzOiBgJHtwZnh9LWJ1bGxldC1hY3RpdmVgLFxuICAgICAgbW9kaWZpZXJDbGFzczogYCR7cGZ4fS1gLFxuICAgICAgY3VycmVudENsYXNzOiBgJHtwZnh9LWN1cnJlbnRgLFxuICAgICAgdG90YWxDbGFzczogYCR7cGZ4fS10b3RhbGAsXG4gICAgICBoaWRkZW5DbGFzczogYCR7cGZ4fS1oaWRkZW5gLFxuICAgICAgcHJvZ3Jlc3NiYXJGaWxsQ2xhc3M6IGAke3BmeH0tcHJvZ3Jlc3NiYXItZmlsbGAsXG4gICAgICBwcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3M6IGAke3BmeH0tcHJvZ3Jlc3NiYXItb3Bwb3NpdGVgLFxuICAgICAgY2xpY2thYmxlQ2xhc3M6IGAke3BmeH0tY2xpY2thYmxlYCxcbiAgICAgIGxvY2tDbGFzczogYCR7cGZ4fS1sb2NrYCxcbiAgICAgIGhvcml6b250YWxDbGFzczogYCR7cGZ4fS1ob3Jpem9udGFsYCxcbiAgICAgIHZlcnRpY2FsQ2xhc3M6IGAke3BmeH0tdmVydGljYWxgLFxuICAgICAgcGFnaW5hdGlvbkRpc2FibGVkQ2xhc3M6IGAke3BmeH0tZGlzYWJsZWRgXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLnBhZ2luYXRpb24gPSB7XG4gICAgZWw6IG51bGwsXG4gICAgYnVsbGV0czogW11cbiAgfTtcbiAgbGV0IGJ1bGxldFNpemU7XG4gIGxldCBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICBjb25zdCBtYWtlRWxlbWVudHNBcnJheSA9IGVsID0+IChBcnJheS5pc0FycmF5KGVsKSA/IGVsIDogW2VsXSkuZmlsdGVyKGUgPT4gISFlKTtcbiAgZnVuY3Rpb24gaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuICFzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZWwgfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsIHx8IEFycmF5LmlzQXJyYXkoc3dpcGVyLnBhZ2luYXRpb24uZWwpICYmIHN3aXBlci5wYWdpbmF0aW9uLmVsLmxlbmd0aCA9PT0gMDtcbiAgfVxuICBmdW5jdGlvbiBzZXRTaWRlQnVsbGV0cyhidWxsZXRFbCwgcG9zaXRpb24pIHtcbiAgICBjb25zdCB7XG4gICAgICBidWxsZXRBY3RpdmVDbGFzc1xuICAgIH0gPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKCFidWxsZXRFbCkgcmV0dXJuO1xuICAgIGJ1bGxldEVsID0gYnVsbGV0RWxbYCR7cG9zaXRpb24gPT09ICdwcmV2JyA/ICdwcmV2aW91cycgOiAnbmV4dCd9RWxlbWVudFNpYmxpbmdgXTtcbiAgICBpZiAoYnVsbGV0RWwpIHtcbiAgICAgIGJ1bGxldEVsLmNsYXNzTGlzdC5hZGQoYCR7YnVsbGV0QWN0aXZlQ2xhc3N9LSR7cG9zaXRpb259YCk7XG4gICAgICBidWxsZXRFbCA9IGJ1bGxldEVsW2Ake3Bvc2l0aW9uID09PSAncHJldicgPyAncHJldmlvdXMnIDogJ25leHQnfUVsZW1lbnRTaWJsaW5nYF07XG4gICAgICBpZiAoYnVsbGV0RWwpIHtcbiAgICAgICAgYnVsbGV0RWwuY2xhc3NMaXN0LmFkZChgJHtidWxsZXRBY3RpdmVDbGFzc30tJHtwb3NpdGlvbn0tJHtwb3NpdGlvbn1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gb25CdWxsZXRDbGljayhlKSB7XG4gICAgY29uc3QgYnVsbGV0RWwgPSBlLnRhcmdldC5jbG9zZXN0KGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpO1xuICAgIGlmICghYnVsbGV0RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudEluZGV4KGJ1bGxldEVsKSAqIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgaWYgKHN3aXBlci5yZWFsSW5kZXggPT09IGluZGV4KSByZXR1cm47XG4gICAgICBzd2lwZXIuc2xpZGVUb0xvb3AoaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhpbmRleCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAvLyBSZW5kZXIgfHwgVXBkYXRlIFBhZ2luYXRpb24gYnVsbGV0cy9pdGVtc1xuICAgIGNvbnN0IHJ0bCA9IHN3aXBlci5ydGw7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmIChpc1BhZ2luYXRpb25EaXNhYmxlZCgpKSByZXR1cm47XG4gICAgbGV0IGVsID0gc3dpcGVyLnBhZ2luYXRpb24uZWw7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgLy8gQ3VycmVudC9Ub3RhbFxuICAgIGxldCBjdXJyZW50O1xuICAgIGxldCBwcmV2aW91c0luZGV4O1xuICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBwcmV2aW91c0luZGV4ID0gc3dpcGVyLnByZXZpb3VzUmVhbEluZGV4IHx8IDA7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEgPyBNYXRoLmZsb29yKHN3aXBlci5yZWFsSW5kZXggLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5yZWFsSW5kZXg7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3dpcGVyLnNuYXBJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGN1cnJlbnQgPSBzd2lwZXIuc25hcEluZGV4O1xuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c1NuYXBJbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c0luZGV4IHx8IDA7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgfVxuICAgIC8vIFR5cGVzXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cyAmJiBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGJ1bGxldHMgPSBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzO1xuICAgICAgbGV0IGZpcnN0SW5kZXg7XG4gICAgICBsZXQgbGFzdEluZGV4O1xuICAgICAgbGV0IG1pZEluZGV4O1xuICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBidWxsZXRTaXplID0gZWxlbWVudE91dGVyU2l6ZShidWxsZXRzWzBdLCBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnd2lkdGgnIDogJ2hlaWdodCcsIHRydWUpO1xuICAgICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgICBzdWJFbC5zdHlsZVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnd2lkdGgnIDogJ2hlaWdodCddID0gYCR7YnVsbGV0U2l6ZSAqIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzICsgNCl9cHhgO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPiAxICYmIHByZXZpb3VzSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGR5bmFtaWNCdWxsZXRJbmRleCArPSBjdXJyZW50IC0gKHByZXZpb3VzSW5kZXggfHwgMCk7XG4gICAgICAgICAgaWYgKGR5bmFtaWNCdWxsZXRJbmRleCA+IHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgLSAxKSB7XG4gICAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGR5bmFtaWNCdWxsZXRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIGR5bmFtaWNCdWxsZXRJbmRleCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpcnN0SW5kZXggPSBNYXRoLm1heChjdXJyZW50IC0gZHluYW1pY0J1bGxldEluZGV4LCAwKTtcbiAgICAgICAgbGFzdEluZGV4ID0gZmlyc3RJbmRleCArIChNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cykgLSAxKTtcbiAgICAgICAgbWlkSW5kZXggPSAobGFzdEluZGV4ICsgZmlyc3RJbmRleCkgLyAyO1xuICAgICAgfVxuICAgICAgYnVsbGV0cy5mb3JFYWNoKGJ1bGxldEVsID0+IHtcbiAgICAgICAgY29uc3QgY2xhc3Nlc1RvUmVtb3ZlID0gWy4uLlsnJywgJy1uZXh0JywgJy1uZXh0LW5leHQnLCAnLXByZXYnLCAnLXByZXYtcHJldicsICctbWFpbiddLm1hcChzdWZmaXggPT4gYCR7cGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzfSR7c3VmZml4fWApXS5tYXAocyA9PiB0eXBlb2YgcyA9PT0gJ3N0cmluZycgJiYgcy5pbmNsdWRlcygnICcpID8gcy5zcGxpdCgnICcpIDogcykuZmxhdCgpO1xuICAgICAgICBidWxsZXRFbC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXNUb1JlbW92ZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xuICAgICAgICAgIGNvbnN0IGJ1bGxldEluZGV4ID0gZWxlbWVudEluZGV4KGJ1bGxldCk7XG4gICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICAgICAgICBidWxsZXQuc2V0QXR0cmlidXRlKCdwYXJ0JywgJ2J1bGxldCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPj0gZmlyc3RJbmRleCAmJiBidWxsZXRJbmRleCA8PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4uYCR7cGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzfS1tYWluYC5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gZmlyc3RJbmRleCkge1xuICAgICAgICAgICAgICBzZXRTaWRlQnVsbGV0cyhidWxsZXQsICdwcmV2Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPT09IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgICBzZXRTaWRlQnVsbGV0cyhidWxsZXQsICduZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJ1bGxldCA9IGJ1bGxldHNbY3VycmVudF07XG4gICAgICAgIGlmIChidWxsZXQpIHtcbiAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgICAgICBidWxsZXRzLmZvckVhY2goKGJ1bGxldEVsLCBidWxsZXRJbmRleCkgPT4ge1xuICAgICAgICAgICAgYnVsbGV0RWwuc2V0QXR0cmlidXRlKCdwYXJ0JywgYnVsbGV0SW5kZXggPT09IGN1cnJlbnQgPyAnYnVsbGV0LWFjdGl2ZScgOiAnYnVsbGV0Jyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICAgIGNvbnN0IGZpcnN0RGlzcGxheWVkQnVsbGV0ID0gYnVsbGV0c1tmaXJzdEluZGV4XTtcbiAgICAgICAgICBjb25zdCBsYXN0RGlzcGxheWVkQnVsbGV0ID0gYnVsbGV0c1tsYXN0SW5kZXhdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSBmaXJzdEluZGV4OyBpIDw9IGxhc3RJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpZiAoYnVsbGV0c1tpXSkge1xuICAgICAgICAgICAgICBidWxsZXRzW2ldLmNsYXNzTGlzdC5hZGQoLi4uYCR7cGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzfS1tYWluYC5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2lkZUJ1bGxldHMoZmlyc3REaXNwbGF5ZWRCdWxsZXQsICdwcmV2Jyk7XG4gICAgICAgICAgc2V0U2lkZUJ1bGxldHMobGFzdERpc3BsYXllZEJ1bGxldCwgJ25leHQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBjb25zdCBkeW5hbWljQnVsbGV0c0xlbmd0aCA9IE1hdGgubWluKGJ1bGxldHMubGVuZ3RoLCBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzICsgNCk7XG4gICAgICAgIGNvbnN0IGJ1bGxldHNPZmZzZXQgPSAoYnVsbGV0U2l6ZSAqIGR5bmFtaWNCdWxsZXRzTGVuZ3RoIC0gYnVsbGV0U2l6ZSkgLyAyIC0gbWlkSW5kZXggKiBidWxsZXRTaXplO1xuICAgICAgICBjb25zdCBvZmZzZXRQcm9wID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgYnVsbGV0cy5mb3JFYWNoKGJ1bGxldCA9PiB7XG4gICAgICAgICAgYnVsbGV0LnN0eWxlW3N3aXBlci5pc0hvcml6b250YWwoKSA/IG9mZnNldFByb3AgOiAndG9wJ10gPSBgJHtidWxsZXRzT2Zmc2V0fXB4YDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsLmZvckVhY2goKHN1YkVsLCBzdWJFbEluZGV4KSA9PiB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdmcmFjdGlvbicpIHtcbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMuY3VycmVudENsYXNzKSkuZm9yRWFjaChmcmFjdGlvbkVsID0+IHtcbiAgICAgICAgICBmcmFjdGlvbkVsLnRleHRDb250ZW50ID0gcGFyYW1zLmZvcm1hdEZyYWN0aW9uQ3VycmVudChjdXJyZW50ICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdWJFbC5xdWVyeVNlbGVjdG9yQWxsKGNsYXNzZXNUb1NlbGVjdG9yKHBhcmFtcy50b3RhbENsYXNzKSkuZm9yRWFjaCh0b3RhbEVsID0+IHtcbiAgICAgICAgICB0b3RhbEVsLnRleHRDb250ZW50ID0gcGFyYW1zLmZvcm1hdEZyYWN0aW9uVG90YWwodG90YWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJykge1xuICAgICAgICBsZXQgcHJvZ3Jlc3NiYXJEaXJlY3Rpb247XG4gICAgICAgIGlmIChwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZSkge1xuICAgICAgICAgIHByb2dyZXNzYmFyRGlyZWN0aW9uID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9ncmVzc2JhckRpcmVjdGlvbiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NhbGUgPSAoY3VycmVudCArIDEpIC8gdG90YWw7XG4gICAgICAgIGxldCBzY2FsZVggPSAxO1xuICAgICAgICBsZXQgc2NhbGVZID0gMTtcbiAgICAgICAgaWYgKHByb2dyZXNzYmFyRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICBzY2FsZVggPSBzY2FsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY2FsZVkgPSBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBzdWJFbC5xdWVyeVNlbGVjdG9yQWxsKGNsYXNzZXNUb1NlbGVjdG9yKHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcykpLmZvckVhY2gocHJvZ3Jlc3NFbCA9PiB7XG4gICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlWCgke3NjYWxlWH0pIHNjYWxlWSgke3NjYWxlWX0pYDtcbiAgICAgICAgICBwcm9ncmVzc0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke3N3aXBlci5wYXJhbXMuc3BlZWR9bXNgO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2N1c3RvbScgJiYgcGFyYW1zLnJlbmRlckN1c3RvbSkge1xuICAgICAgICBzdWJFbC5pbm5lckhUTUwgPSBwYXJhbXMucmVuZGVyQ3VzdG9tKHN3aXBlciwgY3VycmVudCArIDEsIHRvdGFsKTtcbiAgICAgICAgaWYgKHN1YkVsSW5kZXggPT09IDApIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBzdWJFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc3ViRWxJbmRleCA9PT0gMCkgZW1pdCgncGFnaW5hdGlvblJlbmRlcicsIHN1YkVsKTtcbiAgICAgICAgZW1pdCgncGFnaW5hdGlvblVwZGF0ZScsIHN1YkVsKTtcbiAgICAgIH1cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0W3N3aXBlci5pc0xvY2tlZCA/ICdhZGQnIDogJ3JlbW92ZSddKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAvLyBSZW5kZXIgQ29udGFpbmVyXG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmIChpc1BhZ2luYXRpb25EaXNhYmxlZCgpKSByZXR1cm47XG4gICAgY29uc3Qgc2xpZGVzTGVuZ3RoID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogc3dpcGVyLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MgPiAxID8gc3dpcGVyLnNsaWRlcy5sZW5ndGggLyBNYXRoLmNlaWwoc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MpIDogc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgbGV0IGVsID0gc3dpcGVyLnBhZ2luYXRpb24uZWw7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgbGV0IHBhZ2luYXRpb25IVE1MID0gJyc7XG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycpIHtcbiAgICAgIGxldCBudW1iZXJPZkJ1bGxldHMgPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBNYXRoLmNlaWwoc2xpZGVzTGVuZ3RoIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUgJiYgc3dpcGVyLnBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIG51bWJlck9mQnVsbGV0cyA+IHNsaWRlc0xlbmd0aCkge1xuICAgICAgICBudW1iZXJPZkJ1bGxldHMgPSBzbGlkZXNMZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQnVsbGV0czsgaSArPSAxKSB7XG4gICAgICAgIGlmIChwYXJhbXMucmVuZGVyQnVsbGV0KSB7XG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgKz0gcGFyYW1zLnJlbmRlckJ1bGxldC5jYWxsKHN3aXBlciwgaSwgcGFyYW1zLmJ1bGxldENsYXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICBwYWdpbmF0aW9uSFRNTCArPSBgPCR7cGFyYW1zLmJ1bGxldEVsZW1lbnR9ICR7c3dpcGVyLmlzRWxlbWVudCA/ICdwYXJ0PVwiYnVsbGV0XCInIDogJyd9IGNsYXNzPVwiJHtwYXJhbXMuYnVsbGV0Q2xhc3N9XCI+PC8ke3BhcmFtcy5idWxsZXRFbGVtZW50fT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2ZyYWN0aW9uJykge1xuICAgICAgaWYgKHBhcmFtcy5yZW5kZXJGcmFjdGlvbikge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IHBhcmFtcy5yZW5kZXJGcmFjdGlvbi5jYWxsKHN3aXBlciwgcGFyYW1zLmN1cnJlbnRDbGFzcywgcGFyYW1zLnRvdGFsQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke3BhcmFtcy5jdXJyZW50Q2xhc3N9XCI+PC9zcGFuPmAgKyAnIC8gJyArIGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnRvdGFsQ2xhc3N9XCI+PC9zcGFuPmA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJykge1xuICAgICAgaWYgKHBhcmFtcy5yZW5kZXJQcm9ncmVzc2Jhcikge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IHBhcmFtcy5yZW5kZXJQcm9ncmVzc2Jhci5jYWxsKHN3aXBlciwgcGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3N9XCI+PC9zcGFuPmA7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgPSBbXTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgc3ViRWwuaW5uZXJIVE1MID0gcGFnaW5hdGlvbkhUTUwgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdidWxsZXRzJykge1xuICAgICAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLnB1c2goLi4uc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMuYnVsbGV0Q2xhc3MpKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHBhcmFtcy50eXBlICE9PSAnY3VzdG9tJykge1xuICAgICAgZW1pdCgncGFnaW5hdGlvblJlbmRlcicsIGVsWzBdKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24gPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLnBhZ2luYXRpb24sIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbiwge1xuICAgICAgZWw6ICdzd2lwZXItcGFnaW5hdGlvbidcbiAgICB9KTtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb247XG4gICAgaWYgKCFwYXJhbXMuZWwpIHJldHVybjtcbiAgICBsZXQgZWw7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIGVsID0gc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3IocGFyYW1zLmVsKTtcbiAgICB9XG4gICAgaWYgKCFlbCAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJykge1xuICAgICAgZWwgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpXTtcbiAgICB9XG4gICAgaWYgKCFlbCkge1xuICAgICAgZWwgPSBwYXJhbXMuZWw7XG4gICAgfVxuICAgIGlmICghZWwgfHwgZWwubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgQXJyYXkuaXNBcnJheShlbCkgJiYgZWwubGVuZ3RoID4gMSkge1xuICAgICAgZWwgPSBbLi4uc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKV07XG4gICAgICAvLyBjaGVjayBpZiBpdCBiZWxvbmdzIHRvIGFub3RoZXIgbmVzdGVkIFN3aXBlclxuICAgICAgaWYgKGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZWwgPSBlbC5maWx0ZXIoc3ViRWwgPT4ge1xuICAgICAgICAgIGlmIChlbGVtZW50UGFyZW50cyhzdWJFbCwgJy5zd2lwZXInKVswXSAhPT0gc3dpcGVyLmVsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkgJiYgZWwubGVuZ3RoID09PSAxKSBlbCA9IGVsWzBdO1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhZ2luYXRpb24sIHtcbiAgICAgIGVsXG4gICAgfSk7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdidWxsZXRzJyAmJiBwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoLi4uKHBhcmFtcy5jbGlja2FibGVDbGFzcyB8fCAnJykuc3BsaXQoJyAnKSk7XG4gICAgICB9XG4gICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBwYXJhbXMuaG9yaXpvbnRhbENsYXNzIDogcGFyYW1zLnZlcnRpY2FsQ2xhc3MpO1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmR5bmFtaWNCdWxsZXRzKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoYCR7cGFyYW1zLm1vZGlmaWVyQ2xhc3N9JHtwYXJhbXMudHlwZX0tZHluYW1pY2ApO1xuICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICAgICAgICBpZiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyA8IDEpIHtcbiAgICAgICAgICBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAncHJvZ3Jlc3NiYXInICYmIHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQocGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgICBzdWJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQnVsbGV0Q2xpY2spO1xuICAgICAgfVxuICAgICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHBhcmFtcy5sb2NrQ2xhc3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmIChpc1BhZ2luYXRpb25EaXNhYmxlZCgpKSByZXR1cm47XG4gICAgbGV0IGVsID0gc3dpcGVyLnBhZ2luYXRpb24uZWw7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5oaWRkZW5DbGFzcyk7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLm1vZGlmaWVyQ2xhc3MgKyBwYXJhbXMudHlwZSk7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKC4uLihwYXJhbXMuY2xpY2thYmxlQ2xhc3MgfHwgJycpLnNwbGl0KCcgJykpO1xuICAgICAgICAgIHN1YkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25CdWxsZXRDbGljayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cykgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpKTtcbiAgfVxuICBvbignY2hhbmdlRGlyZWN0aW9uJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhZ2luYXRpb24gfHwgIXN3aXBlci5wYWdpbmF0aW9uLmVsKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLmhvcml6b250YWxDbGFzcywgcGFyYW1zLnZlcnRpY2FsQ2xhc3MpO1xuICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBwYXJhbXMuaG9yaXpvbnRhbENsYXNzIDogcGFyYW1zLnZlcnRpY2FsQ2xhc3MpO1xuICAgIH0pO1xuICB9KTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5lbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBkaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIHJlbmRlcigpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2FjdGl2ZUluZGV4Q2hhbmdlJywgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnNuYXBJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbmFwSW5kZXhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICBvbignc25hcEdyaWRMZW5ndGhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgcmVuZGVyKCk7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkZXN0cm95KCk7XG4gIH0pO1xuICBvbignZW5hYmxlIGRpc2FibGUnLCAoKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlci5wYWdpbmF0aW9uO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmUnIDogJ2FkZCddKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5sb2NrQ2xhc3MpKTtcbiAgICB9XG4gIH0pO1xuICBvbignbG9jayB1bmxvY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICBvbignY2xpY2snLCAoX3MsIGUpID0+IHtcbiAgICBjb25zdCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoc3dpcGVyLnBhZ2luYXRpb24uZWwpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZWwgJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGVPbkNsaWNrICYmIGVsICYmIGVsLmxlbmd0aCA+IDAgJiYgIXRhcmdldEVsLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKSB7XG4gICAgICBpZiAoc3dpcGVyLm5hdmlnYXRpb24gJiYgKHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsIHx8IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKSkgcmV0dXJuO1xuICAgICAgY29uc3QgaXNIaWRkZW4gPSBlbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCdwYWdpbmF0aW9uU2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1pdCgncGFnaW5hdGlvbkhpZGUnKTtcbiAgICAgIH1cbiAgICAgIGVsLmZvckVhY2goc3ViRWwgPT4gc3ViRWwuY2xhc3NMaXN0LnRvZ2dsZShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uaGlkZGVuQ2xhc3MpKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKTtcbiAgICBsZXQge1xuICAgICAgZWxcbiAgICB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICAgIGVsLmZvckVhY2goc3ViRWwgPT4gc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpKTtcbiAgICB9XG4gICAgaW5pdCgpO1xuICAgIHJlbmRlcigpO1xuICAgIHVwZGF0ZSgpO1xuICB9O1xuICBjb25zdCBkaXNhYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgbGV0IHtcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlci5wYWdpbmF0aW9uO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIucGFnaW5hdGlvbiwge1xuICAgIGVuYWJsZSxcbiAgICBkaXNhYmxlLFxuICAgIHJlbmRlcixcbiAgICB1cGRhdGUsXG4gICAgaW5pdCxcbiAgICBkZXN0cm95XG4gIH0pO1xufVxuXG5leHBvcnQgeyBQYWdpbmF0aW9uIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBnIGFzIGdldERvY3VtZW50IH0gZnJvbSAnLi4vc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5cbi8qIGVzbGludCBuby11bmRlcnNjb3JlLWRhbmdsZTogXCJvZmZcIiAqL1xuLyogZXNsaW50IG5vLXVzZS1iZWZvcmUtZGVmaW5lOiBcIm9mZlwiICovXG5mdW5jdGlvbiBBdXRvcGxheShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0LFxuICAgIHBhcmFtc1xuICB9ID0gX3JlZjtcbiAgc3dpcGVyLmF1dG9wbGF5ID0ge1xuICAgIHJ1bm5pbmc6IGZhbHNlLFxuICAgIHBhdXNlZDogZmFsc2UsXG4gICAgdGltZUxlZnQ6IDBcbiAgfTtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBhdXRvcGxheToge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBkZWxheTogMzAwMCxcbiAgICAgIHdhaXRGb3JUcmFuc2l0aW9uOiB0cnVlLFxuICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgc3RvcE9uTGFzdFNsaWRlOiBmYWxzZSxcbiAgICAgIHJldmVyc2VEaXJlY3Rpb246IGZhbHNlLFxuICAgICAgcGF1c2VPbk1vdXNlRW50ZXI6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgbGV0IHRpbWVvdXQ7XG4gIGxldCByYWY7XG4gIGxldCBhdXRvcGxheURlbGF5VG90YWwgPSBwYXJhbXMgJiYgcGFyYW1zLmF1dG9wbGF5ID8gcGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogMzAwMDtcbiAgbGV0IGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gcGFyYW1zICYmIHBhcmFtcy5hdXRvcGxheSA/IHBhcmFtcy5hdXRvcGxheS5kZWxheSA6IDMwMDA7XG4gIGxldCBhdXRvcGxheVRpbWVMZWZ0O1xuICBsZXQgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgbGV0IHdhc1BhdXNlZDtcbiAgbGV0IGlzVG91Y2hlZDtcbiAgbGV0IHBhdXNlZEJ5VG91Y2g7XG4gIGxldCB0b3VjaFN0YXJ0VGltZW91dDtcbiAgbGV0IHNsaWRlQ2hhbmdlZDtcbiAgbGV0IHBhdXNlZEJ5SW50ZXJhY3Rpb247XG4gIGxldCBwYXVzZWRCeVBvaW50ZXJFbnRlcjtcbiAgZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKGUpIHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIud3JhcHBlckVsKSByZXR1cm47XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBzd2lwZXIud3JhcHBlckVsKSByZXR1cm47XG4gICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcbiAgICBpZiAocGF1c2VkQnlQb2ludGVyRW50ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzdW1lKCk7XG4gIH1cbiAgY29uc3QgY2FsY1RpbWVMZWZ0ID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICB3YXNQYXVzZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAod2FzUGF1c2VkKSB7XG4gICAgICBhdXRvcGxheURlbGF5Q3VycmVudCA9IGF1dG9wbGF5VGltZUxlZnQ7XG4gICAgICB3YXNQYXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdGltZUxlZnQgPSBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID8gYXV0b3BsYXlUaW1lTGVmdCA6IGF1dG9wbGF5U3RhcnRUaW1lICsgYXV0b3BsYXlEZWxheUN1cnJlbnQgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBzd2lwZXIuYXV0b3BsYXkudGltZUxlZnQgPSB0aW1lTGVmdDtcbiAgICBlbWl0KCdhdXRvcGxheVRpbWVMZWZ0JywgdGltZUxlZnQsIHRpbWVMZWZ0IC8gYXV0b3BsYXlEZWxheVRvdGFsKTtcbiAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgY2FsY1RpbWVMZWZ0KCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGdldFNsaWRlRGVsYXkgPSAoKSA9PiB7XG4gICAgbGV0IGFjdGl2ZVNsaWRlRWw7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICBhY3RpdmVTbGlkZUVsID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNsYXNzTGlzdC5jb250YWlucygnc3dpcGVyLXNsaWRlLWFjdGl2ZScpKVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGVFbCA9IHN3aXBlci5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XTtcbiAgICB9XG4gICAgaWYgKCFhY3RpdmVTbGlkZUVsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGN1cnJlbnRTbGlkZURlbGF5ID0gcGFyc2VJbnQoYWN0aXZlU2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLWF1dG9wbGF5JyksIDEwKTtcbiAgICByZXR1cm4gY3VycmVudFNsaWRlRGVsYXk7XG4gIH07XG4gIGNvbnN0IHJ1biA9IGRlbGF5Rm9yY2UgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgY2FsY1RpbWVMZWZ0KCk7XG4gICAgbGV0IGRlbGF5ID0gdHlwZW9mIGRlbGF5Rm9yY2UgPT09ICd1bmRlZmluZWQnID8gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheSA6IGRlbGF5Rm9yY2U7XG4gICAgYXV0b3BsYXlEZWxheVRvdGFsID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBhdXRvcGxheURlbGF5Q3VycmVudCA9IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG4gICAgY29uc3QgY3VycmVudFNsaWRlRGVsYXkgPSBnZXRTbGlkZURlbGF5KCk7XG4gICAgaWYgKCFOdW1iZXIuaXNOYU4oY3VycmVudFNsaWRlRGVsYXkpICYmIGN1cnJlbnRTbGlkZURlbGF5ID4gMCAmJiB0eXBlb2YgZGVsYXlGb3JjZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRlbGF5ID0gY3VycmVudFNsaWRlRGVsYXk7XG4gICAgICBhdXRvcGxheURlbGF5VG90YWwgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gY3VycmVudFNsaWRlRGVsYXk7XG4gICAgfVxuICAgIGF1dG9wbGF5VGltZUxlZnQgPSBkZWxheTtcbiAgICBjb25zdCBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gICAgY29uc3QgcHJvY2VlZCA9ICgpID0+IHtcbiAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnJldmVyc2VEaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wIHx8IHN3aXBlci5wYXJhbXMucmV3aW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlUHJldihzcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXN3aXBlci5pc0VuZCB8fCBzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICAgIGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcnVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGRlbGF5ID4gMCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwcm9jZWVkKCk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHByb2NlZWQoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHJldHVybiBkZWxheTtcbiAgfTtcbiAgY29uc3Qgc3RhcnQgPSAoKSA9PiB7XG4gICAgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucnVubmluZyA9IHRydWU7XG4gICAgcnVuKCk7XG4gICAgZW1pdCgnYXV0b3BsYXlTdGFydCcpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgZW1pdCgnYXV0b3BsYXlTdG9wJyk7XG4gIH07XG4gIGNvbnN0IHBhdXNlID0gKGludGVybmFsLCByZXNldCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgcHJvY2VlZCA9ICgpID0+IHtcbiAgICAgIGVtaXQoJ2F1dG9wbGF5UGF1c2UnKTtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LndhaXRGb3JUcmFuc2l0aW9uKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSB0cnVlO1xuICAgIGlmIChyZXNldCkge1xuICAgICAgaWYgKHNsaWRlQ2hhbmdlZCkge1xuICAgICAgICBhdXRvcGxheVRpbWVMZWZ0ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICAgIH1cbiAgICAgIHNsaWRlQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgcHJvY2VlZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWxheSA9IGF1dG9wbGF5VGltZUxlZnQgfHwgc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBhdXRvcGxheVRpbWVMZWZ0ID0gZGVsYXkgLSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBhdXRvcGxheVN0YXJ0VGltZSk7XG4gICAgaWYgKHN3aXBlci5pc0VuZCAmJiBhdXRvcGxheVRpbWVMZWZ0IDwgMCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gICAgaWYgKGF1dG9wbGF5VGltZUxlZnQgPCAwKSBhdXRvcGxheVRpbWVMZWZ0ID0gMDtcbiAgICBwcm9jZWVkKCk7XG4gIH07XG4gIGNvbnN0IHJlc3VtZSA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmIGF1dG9wbGF5VGltZUxlZnQgPCAwICYmICFzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmIChwYXVzZWRCeUludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgICBydW4oYXV0b3BsYXlUaW1lTGVmdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJ1bigpO1xuICAgIH1cbiAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gZmFsc2U7XG4gICAgZW1pdCgnYXV0b3BsYXlSZXN1bWUnKTtcbiAgfTtcbiAgY29uc3Qgb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IHRydWU7XG4gICAgICBwYXVzZSh0cnVlKTtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICByZXN1bWUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uUG9pbnRlckVudGVyID0gZSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHJldHVybjtcbiAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICBwYXVzZWRCeVBvaW50ZXJFbnRlciA9IHRydWU7XG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcgfHwgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkgcmV0dXJuO1xuICAgIHBhdXNlKHRydWUpO1xuICB9O1xuICBjb25zdCBvblBvaW50ZXJMZWF2ZSA9IGUgPT4ge1xuICAgIGlmIChlLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSByZXR1cm47XG4gICAgcGF1c2VkQnlQb2ludGVyRW50ZXIgPSBmYWxzZTtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgcmVzdW1lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBhdHRhY2hNb3VzZUV2ZW50cyA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5wYXVzZU9uTW91c2VFbnRlcikge1xuICAgICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsIG9uUG9pbnRlckVudGVyKTtcbiAgICAgIHN3aXBlci5lbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCBvblBvaW50ZXJMZWF2ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBkZXRhY2hNb3VzZUV2ZW50cyA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgb25Qb2ludGVyRW50ZXIpO1xuICAgIHN3aXBlci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCBvblBvaW50ZXJMZWF2ZSk7XG4gIH07XG4gIGNvbnN0IGF0dGFjaERvY3VtZW50RXZlbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgfTtcbiAgY29uc3QgZGV0YWNoRG9jdW1lbnRFdmVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICB9O1xuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5lbmFibGVkKSB7XG4gICAgICBhdHRhY2hNb3VzZUV2ZW50cygpO1xuICAgICAgYXR0YWNoRG9jdW1lbnRFdmVudHMoKTtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGV0YWNoTW91c2VFdmVudHMoKTtcbiAgICBkZXRhY2hEb2N1bWVudEV2ZW50cygpO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucnVubmluZykge1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdfZnJlZU1vZGVTdGF0aWNSZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmIChwYXVzZWRCeVRvdWNoIHx8IHBhdXNlZEJ5SW50ZXJhY3Rpb24pIHtcbiAgICAgIHJlc3VtZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlKHRydWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIChfcywgc3BlZWQsIGludGVybmFsKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKGludGVybmFsIHx8ICFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZSh0cnVlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbGlkZXJGaXJzdE1vdmUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHN0b3AoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBwYXVzZWRCeVRvdWNoID0gZmFsc2U7XG4gICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IGZhbHNlO1xuICAgIHRvdWNoU3RhcnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICAgIHBhdXNlZEJ5VG91Y2ggPSB0cnVlO1xuICAgICAgcGF1c2UodHJ1ZSk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG4gIG9uKCd0b3VjaEVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgfHwgIWlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIGNsZWFyVGltZW91dCh0b3VjaFN0YXJ0VGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZWRCeVRvdWNoID0gZmFsc2U7XG4gICAgICBpc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhdXNlZEJ5VG91Y2ggJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXN1bWUoKTtcbiAgICBwYXVzZWRCeVRvdWNoID0gZmFsc2U7XG4gICAgaXNUb3VjaGVkID0gZmFsc2U7XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgc2xpZGVDaGFuZ2VkID0gdHJ1ZTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmF1dG9wbGF5LCB7XG4gICAgc3RhcnQsXG4gICAgc3RvcCxcbiAgICBwYXVzZSxcbiAgICByZXN1bWVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEF1dG9wbGF5IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBnIGFzIGdldERvY3VtZW50IH0gZnJvbSAnLi4vc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5pbXBvcnQgeyBrIGFzIGlzT2JqZWN0LCBlIGFzIGVsZW1lbnRDaGlsZHJlbiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBUaHVtYihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICB0aHVtYnM6IHtcbiAgICAgIHN3aXBlcjogbnVsbCxcbiAgICAgIG11bHRpcGxlQWN0aXZlVGh1bWJzOiB0cnVlLFxuICAgICAgYXV0b1Njcm9sbE9mZnNldDogMCxcbiAgICAgIHNsaWRlVGh1bWJBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS10aHVtYi1hY3RpdmUnLFxuICAgICAgdGh1bWJzQ29udGFpbmVyQ2xhc3M6ICdzd2lwZXItdGh1bWJzJ1xuICAgIH1cbiAgfSk7XG4gIGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBsZXQgc3dpcGVyQ3JlYXRlZCA9IGZhbHNlO1xuICBzd2lwZXIudGh1bWJzID0ge1xuICAgIHN3aXBlcjogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBvblRodW1iQ2xpY2soKSB7XG4gICAgY29uc3QgdGh1bWJzU3dpcGVyID0gc3dpcGVyLnRodW1icy5zd2lwZXI7XG4gICAgaWYgKCF0aHVtYnNTd2lwZXIgfHwgdGh1bWJzU3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGNvbnN0IGNsaWNrZWRJbmRleCA9IHRodW1ic1N3aXBlci5jbGlja2VkSW5kZXg7XG4gICAgY29uc3QgY2xpY2tlZFNsaWRlID0gdGh1bWJzU3dpcGVyLmNsaWNrZWRTbGlkZTtcbiAgICBpZiAoY2xpY2tlZFNsaWRlICYmIGNsaWNrZWRTbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzKSkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgY2xpY2tlZEluZGV4ID09PSAndW5kZWZpbmVkJyB8fCBjbGlja2VkSW5kZXggPT09IG51bGwpIHJldHVybjtcbiAgICBsZXQgc2xpZGVUb0luZGV4O1xuICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHNsaWRlVG9JbmRleCA9IHBhcnNlSW50KHRodW1ic1N3aXBlci5jbGlja2VkU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlVG9JbmRleCA9IGNsaWNrZWRJbmRleDtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKHNsaWRlVG9JbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdGh1bWJzOiB0aHVtYnNQYXJhbXNcbiAgICB9ID0gc3dpcGVyLnBhcmFtcztcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHJldHVybiBmYWxzZTtcbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgY29uc3QgU3dpcGVyQ2xhc3MgPSBzd2lwZXIuY29uc3RydWN0b3I7XG4gICAgaWYgKHRodW1ic1BhcmFtcy5zd2lwZXIgaW5zdGFuY2VvZiBTd2lwZXJDbGFzcykge1xuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXIgPSB0aHVtYnNQYXJhbXMuc3dpcGVyO1xuICAgICAgT2JqZWN0LmFzc2lnbihzd2lwZXIudGh1bWJzLnN3aXBlci5vcmlnaW5hbFBhcmFtcywge1xuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuYXNzaWduKHN3aXBlci50aHVtYnMuc3dpcGVyLnBhcmFtcywge1xuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIudGh1bWJzLnN3aXBlci51cGRhdGUoKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRodW1ic1BhcmFtcy5zd2lwZXIpKSB7XG4gICAgICBjb25zdCB0aHVtYnNTd2lwZXJQYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aHVtYnNQYXJhbXMuc3dpcGVyKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGh1bWJzU3dpcGVyUGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyID0gbmV3IFN3aXBlckNsYXNzKHRodW1ic1N3aXBlclBhcmFtcyk7XG4gICAgICBzd2lwZXJDcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgc3dpcGVyLnRodW1icy5zd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLnRodW1icy50aHVtYnNDb250YWluZXJDbGFzcyk7XG4gICAgc3dpcGVyLnRodW1icy5zd2lwZXIub24oJ3RhcCcsIG9uVGh1bWJDbGljayk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlKGluaXRpYWwpIHtcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlciB8fCB0aHVtYnNTd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gdGh1bWJzU3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiB0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXc7XG5cbiAgICAvLyBBY3RpdmF0ZSB0aHVtYnNcbiAgICBsZXQgdGh1bWJzVG9BY3RpdmF0ZSA9IDE7XG4gICAgY29uc3QgdGh1bWJBY3RpdmVDbGFzcyA9IHN3aXBlci5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcztcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgdGh1bWJzVG9BY3RpdmF0ZSA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICB9XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnRodW1icy5tdWx0aXBsZUFjdGl2ZVRodW1icykge1xuICAgICAgdGh1bWJzVG9BY3RpdmF0ZSA9IDE7XG4gICAgfVxuICAgIHRodW1ic1RvQWN0aXZhdGUgPSBNYXRoLmZsb29yKHRodW1ic1RvQWN0aXZhdGUpO1xuICAgIHRodW1ic1N3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aHVtYkFjdGl2ZUNsYXNzKSk7XG4gICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCB8fCB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgdGh1bWJzU3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGh1bWJzVG9BY3RpdmF0ZTsgaSArPSAxKSB7XG4gICAgICAgIGVsZW1lbnRDaGlsZHJlbih0aHVtYnNTd2lwZXIuc2xpZGVzRWwsIGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3N3aXBlci5yZWFsSW5kZXggKyBpfVwiXWApLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgICAgc2xpZGVFbC5jbGFzc0xpc3QuYWRkKHRodW1iQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aHVtYnNUb0FjdGl2YXRlOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHRodW1ic1N3aXBlci5zbGlkZXNbc3dpcGVyLnJlYWxJbmRleCArIGldKSB7XG4gICAgICAgICAgdGh1bWJzU3dpcGVyLnNsaWRlc1tzd2lwZXIucmVhbEluZGV4ICsgaV0uY2xhc3NMaXN0LmFkZCh0aHVtYkFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhdXRvU2Nyb2xsT2Zmc2V0ID0gc3dpcGVyLnBhcmFtcy50aHVtYnMuYXV0b1Njcm9sbE9mZnNldDtcbiAgICBjb25zdCB1c2VPZmZzZXQgPSBhdXRvU2Nyb2xsT2Zmc2V0ICYmICF0aHVtYnNTd2lwZXIucGFyYW1zLmxvb3A7XG4gICAgaWYgKHN3aXBlci5yZWFsSW5kZXggIT09IHRodW1ic1N3aXBlci5yZWFsSW5kZXggfHwgdXNlT2Zmc2V0KSB7XG4gICAgICBjb25zdCBjdXJyZW50VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgICBsZXQgbmV3VGh1bWJzSW5kZXg7XG4gICAgICBsZXQgZGlyZWN0aW9uO1xuICAgICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgICBjb25zdCBuZXdUaHVtYnNTbGlkZSA9IHRodW1ic1N3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgPT09IGAke3N3aXBlci5yZWFsSW5kZXh9YClbMF07XG4gICAgICAgIG5ld1RodW1ic0luZGV4ID0gdGh1bWJzU3dpcGVyLnNsaWRlcy5pbmRleE9mKG5ld1RodW1ic1NsaWRlKTtcbiAgICAgICAgZGlyZWN0aW9uID0gc3dpcGVyLmFjdGl2ZUluZGV4ID4gc3dpcGVyLnByZXZpb3VzSW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUaHVtYnNJbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG4gICAgICAgIGRpcmVjdGlvbiA9IG5ld1RodW1ic0luZGV4ID4gc3dpcGVyLnByZXZpb3VzSW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgICB9XG4gICAgICBpZiAodXNlT2Zmc2V0KSB7XG4gICAgICAgIG5ld1RodW1ic0luZGV4ICs9IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gYXV0b1Njcm9sbE9mZnNldCA6IC0xICogYXV0b1Njcm9sbE9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmICh0aHVtYnNTd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMgJiYgdGh1bWJzU3dpcGVyLnZpc2libGVTbGlkZXNJbmRleGVzLmluZGV4T2YobmV3VGh1bWJzSW5kZXgpIDwgMCkge1xuICAgICAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgICAgIGlmIChuZXdUaHVtYnNJbmRleCA+IGN1cnJlbnRUaHVtYnNJbmRleCkge1xuICAgICAgICAgICAgbmV3VGh1bWJzSW5kZXggPSBuZXdUaHVtYnNJbmRleCAtIE1hdGguZmxvb3Ioc2xpZGVzUGVyVmlldyAvIDIpICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3VGh1bWJzSW5kZXggPSBuZXdUaHVtYnNJbmRleCArIE1hdGguZmxvb3Ioc2xpZGVzUGVyVmlldyAvIDIpIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV3VGh1bWJzSW5kZXggPiBjdXJyZW50VGh1bWJzSW5kZXggJiYgdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSkgO1xuICAgICAgICB0aHVtYnNTd2lwZXIuc2xpZGVUbyhuZXdUaHVtYnNJbmRleCwgaW5pdGlhbCA/IDAgOiB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0aHVtYnNcbiAgICB9ID0gc3dpcGVyLnBhcmFtcztcbiAgICBpZiAoIXRodW1icyB8fCAhdGh1bWJzLnN3aXBlcikgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgdGh1bWJzLnN3aXBlciA9PT0gJ3N0cmluZycgfHwgdGh1bWJzLnN3aXBlciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgICBjb25zdCBnZXRUaHVtYnNFbGVtZW50QW5kSW5pdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGh1bWJzRWxlbWVudCA9IHR5cGVvZiB0aHVtYnMuc3dpcGVyID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGh1bWJzLnN3aXBlcikgOiB0aHVtYnMuc3dpcGVyO1xuICAgICAgICBpZiAodGh1bWJzRWxlbWVudCAmJiB0aHVtYnNFbGVtZW50LnN3aXBlcikge1xuICAgICAgICAgIHRodW1icy5zd2lwZXIgPSB0aHVtYnNFbGVtZW50LnN3aXBlcjtcbiAgICAgICAgICBpbml0KCk7XG4gICAgICAgICAgdXBkYXRlKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRodW1ic0VsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCBvblRodW1ic1N3aXBlciA9IGUgPT4ge1xuICAgICAgICAgICAgdGh1bWJzLnN3aXBlciA9IGUuZGV0YWlsWzBdO1xuICAgICAgICAgICAgdGh1bWJzRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbml0Jywgb25UaHVtYnNTd2lwZXIpO1xuICAgICAgICAgICAgaW5pdCgpO1xuICAgICAgICAgICAgdXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgdGh1bWJzLnN3aXBlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHN3aXBlci51cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRodW1ic0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5pdCcsIG9uVGh1bWJzU3dpcGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGh1bWJzRWxlbWVudDtcbiAgICAgIH07XG4gICAgICBjb25zdCB3YXRjaEZvclRodW1ic1RvQXBwZWFyID0gKCkgPT4ge1xuICAgICAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0aHVtYnNFbGVtZW50ID0gZ2V0VGh1bWJzRWxlbWVudEFuZEluaXQoKTtcbiAgICAgICAgaWYgKCF0aHVtYnNFbGVtZW50KSB7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHdhdGNoRm9yVGh1bWJzVG9BcHBlYXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHdhdGNoRm9yVGh1bWJzVG9BcHBlYXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlQ2hhbmdlIHVwZGF0ZSByZXNpemUgb2JzZXJ2ZXJVcGRhdGUnLCAoKSA9PiB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlciB8fCB0aHVtYnNTd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgdGh1bWJzU3dpcGVyLnNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9KTtcbiAgb24oJ2JlZm9yZURlc3Ryb3knLCAoKSA9PiB7XG4gICAgY29uc3QgdGh1bWJzU3dpcGVyID0gc3dpcGVyLnRodW1icy5zd2lwZXI7XG4gICAgaWYgKCF0aHVtYnNTd2lwZXIgfHwgdGh1bWJzU3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXJDcmVhdGVkKSB7XG4gICAgICB0aHVtYnNTd2lwZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnRodW1icywge1xuICAgIGluaXQsXG4gICAgdXBkYXRlXG4gIH0pO1xufVxuXG5leHBvcnQgeyBUaHVtYiBhcyBkZWZhdWx0IH07XG4iLCAiZnVuY3Rpb24gZWZmZWN0SW5pdChwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIGVmZmVjdCxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zLFxuICAgIHBlcnNwZWN0aXZlLFxuICAgIHJlY3JlYXRlU2hhZG93cyxcbiAgICBnZXRFZmZlY3RQYXJhbXNcbiAgfSA9IHBhcmFtcztcbiAgb24oJ2JlZm9yZUluaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2VmZmVjdH1gKTtcbiAgICBpZiAocGVyc3BlY3RpdmUgJiYgcGVyc3BlY3RpdmUoKSkge1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9M2RgKTtcbiAgICB9XG4gICAgY29uc3Qgb3ZlcndyaXRlUGFyYW1zUmVzdWx0ID0gb3ZlcndyaXRlUGFyYW1zID8gb3ZlcndyaXRlUGFyYW1zKCkgOiB7fTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNsYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNsYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAocmVjcmVhdGVTaGFkb3dzKSB7XG4gICAgICBpZiAoIWdldEVmZmVjdFBhcmFtcyB8fCAhZ2V0RWZmZWN0UGFyYW1zKCkuc2xpZGVTaGFkb3dzKSByZXR1cm47XG4gICAgICAvLyByZW1vdmUgc2hhZG93c1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLmZvckVhY2goc2hhZG93RWwgPT4gc2hhZG93RWwucmVtb3ZlKCkpO1xuICAgICAgfSk7XG4gICAgICAvLyBjcmVhdGUgbmV3IG9uZVxuICAgICAgcmVjcmVhdGVTaGFkb3dzKCk7XG4gICAgfVxuICB9KTtcbiAgbGV0IHJlcXVpcmVVcGRhdGVPblZpcnR1YWw7XG4gIG9uKCd2aXJ0dWFsVXBkYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgaWYgKCFzd2lwZXIuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbCA9IHRydWU7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAocmVxdWlyZVVwZGF0ZU9uVmlydHVhbCAmJiBzd2lwZXIuc2xpZGVzICYmIHN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgeyBlZmZlY3RJbml0IGFzIGUgfTtcbiIsICJpbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGVmZmVjdFRhcmdldChlZmZlY3RQYXJhbXMsIHNsaWRlRWwpIHtcbiAgY29uc3QgdHJhbnNmb3JtRWwgPSBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpO1xuICBpZiAodHJhbnNmb3JtRWwgIT09IHNsaWRlRWwpIHtcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZS5iYWNrZmFjZVZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZVsnLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5J10gPSAnaGlkZGVuJztcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtRWw7XG59XG5cbmV4cG9ydCB7IGVmZmVjdFRhcmdldCBhcyBlIH07XG4iLCAiaW1wb3J0IHsgaiBhcyBlbGVtZW50VHJhbnNpdGlvbkVuZCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBkdXJhdGlvbixcbiAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICBhbGxTbGlkZXNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBnZXRTbGlkZSA9IGVsID0+IHtcbiAgICBpZiAoIWVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIGFzc3VtZSBzaGFkb3cgcm9vdFxuICAgICAgY29uc3Qgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QgPT09IGVsLnBhcmVudE5vZGUpWzBdO1xuICAgICAgcmV0dXJuIHNsaWRlO1xuICAgIH1cbiAgICByZXR1cm4gZWwucGFyZW50RWxlbWVudDtcbiAgfTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgIGxldCBldmVudFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIGxldCB0cmFuc2l0aW9uRW5kVGFyZ2V0O1xuICAgIGlmIChhbGxTbGlkZXMpIHtcbiAgICAgIHRyYW5zaXRpb25FbmRUYXJnZXQgPSB0cmFuc2Zvcm1FbGVtZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzLmZpbHRlcih0cmFuc2Zvcm1FbCA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gdHJhbnNmb3JtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgPyBnZXRTbGlkZSh0cmFuc2Zvcm1FbCkgOiB0cmFuc2Zvcm1FbDtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5nZXRTbGlkZUluZGV4KGVsKSA9PT0gYWN0aXZlSW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdHJhbnNpdGlvbkVuZFRhcmdldC5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGVsLCAoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBhcyBlIH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0RmFkZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBmYWRlRWZmZWN0OiB7XG4gICAgICBjcm9zc0ZhZGU6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tpXTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNsaWRlRWwuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBsZXQgdHggPSAtb2Zmc2V0O1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHR4IC09IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xpZGVPcGFjaXR5ID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0LmNyb3NzRmFkZSA/IE1hdGgubWF4KDEgLSBNYXRoLmFicyhzbGlkZUVsLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVFbC5wcm9ncmVzcywgLTEpLCAwKTtcbiAgICAgIGNvbnN0IHRhcmdldEVsID0gZWZmZWN0VGFyZ2V0KHBhcmFtcywgc2xpZGVFbCk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS5vcGFjaXR5ID0gc2xpZGVPcGFjaXR5O1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsIDBweClgO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgfSk7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICAgIGFsbFNsaWRlczogdHJ1ZVxuICAgIH0pO1xuICB9O1xuICBlZmZlY3RJbml0KHtcbiAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0RmFkZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IFN3aXBlciBmcm9tIFwic3dpcGVyXCI7XG5pbXBvcnQge1xuXHRBdXRvcGxheSxcblx0R3JpZCxcblx0TW91c2V3aGVlbCxcblx0TmF2aWdhdGlvbixcblx0UGFnaW5hdGlvbixcblx0VGh1bWJzLFxuXHRFZmZlY3RGYWRlLFxuXHRTY3JvbGxiYXIsXG59IGZyb20gXCJzd2lwZXIvbW9kdWxlc1wiO1xuXG4vKipcbiAqIEBwYXJhbSBzd2lwZXJJbml0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2lwZXJJbml0KCkge1xuXHQkKFwiLnN3aXBlci1jb2x1bW4tYXV0b1wiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcblx0XHQvLyBDb25maWd1cmF0aW9uIGZsYWdzdmlkZW9TZXR0aW5nXG5cdFx0Y29uc3QgY29uZmlnID0ge1xuXHRcdFx0bG9vcDogJHRoaXMuaGFzQ2xhc3MoXCJzd2lwZXItbG9vcFwiKSxcblx0XHRcdHRvdWNoTW92ZTogJHRoaXMuaGFzQ2xhc3MoXCJhbGxvdy10b3VjaE1vdmVcIikgfHwgdHJ1ZSxcblx0XHRcdG1vdXNlV2hlZWw6ICR0aGlzLmhhc0NsYXNzKFwiYWxsb3ctbW91c2VXaGVlbFwiKSA/IHsgZm9yY2VUb0F4aXM6IHRydWUgfSA6IGZhbHNlLFxuXHRcdFx0YXV0b0hlaWdodDogJHRoaXMuaGFzQ2xhc3MoXCJhdXRvLWhlaWdodFwiKSxcblx0XHRcdGhhc1ZpZGVvOiAkdGhpcy5oYXNDbGFzcyhcImF1dG8tZGV0ZWN0LXZpZGVvXCIpLFxuXHRcdFx0cGFnaW5hdGlvbkRvdDogJHRoaXMuaGFzQ2xhc3MoXCJwYWdpbmF0aW9uLWRvdFwiKSxcblx0XHRcdGNlbnRlcjogJHRoaXMuaGFzQ2xhc3MoXCJjZW50ZXJcIiksXG5cdFx0XHR0aW1lOiAkdGhpcy5hdHRyKFwiZGF0YS10aW1lXCIpIHx8IDM1MDAsXG5cdFx0XHRhdXRvcGxheTogJHRoaXMuaGFzQ2xhc3MoXCJhdXRvcGxheVwiKSxcblx0XHRcdGluZmluaXRlOiAkdGhpcy5oYXNDbGFzcyhcInN3aXBlci1pbmZpbml0ZVwiKSxcblx0XHRcdHNjcm9sbGJhcjogJHRoaXMuaGFzQ2xhc3MoXCJzd2lwZXItc2Nyb2xsYmFyXCIpLFxuXHRcdFx0ZWZmZWN0OiAkdGhpcy5oYXNDbGFzcyhcImVmZmVjdFwiKSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgY29uZmlnSW5maW5pdGUgPSB7XG5cdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0dGltZTogMzUwMCxcblx0XHRcdGdyYWJDdXJzb3I6IHRydWUsXG5cdFx0XHRmcmVlTW9kZTogdHJ1ZSxcblx0XHRcdHNwZWVkOiAyMDAwLFxuXHRcdFx0c2xpZGVzUGVyVmlldzogNCxcblx0XHRcdGJyZWFrcG9pbnRzOiB7XG5cdFx0XHRcdDc2ODoge1xuXHRcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdDEwMjQ6IHtcblx0XHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA4LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdGF1dG9wbGF5OiB7XG5cdFx0XHRcdGRlbGF5OiAwLjUsXG5cdFx0XHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdC8vIEFkZCB1bmlxdWUgaWRlbnRpZmllciBjbGFzc1xuXHRcdCR0aGlzLmFkZENsYXNzKGBzd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH1gKTtcblxuXHRcdC8vIENyZWF0ZSBzd2lwZXIgd2l0aCBvcHRpbWl6ZWQgb3B0aW9uc1xuXHRcdG5ldyBTd2lwZXIoYC5zd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH0gLnN3aXBlcmAsIHtcblx0XHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uLCBNb3VzZXdoZWVsLCBBdXRvcGxheSwgRWZmZWN0RmFkZV0sXG5cdFx0XHRzcGVlZDogNTAwLFxuXHRcdFx0b2JzZXJ2ZXI6IHRydWUsXG5cdFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcblx0XHRcdC4uLihjb25maWcuZWZmZWN0ICYmIHtcblx0XHRcdFx0ZWZmZWN0OiBcImZhZGVcIixcblx0XHRcdH0pLFxuXHRcdFx0c3BhY2VCZXR3ZWVuOiAwLFxuXHRcdFx0bG9vcDogY29uZmlnLmxvb3AsXG5cdFx0XHQuLi4oY29uZmlnLmF1dG9wbGF5ICYmIHtcblx0XHRcdFx0YXV0b3BsYXk6IHtcblx0XHRcdFx0XHRkZWxheTogY29uZmlnLnRpbWUsXG5cdFx0XHRcdH0sXG5cdFx0XHR9KSxcblx0XHRcdC4uLihjb25maWcuc2Nyb2xsYmFyICYmIHtcblx0XHRcdFx0c2Nyb2xsYmFyOiB7XG5cdFx0XHRcdFx0ZWw6IGAuc3dpcGVyLWNvbHVtbi1hdXRvLWlkLSR7aW5kZXh9IC5zd2lwZXItc2Nyb2xsYmFyLXNsaWRlYCxcblx0XHRcdFx0XHQvLyBoaWRlOiBmYWxzZSxcblx0XHRcdFx0XHRkcmFnZ2FibGU6IHRydWUsXG5cdFx0XHRcdH0sXG5cdFx0XHR9KSxcblx0XHRcdC4uLihjb25maWcuY2VudGVyICYmIHtcblx0XHRcdFx0Y2VudGVyZWRTbGlkZXM6IHRydWUsXG5cdFx0XHR9KSxcblx0XHRcdHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuXHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRlbDogYC5zd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH0gLnN3aXBlci1wYWdpbmF0aW9uYCxcblx0XHRcdFx0Y2xpY2thYmxlOiB0cnVlLFxuXHRcdFx0XHR0eXBlOiBcImZyYWN0aW9uXCIsXG5cdFx0XHRcdC4uLihjb25maWcucGFnaW5hdGlvbkRvdCAmJiB7XG5cdFx0XHRcdFx0dHlwZTogXCJidWxsZXRzXCIsXG5cdFx0XHRcdH0pLFxuXHRcdFx0fSxcblx0XHRcdC4uLihjb25maWcuaW5maW5pdGUgJiYge1xuXHRcdFx0XHQuLi5jb25maWdJbmZpbml0ZSxcblx0XHRcdH0pLFxuXHRcdFx0bW91c2V3aGVlbDogY29uZmlnLm1vdXNlV2hlZWwsXG5cdFx0XHRhbGxvd1RvdWNoTW92ZTogY29uZmlnLnRvdWNoTW92ZSxcblx0XHRcdG5hdmlnYXRpb246IHtcblx0XHRcdFx0cHJldkVsOiBgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuYnRuLXByZXZgLFxuXHRcdFx0XHRuZXh0RWw6IGAuc3dpcGVyLWNvbHVtbi1hdXRvLWlkLSR7aW5kZXh9IC5idG4tbmV4dGAsXG5cdFx0XHR9LFxuXHRcdFx0d2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcblx0XHRcdGF1dG9IZWlnaHQ6IGNvbmZpZy5hdXRvSGVpZ2h0LFxuXHRcdFx0b246IHtcblx0XHRcdFx0aW5pdDogZnVuY3Rpb24gKCkgeyB9LFxuXHRcdFx0XHRzbGlkZUNoYW5nZTogZnVuY3Rpb24gKCkgeyB9LFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fSk7XG5cdHN3aXBlckJhbm5lcigpO1xuXHRzd2lwZXJQcm9kdWN0RGV0YWlsKCk7XG5cdHN3aXBlckZpZWxkT3AoKTtcblx0c3dpcGVyV29yaygpO1xuXHRzd2lwZXJSZWxhdGVkUG9zdHMoKTtcblx0c3dpcGVyUmVsYXRlZFZpZGVvcygpO1xuXG5cdGNvbnN0IGFib3V0XzUgPSBuZXcgU3dpcGVyKGAuYWJvdXQtNSAuc3dpcGVyYCwge1xuXHRcdG1vZHVsZXM6IFtBdXRvcGxheSwgTmF2aWdhdGlvbl0sXG5cdFx0c3BhY2VCZXR3ZWVuOiAwLFxuXHRcdHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuXHRcdHNwZWVkOiA1MDAsXG5cdFx0Ly8gYXV0b3BsYXk6IHtcblx0XHQvLyBcdGRlbGF5OiAzNTAwLFxuXHRcdC8vIFx0ZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuXHRcdC8vIH0sXG5cdFx0Y2VudGVyZWRTbGlkZXM6IHRydWUsXG5cdFx0bmF2aWdhdGlvbjoge1xuXHRcdFx0cHJldkVsOiBgLmFib3V0LTUgLmJ0bi1wcmV2YCxcblx0XHRcdG5leHRFbDogYC5hYm91dC01IC5idG4tbmV4dGAsXG5cdFx0fSxcblx0XHRsb29wOiB0cnVlLFxuXHRcdG9uOiB7XG5cdFx0XHRpbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGhhbmRsZVBEMTVWaXNpYmxlU2xpZGUodGhpcyk7XG5cblx0XHRcdH0sXG5cdFx0XHRzbGlkZUNoYW5nZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRoYW5kbGVQRDE1VmlzaWJsZVNsaWRlKHRoaXMpO1xuXG5cdFx0XHR9LFxuXHRcdH0sXG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGhhbmRsZVBEMTVWaXNpYmxlU2xpZGUoc3dpcGVyKSB7XG5cblx0XHRjb25zdCBzbGlkZUJlZm9yZVByZXYgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleCAtIDFdO1xuXHRcdGNvbnN0IHNsaWRlQmVmb3JlUHJldjIgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleCAtIDJdO1xuXHRcdGNvbnN0IHNsaWRlQWZ0ZXJOZXh0ID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXggKyAxXTtcblx0XHRjb25zdCBzbGlkZUFmdGVyTmV4dDIgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleCArIDJdO1xuXHRcdGNvbnN0IGFsbFNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG5cdFx0YWxsU2xpZGVzLmZvckVhY2goKHNsaWRlKSA9PiB7XG5cdFx0XHRzbGlkZS5jbGFzc0xpc3QucmVtb3ZlKFxuXHRcdFx0XHRcInByZXZpb3VzLXNsaWRlXCIsXG5cdFx0XHRcdFwibmV4dC1zbGlkZVwiLFxuXHRcdFx0XHRcImJlZm9yZS1wcmV2aW91cy1zbGlkZVwiLFxuXHRcdFx0XHRcImFmdGVyLW5leHQtc2xpZGVcIlxuXHRcdFx0KTtcblx0XHR9KTtcblx0XHRpZiAoc2xpZGVCZWZvcmVQcmV2KSB7XG5cdFx0XHRzbGlkZUJlZm9yZVByZXYuY2xhc3NMaXN0LmFkZChcInByZXZpb3VzLXNsaWRlXCIpO1xuXHRcdH1cblx0XHRpZiAoc2xpZGVBZnRlck5leHQpIHtcblx0XHRcdHNsaWRlQWZ0ZXJOZXh0LmNsYXNzTGlzdC5hZGQoXCJuZXh0LXNsaWRlXCIpO1xuXHRcdH1cblx0XHRpZiAoc2xpZGVCZWZvcmVQcmV2Mikge1xuXHRcdFx0c2xpZGVCZWZvcmVQcmV2Mi5jbGFzc0xpc3QuYWRkKFwiYmVmb3JlLXByZXZpb3VzLXNsaWRlXCIpO1xuXHRcdH1cblx0XHRpZiAoc2xpZGVBZnRlck5leHQyKSB7XG5cdFx0XHRzbGlkZUFmdGVyTmV4dDIuY2xhc3NMaXN0LmFkZChcImFmdGVyLW5leHQtc2xpZGVcIik7XG5cdFx0fVxuXHR9XG5cblxuXHQvLyBmdW5jdGlvbiBzZXRDb250ZW50V2lkdGgoc3dpcGVyKSB7XG5cdC8vIFx0aWYgKCFzd2lwZXIuYWN0aXZlSW5kZXgpIHtcblx0Ly8gXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzZXRDb250ZW50V2lkdGgoc3dpcGVyKSk7XG5cdC8vIFx0XHRyZXR1cm47XG5cdC8vIFx0fVxuXHQvLyBcdGNvbnN0IGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG5cdC8vIFx0Y29uc3QgYWN0aXZlU2xpZGUgPSBzd2lwZXIuc2xpZGVzW2luZGV4XTtcblx0Ly8gXHRjb25zdCBpbWFnZSA9IGFjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3IoXCIuaW1nXCIpO1xuXHQvLyBcdGlmICghaW1hZ2UpIHJldHVybjtcblx0Ly8gXHRjb25zdCB7IHRyYW5zZm9ybSB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaW1hZ2UpO1xuXHQvLyBcdGNvbnN0IGRhdGFTY2FsZSA9IHRyYW5zZm9ybS5zcGxpdChcIihcIilbMV0uc3BsaXQoXCIpXCIpWzBdLnNwbGl0KFwiLFwiKVswXTtcblx0Ly8gXHRjb25zdCBpc051bWJlciA9ICFpc05hTihkYXRhU2NhbGUpO1xuXHQvLyBcdGlmICghaXNOdW1iZXIpIHJldHVybjtcblx0Ly8gXHRpbWFnZS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCAoZXZlbnQpID0+IHtcblx0Ly8gXHRcdGNvbnN0IHNjYWxlV2lkdGggPSBNYXRoLnJvdW5kKGltYWdlLm9mZnNldFdpZHRoICogZGF0YVNjYWxlKTtcblx0Ly8gXHRcdGNvbnN0IGJpZ1dyYXBwZXIgPSAkKHN3aXBlci5lbCkuY2xvc2VzdChcIi5iaWctd3JhcHBlclwiKTtcblx0Ly8gXHRcdGJpZ1dyYXBwZXIuZmluZChcIj4uY29udGVudFwiKS5jc3MoXCJ3aWR0aFwiLCBgJHtzY2FsZVdpZHRofXB4YCk7XG5cdC8vIFx0fSk7XG5cdC8vIFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNldENvbnRlbnRXaWR0aChzd2lwZXIpKTtcblx0Ly8gfVxuXHQvLyBzZXRDb250ZW50V2lkdGgoYWJvdXRfNSk7XG5cblxufVxuZnVuY3Rpb24gc3dpcGVyQmFubmVyKCkge1xuXHRjb25zdCBzd2lwZXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG9tZS0xIC5zd2lwZXJcIik7XG5cdGlmICghc3dpcGVyRWwpIHJldHVybjtcblxuXHRjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKHN3aXBlckVsLCB7XG5cdFx0bW9kdWxlczogW1BhZ2luYXRpb24sIE5hdmlnYXRpb24sIEVmZmVjdEZhZGUsIEF1dG9wbGF5XSxcblx0XHRsb29wOiB0cnVlLFxuXHRcdGVmZmVjdDogXCJmYWRlXCIsXG5cdFx0YXV0b3BsYXk6IHtcblx0XHRcdGRlbGF5OiAzNTAwLFxuXHRcdFx0ZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuXHRcdH0sXG5cdFx0c2xpZGVzUGVyVmlldzogMSxcblx0XHRzcGVlZDogNzAwLFxuXHRcdHBhZ2luYXRpb246IHsgZWw6IFwiLmhvbWUtMSAuc3dpcGVyLXBhZ2luYXRpb25cIiwgY2xpY2thYmxlOiB0cnVlIH0sXG5cdFx0bmF2aWdhdGlvbjogeyBuZXh0RWw6IFwiLmhvbWUtMSAuYnRuLW5leHRcIiwgcHJldkVsOiBcIi5ob21lLTEgLmJ0bi1wcmV2XCIgfSxcblx0fSk7XG5cblx0ZnVuY3Rpb24gaGFuZGxlVmlkZW8oc2xpZGUpIHtcblx0XHRpZiAoIXNsaWRlKSByZXR1cm4gZmFsc2U7XG5cdFx0Y29uc3QgdmlkZW8gPSBzbGlkZS5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG5cdFx0aWYgKCF2aWRlbykgcmV0dXJuIGZhbHNlO1xuXG5cdFx0c3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcblxuXHRcdGlmICh2aWRlby5yZWFkeVN0YXRlIDwgMikge1xuXHRcdFx0dmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsICgpID0+IHZpZGVvLnBsYXkoKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZpZGVvLnBsYXkoKTtcblx0XHR9XG5cblx0XHR2aWRlby5vbmVuZGVkID0gKCkgPT4gc3dpcGVyLnNsaWRlTmV4dCgpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0c3dpcGVyLm9uKFwic2xpZGVDaGFuZ2VUcmFuc2l0aW9uRW5kXCIsICgpID0+IHtcblx0XHRzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgdiA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKTtcblx0XHRcdGlmICh2ICYmIGluZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcblx0XHRcdFx0di5wYXVzZSgpO1xuXHRcdFx0XHR2LmN1cnJlbnRUaW1lID0gMDtcblx0XHRcdFx0di5vbmVuZGVkID0gbnVsbDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbnN0IGN1cnJlbnRTbGlkZSA9IHN3aXBlci5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XTtcblx0XHRjb25zdCBpc1ZpZGVvID0gaGFuZGxlVmlkZW8oY3VycmVudFNsaWRlKTtcblx0XHRpZiAoIWlzVmlkZW8pIHN3aXBlci5hdXRvcGxheS5zdGFydCgpO1xuXHR9KTtcblxuXHRpZiAoc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdKSB7XG5cdFx0aGFuZGxlVmlkZW8oc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdKTtcblx0fVxufVxuXG5cblxuLy8gUHJvZHVjdCBEZXRhaWxcbmZ1bmN0aW9uIHN3aXBlclByb2R1Y3REZXRhaWwoKSB7XG5cdGNvbnN0IHN3aXBlclRodW1iID0gbmV3IFN3aXBlcihcIi5wcm9kdWN0LWRldGFpbC0xIC50aHVtYiAuc3dpcGVyXCIsIHtcblx0XHRtb2R1bGVzOiBbTW91c2V3aGVlbF0sXG5cdFx0c3BlZWQ6IDcwMCxcblx0XHRvYnNlcnZlcjogdHJ1ZSxcblx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcblx0XHRzbGlkZVRvQ2xpY2tlZFNsaWRlOiB0cnVlLFxuXHRcdHJld2luZDogdHJ1ZSxcblx0XHRhbGxvd1RvdWNoTW92ZTogZmFsc2UsXG5cdFx0ZGlyZWN0aW9uOiBcInZlcnRpY2FsXCIsXG5cdFx0c2xpZGVzUGVyVmlldzogNCxcblx0XHRzcGFjZUJldHdlZW46IDEyLFxuXHRcdGJyZWFrcG9pbnRzOiB7XG5cdFx0XHQ1NzY6IHtcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogNCxcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAxMixcblx0XHRcdH0sXG5cdFx0XHQ3Njg6IHtcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogNCxcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAxMixcblx0XHRcdH0sXG5cdFx0XHQxMDI0OiB7XG5cdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG5cdFx0XHRcdHNwYWNlQmV0d2VlbjogOCxcblx0XHRcdH0sXG5cblx0XHRcdDE5MjA6IHtcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogNCxcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAyMCxcblx0XHRcdH0sXG5cdFx0fSxcblx0fSk7XG5cblx0Y29uc3Qgc3dpcGVyRGV0YWlsID0gbmV3IFN3aXBlcihcIi5wcm9kdWN0LWRldGFpbC0xIC5tYWluIC5zd2lwZXJcIiwge1xuXHRcdG1vZHVsZXM6IFtUaHVtYnMsIE5hdmlnYXRpb24sIEF1dG9wbGF5XSxcblx0XHRzcGFjZUJldHdlZW46IDEyLFxuXHRcdHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuXHRcdHJld2luZDogdHJ1ZSxcblx0XHR0aHVtYnM6IHtcblx0XHRcdHN3aXBlcjogc3dpcGVyVGh1bWIsXG5cdFx0fSxcblx0XHRhdXRvcGxheToge1xuXHRcdFx0ZGVsYXk6IDQ1MDAsXG5cdFx0XHRkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG5cdFx0fSxcblx0XHRzcGVlZDogNzAwLFxuXHRcdG9ic2VydmVyOiB0cnVlLFxuXHRcdG9ic2VydmVQYXJlbnRzOiB0cnVlLFxuXHRcdG5hdmlnYXRpb246IHtcblx0XHRcdHByZXZFbDogXCIucHJvZHVjdC1kZXRhaWwtMSAuYnRuLXByZXZcIixcblx0XHRcdG5leHRFbDogXCIucHJvZHVjdC1kZXRhaWwtMSAuYnRuLW5leHRcIixcblx0XHR9LFxuXHR9KTtcblxuXHQvLyBHXHUwMEUxbiByYSB3aW5kb3cgXHUwMTExXHUxRUMzIHNcdTFFRUQgZFx1MUVFNW5nIGJcdTAwRUFuIG5nb1x1MDBFMGlcblx0d2luZG93LnByb2R1Y3REZXRhaWxTd2lwZXIgPSB7XG5cdFx0c3dpcGVyVGh1bWIsXG5cdFx0c3dpcGVyRGV0YWlsLFxuXHR9O1xufVxuXG4vLyBSZWxhdGVkIFZpZGVvcyBTd2lwZXIgKFBvcHVwKVxuZnVuY3Rpb24gc3dpcGVyUmVsYXRlZFZpZGVvcygpIHtcblx0Y29uc3Qgc3dpcGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlbGF0ZWQtdmlkZW9zIC5zd2lwZXJcIik7XG5cdGlmICghc3dpcGVyRWwpIHJldHVybjtcblxuXHRuZXcgU3dpcGVyKHN3aXBlckVsLCB7XG5cdFx0bW9kdWxlczogW05hdmlnYXRpb25dLFxuXHRcdHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuXHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0c3BlZWQ6IDYwMCxcblx0XHRuYXZpZ2F0aW9uOiB7XG5cdFx0XHRuZXh0RWw6IFwiLnJlbGF0ZWQtdmlkZW9zIC5zd2lwZXItYnV0dG9uLW5leHRcIixcblx0XHRcdHByZXZFbDogXCIucmVsYXRlZC12aWRlb3MgLnN3aXBlci1idXR0b24tcHJldlwiLFxuXHRcdH0sXG5cdFx0YnJlYWtwb2ludHM6IHtcblx0XHRcdDMyMDoge1xuXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAxMCxcblx0XHRcdH0sXG5cdFx0XHQ3Njg6IHtcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG5cdFx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0XHR9LFxuXHRcdH0sXG5cdH0pO1xufVxuXG4vLyBGaWVsZCBPcGVyYXRpb24gU3dpcGVyIC0gU3VzdGFpbmFiaWxpdHkgU2VjdGlvblxuZnVuY3Rpb24gc3dpcGVyRmllbGRPcCgpIHtcblx0Y29uc3QgYmFja2dyb3VuZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWZpZWxkLW9wLWltZycpO1xuXHRjb25zdCBzd2lwZXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1vcCAuc3dpcGVyJyk7XG5cblx0aWYgKCFiYWNrZ3JvdW5kQ29udGFpbmVyIHx8ICFzd2lwZXJFbCkgcmV0dXJuO1xuXG5cdC8vIEZ1bmN0aW9uIHRvIHNldCBiYWNrZ3JvdW5kXG5cdGNvbnN0IHNldEJhY2tncm91bmQgPSAoYmFja2dyb3VuZCkgPT4ge1xuXHRcdGlmIChiYWNrZ3JvdW5kKSB7XG5cdFx0XHRiYWNrZ3JvdW5kQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnc2V0QmFja2dyb3VuZCcsIGJhY2tncm91bmQpO1xuXHRcdFx0YmFja2dyb3VuZENvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwoJHtiYWNrZ3JvdW5kfSlgLCAnaW1wb3J0YW50Jyk7XG5cdFx0XHRiYWNrZ3JvdW5kQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXNpemUnLCAnY292ZXInLCAnaW1wb3J0YW50Jyk7XG5cdFx0XHRiYWNrZ3JvdW5kQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgJ2NlbnRlciBjZW50ZXInLCAnaW1wb3J0YW50Jyk7XG5cdFx0XHRiYWNrZ3JvdW5kQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLXJlcGVhdCcsICduby1yZXBlYXQnLCAnaW1wb3J0YW50Jyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEdldCBhbGwgZmllbGQtb3AtaXRlbXMgZm9yIGZhbGxiYWNrXG5cdGNvbnN0IGFsbEZpZWxkT3BJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWVsZC1vcC1pdGVtJyk7XG5cdGNvbnNvbGUubG9nKCdUb3RhbCBmaWVsZC1vcC1pdGVtcyBmb3VuZDonLCBhbGxGaWVsZE9wSXRlbXMubGVuZ3RoKTtcblxuXHQvLyBJbml0aWFsaXplIFN3aXBlciB3aXRoIHJlc3BvbnNpdmUgYnJlYWtwb2ludHNcblx0Y29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcihzd2lwZXJFbCwge1xuXHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uLCBNb3VzZXdoZWVsXSxcblx0XHRzcGVlZDogNjAwLFxuXHRcdG9ic2VydmVyOiB0cnVlLFxuXHRcdG9ic2VydmVQYXJlbnRzOiB0cnVlLFxuXHRcdHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcblx0XHRzcGFjZUJldHdlZW46IDAsXG5cdFx0ZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG5cdFx0bW91c2V3aGVlbDoge1xuXHRcdFx0Zm9yY2VUb0F4aXM6IHRydWUsXG5cdFx0fSxcblx0XHRicmVha3BvaW50czoge1xuXHRcdFx0Ly8gTW9iaWxlOiBcdTIyNjQ3NjdweCAtIDEgc2xpZGUgZnVsbCB3aWR0aFxuXHRcdFx0MzIwOiB7XG5cdFx0XHRcdHNsaWRlc1BlclZpZXc6IDEsXG5cdFx0XHRcdHNwYWNlQmV0d2VlbjogMCxcblx0XHRcdH0sXG5cdFx0XHQvLyBUYWJsZXQ6IDc2OHB4IC0gMTE5OXB4IC0gYXV0byB3aWR0aFxuXHRcdFx0NzY4OiB7XG5cdFx0XHRcdHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAwLFxuXHRcdFx0fSxcblx0XHRcdC8vIERlc2t0b3A6IFx1MjI2NTEyMDBweCAtIGF1dG8gd2lkdGhcblx0XHRcdDEyMDA6IHtcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuXHRcdFx0XHRzcGFjZUJldHdlZW46IDAsXG5cdFx0XHR9LFxuXHRcdH0sXG5cdFx0bmF2aWdhdGlvbjoge1xuXHRcdFx0bmV4dEVsOiAnLmZpZWxkLW9wIC5idG4tbmV4dCcsXG5cdFx0XHRwcmV2RWw6ICcuZmllbGQtb3AgLmJ0bi1wcmV2Jyxcblx0XHR9LFxuXHRcdHBhZ2luYXRpb246IHtcblx0XHRcdGVsOiAnLmZpZWxkLW9wIC5zd2lwZXItcGFnaW5hdGlvbicsXG5cdFx0XHRjbGlja2FibGU6IHRydWUsXG5cdFx0XHR0eXBlOiAnYnVsbGV0cycsXG5cdFx0fSxcblx0XHRvbjoge1xuXHRcdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnU3dpcGVyIGluaXRpYWxpemVkLCB0b3RhbCBzbGlkZXM6JywgdGhpcy5zbGlkZXMubGVuZ3RoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ0FjdGl2ZSBzbGlkZSBpbmRleDonLCB0aGlzLmFjdGl2ZUluZGV4KTtcblxuXHRcdFx0XHQvLyBTZXQgaW5pdGlhbCBiYWNrZ3JvdW5kXG5cdFx0XHRcdGNvbnN0IGFjdGl2ZVNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5hY3RpdmVJbmRleF07XG5cdFx0XHRcdGxldCBhY3RpdmVJdGVtID0gbnVsbDtcblx0XHRcdFx0bGV0IGJhY2tncm91bmQgPSBudWxsO1xuXG5cdFx0XHRcdGlmIChhY3RpdmVTbGlkZSkge1xuXHRcdFx0XHRcdGFjdGl2ZUl0ZW0gPSBhY3RpdmVTbGlkZS5xdWVyeVNlbGVjdG9yKCcuZmllbGQtb3AtaXRlbScpO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdBY3RpdmUgaXRlbSBmb3VuZCBpbiBzbGlkZTonLCAhIWFjdGl2ZUl0ZW0pO1xuXG5cdFx0XHRcdFx0aWYgKGFjdGl2ZUl0ZW0pIHtcblx0XHRcdFx0XHRcdGJhY2tncm91bmQgPSBhY3RpdmVJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kJyk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnSW5pdGlhbCBiYWNrZ3JvdW5kIGZyb20gc2xpZGU6JywgYmFja2dyb3VuZCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignXHUyNkEwXHVGRTBGIE5vIC5maWVsZC1vcC1pdGVtIGluIGluaXRpYWwgc2xpZGUsIHVzaW5nIGZhbGxiYWNrJyk7XG5cdFx0XHRcdFx0XHQvLyBGYWxsYmFjazogVXNlIGZpcnN0IGl0ZW1cblx0XHRcdFx0XHRcdGlmIChhbGxGaWVsZE9wSXRlbXNbdGhpcy5hY3RpdmVJbmRleF0pIHtcblx0XHRcdFx0XHRcdFx0YWN0aXZlSXRlbSA9IGFsbEZpZWxkT3BJdGVtc1t0aGlzLmFjdGl2ZUluZGV4XTtcblx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZCA9IGFjdGl2ZUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQnKTtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0luaXRpYWwgYmFja2dyb3VuZCBmcm9tIGZhbGxiYWNrOicsIGJhY2tncm91bmQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChiYWNrZ3JvdW5kKSB7XG5cdFx0XHRcdFx0XHRzZXRCYWNrZ3JvdW5kKGJhY2tncm91bmQpO1xuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGFjdGl2ZSBjbGFzc1xuXHRcdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpZWxkLW9wLWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRpZiAoYWN0aXZlSXRlbSkge1xuXHRcdFx0XHRcdFx0XHRhY3RpdmVJdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ1x1Mjc0QyBObyBiYWNrZ3JvdW5kIGZvdW5kIGZvciBpbml0aWFsIHNsaWRlJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0c2xpZGVDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ1NsaWRlIGNoYW5nZSB0cmlnZ2VyZWQsIG5ldyBpbmRleDonLCB0aGlzLmFjdGl2ZUluZGV4KTtcblx0XHRcdFx0Y29uc3QgYWN0aXZlU2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XTtcblx0XHRcdFx0bGV0IGFjdGl2ZUl0ZW0gPSBudWxsO1xuXHRcdFx0XHRsZXQgYmFja2dyb3VuZCA9IG51bGw7XG5cblx0XHRcdFx0aWYgKGFjdGl2ZVNsaWRlKSB7XG5cdFx0XHRcdFx0Ly8gVHJ5IHRvIGZpbmQgLmZpZWxkLW9wLWl0ZW0gaW4gdGhlIHNsaWRlXG5cdFx0XHRcdFx0YWN0aXZlSXRlbSA9IGFjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1vcC1pdGVtJyk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0FjdGl2ZSBpdGVtIGluIHNsaWRlOicsICEhYWN0aXZlSXRlbSk7XG5cblx0XHRcdFx0XHRpZiAoYWN0aXZlSXRlbSkge1xuXHRcdFx0XHRcdFx0YmFja2dyb3VuZCA9IGFjdGl2ZUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQnKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdCYWNrZ3JvdW5kIGZyb20gc2xpZGU6JywgYmFja2dyb3VuZCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignXHUyNkEwXHVGRTBGIE5vIC5maWVsZC1vcC1pdGVtIGZvdW5kIGluIHNsaWRlLCB1c2luZyBmYWxsYmFjaycpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ1NsaWRlIEhUTUw6JywgYWN0aXZlU2xpZGUuaW5uZXJIVE1MLnN1YnN0cmluZygwLCAyMDApKTtcblxuXHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2s6IFVzZSBpbmRleCB0byBnZXQgZnJvbSBhbGwgaXRlbXNcblx0XHRcdFx0XHRcdGlmIChhbGxGaWVsZE9wSXRlbXNbdGhpcy5hY3RpdmVJbmRleF0pIHtcblx0XHRcdFx0XHRcdFx0YWN0aXZlSXRlbSA9IGFsbEZpZWxkT3BJdGVtc1t0aGlzLmFjdGl2ZUluZGV4XTtcblx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZCA9IGFjdGl2ZUl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQnKTtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0JhY2tncm91bmQgZnJvbSBmYWxsYmFjayAoaW5kZXggJyArIHRoaXMuYWN0aXZlSW5kZXggKyAnKTonLCBiYWNrZ3JvdW5kKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYmFja2dyb3VuZCkge1xuXHRcdFx0XHRcdFx0c2V0QmFja2dyb3VuZChiYWNrZ3JvdW5kKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdcdTI3MDUgQmFja2dyb3VuZCBjaGFuZ2VkIHRvOicsIGJhY2tncm91bmQpO1xuXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgYWN0aXZlIGNsYXNzXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmllbGQtb3AtaXRlbScpLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGlmIChhY3RpdmVJdGVtKSB7XG5cdFx0XHRcdFx0XHRcdGFjdGl2ZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1x1Mjc0QyBObyBiYWNrZ3JvdW5kIGZvdW5kIGZvciBzbGlkZSBpbmRleDonLCB0aGlzLmFjdGl2ZUluZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzbGlkZUNoYW5nZVRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ1NsaWRlIHRyYW5zaXRpb24gZW5kZWQgYXQgaW5kZXg6JywgdGhpcy5hY3RpdmVJbmRleCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBIYW5kbGUgY2xpY2sgb24gc2xpZGVzIChmb3IgYWxsIGRldmljZXMpXG5cdHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGVFbCwgaW5kZXgpID0+IHtcblx0XHRjb25zdCBzbGlkZUl0ZW0gPSBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1vcC1pdGVtJyk7XG5cdFx0aWYgKHNsaWRlSXRlbSkge1xuXHRcdFx0c2xpZGVJdGVtLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblx0XHRcdHNsaWRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0c3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEZvciBkZXNrdG9wOiBhZGQgaG92ZXIgZWZmZWN0IHRvIGNoYW5nZSBiYWNrZ3JvdW5kXG5cdFx0XHRpZiAod2luZG93LmlubmVyV2lkdGggPj0gMTIwMCkge1xuXHRcdFx0XHRzbGlkZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBiYWNrZ3JvdW5kID0gc2xpZGVJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kJyk7XG5cdFx0XHRcdFx0aWYgKGJhY2tncm91bmQpIHtcblx0XHRcdFx0XHRcdHNldEJhY2tncm91bmQoYmFja2dyb3VuZCk7XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgYWN0aXZlIGNsYXNzXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmllbGQtb3AtaXRlbScpLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHNsaWRlSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbi8vIGZ1bmN0aW9uIHN3aXBlckdyaWQoKSB7XG4vLyBcdGNvbnN0IHN3aXBlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTcgLnN3aXBlclwiKTtcblxuLy8gXHRpZiAoIXN3aXBlckVsKSByZXR1cm47XG5cbi8vIFx0Y29uc3QgbmV4dEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTcgLnN3aXBlci1idXR0b24tbmV4dFwiKTtcbi8vIFx0Y29uc3QgcHJldkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTcgLnN3aXBlci1idXR0b24tcHJldlwiKTtcbi8vIFx0Y29uc3Qgc2Nyb2xsYmFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWUtNyAuc3dpcGVyLXNjcm9sbGJhclwiKTtcblxuLy8gXHRuZXcgU3dpcGVyKHN3aXBlckVsLCB7XG4vLyBcdFx0bW9kdWxlczogW0F1dG9wbGF5LCBOYXZpZ2F0aW9uLCBHcmlkLCBTY3JvbGxiYXJdLFxuLy8gXHRcdHNsaWRlc1BlclZpZXc6IDIsXG4vLyBcdFx0c3BhY2VCZXR3ZWVuOiAwLFxuLy8gXHRcdHJld2luZDogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlcjogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcblxuLy8gXHRcdGdyaWQ6IHtcbi8vIFx0XHRcdGZpbGw6IFwicm93XCIsXG4vLyBcdFx0XHRyb3dzOiAxLFxuLy8gXHRcdH0sXG5cbi8vIFx0XHRuYXZpZ2F0aW9uOiB7XG4vLyBcdFx0XHRuZXh0RWwsXG4vLyBcdFx0XHRwcmV2RWwsXG4vLyBcdFx0fSxcblxuLy8gXHRcdHNjcm9sbGJhcjoge1xuLy8gXHRcdFx0ZWw6IHNjcm9sbGJhckVsLFxuLy8gXHRcdFx0ZHJhZ2dhYmxlOiB0cnVlLFxuLy8gXHRcdH0sXG5cbi8vIFx0XHRicmVha3BvaW50czoge1xuLy8gXHRcdFx0NzY4OiB7IHNsaWRlc1BlclZpZXc6IDMsIHNwYWNlQmV0d2VlbjogMCwgZ3JpZDogeyByb3dzOiAxIH0gfSxcbi8vIFx0XHRcdDEyMDA6IHsgc2xpZGVzUGVyVmlldzogMywgc3BhY2VCZXR3ZWVuOiAwIH0sXG4vLyBcdFx0XHQxOTIwOiB7XG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMCxcbi8vIFx0XHRcdFx0Z3JpZDoge1xuLy8gXHRcdFx0XHRcdGZpbGw6IFwicm93XCIsXG4vLyBcdFx0XHRcdFx0cm93czogMixcbi8vIFx0XHRcdFx0fSxcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcblxuLy8gXHRcdG9uOiB7XG4vLyBcdFx0XHRyZXNpemUoc3cpIHtcbi8vIFx0XHRcdFx0c3cudXBkYXRlKCk7XG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0YnJlYWtwb2ludChzdykge1xuLy8gXHRcdFx0XHRzdy51cGRhdGUoKTtcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcbi8vIFx0fSk7XG4vLyB9XG5cbi8vIEluZGljYXRvciBzbGlkZVxuXG4vLyBmdW5jdGlvbiBzd2lwZXJWYWx1ZSgpIHtcbi8vIFx0Y29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcihcIi5ob21lLTMgLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW0F1dG9wbGF5LCBTY3JvbGxiYXJdLFxuLy8gXHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0c2xpZGVzUGVyVmlldzogMixcbi8vIFx0XHRmcmVlTW9kZTogdHJ1ZSxcbi8vIFx0XHR3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuLy8gXHRcdGxvb3A6IHRydWUsXG4vLyBcdFx0Z3JhYkN1cnNvcjogdHJ1ZSxcbi8vIFx0XHRzY3JvbGxiYXI6IHtcbi8vIFx0XHRcdGVsOiBcIi5zd2lwZXItc2Nyb2xsYmFyXCIsXG4vLyBcdFx0XHRoaWRlOiBmYWxzZSxcbi8vIFx0XHRcdGRyYWdnYWJsZTogdHJ1ZSxcbi8vIFx0XHR9LFxuLy8gXHRcdGJyZWFrcG9pbnRzOiB7XG4vLyBcdFx0XHQ3Njg6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogMyxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAyNCxcbi8vIFx0XHRcdH0sXG4vLyBcdFx0XHQxMDI0OiB7XG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0XHR9LFxuLy8gXHRcdH0sXG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBzd2lwZVBhcnRuZXJUb3AoKSB7XG4vLyBcdGNvbnN0IHN3aXBlclBhcnRuZXIgPSBuZXcgU3dpcGVyKFwiLnNlY3Rpb25uLXBhcnRlciAuc2xpZGUtdG9wIC5zd2lwZXJcIiwge1xuLy8gXHRcdG1vZHVsZXM6IFtBdXRvcGxheV0sXG4vLyBcdFx0bG9vcDogdHJ1ZSxcbi8vIFx0XHRzbGlkZXNQZXJWaWV3OiAzLFxuLy8gXHRcdHNwYWNlQmV0d2VlbjogMTIsXG5cbi8vIFx0XHRicmVha3BvaW50czoge1xuLy8gXHRcdFx0NzY4OiB7XG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0MTAyNDoge1xuLy8gXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA0LFxuLy8gXHRcdFx0XHRzcGFjZUJldHdlZW46IDIwLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHRcdDE5MjA6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogNyxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAyMCxcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcbi8vIFx0XHRzcGVlZDogMjAwMCxcbi8vIFx0XHRhdXRvcGxheToge1xuLy8gXHRcdFx0ZGVsYXk6IDAuNSxcbi8vIFx0XHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbi8vIFx0XHRcdHJldmVyc2VEaXJlY3Rpb246IGZhbHNlLCAvLyBcdTIxOTAgY2hcdTFFQTF5IHRcdTFFRUIgcGhcdTFFQTNpIHNhbmcgdHJcdTAwRTFpXG4vLyBcdFx0fSxcbi8vIFx0XHRmcmVlTW9kZTogdHJ1ZSxcbi8vIFx0fSk7XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIHN3aXBlUGFydG5lckJvdHRvbSgpIHtcbi8vIFx0Y29uc3Qgc3dpcGVyUGFydG5lciA9IG5ldyBTd2lwZXIoXCIuc2VjdGlvbm4tcGFydGVyIC5zbGlkZS1ib3R0b20gLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW0F1dG9wbGF5XSxcbi8vIFx0XHRsb29wOiB0cnVlLFxuLy8gXHRcdHNsaWRlc1BlclZpZXc6IDMsXG4vLyBcdFx0c3BhY2VCZXR3ZWVuOiAxMixcblxuLy8gXHRcdGJyZWFrcG9pbnRzOiB7XG4vLyBcdFx0XHQ3Njg6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogMyxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAxMixcbi8vIFx0XHRcdH0sXG4vLyBcdFx0XHQxMDI0OiB7XG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0MTkyMDoge1xuLy8gXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA3LFxuLy8gXHRcdFx0XHRzcGFjZUJldHdlZW46IDIwLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHR9LFxuLy8gXHRcdHNwZWVkOiAyMDAwLFxuLy8gXHRcdGF1dG9wbGF5OiB7XG4vLyBcdFx0XHRkZWxheTogMC41LFxuLy8gXHRcdFx0ZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuLy8gXHRcdFx0cmV2ZXJzZURpcmVjdGlvbjogdHJ1ZSwgLy8gXHUyMTkwIGNoXHUxRUExeSB0XHUxRUVCIHBoXHUxRUEzaSBzYW5nIHRyXHUwMEUxaVxuLy8gXHRcdH0sXG4vLyBcdFx0ZnJlZU1vZGU6IHRydWUsXG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBzd2lwZXJIaXN0b3J5KCkge1xuLy8gXHRjb25zdCBBVVRPX1BMQVlfREVMQVkgPSAzNTAwO1xuXG4vLyBcdC8vIC8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgc2xpZGUgbnVtYmVyc1xuLy8gXHQvLyBjb25zdCB1cGRhdGVTbGlkZU51bWJlcnMgPSAoc3dpcGVyKSA9PiB7XG4vLyBcdC8vIFx0Ly8gR2V0IHRvdGFsIHNsaWRlcyBleGNsdWRpbmcgZHVwbGljYXRlcyAoZm9yIGxvb3AgbW9kZSlcbi8vIFx0Ly8gXHRjb25zdCB0b3RhbFNsaWRlcyA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKFxuLy8gXHQvLyBcdFx0KHNsaWRlKSA9PiAhc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZVwiKVxuLy8gXHQvLyBcdCkubGVuZ3RoO1xuXG4vLyBcdC8vIFx0Ly8gVXBkYXRlIGVhY2ggc2xpZGUgd2l0aCBpdHMgbnVtYmVyXG4vLyBcdC8vIFx0c3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcbi8vIFx0Ly8gXHRcdC8vIFNraXAgZHVwbGljYXRlIHNsaWRlc1xuLy8gXHQvLyBcdFx0aWYgKHNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhcInN3aXBlci1zbGlkZS1kdXBsaWNhdGVcIikpIHJldHVybjtcblxuLy8gXHQvLyBcdFx0Y29uc3QgbnVtYmVyRWwgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKFwiLm51bWJlclwiKTtcbi8vIFx0Ly8gXHRcdGlmIChudW1iZXJFbCkge1xuLy8gXHQvLyBcdFx0XHQvLyBDYWxjdWxhdGUgYWN0dWFsIHNsaWRlIG51bWJlciAoYWNjb3VudGluZyBmb3IgbG9vcCBtb2RlKVxuLy8gXHQvLyBcdFx0XHRjb25zdCBzbGlkZU51bWJlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IGluZGV4IC0gc3dpcGVyLmxvb3BlZFNsaWRlcyArIDEgOiBpbmRleCArIDE7XG5cbi8vIFx0Ly8gXHRcdFx0bnVtYmVyRWwudGV4dENvbnRlbnQgPSBgJHtTdHJpbmcoc2xpZGVOdW1iZXIpLnBhZFN0YXJ0KDIsIFwiMFwiKX0vJHtTdHJpbmcoXG4vLyBcdC8vIFx0XHRcdFx0dG90YWxTbGlkZXNcbi8vIFx0Ly8gXHRcdFx0KS5wYWRTdGFydCgyLCBcIjBcIil9YDtcbi8vIFx0Ly8gXHRcdH1cbi8vIFx0Ly8gXHR9KTtcbi8vIFx0Ly8gfTtcblxuLy8gXHQvLyBTd2lwZXIgY2hvIHRodW1ibmFpbFxuLy8gXHRjb25zdCB0aHVtYlN3aXBlciA9IG5ldyBTd2lwZXIoXCIuYWJvdXQtNCAudGh1bWIgLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW05hdmlnYXRpb24sIE1vdXNld2hlZWxdLFxuLy8gXHRcdHNwZWVkOiAxMDAwLFxuLy8gXHRcdGFsbG93VG91Y2hNb3ZlOiBmYWxzZSwgLy8gQ2hvIHBoXHUwMEU5cCBkaSBjaHV5XHUxRUMzbiBiXHUxRUIxbmcgY1x1MUVBM20gXHUxRUU5bmdcbi8vIFx0XHRvYnNlcnZlcjogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcbi8vIFx0XHRpbml0aWFsU2xpZGU6IDIsXG4vLyBcdFx0Y2VudGVyZWRTbGlkZXM6IHRydWUsXG4vLyBcdFx0c2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4vLyBcdFx0c2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZSxcbi8vIFx0XHRyZXdpbmQ6IHRydWUsXG5cbi8vIFx0XHRvbjoge1xuLy8gXHRcdFx0aW5pdDogZnVuY3Rpb24gKHN3aXBlcikge1xuLy8gXHRcdFx0XHRoYW5kbGVWaXNpYmxlU2xpZGUoc3dpcGVyKTtcbi8vIFx0XHRcdFx0Ly8gdXBkYXRlU2xpZGVOdW1iZXJzKHN3aXBlcik7XG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0c2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIChzd2lwZXIpIHtcbi8vIFx0XHRcdFx0aGFuZGxlVmlzaWJsZVNsaWRlKHN3aXBlcik7XG4vLyBcdFx0XHR9LFxuLy8gXHRcdH0sXG4vLyBcdH0pO1xuXG4vLyBcdC8vIFN3aXBlciBjaFx1MDBFRG5oIGNobyBwaFx1MUVBN24gY2hpIHRpXHUxRUJGdFxuLy8gXHRjb25zdCBtYWluU3dpcGVyID0gbmV3IFN3aXBlcihcIi5hYm91dC00IC5tYWluIC5zd2lwZXJcIiwge1xuLy8gXHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBUaHVtYnMsIEF1dG9wbGF5XSxcbi8vIFx0XHRzbGlkZXNQZXJWaWV3OiAxLFxuLy8gXHRcdHJld2luZDogdHJ1ZSxcbi8vIFx0XHRzcGVlZDogMTAwMCxcbi8vIFx0XHRvYnNlcnZlcjogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcbi8vIFx0XHRhdXRvSGVpZ2h0OiB0cnVlLFxuLy8gXHRcdGluaXRpYWxTbGlkZTogMiwgLy8gXHUwMTEwXHUxRUQzbmcgYlx1MUVEOSB2XHUxRURCaSB0aHVtYlN3aXBlciBcdTAxMTFcdTFFQzMgc2xpZGUgYWN0aXZlIFx1MUVERiBnaVx1MUVFRmFcbi8vIFx0XHRuYXZpZ2F0aW9uOiB7XG4vLyBcdFx0XHRuZXh0RWw6IFwiLmFib3V0LTQgLmJ0bi1uZXh0XCIsXG4vLyBcdFx0XHRwcmV2RWw6IFwiLmFib3V0LTQgLmJ0bi1wcmV2XCIsXG4vLyBcdFx0fSxcbi8vIFx0XHR0aHVtYnM6IHtcbi8vIFx0XHRcdHN3aXBlcjogdGh1bWJTd2lwZXIsXG4vLyBcdFx0fSxcbi8vIFx0XHRsb29wOiB0cnVlLCAvLyBRdWF5IGxcdTFFQTFpIHNsaWRlIFx1MDExMVx1MUVBN3Uga2hpIFx1MDExMVx1MUVCRm4gc2xpZGUgY3VcdTFFRDFpXG4vLyBcdFx0b246IHtcbi8vIFx0XHRcdGluaXQ6IGZ1bmN0aW9uIChzd2lwZXIpIHtcbi8vIFx0XHRcdFx0aGFuZGxlVmlzaWJsZVNsaWRlKHN3aXBlcik7IC8vIEdcdTFFQ0RpIGhcdTAwRTBtIGtoaSBTd2lwZXIgY2hcdTAwRURuaCBcdTAxMTFcdTAxQjBcdTFFRTNjIGtoXHUxRURGaSB0XHUxRUExb1xuLy8gXHRcdFx0XHQvLyBcdTAxMTBcdTFFQTNtIGJcdTFFQTNvIHRodW1iU3dpcGVyIGNcdTAxNjluZyB1cGRhdGUgXHUwMTExXHUwMEZBbmdcbi8vIFx0XHRcdFx0aWYgKHRodW1iU3dpcGVyKSB7XG4vLyBcdFx0XHRcdFx0dGh1bWJTd2lwZXIuc2xpZGVUbygxLCAwKTtcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSxcbi8vIFx0XHRcdHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiAoc3dpcGVyKSB7XG4vLyBcdFx0XHRcdGhhbmRsZVZpc2libGVTbGlkZShzd2lwZXIpOyAvLyBHXHUxRUNEaSBoXHUwMEUwbSBraGkgc2xpZGUgY2hcdTAwRURuaCB0aGF5IFx1MDExMVx1MUVENWlcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcbi8vIFx0fSk7XG5cbi8vIFx0Ly8gSGFuZGxlIGF1dG9wbGF5IChpZiBuZWVkZWQpXG4vLyBcdGhhbmRsZUF1dG9wbGF5KEFVVE9fUExBWV9ERUxBWSwgbWFpblN3aXBlcik7XG5cbi8vIFx0Ly8gSGFuZGxlIHRoZSB2aXNpYmxlIHNsaWRlIGVmZmVjdFxuLy8gXHRmdW5jdGlvbiBoYW5kbGVWaXNpYmxlU2xpZGUoc3dpcGVyKSB7XG4vLyBcdFx0Y29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4vLyBcdFx0Y29uc3QgYWxsU2xpZGVzID0gc3dpcGVyLnNsaWRlcztcblxuLy8gXHRcdC8vIENsZWFyIGV4aXN0aW5nIFwic2hvdy1zbGlkZVwiIGNsYXNzZXNcbi8vIFx0XHRhbGxTbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcbi8vIFx0XHRcdHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LXNsaWRlXCIpO1xuLy8gXHRcdH0pO1xuXG4vLyBcdFx0Ly8gR2V0IHRoZSBzdXJyb3VuZGluZyBzbGlkZXNcbi8vIFx0XHRjb25zdCBzbGlkZUJlZm9yZVByZXYgPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4IC0gMV07XG4vLyBcdFx0Y29uc3Qgc2xpZGVCZWZvcmVQcmV2MiA9IHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXggLSAyXTtcbi8vIFx0XHRjb25zdCBzbGlkZUJlZm9yZVByZXYzID0gc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleCAtIDNdO1xuLy8gXHRcdGNvbnN0IHNsaWRlQWZ0ZXJOZXh0ID0gc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleCArIDFdO1xuLy8gXHRcdGNvbnN0IHNsaWRlQWZ0ZXJOZXh0MiA9IHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXggKyAyXTtcbi8vIFx0XHRjb25zdCBzbGlkZUFmdGVyTmV4dDMgPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4ICsgM107XG4vLyBcdFx0Y29uc3QgYWN0aXZlU2xpZGUgPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XTtcblxuLy8gXHRcdC8vIEFkZCB0aGUgXCJzaG93LXNsaWRlXCIgY2xhc3MgdG8gc3Vycm91bmRpbmcgYW5kIGFjdGl2ZSBzbGlkZXNcbi8vIFx0XHRpZiAoc2xpZGVCZWZvcmVQcmV2KSBzbGlkZUJlZm9yZVByZXYuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQmVmb3JlUHJldjIpIHNsaWRlQmVmb3JlUHJldjIuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQmVmb3JlUHJldjMpIHNsaWRlQmVmb3JlUHJldjMuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQWZ0ZXJOZXh0KSBzbGlkZUFmdGVyTmV4dC5jbGFzc0xpc3QuYWRkKFwic2hvdy1zbGlkZVwiKTtcbi8vIFx0XHRpZiAoc2xpZGVBZnRlck5leHQyKSBzbGlkZUFmdGVyTmV4dDIuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQWZ0ZXJOZXh0Mykgc2xpZGVBZnRlck5leHQzLmNsYXNzTGlzdC5hZGQoXCJzaG93LXNsaWRlXCIpO1xuLy8gXHRcdGlmIChhY3RpdmVTbGlkZSkgYWN0aXZlU2xpZGUuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdH1cbi8vIH1cblxuLy8gZnVuY3Rpb24gaGFuZGxlQXV0b3BsYXkodGltZW91dCwgc3dpcGVyLCBwcmV2ZW50TW91c2VFbnRlciA9IGZhbHNlLCB0aHVtYlN3aXBlciA9IG51bGwpIHtcbi8vIFx0aWYgKCFzd2lwZXIgfHwgIXN3aXBlci5lbCB8fCAhJChzd2lwZXIuZWwpLmxlbmd0aCkgcmV0dXJuO1xuXG4vLyBcdGxldCBzdG9wU2xpZGVJbW1lZGlhdGUgPSAkKHN3aXBlci5lbFswXSkucGFyZW50KCkuaGFzQ2xhc3MoXCJhdXRvLWRldGVjdC12aWRlb1wiKTtcbi8vIFx0aWYgKHN0b3BTbGlkZUltbWVkaWF0ZSkgcmV0dXJuO1xuXG4vLyBcdC8vIENvbmZpZ3VyZSBhdXRvcGxheVxuLy8gXHRzd2lwZXIucGFyYW1zLmF1dG9wbGF5ID0ge1xuLy8gXHRcdGRlbGF5OiB0aW1lb3V0LFxuLy8gXHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiAhcHJldmVudE1vdXNlRW50ZXIsXG4vLyBcdFx0cGF1c2VPbk1vdXNlRW50ZXI6ICFwcmV2ZW50TW91c2VFbnRlcixcbi8vIFx0fTtcblxuLy8gXHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcblxuLy8gXHRjb25zdCBuYXZpZ2F0aW9uRWwgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4vLyBcdGlmIChuYXZpZ2F0aW9uRWwpIHtcbi8vIFx0XHRsZXQgaXNSZWFjaEVuZCA9IGZhbHNlO1xuLy8gXHRcdGxldCBpc1JlYWNoU3RhcnQgPSBmYWxzZTtcblxuLy8gXHRcdHN3aXBlci5vbihcImJlZm9yZVNsaWRlQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24gKCkge1xuLy8gXHRcdFx0aXNSZWFjaEVuZCA9IHN3aXBlci5pc0VuZDtcbi8vIFx0XHRcdGlzUmVhY2hTdGFydCA9IHN3aXBlci5pc0JlZ2lubmluZztcbi8vIFx0XHR9KTtcblxuLy8gXHRcdCQobmF2aWdhdGlvbkVsLnByZXZFbCkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4vLyBcdFx0XHRpZiAoaXNSZWFjaFN0YXJ0KSByZXR1cm47XG5cbi8vIFx0XHRcdHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4vLyBcdFx0XHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcbi8vIFx0XHRcdCQoc3dpcGVyLmVsKS5hdHRyKFwiZGF0YS1hdXRvLXBsYXlcIiwgXCJzdG9wXCIpO1xuLy8gXHRcdH0pO1xuXG4vLyBcdFx0JChuYXZpZ2F0aW9uRWwubmV4dEVsKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbi8vIFx0XHRcdGlmIChpc1JlYWNoRW5kKSByZXR1cm47XG5cbi8vIFx0XHRcdHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4vLyBcdFx0XHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcbi8vIFx0XHRcdCQoc3dpcGVyLmVsKS5hdHRyKFwiZGF0YS1hdXRvLXBsYXlcIiwgXCJzdG9wXCIpO1xuLy8gXHRcdH0pO1xuLy8gXHR9XG5cbi8vIFx0aWYgKHRodW1iU3dpcGVyKSB7XG4vLyBcdFx0dGh1bWJTd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuLy8gXHRcdFx0c3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbi8vIFx0XHRcdCQoc3dpcGVyLmVsKS5hdHRyKFwiZGF0YS1hdXRvLXBsYXlcIiwgXCJzdG9wXCIpO1xuLy8gXHRcdH0pO1xuXG4vLyBcdFx0fSk7XG4vLyBcdH1cbi8vIH1cblxuZnVuY3Rpb24gc3dpcGVyV29yaygpIHtcblx0Y29uc3Qgd29ya0NhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndvcmstY2FyZCcpO1xuXHRpZiAoIXdvcmtDYXJkcy5sZW5ndGgpIHJldHVybjtcblxuXHR3b3JrQ2FyZHMuZm9yRWFjaCgoY2FyZCwgaW5kZXgpID0+IHtcblx0XHRjb25zdCBzd2lwZXJFbCA9IGNhcmQucXVlcnlTZWxlY3RvcignLnN3aXBlcicpO1xuXHRcdGlmICghc3dpcGVyRWwpIHJldHVybjtcblx0XHRcblx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoYHdvcmstY2FyZC0ke2luZGV4fWApO1xuXHRcdFxuXHRcdGNvbnN0IG5leHRFbCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmJ0bi1uZXh0Jyk7XG5cdFx0Y29uc3QgcHJldkVsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLXByZXYnKTtcblxuXHRcdGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoc3dpcGVyRWwsIHtcblx0XHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uLCBFZmZlY3RGYWRlLCBBdXRvcGxheV0sXG5cdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0ZWZmZWN0OiAnZmFkZScsXG5cdFx0XHRmYWRlRWZmZWN0OiB7IGNyb3NzRmFkZTogdHJ1ZSB9LFxuXHRcdFx0YXV0b3BsYXk6IHtcblx0XHRcdFx0ZGVsYXk6IDM1MDAsXG5cdFx0XHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAxLFxuXHRcdFx0c3BlZWQ6IDcwMCxcblx0XHRcdG5hdmlnYXRpb246IHtcblx0XHRcdFx0bmV4dEVsOiBuZXh0RWwsXG5cdFx0XHRcdHByZXZFbDogcHJldkVsLFxuXHRcdFx0fSxcblx0XHRcdG9uOiB7XG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIEhhbmRsZSBpbml0aWFsIHNsaWRlXG5cdFx0XHRcdFx0Ly8gV2UgbmVlZCB0byB3YWl0IGZvciBET00gdG8gYmUgcmVhZHkgc29tZXRpbWVzXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zbGlkZXMgJiYgdGhpcy5zbGlkZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBjdXJyZW50U2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XTtcblx0XHRcdFx0XHRcdFx0aGFuZGxlVmlkZW8oY3VycmVudFNsaWRlLCB0aGlzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCAxMDApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzbGlkZUNoYW5nZVRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIFBhdXNlIGFsbCB2aWRlb3MgZmlyc3Rcblx0XHRcdFx0XHRpZiAodGhpcy5zbGlkZXMpIHtcblx0XHRcdFx0XHRcdHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHYgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG5cdFx0XHRcdFx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdFx0XHRcdFx0di5wYXVzZSgpOyAvLyBQYXVzZVxuXHRcdFx0XHRcdFx0XHRcdHYuY3VycmVudFRpbWUgPSAwOyAvLyBSZXNldFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRTbGlkZSA9IHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlSW5kZXhdO1xuXHRcdFx0XHRcdFx0aGFuZGxlVmlkZW8oY3VycmVudFNsaWRlLCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIGhhbmRsZVZpZGVvKHNsaWRlLCBzd2lwZXJJbnN0YW5jZSkge1xuXHRcdFx0aWYgKCFzbGlkZSkgcmV0dXJuO1xuXHRcdFx0Y29uc3QgdmlkZW8gPSBzbGlkZS5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG5cdFx0XHRcblx0XHRcdGlmICh2aWRlbykge1xuXHRcdFx0XHRzd2lwZXJJbnN0YW5jZS5hdXRvcGxheS5zdG9wKCk7XG5cdFx0XHRcdHZpZGVvLm11dGVkID0gdHJ1ZTsgLy8gQWx3YXlzIG11dGVkIGZvciBhdXRvcGxheVxuXHRcdFx0XHR2aWRlby5wbGF5KCkuY2F0Y2goZSA9PiBjb25zb2xlLmxvZyhcIlZpZGVvIHBsYXkgZXJyb3I6XCIsIGUpKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFdoZW4gdmlkZW8gZW5kcywgZ28gdG8gbmV4dCBzbGlkZVxuXHRcdFx0XHR2aWRlby5vbmVuZGVkID0gKCkgPT4ge1xuXHRcdFx0XHRcdHN3aXBlckluc3RhbmNlLnNsaWRlTmV4dCgpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSWYgaW1hZ2UsIGp1c3Qgc3RhcnQgYXV0b3BsYXlcblx0XHRcdFx0aWYgKHN3aXBlckluc3RhbmNlLmF1dG9wbGF5ICYmICFzd2lwZXJJbnN0YW5jZS5hdXRvcGxheS5ydW5uaW5nKSB7XG5cdFx0XHRcdFx0c3dpcGVySW5zdGFuY2UuYXV0b3BsYXkuc3RhcnQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIHN3aXBlclJlbGF0ZWRQb3N0cygpIHtcblx0Y29uc3Qgc3dpcGVyUmVsYXRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItcmVsYXRlZC1wb3N0cyAuc3dpcGVyJyk7XG5cdGlmICghc3dpcGVyUmVsYXRlZCkgcmV0dXJuO1xuXG5cdG5ldyBTd2lwZXIoc3dpcGVyUmVsYXRlZCwge1xuXHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uLCBBdXRvcGxheV0sXG5cdFx0c2xpZGVzUGVyVmlldzogMSxcblx0XHRzcGFjZUJldHdlZW46IDIwLFxuXHRcdHNwZWVkOiAxMDAwLFxuXHRcdGxvb3A6IHRydWUsXG5cdFx0YXV0b3BsYXk6IHtcblx0XHRcdGRlbGF5OiA0MDAwLFxuXHRcdFx0ZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuXHRcdH0sXG5cdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0ZWw6ICcuc3dpcGVyLXJlbGF0ZWQtcG9zdHMgLnN3aXBlci1wYWdpbmF0aW9uJyxcblx0XHRcdGNsaWNrYWJsZTogdHJ1ZSxcblx0XHR9LFxuXHRcdGJyZWFrcG9pbnRzOiB7XG5cdFx0XHQ2NDA6IHtcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogMixcblx0XHRcdH0sXG5cdFx0XHQxMDI0OiB7XG5cdFx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG5cdFx0XHRcdHNwYWNlQmV0d2VlbjogMzAsXG5cdFx0XHR9LFxuXHRcdH0sXG5cdH0pO1xufVxuIiwgIi8qKlxuICogYW5pbWUuanMgLSBFU01cbiAqIEB2ZXJzaW9uIHY0LjAuMVxuICogQGF1dGhvciBKdWxpYW4gR2FybmllclxuICogQGxpY2Vuc2UgTUlUXG4gKiBAY29weXJpZ2h0IChjKSAyMDI1IEp1bGlhbiBHYXJuaWVyXG4gKiBAc2VlIGh0dHBzOi8vYW5pbWVqcy5jb21cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmF1bHRzUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcnxzdHJpbmd9IFtpZF1cbiAqIEBwcm9wZXJ0eSB7UGVyY2VudGFnZUtleWZyYW1lc3xEdXJhdGlvbktleWZyYW1lc30gW2tleWZyYW1lc11cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nUGFyYW19IFtwbGF5YmFja0Vhc2VdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BsYXliYWNrUmF0ZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZnJhbWVSYXRlXVxuICogQHByb3BlcnR5IHtudW1iZXJ8Ym9vbGVhbn0gW2xvb3BdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZXZlcnNlZF1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsdGVybmF0ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxTY3JvbGxPYnNlcnZlcn0gW2F1dG9wbGF5XVxuICogQHByb3BlcnR5IHtudW1iZXJ8RnVuY3Rpb25WYWx1ZX0gW2R1cmF0aW9uXVxuICogQHByb3BlcnR5IHtudW1iZXJ8RnVuY3Rpb25WYWx1ZX0gW2RlbGF5XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsb29wRGVsYXldXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqIEBwcm9wZXJ0eSB7J25vbmUnfCdyZXBsYWNlJ3wnYmxlbmQnfGNvbXBvc2l0aW9uVHlwZXN9IFtjb21wb3NpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7KHY6IGFueSkgPT4gYW55fSBbbW9kaWZpZXJdXG4gKiBAcHJvcGVydHkgeyh0aWNrYWJsZTogVGlja2FibGUpID0+IHZvaWR9IFtvbkJlZ2luXVxuICogQHByb3BlcnR5IHsodGlja2FibGU6IFRpY2thYmxlKSA9PiB2b2lkfSBbb25CZWZvcmVVcGRhdGVdXG4gKiBAcHJvcGVydHkgeyh0aWNrYWJsZTogVGlja2FibGUpID0+IHZvaWR9IFtvblVwZGF0ZV1cbiAqIEBwcm9wZXJ0eSB7KHRpY2thYmxlOiBUaWNrYWJsZSkgPT4gdm9pZH0gW29uTG9vcF1cbiAqIEBwcm9wZXJ0eSB7KHRpY2thYmxlOiBUaWNrYWJsZSkgPT4gdm9pZH0gW29uUGF1c2VdXG4gKiBAcHJvcGVydHkgeyh0aWNrYWJsZTogVGlja2FibGUpID0+IHZvaWR9IFtvbkNvbXBsZXRlXVxuICogQHByb3BlcnR5IHsocmVuZGVyYWJsZTogUmVuZGVyYWJsZSkgPT4gdm9pZH0gW29uUmVuZGVyXVxuICovXG5cbi8qKiBAdHlwZWRlZiB7SlNBbmltYXRpb258VGltZWxpbmV9IFJlbmRlcmFibGUgKi9cbi8qKiBAdHlwZWRlZiB7VGltZXJ8UmVuZGVyYWJsZX0gVGlja2FibGUgKi9cbi8qKiBAdHlwZWRlZiB7VGltZXImSlNBbmltYXRpb24mVGltZWxpbmV9IENhbGxiYWNrQXJndW1lbnQgKi9cbi8qKiBAdHlwZWRlZiB7QW5pbWF0YWJsZXxUaWNrYWJsZXxEcmFnZ2FibGV8U2Nyb2xsT2JzZXJ2ZXJ8U2NvcGV9IFJldmVydGlibGUgKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgRWFzaW5nRnVuY3Rpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KCdsaW5lYXInfCdsaW5lYXIoeDEsIHgyIDI1JSwgeDMpJ3wnaW4nfCdvdXQnfCdpbk91dCd8J2luUXVhZCd8J291dFF1YWQnfCdpbk91dFF1YWQnfCdpbkN1YmljJ3wnb3V0Q3ViaWMnfCdpbk91dEN1YmljJ3wnaW5RdWFydCd8J291dFF1YXJ0J3wnaW5PdXRRdWFydCd8J2luUXVpbnQnfCdvdXRRdWludCd8J2luT3V0UXVpbnQnfCdpblNpbmUnfCdvdXRTaW5lJ3wnaW5PdXRTaW5lJ3wnaW5DaXJjJ3wnb3V0Q2lyYyd8J2luT3V0Q2lyYyd8J2luRXhwbyd8J291dEV4cG8nfCdpbk91dEV4cG8nfCdpbkJvdW5jZSd8J291dEJvdW5jZSd8J2luT3V0Qm91bmNlJ3wnaW5CYWNrJ3wnb3V0QmFjayd8J2luT3V0QmFjayd8J2luRWxhc3RpYyd8J291dEVsYXN0aWMnfCdpbk91dEVsYXN0aWMnfCdpcnJlZ3VsYXInfCdjdWJpY0Jlemllcid8J3N0ZXBzJ3wnaW4ocCA9IDEuNjc1KSd8J291dChwID0gMS42NzUpJ3wnaW5PdXQocCA9IDEuNjc1KSd8J2luQmFjayhvdmVyc2hvb3QgPSAxLjcwMTU4KSd8J291dEJhY2sob3ZlcnNob290ID0gMS43MDE1OCknfCdpbk91dEJhY2sob3ZlcnNob290ID0gMS43MDE1OCknfCdpbkVsYXN0aWMoYW1wbGl0dWRlID0gMSwgcGVyaW9kID0gLjMpJ3wnb3V0RWxhc3RpYyhhbXBsaXR1ZGUgPSAxLCBwZXJpb2QgPSAuMyknfCdpbk91dEVsYXN0aWMoYW1wbGl0dWRlID0gMSwgcGVyaW9kID0gLjMpJ3wnaXJyZWd1bGFyKGxlbmd0aCA9IDEwLCByYW5kb21uZXNzID0gMSknfCdjdWJpY0Jlemllcih4MSwgeTEsIHgyLCB5MiknfCdzdGVwcyhzdGVwcyA9IDEwKScpfSBFYXNlU3RyaW5nUGFyYW1OYW1lc1xuICovXG5cbi8vIEEgaGFjayB0byBnZXQgYm90aCBlYXNlIG5hbWVzIHN1Z2dlc3Rpb25zIEFORCBhbGxvdyBhbnkgc3RyaW5nc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yOTcyOSNpc3N1ZWNvbW1lbnQtNDYwMzQ2NDIxXG4vKiogQHR5cGVkZWYgeyhTdHJpbmcgJiB7fSl8RWFzZVN0cmluZ1BhcmFtTmFtZXN8RWFzaW5nRnVuY3Rpb258U3ByaW5nfSBFYXNpbmdQYXJhbSAqL1xuXG4vKiogQHR5cGVkZWYge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR9IERPTVRhcmdldCAqL1xuLyoqIEB0eXBlZGVmIHtSZWNvcmQ8U3RyaW5nLCBhbnk+fSBKU1RhcmdldCAqL1xuLyoqIEB0eXBlZGVmIHtET01UYXJnZXR8SlNUYXJnZXR9IFRhcmdldCAqL1xuLyoqIEB0eXBlZGVmIHtUYXJnZXR8Tm9kZUxpc3R8U3RyaW5nfSBUYXJnZXRTZWxlY3RvciAqL1xuLyoqIEB0eXBlZGVmIHtET01UYXJnZXR8Tm9kZUxpc3R8U3RyaW5nfSBET01UYXJnZXRTZWxlY3RvciAqL1xuLyoqIEB0eXBlZGVmIHtBcnJheS48RE9NVGFyZ2V0U2VsZWN0b3I+fERPTVRhcmdldFNlbGVjdG9yfSBET01UYXJnZXRzUGFyYW0gKi9cbi8qKiBAdHlwZWRlZiB7QXJyYXkuPERPTVRhcmdldD59IERPTVRhcmdldHNBcnJheSAqL1xuLyoqIEB0eXBlZGVmIHtBcnJheS48SlNUYXJnZXQ+fEpTVGFyZ2V0fSBKU1RhcmdldHNQYXJhbSAqL1xuLyoqIEB0eXBlZGVmIHtBcnJheS48SlNUYXJnZXQ+fSBKU1RhcmdldHNBcnJheSAqL1xuLyoqIEB0eXBlZGVmIHtBcnJheS48VGFyZ2V0U2VsZWN0b3I+fFRhcmdldFNlbGVjdG9yfSBUYXJnZXRzUGFyYW0gKi9cbi8qKiBAdHlwZWRlZiB7QXJyYXkuPFRhcmdldD59IFRhcmdldHNBcnJheSAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBGdW5jdGlvblZhbHVlXG4gKiBAcGFyYW0ge1RhcmdldH0gdGFyZ2V0IC0gVGhlIGFuaW1hdGVkIHRhcmdldFxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gVGhlIHRhcmdldCBpbmRleFxuICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIFRoZSB0b3RhbCBudW1iZXIgb2YgYW5pbWF0ZWQgdGFyZ2V0c1xuICogQHJldHVybiB7TnVtYmVyfFN0cmluZ3xUd2Vlbk9iamVjdFZhbHVlfEFycmF5LjxOdW1iZXJ8U3RyaW5nfFR3ZWVuT2JqZWN0VmFsdWU+fVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFR3ZWVuTW9kaWZpZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSAtIFRoZSBhbmltYXRlZCB2YWx1ZVxuICogQHJldHVybiB7TnVtYmVyfFN0cmluZ31cbiAqL1xuXG4vKiogQHR5cGVkZWYge1tOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXJdfSBDb2xvckFycmF5ICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBjYWxsYmFjayBDYWxsYmFja1xuICogQHBhcmFtIHtUfSBzZWxmIC0gUmV0dXJucyBpdHNlbGZcbiAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBbZV1cbiAqIEByZXR1cm4geyp9XG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge29iamVjdH0gVFxuICogQHR5cGVkZWYge09iamVjdH0gVGlja2FibGVDYWxsYmFja3NcbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvbkJlZ2luXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxUPn0gW29uQmVmb3JlVXBkYXRlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxUPn0gW29uVXBkYXRlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxUPn0gW29uTG9vcF1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvblBhdXNlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxUPn0gW29uQ29tcGxldGVdXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge29iamVjdH0gVFxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZUNhbGxiYWNrc1xuICogQHByb3BlcnR5IHtDYWxsYmFjazxUPn0gW29uUmVuZGVyXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVHdlZW5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBpZFxuICogQHByb3BlcnR5IHtKU0FuaW1hdGlvbn0gcGFyZW50XG4gKiBAcHJvcGVydHkge1N0cmluZ30gcHJvcGVydHlcbiAqIEBwcm9wZXJ0eSB7VGFyZ2V0fSB0YXJnZXRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfE51bWJlcn0gX3ZhbHVlXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufG51bGx9IF9mdW5jXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBfZWFzZVxuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gX2Zyb21OdW1iZXJzXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSBfdG9OdW1iZXJzXG4gKiBAcHJvcGVydHkge0FycmF5LjxTdHJpbmc+fSBfc3RyaW5nc1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9mcm9tTnVtYmVyXG4gKiBAcHJvcGVydHkge051bWJlcn0gX3RvTnVtYmVyXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSBfbnVtYmVyc1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9udW1iZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBfdW5pdFxuICogQHByb3BlcnR5IHtUd2Vlbk1vZGlmaWVyfSBfbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfY3VycmVudFRpbWVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfZGVsYXlcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfdXBkYXRlRHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfc3RhcnRUaW1lXG4gKiBAcHJvcGVydHkge051bWJlcn0gX2NoYW5nZUR1cmF0aW9uXG4gKiBAcHJvcGVydHkge051bWJlcn0gX2Fic29sdXRlU3RhcnRUaW1lXG4gKiBAcHJvcGVydHkge3R3ZWVuVHlwZXN9IF90d2VlblR5cGVcbiAqIEBwcm9wZXJ0eSB7dmFsdWVUeXBlc30gX3ZhbHVlVHlwZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9jb21wb3NpdGlvblxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9pc092ZXJsYXBwZWRcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfaXNPdmVycmlkZGVuXG4gKiBAcHJvcGVydHkge051bWJlcn0gX3JlbmRlclRyYW5zZm9ybXNcbiAqIEBwcm9wZXJ0eSB7VHdlZW59IF9wcmV2UmVwXG4gKiBAcHJvcGVydHkge1R3ZWVufSBfbmV4dFJlcFxuICogQHByb3BlcnR5IHtUd2Vlbn0gX3ByZXZBZGRcbiAqIEBwcm9wZXJ0eSB7VHdlZW59IF9uZXh0QWRkXG4gKiBAcHJvcGVydHkge1R3ZWVufSBfcHJldlxuICogQHByb3BlcnR5IHtUd2Vlbn0gX25leHRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIFR3ZWVuRGVjb21wb3NlZFZhbHVlXG4gKiBAcHJvcGVydHkge051bWJlcn0gdCAtIFR5cGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBuIC0gU2luZ2xlIG51bWJlciB2YWx1ZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IHUgLSBWYWx1ZSB1bml0XG4gKiBAcHJvcGVydHkge1N0cmluZ30gbyAtIFZhbHVlIG9wZXJhdG9yXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSBkIC0gQXJyYXkgb2YgTnVtYmVycyAoaW4gY2FzZSBvZiBjb21wbGV4IHZhbHVlIHR5cGUpXG4gKiBAcHJvcGVydHkge0FycmF5LjxTdHJpbmc+fSBzIC0gU3RyaW5ncyAoaW4gY2FzZSBvZiBjb21wbGV4IHZhbHVlIHR5cGUpXG4gKi9cblxuLyoqIEB0eXBlZGVmIHt7X2hlYWQ6IG51bGx8VHdlZW4sIF90YWlsOiBudWxsfFR3ZWVufX0gVHdlZW5Qcm9wZXJ0eVNpYmxpbmdzICovXG4vKiogQHR5cGVkZWYge1JlY29yZDxTdHJpbmcsIFR3ZWVuUHJvcGVydHlTaWJsaW5ncz59IFR3ZWVuTG9va3VwcyAqL1xuLyoqIEB0eXBlZGVmIHtXZWFrTWFwLjxUYXJnZXQsIFR3ZWVuTG9va3Vwcz59IFR3ZWVuUmVwbGFjZUxvb2t1cHMgKi9cbi8qKiBAdHlwZWRlZiB7TWFwLjxUYXJnZXQsIFR3ZWVuTG9va3Vwcz59IFR3ZWVuQWRkaXRpdmVMb29rdXBzICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVGltZXJPcHRpb25zXG4gKiBAcHJvcGVydHkge051bWJlcnxTdHJpbmd9IFtpZF1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5QYXJhbVZhbHVlfSBbZHVyYXRpb25dXG4gKiBAcHJvcGVydHkge1R3ZWVuUGFyYW1WYWx1ZX0gW2RlbGF5XVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtsb29wRGVsYXldXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtyZXZlcnNlZF1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2FsdGVybmF0ZV1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxOdW1iZXJ9IFtsb29wXVxuICogQHByb3BlcnR5IHtCb29sZWFufFNjcm9sbE9ic2VydmVyfSBbYXV0b3BsYXldXG4gKiBAcHJvcGVydHkge051bWJlcn0gW2ZyYW1lUmF0ZV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcGxheWJhY2tSYXRlXVxuICovXG5cbi8qKlxuXG4vKipcbiAqIEB0eXBlZGVmIHtUaW1lck9wdGlvbnMgJiBUaWNrYWJsZUNhbGxiYWNrczxUaW1lcj59IFRpbWVyUGFyYW1zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7TnVtYmVyfFN0cmluZ3xGdW5jdGlvblZhbHVlfSBUd2VlblBhcmFtVmFsdWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtUd2VlblBhcmFtVmFsdWV8W1R3ZWVuUGFyYW1WYWx1ZSwgVHdlZW5QYXJhbVZhbHVlXX0gVHdlZW5Qcm9wVmFsdWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoU3RyaW5nICYge30pfCdub25lJ3wncmVwbGFjZSd8J2JsZW5kJ3xjb21wb3NpdGlvblR5cGVzfSBUd2VlbkNvbXBvc2l0aW9uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUd2VlblBhcmFtc09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7VHdlZW5QYXJhbVZhbHVlfSBbZHVyYXRpb25dXG4gKiBAcHJvcGVydHkge1R3ZWVuUGFyYW1WYWx1ZX0gW2RlbGF5XVxuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gKiBAcHJvcGVydHkge1R3ZWVuTW9kaWZpZXJ9IFttb2RpZmllcl1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5Db21wb3NpdGlvbn0gW2NvbXBvc2l0aW9uXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVHdlZW5WYWx1ZXNcbiAqIEBwcm9wZXJ0eSB7VHdlZW5QYXJhbVZhbHVlfSBbZnJvbV1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5Qcm9wVmFsdWV9IFt0b11cbiAqIEBwcm9wZXJ0eSB7VHdlZW5Qcm9wVmFsdWV9IFtmcm9tVG9dXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7VHdlZW5QYXJhbXNPcHRpb25zICYgVHdlZW5WYWx1ZXN9IFR3ZWVuS2V5VmFsdWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtBcnJheS48VHdlZW5LZXlWYWx1ZXxUd2VlblByb3BWYWx1ZT59IEFycmF5U3ludGF4VmFsdWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtUd2VlblBhcmFtVmFsdWV8QXJyYXlTeW50YXhWYWx1ZXxUd2VlbktleVZhbHVlfSBUd2Vlbk9wdGlvbnNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtQYXJ0aWFsPHt0bzogVHdlZW5QYXJhbVZhbHVlfEFycmF5LjxUd2VlblBhcmFtVmFsdWU+OyBmcm9tOiBUd2VlblBhcmFtVmFsdWV8QXJyYXkuPFR3ZWVuUGFyYW1WYWx1ZT47IGZyb21UbzogVHdlZW5QYXJhbVZhbHVlfEFycmF5LjxUd2VlblBhcmFtVmFsdWU+O30+fSBUd2Vlbk9iamVjdFZhbHVlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZXJjZW50YWdlS2V5ZnJhbWVPcHRpb25zXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZWNvcmQ8U3RyaW5nLCBUd2VlblBhcmFtVmFsdWU+fSBQZXJjZW50YWdlS2V5ZnJhbWVQYXJhbXNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZWNvcmQ8U3RyaW5nLCBQZXJjZW50YWdlS2V5ZnJhbWVQYXJhbXMgJiBQZXJjZW50YWdlS2V5ZnJhbWVPcHRpb25zPn0gUGVyY2VudGFnZUtleWZyYW1lc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0FycmF5PFJlY29yZDxTdHJpbmcsIFR3ZWVuT3B0aW9ucyB8IFR3ZWVuTW9kaWZpZXIgfCBib29sZWFuPiAmIFR3ZWVuUGFyYW1zT3B0aW9ucz59IER1cmF0aW9uS2V5ZnJhbWVzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge1BlcmNlbnRhZ2VLZXlmcmFtZXN8RHVyYXRpb25LZXlmcmFtZXN9IFtrZXlmcmFtZXNdXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbcGxheWJhY2tFYXNlXVxuICovXG5cbi8vIFRPRE86IEN1cnJlbnRseSBzZXR0aW5nIFR3ZWVuTW9kaWZpZXIgdG8gdGhlIGludGVyc2VjdGVkIFJlY29yZDw+IG1ha2VzIHRoZSBGdW5jdGlvblZhbHVlIHR5cGUgdGFyZ2V0IHBhcmFtIGFueSBpZiBvbmx5IG9uZSBwYXJhbWV0ZXIgaXMgc2V0XG4vKipcbiAqIEB0eXBlZGVmIHtSZWNvcmQ8U3RyaW5nLCBUd2Vlbk9wdGlvbnMgfCBDYWxsYmFjazxKU0FuaW1hdGlvbj4gfCBUd2Vlbk1vZGlmaWVyIHwgYm9vbGVhbiB8IFBlcmNlbnRhZ2VLZXlmcmFtZXMgfCBEdXJhdGlvbktleWZyYW1lcyB8IFNjcm9sbE9ic2VydmVyPiAmIFRpbWVyT3B0aW9ucyAmIEFuaW1hdGlvbk9wdGlvbnMgJiBUd2VlblBhcmFtc09wdGlvbnMgJiBUaWNrYWJsZUNhbGxiYWNrczxKU0FuaW1hdGlvbj4gJiBSZW5kZXJhYmxlQ2FsbGJhY2tzPEpTQW5pbWF0aW9uPn0gQW5pbWF0aW9uUGFyYW1zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUaW1lbGluZU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7RGVmYXVsdHNQYXJhbXN9IFtkZWZhdWx0c11cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nUGFyYW19IFtwbGF5YmFja0Vhc2VdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7VGltZXJPcHRpb25zICYgVGltZWxpbmVPcHRpb25zICYgVGlja2FibGVDYWxsYmFja3M8VGltZWxpbmU+ICYgUmVuZGVyYWJsZUNhbGxiYWNrczxUaW1lbGluZT59IFRpbWVsaW5lUGFyYW1zXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgQW5pbWF0YWJsZVByb3BlcnR5U2V0dGVyXG4gKiBAcGFyYW0gIHtOdW1iZXJ8QXJyYXkuPE51bWJlcj59IHRvXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtkdXJhdGlvbl1cbiAqIEBwYXJhbSAge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqIEByZXR1cm4ge0FuaW1hdGFibGVPYmplY3R9XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgQW5pbWF0YWJsZVByb3BlcnR5R2V0dGVyXG4gKiBAcmV0dXJuIHtOdW1iZXJ8QXJyYXkuPE51bWJlcj59XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7QW5pbWF0YWJsZVByb3BlcnR5U2V0dGVyICYgQW5pbWF0YWJsZVByb3BlcnR5R2V0dGVyfSBBbmltYXRhYmxlUHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtBbmltYXRhYmxlICYgUmVjb3JkPFN0cmluZywgQW5pbWF0YWJsZVByb3BlcnR5Pn0gQW5pbWF0YWJsZU9iamVjdFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0YWJsZVByb3BlcnR5UGFyYW1zT3B0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFt1bml0XVxuICogQHByb3BlcnR5IHtUd2VlblBhcmFtVmFsdWV9IFtkdXJhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nUGFyYW19IFtlYXNlXVxuICogQHByb3BlcnR5IHtUd2Vlbk1vZGlmaWVyfSBbbW9kaWZpZXJdXG4gKiBAcHJvcGVydHkge1R3ZWVuQ29tcG9zaXRpb259IFtjb21wb3NpdGlvbl1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZWNvcmQ8U3RyaW5nLCBUd2VlblBhcmFtVmFsdWUgfCBFYXNpbmdQYXJhbSB8IFR3ZWVuTW9kaWZpZXIgfCBUd2VlbkNvbXBvc2l0aW9uIHwgQW5pbWF0YWJsZVByb3BlcnR5UGFyYW1zT3B0aW9ucz4gJiBBbmltYXRhYmxlUHJvcGVydHlQYXJhbXNPcHRpb25zfSBBbmltYXRhYmxlUGFyYW1zXG4gKi9cblxuXG4vLyBFbnZpcm9ubWVudHNcblxuLy8gVE9ETzogRG8gd2UgbmVlZCB0byBjaGVjayBpZiB3ZSdyZSBydW5uaW5nIGluc2lkZSBhIHdvcmtlciA/XG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLyoqIEB0eXBlIHtPYmplY3R8TnVsbH0gKi9cbmNvbnN0IHdpbiA9IGlzQnJvd3NlciA/IHdpbmRvdyA6IG51bGw7XG5cbi8qKiBAdHlwZSB7RG9jdW1lbnR9ICovXG5jb25zdCBkb2MgPSBpc0Jyb3dzZXIgPyBkb2N1bWVudCA6IG51bGw7XG5cbi8vIEVudW1zXG5cbi8qKiBAZW51bSB7TnVtYmVyfSAqL1xuY29uc3QgdHdlZW5UeXBlcyA9IHtcbiAgT0JKRUNUOiAwLFxuICBBVFRSSUJVVEU6IDEsXG4gIENTUzogMixcbiAgVFJBTlNGT1JNOiAzLFxuICBDU1NfVkFSOiA0LFxufTtcblxuLyoqIEBlbnVtIHtOdW1iZXJ9ICovXG5jb25zdCB2YWx1ZVR5cGVzID0ge1xuICBOVU1CRVI6IDAsXG4gIFVOSVQ6IDEsXG4gIENPTE9SOiAyLFxuICBDT01QTEVYOiAzLFxufTtcblxuLyoqIEBlbnVtIHtOdW1iZXJ9ICovXG5jb25zdCB0aWNrTW9kZXMgPSB7XG4gIE5PTkU6IDAsXG4gIEFVVE86IDEsXG4gIEZPUkNFOiAyLFxufTtcblxuLyoqIEBlbnVtIHtOdW1iZXJ9ICovXG5jb25zdCBjb21wb3NpdGlvblR5cGVzID0ge1xuICByZXBsYWNlOiAwLFxuICBub25lOiAxLFxuICBibGVuZDogMixcbn07XG5cbi8vIENhY2hlIHN5bWJvbHNcblxuY29uc3QgaXNSZWdpc3RlcmVkVGFyZ2V0U3ltYm9sID0gU3ltYm9sKCk7XG5jb25zdCBpc0RvbVN5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgaXNTdmdTeW1ib2wgPSBTeW1ib2woKTtcbmNvbnN0IHRyYW5zZm9ybXNTeW1ib2wgPSBTeW1ib2woKTtcbmNvbnN0IG1vcnBoUG9pbnRzU3ltYm9sID0gU3ltYm9sKCk7XG5jb25zdCBwcm94eVRhcmdldFN5bWJvbCA9IFN5bWJvbCgpO1xuXG4vLyBOdW1iZXJzXG5cbmNvbnN0IG1pblZhbHVlID0gMWUtMTE7XG5jb25zdCBtYXhWYWx1ZSA9IDFlMTI7XG5jb25zdCBLID0gMWUzO1xuY29uc3QgbWF4RnBzID0gMTIwO1xuXG4vLyBTdHJpbmdzXG5cbmNvbnN0IGVtcHR5U3RyaW5nID0gJyc7XG5jb25zdCBzaG9ydFRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG5cbnNob3J0VHJhbnNmb3Jtcy5zZXQoJ3gnLCAndHJhbnNsYXRlWCcpO1xuc2hvcnRUcmFuc2Zvcm1zLnNldCgneScsICd0cmFuc2xhdGVZJyk7XG5zaG9ydFRyYW5zZm9ybXMuc2V0KCd6JywgJ3RyYW5zbGF0ZVonKTtcblxuY29uc3QgdmFsaWRUcmFuc2Zvcm1zID0gW1xuICAndHJhbnNsYXRlWCcsXG4gICd0cmFuc2xhdGVZJyxcbiAgJ3RyYW5zbGF0ZVonLFxuICAncm90YXRlJyxcbiAgJ3JvdGF0ZVgnLFxuICAncm90YXRlWScsXG4gICdyb3RhdGVaJyxcbiAgJ3NjYWxlJyxcbiAgJ3NjYWxlWCcsXG4gICdzY2FsZVknLFxuICAnc2NhbGVaJyxcbiAgJ3NrZXcnLFxuICAnc2tld1gnLFxuICAnc2tld1knLFxuICAncGVyc3BlY3RpdmUnLFxuICAnbWF0cml4JyxcbiAgJ21hdHJpeDNkJyxcbl07XG5cbmNvbnN0IHRyYW5zZm9ybXNGcmFnbWVudFN0cmluZ3MgPSB2YWxpZFRyYW5zZm9ybXMucmVkdWNlKChhLCB2KSA9PiAoey4uLmEsIFt2XTogdiArICcoJ30pLCB7fSk7XG5cbi8vIEZ1bmN0aW9uc1xuXG4vKiogQHJldHVybiB7dm9pZH0gKi9cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuLy8gUmVnZXhcblxuY29uc3QgaGV4VGVzdFJneCA9IC8oXiMoW1xcZGEtZl17M30pezEsMn0kKXwoXiMoW1xcZGEtZl17NH0pezEsMn0kKS9pO1xuY29uc3QgcmdiRXhlY1JneCA9IC9yZ2JcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKlxcKS9pO1xuY29uc3QgcmdiYUV4ZWNSZ3ggPSAvcmdiYVxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooLT9cXGQrfC0/XFxkKi5cXGQrKVxccypcXCkvaTtcbmNvbnN0IGhzbEV4ZWNSZ3ggPSAvaHNsXFwoXFxzKigtP1xcZCt8LT9cXGQqLlxcZCspXFxzKixcXHMqKC0/XFxkK3wtP1xcZCouXFxkKyklXFxzKixcXHMqKC0/XFxkK3wtP1xcZCouXFxkKyklXFxzKlxcKS9pO1xuY29uc3QgaHNsYUV4ZWNSZ3ggPSAvaHNsYVxcKFxccyooLT9cXGQrfC0/XFxkKi5cXGQrKVxccyosXFxzKigtP1xcZCt8LT9cXGQqLlxcZCspJVxccyosXFxzKigtP1xcZCt8LT9cXGQqLlxcZCspJVxccyosXFxzKigtP1xcZCt8LT9cXGQqLlxcZCspXFxzKlxcKS9pO1xuLy8gZXhwb3J0IGNvbnN0IGRpZ2l0V2l0aEV4cG9uZW50Umd4ID0gL1stK10/XFxkKlxcLj9cXGQrKD86W2VFXVstK10/XFxkKyk/L2c7XG5jb25zdCBkaWdpdFdpdGhFeHBvbmVudFJneCA9IC9bLStdP1xcZCpcXC4/XFxkKyg/OmVbLStdP1xcZCk/L2dpO1xuLy8gZXhwb3J0IGNvbnN0IHVuaXRzRXhlY1JneCA9IC9eKFstK10/XFxkKlxcLj9cXGQrKD86W2VFXVstK10/XFxkKyk/KSsoW2Etel0rfCUpJC9pO1xuY29uc3QgdW5pdHNFeGVjUmd4ID0gL14oWy0rXT9cXGQqXFwuP1xcZCsoPzplWy0rXT9cXGQrKT8pKFthLXpdK3wlKSQvaTtcbmNvbnN0IGxvd2VyQ2FzZVJneCA9IC8oW2Etel0pKFtBLVpdKS9nO1xuY29uc3QgdHJhbnNmb3Jtc0V4ZWNSZ3ggPSAvKFxcdyspKFxcKFteKV0rXFwpKykvZzsgLy8gTWF0Y2ggaW5saW5lIHRyYW5zZm9ybXMgd2l0aCBjYWNsKCkgdmFsdWVzLCByZXR1cm5zIHRoZSB2YWx1ZSB3cmFwcGVkIGluICgpXG5jb25zdCByZWxhdGl2ZVZhbHVlc0V4ZWNSZ3ggPSAvKFxcKj18XFwrPXwtPSkvO1xuXG5cblxuXG4vKiogQHR5cGUge0RlZmF1bHRzUGFyYW1zfSAqL1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGlkOiBudWxsLFxuICBrZXlmcmFtZXM6IG51bGwsXG4gIHBsYXliYWNrRWFzZTogbnVsbCxcbiAgcGxheWJhY2tSYXRlOiAxLFxuICBmcmFtZVJhdGU6IG1heEZwcyxcbiAgbG9vcDogMCxcbiAgcmV2ZXJzZWQ6IGZhbHNlLFxuICBhbHRlcm5hdGU6IGZhbHNlLFxuICBhdXRvcGxheTogdHJ1ZSxcbiAgZHVyYXRpb246IEssXG4gIGRlbGF5OiAwLFxuICBsb29wRGVsYXk6IDAsXG4gIGVhc2U6ICdvdXQoMiknLFxuICBjb21wb3NpdGlvbjogY29tcG9zaXRpb25UeXBlcy5yZXBsYWNlLFxuICBtb2RpZmllcjogdiA9PiB2LFxuICBvbkJlZ2luOiBub29wLFxuICBvbkJlZm9yZVVwZGF0ZTogbm9vcCxcbiAgb25VcGRhdGU6IG5vb3AsXG4gIG9uTG9vcDogbm9vcCxcbiAgb25QYXVzZTogbm9vcCxcbiAgb25Db21wbGV0ZTogbm9vcCxcbiAgb25SZW5kZXI6IG5vb3AsXG59O1xuXG5jb25zdCBnbG9iYWxzID0ge1xuICAvKiogQHR5cGUge0RlZmF1bHRzUGFyYW1zfSAqL1xuICBkZWZhdWx0cyxcbiAgLyoqIEB0eXBlIHtEb2N1bWVudHxET01UYXJnZXR9ICovXG4gIHJvb3Q6IGRvYyxcbiAgLyoqIEB0eXBlIHtTY29wZX0gKi9cbiAgc2NvcGU6IG51bGwsXG4gIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICBwcmVjaXNpb246IDQsXG4gIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICB0aW1lU2NhbGU6IDEsXG4gIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICB0aWNrVGhyZXNob2xkOiAyMDAsXG59O1xuXG5jb25zdCBnbG9iYWxWZXJzaW9ucyA9IHsgdmVyc2lvbjogJzQuMC4xJywgZW5naW5lOiBudWxsIH07XG5cbmlmIChpc0Jyb3dzZXIpIHtcbiAgaWYgKCF3aW4uQW5pbWVKUykgd2luLkFuaW1lSlMgPSBbXTtcbiAgd2luLkFuaW1lSlMucHVzaChnbG9iYWxWZXJzaW9ucyk7XG59XG5cbi8vIFN0cmluZ3NcblxuLyoqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCB0b0xvd2VyQ2FzZSA9IHN0ciA9PiBzdHIucmVwbGFjZShsb3dlckNhc2VSZ3gsICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG5cbi8qKlxuICogUHJpb3JpdGl6ZSB0aGlzIG1ldGhvZCBpbnN0ZWFkIG9mIHJlZ2V4IHdoZW4gcG9zc2libGVcbiAqIEBwYXJhbSAge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN1YlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuY29uc3Qgc3RyaW5nU3RhcnRzV2l0aCA9IChzdHIsIHN1YikgPT4gc3RyLmluZGV4T2Yoc3ViKSA9PT0gMDtcblxuLy8gVGltZVxuLy8gTm90ZTogRGF0ZS5ub3cgaXMgdXNlZCBpbnN0ZWFkIG9mIHBlcmZvcm1hbmNlLm5vdyBzaW5jZSBpdCBpcyBwcmVjaXNlIGVub3VnaCBmb3IgdGltaW5ncyBjYWxjdWxhdGlvbnMsIHBlcmZvcm1zIHNsaWdodGx5IGZhc3RlciBhbmQgd29ya3MgaW4gTm9kZS5qcyBlbnZpcm9uZW1lbnQuXG5jb25zdCBub3cgPSBEYXRlLm5vdztcblxuLy8gVHlwZXMgY2hlY2tlcnNcblxuY29uc3QgaXNBcnIgPSBBcnJheS5pc0FycmF5O1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7YSBpcyBSZWNvcmQ8U3RyaW5nLCBhbnk+fSAqL1xuY29uc3QgaXNPYmogPSBhID0+IGEgJiYgYS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7YSBpcyBOdW1iZXJ9ICovXG5jb25zdCBpc051bSA9IGEgPT4gdHlwZW9mIGEgPT09ICdudW1iZXInICYmICFpc05hTihhKTtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge2EgaXMgU3RyaW5nfSAqL1xuY29uc3QgaXNTdHIgPSBhID0+IHR5cGVvZiBhID09PSAnc3RyaW5nJztcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge2EgaXMgRnVuY3Rpb259ICovXG5jb25zdCBpc0ZuYyA9IGEgPT4gdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHthIGlzIHVuZGVmaW5lZH0gKi9cbmNvbnN0IGlzVW5kID0gYSA9PiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHthIGlzIG51bGwgfCB1bmRlZmluZWR9ICovXG5jb25zdCBpc05pbCA9IGEgPT4gaXNVbmQoYSkgfHwgYSA9PT0gbnVsbDtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge2EgaXMgU1ZHRWxlbWVudH0gKi9cbmNvbnN0IGlzU3ZnID0gYSA9PiBpc0Jyb3dzZXIgJiYgYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHtCb29sZWFufSAqL1xuY29uc3QgaXNIZXggPSBhID0+IGhleFRlc3RSZ3gudGVzdChhKTtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge0Jvb2xlYW59ICovXG5jb25zdCBpc1JnYiA9IGEgPT4gc3RyaW5nU3RhcnRzV2l0aChhLCAncmdiJyk7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHtCb29sZWFufSAqL1xuY29uc3QgaXNIc2wgPSBhID0+IHN0cmluZ1N0YXJ0c1dpdGgoYSwgJ2hzbCcpO1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7Qm9vbGVhbn0gKi9cbmNvbnN0IGlzQ29sID0gYSA9PiBpc0hleChhKSB8fCBpc1JnYihhKSB8fCBpc0hzbChhKTtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge0Jvb2xlYW59ICovXG5jb25zdCBpc0tleSA9IGEgPT4gIWdsb2JhbHMuZGVmYXVsdHMuaGFzT3duUHJvcGVydHkoYSk7XG5cbi8vIE51bWJlclxuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcnxTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBwYXJzZU51bWJlciA9IHN0ciA9PiBpc1N0cihzdHIpID9cbiAgcGFyc2VGbG9hdCgvKiogQHR5cGUge1N0cmluZ30gKi8oc3RyKSkgOlxuICAvKiogQHR5cGUge051bWJlcn0gKi8oc3RyKTtcblxuLy8gTWF0aFxuXG5jb25zdCBwb3cgPSBNYXRoLnBvdztcbmNvbnN0IHNxcnQgPSBNYXRoLnNxcnQ7XG5jb25zdCBzaW4gPSBNYXRoLnNpbjtcbmNvbnN0IGNvcyA9IE1hdGguY29zO1xuY29uc3QgYWJzID0gTWF0aC5hYnM7XG5jb25zdCBleHAgPSBNYXRoLmV4cDtcbmNvbnN0IGNlaWwgPSBNYXRoLmNlaWw7XG5jb25zdCBmbG9vciA9IE1hdGguZmxvb3I7XG5jb25zdCBhc2luID0gTWF0aC5hc2luO1xuY29uc3QgbWF4ID0gTWF0aC5tYXg7XG5jb25zdCBhdGFuMiA9IE1hdGguYXRhbjI7XG5jb25zdCBQSSA9IE1hdGguUEk7XG5jb25zdCBfcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG1pblxuICogQHBhcmFtICB7TnVtYmVyfSBtYXhcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgY2xhbXAgPSAodiwgbWluLCBtYXgpID0+IHYgPCBtaW4gPyBtaW4gOiB2ID4gbWF4ID8gbWF4IDogdjtcblxuY29uc3QgcG93Q2FjaGUgPSB7fTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEBwYXJhbSAge051bWJlcn0gZGVjaW1hbExlbmd0aFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCByb3VuZCA9ICh2LCBkZWNpbWFsTGVuZ3RoKSA9PiB7XG4gIGlmIChkZWNpbWFsTGVuZ3RoIDwgMCkgcmV0dXJuIHY7XG4gIGlmICghZGVjaW1hbExlbmd0aCkgcmV0dXJuIF9yb3VuZCh2KTtcbiAgbGV0IHAgPSBwb3dDYWNoZVtkZWNpbWFsTGVuZ3RoXTtcbiAgaWYgKCFwKSBwID0gcG93Q2FjaGVbZGVjaW1hbExlbmd0aF0gPSAxMCAqKiBkZWNpbWFsTGVuZ3RoO1xuICByZXR1cm4gX3JvdW5kKHYgKiBwKSAvIHA7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gdlxuICogQHBhcmFtICB7TnVtYmVyfEFycmF5PE51bWJlcj59IGluY3JlbWVudFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBzbmFwID0gKHYsIGluY3JlbWVudCkgPT4gaXNBcnIoaW5jcmVtZW50KSA/IGluY3JlbWVudC5yZWR1Y2UoKGNsb3Nlc3QsIGN2KSA9PiAoYWJzKGN2IC0gdikgPCBhYnMoY2xvc2VzdCAtIHYpID8gY3YgOiBjbG9zZXN0KSkgOiBpbmNyZW1lbnQgPyBfcm91bmQodiAvIGluY3JlbWVudCkgKiBpbmNyZW1lbnQgOiB2O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gc3RhcnRcbiAqIEBwYXJhbSAge051bWJlcn0gZW5kXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHByb2dyZXNzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGludGVycG9sYXRlID0gKHN0YXJ0LCBlbmQsIHByb2dyZXNzKSA9PiBzdGFydCArIChlbmQgLSBzdGFydCkgKiBwcm9ncmVzcztcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgY2xhbXBJbmZpbml0eSA9IHYgPT4gdiA9PT0gSW5maW5pdHkgPyBtYXhWYWx1ZSA6IHYgPT09IC1JbmZpbml0eSA/IC0xZTEyIDogdjtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgY2xhbXBaZXJvID0gdiA9PiB2IDwgbWluVmFsdWUgPyBtaW5WYWx1ZSA6IHY7XG5cbi8vIEFycmF5c1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1RbXX0gYVxuICogQHJldHVybiB7VFtdfVxuICovXG5jb25zdCBjbG9uZUFycmF5ID0gYSA9PiBpc0FycihhKSA/IFsgLi4uYSBdIDogYTtcblxuLy8gT2JqZWN0c1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgVVxuICogQHBhcmFtIHtUfSBvMVxuICogQHBhcmFtIHtVfSBvMlxuICogQHJldHVybiB7VCAmIFV9XG4gKi9cbmNvbnN0IG1lcmdlT2JqZWN0cyA9IChvMSwgbzIpID0+IHtcbiAgY29uc3QgbWVyZ2VkID0gLyoqIEB0eXBlIHtUICYgVX0gKi8oeyAuLi5vMSB9KTtcbiAgZm9yIChsZXQgcCBpbiBvMikge1xuICAgIGNvbnN0IG8xcCA9IC8qKiBAdHlwZSB7VCAmIFV9ICovKG8xKVtwXTtcbiAgICBtZXJnZWRbcF0gPSBpc1VuZChvMXApID8gLyoqIEB0eXBlIHtUICYgVX0gKi8obzIpW3BdIDogbzFwO1xuICB9ICByZXR1cm4gbWVyZ2VkO1xufTtcblxuLy8gTGlua2VkIGxpc3RzXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JldmVyc2VdXG4gKiBAcGFyYW0ge1N0cmluZ30gW3ByZXZQcm9wXVxuICogQHBhcmFtIHtTdHJpbmd9IFtuZXh0UHJvcF1cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmNvbnN0IGZvckVhY2hDaGlsZHJlbiA9IChwYXJlbnQsIGNhbGxiYWNrLCByZXZlcnNlLCBwcmV2UHJvcCA9ICdfcHJldicsIG5leHRQcm9wID0gJ19uZXh0JykgPT4ge1xuICBsZXQgbmV4dCA9IHBhcmVudC5faGVhZDtcbiAgbGV0IGFkanVzdGVkTmV4dFByb3AgPSBuZXh0UHJvcDtcbiAgaWYgKHJldmVyc2UpIHtcbiAgICBuZXh0ID0gcGFyZW50Ll90YWlsO1xuICAgIGFkanVzdGVkTmV4dFByb3AgPSBwcmV2UHJvcDtcbiAgfVxuICB3aGlsZSAobmV4dCkge1xuICAgIGNvbnN0IGN1cnJlbnROZXh0ID0gbmV4dFthZGp1c3RlZE5leHRQcm9wXTtcbiAgICBjYWxsYmFjayhuZXh0KTtcbiAgICBuZXh0ID0gY3VycmVudE5leHQ7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtICB7T2JqZWN0fSBwYXJlbnRcbiAqIEBwYXJhbSAge09iamVjdH0gY2hpbGRcbiAqIEBwYXJhbSAge1N0cmluZ30gW3ByZXZQcm9wXVxuICogQHBhcmFtICB7U3RyaW5nfSBbbmV4dFByb3BdXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5jb25zdCByZW1vdmVDaGlsZCA9IChwYXJlbnQsIGNoaWxkLCBwcmV2UHJvcCA9ICdfcHJldicsIG5leHRQcm9wID0gJ19uZXh0JykgPT4ge1xuICBjb25zdCBwcmV2ID0gY2hpbGRbcHJldlByb3BdO1xuICBjb25zdCBuZXh0ID0gY2hpbGRbbmV4dFByb3BdO1xuICBwcmV2ID8gcHJldltuZXh0UHJvcF0gPSBuZXh0IDogcGFyZW50Ll9oZWFkID0gbmV4dDtcbiAgbmV4dCA/IG5leHRbcHJldlByb3BdID0gcHJldiA6IHBhcmVudC5fdGFpbCA9IHByZXY7XG4gIGNoaWxkW3ByZXZQcm9wXSA9IG51bGw7XG4gIGNoaWxkW25leHRQcm9wXSA9IG51bGw7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge09iamVjdH0gcGFyZW50XG4gKiBAcGFyYW0gIHtPYmplY3R9IGNoaWxkXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gW3NvcnRNZXRob2RdXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByZXZQcm9wXG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5leHRQcm9wXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5jb25zdCBhZGRDaGlsZCA9IChwYXJlbnQsIGNoaWxkLCBzb3J0TWV0aG9kLCBwcmV2UHJvcCA9ICdfcHJldicsIG5leHRQcm9wID0gJ19uZXh0JykgPT4ge1xuICBsZXQgcHJldiA9IHBhcmVudC5fdGFpbDtcbiAgd2hpbGUgKHByZXYgJiYgc29ydE1ldGhvZCAmJiBzb3J0TWV0aG9kKHByZXYsIGNoaWxkKSkgcHJldiA9IHByZXZbcHJldlByb3BdO1xuICBjb25zdCBuZXh0ID0gcHJldiA/IHByZXZbbmV4dFByb3BdIDogcGFyZW50Ll9oZWFkO1xuICBwcmV2ID8gcHJldltuZXh0UHJvcF0gPSBjaGlsZCA6IHBhcmVudC5faGVhZCA9IGNoaWxkO1xuICBuZXh0ID8gbmV4dFtwcmV2UHJvcF0gPSBjaGlsZCA6IHBhcmVudC5fdGFpbCA9IGNoaWxkO1xuICBjaGlsZFtwcmV2UHJvcF0gPSBwcmV2O1xuICBjaGlsZFtuZXh0UHJvcF0gPSBuZXh0O1xufTtcblxuLypcbiAqIEJhc2UgY2xhc3MgdG8gY29udHJvbCBmcmFtZXJhdGUgYW5kIHBsYXliYWNrIHJhdGUuXG4gKiBJbmhlcml0ZWQgYnkgRW5naW5lLCBUaW1lciwgQW5pbWF0aW9uIGFuZCBUaW1lbGluZS5cbiAqL1xuY2xhc3MgQ2xvY2sge1xuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gW2luaXRUaW1lXSAqL1xuICBjb25zdHJ1Y3Rvcihpbml0VGltZSA9IDApIHtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmRlbHRhVGltZSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fY3VycmVudFRpbWUgPSBpbml0VGltZTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9lbGFwc2VkVGltZSA9IGluaXRUaW1lO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX3N0YXJ0VGltZSA9IGluaXRUaW1lO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2xhc3RUaW1lID0gaW5pdFRpbWU7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fc2NoZWR1bGVkVGltZSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fZnJhbWVEdXJhdGlvbiA9IHJvdW5kKEsgLyBtYXhGcHMsIDApO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2ZwcyA9IG1heEZwcztcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9zcGVlZCA9IDE7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuX2hhc0NoaWxkcmVuID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtUaWNrYWJsZXxUd2Vlbn0gKi9cbiAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAvKiogQHR5cGUge1RpY2thYmxlfFR3ZWVufSAqL1xuICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICB9XG5cbiAgZ2V0IGZwcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZnBzO1xuICB9XG5cbiAgc2V0IGZwcyhmcmFtZVJhdGUpIHtcbiAgICBjb25zdCBwcmV2aW91c0ZyYW1lRHVyYXRpb24gPSB0aGlzLl9mcmFtZUR1cmF0aW9uO1xuICAgIGNvbnN0IGZyID0gK2ZyYW1lUmF0ZTtcbiAgICBjb25zdCBmcHMgPSBmciA8IG1pblZhbHVlID8gbWluVmFsdWUgOiBmcjtcbiAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gcm91bmQoSyAvIGZwcywgMCk7XG4gICAgdGhpcy5fZnBzID0gZnBzO1xuICAgIHRoaXMuX2ZyYW1lRHVyYXRpb24gPSBmcmFtZUR1cmF0aW9uO1xuICAgIHRoaXMuX3NjaGVkdWxlZFRpbWUgKz0gZnJhbWVEdXJhdGlvbiAtIHByZXZpb3VzRnJhbWVEdXJhdGlvbjtcbiAgfVxuXG4gIGdldCBzcGVlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gIH1cblxuICBzZXQgc3BlZWQocGxheWJhY2tSYXRlKSB7XG4gICAgY29uc3QgcGJyID0gK3BsYXliYWNrUmF0ZTtcbiAgICB0aGlzLl9zcGVlZCA9IHBiciA8IG1pblZhbHVlID8gbWluVmFsdWUgOiBwYnI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSB0aW1lXG4gICAqIEByZXR1cm4ge3RpY2tNb2Rlc31cbiAgICovXG4gIHJlcXVlc3RUaWNrKHRpbWUpIHtcbiAgICBjb25zdCBzY2hlZHVsZWRUaW1lID0gdGhpcy5fc2NoZWR1bGVkVGltZTtcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IHRoaXMuX2VsYXBzZWRUaW1lO1xuICAgIHRoaXMuX2VsYXBzZWRUaW1lICs9ICh0aW1lIC0gZWxhcHNlZFRpbWUpO1xuICAgIC8vIElmIHRoZSBlbGFwc2VkIHRpbWUgaXMgbG93ZXIgdGhhbiB0aGUgc2NoZWR1bGVkIHRpbWVcbiAgICAvLyB0aGlzIG1lYW5zIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkIHRvIGhpdCBvbmUgZnJhbWVEdXJhdGlvblxuICAgIC8vIHNvIHNraXAgdGhhdCBmcmFtZVxuICAgIGlmIChlbGFwc2VkVGltZSA8IHNjaGVkdWxlZFRpbWUpIHJldHVybiB0aWNrTW9kZXMuTk9ORTtcbiAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gdGhpcy5fZnJhbWVEdXJhdGlvbjtcbiAgICBjb25zdCBmcmFtZURlbHRhID0gZWxhcHNlZFRpbWUgLSBzY2hlZHVsZWRUaW1lO1xuICAgIC8vIEVuc3VyZXMgdGhhdCBfc2NoZWR1bGVkVGltZSBwcm9ncmVzc2VzIGluIHN0ZXBzIG9mIGF0IGxlYXN0IDEgZnJhbWVEdXJhdGlvbi5cbiAgICAvLyBTa2lwcyBhaGVhZCBpZiB0aGUgYWN0dWFsIGVsYXBzZWQgdGltZSBpcyBoaWdoZXIuXG4gICAgdGhpcy5fc2NoZWR1bGVkVGltZSArPSBmcmFtZURlbHRhIDwgZnJhbWVEdXJhdGlvbiA/IGZyYW1lRHVyYXRpb24gOiBmcmFtZURlbHRhO1xuICAgIHJldHVybiB0aWNrTW9kZXMuQVVUTztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgY29tcHV0ZURlbHRhVGltZSh0aW1lKSB7XG4gICAgY29uc3QgZGVsdGEgPSB0aW1lIC0gdGhpcy5fbGFzdFRpbWU7XG4gICAgdGhpcy5kZWx0YVRpbWUgPSBkZWx0YTtcbiAgICB0aGlzLl9sYXN0VGltZSA9IHRpbWU7XG4gICAgcmV0dXJuIGRlbHRhO1xuICB9XG5cbn1cblxuXG5cblxuLyoqXG4gKiBAcGFyYW0gIHtUaWNrYWJsZX0gdGlja2FibGVcbiAqIEBwYXJhbSAge051bWJlcn0gdGltZVxuICogQHBhcmFtICB7TnVtYmVyfSBtdXRlQ2FsbGJhY2tzXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGludGVybmFsUmVuZGVyXG4gKiBAcGFyYW0gIHt0aWNrTW9kZXN9IHRpY2tNb2RlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IHJlbmRlciA9ICh0aWNrYWJsZSwgdGltZSwgbXV0ZUNhbGxiYWNrcywgaW50ZXJuYWxSZW5kZXIsIHRpY2tNb2RlKSA9PiB7XG5cbiAgY29uc3QgcGFyZW50ID0gdGlja2FibGUucGFyZW50O1xuICBjb25zdCBkdXJhdGlvbiA9IHRpY2thYmxlLmR1cmF0aW9uO1xuICBjb25zdCBjb21wbGV0ZWQgPSB0aWNrYWJsZS5jb21wbGV0ZWQ7XG4gIGNvbnN0IGl0ZXJhdGlvbkR1cmF0aW9uID0gdGlja2FibGUuaXRlcmF0aW9uRHVyYXRpb247XG4gIGNvbnN0IGl0ZXJhdGlvbkNvdW50ID0gdGlja2FibGUuaXRlcmF0aW9uQ291bnQ7XG4gIGNvbnN0IF9jdXJyZW50SXRlcmF0aW9uID0gdGlja2FibGUuX2N1cnJlbnRJdGVyYXRpb247XG4gIGNvbnN0IF9sb29wRGVsYXkgPSB0aWNrYWJsZS5fbG9vcERlbGF5O1xuICBjb25zdCBfcmV2ZXJzZWQgPSB0aWNrYWJsZS5fcmV2ZXJzZWQ7XG4gIGNvbnN0IF9hbHRlcm5hdGUgPSB0aWNrYWJsZS5fYWx0ZXJuYXRlO1xuICBjb25zdCBfaGFzQ2hpbGRyZW4gPSB0aWNrYWJsZS5faGFzQ2hpbGRyZW47XG4gIGNvbnN0IHRpY2thYmxlRGVsYXkgPSB0aWNrYWJsZS5fZGVsYXk7XG4gIGNvbnN0IHRpY2thYmxlUHJldkFic29sdXRlVGltZSA9IHRpY2thYmxlLl9jdXJyZW50VGltZTsgLy8gVE9ETzogcmVuYW1lIC5fY3VycmVudFRpbWUgdG8gLl9hYnNvbHV0ZUN1cnJlbnRUaW1lXG5cbiAgY29uc3QgdGlja2FibGVFbmRUaW1lID0gdGlja2FibGVEZWxheSArIGl0ZXJhdGlvbkR1cmF0aW9uO1xuICBjb25zdCB0aWNrYWJsZUFic29sdXRlVGltZSA9IHRpbWUgLSB0aWNrYWJsZURlbGF5O1xuICBjb25zdCB0aWNrYWJsZVByZXZUaW1lID0gY2xhbXAodGlja2FibGVQcmV2QWJzb2x1dGVUaW1lLCAtdGlja2FibGVEZWxheSwgZHVyYXRpb24pO1xuICBjb25zdCB0aWNrYWJsZUN1cnJlbnRUaW1lID0gY2xhbXAodGlja2FibGVBYnNvbHV0ZVRpbWUsIC10aWNrYWJsZURlbGF5LCBkdXJhdGlvbik7XG4gIGNvbnN0IGRlbHRhVGltZSA9IHRpY2thYmxlQWJzb2x1dGVUaW1lIC0gdGlja2FibGVQcmV2QWJzb2x1dGVUaW1lO1xuICBjb25zdCBpc0N1cnJlbnRUaW1lQWJvdmVaZXJvID0gdGlja2FibGVDdXJyZW50VGltZSA+IDA7XG4gIGNvbnN0IGlzQ3VycmVudFRpbWVFcXVhbE9yQWJvdmVEdXJhdGlvbiA9IHRpY2thYmxlQ3VycmVudFRpbWUgPj0gZHVyYXRpb247XG4gIGNvbnN0IGlzU2V0dGVyID0gZHVyYXRpb24gPD0gbWluVmFsdWU7XG4gIGNvbnN0IGZvcmNlZFRpY2sgPSB0aWNrTW9kZSA9PT0gdGlja01vZGVzLkZPUkNFO1xuXG4gIGxldCBpc09kZCA9IDA7XG4gIGxldCBpdGVyYXRpb25FbGFwc2VkVGltZSA9IHRpY2thYmxlQWJzb2x1dGVUaW1lO1xuICAvLyBSZW5kZXIgY2hlY2tzXG4gIC8vIFVzZWQgdG8gYWxzbyBjaGVjayBpZiB0aGUgY2hpbGRyZW4gaGF2ZSByZW5kZXJlZCBpbiBvcmRlciB0byB0cmlnZ2VyIHRoZSBvblJlbmRlciBjYWxsYmFjayBvbiB0aGUgcGFyZW50IHRpbWVyXG4gIGxldCBoYXNSZW5kZXJlZCA9IDA7XG5cbiAgLy8gRXhlY3V0ZSB0aGUgXCJleHBlbnNpdmVcIiBpdGVyYXRpb25zIGNhbGN1bGF0aW9ucyBvbmx5IHdoZW4gbmVjZXNzYXJ5XG4gIGlmIChpdGVyYXRpb25Db3VudCA+IDEpIHtcbiAgICAvLyBiaXR3aXNlIE5PVCBvcGVyYXRvciBzZWVtcyB0byBiZSBnZW5lcmFsbHkgZmFzdGVyIHRoYW4gTWF0aC5mbG9vcigpIGFjcm9zcyBicm93c2Vyc1xuICAgIGNvbnN0IGN1cnJlbnRJdGVyYXRpb24gPSB+fih0aWNrYWJsZUN1cnJlbnRUaW1lIC8gKGl0ZXJhdGlvbkR1cmF0aW9uICsgKGlzQ3VycmVudFRpbWVFcXVhbE9yQWJvdmVEdXJhdGlvbiA/IDAgOiBfbG9vcERlbGF5KSkpO1xuICAgIHRpY2thYmxlLl9jdXJyZW50SXRlcmF0aW9uID0gY2xhbXAoY3VycmVudEl0ZXJhdGlvbiwgMCwgaXRlcmF0aW9uQ291bnQpO1xuICAgIC8vIFByZXZlbnQgdGhlIGl0ZXJhdGlvbiBjb3VudCB0byBnbyBhYm92ZSB0aGUgbWF4IGl0ZXJhdGlvbnMgd2hlbiByZWFjaGluZyB0aGUgZW5kIG9mIHRoZSBhbmltYXRpb25cbiAgICBpZiAoaXNDdXJyZW50VGltZUVxdWFsT3JBYm92ZUR1cmF0aW9uKSB0aWNrYWJsZS5fY3VycmVudEl0ZXJhdGlvbi0tO1xuICAgIGlzT2RkID0gdGlja2FibGUuX2N1cnJlbnRJdGVyYXRpb24gJSAyO1xuICAgIGl0ZXJhdGlvbkVsYXBzZWRUaW1lID0gdGlja2FibGVDdXJyZW50VGltZSAlIChpdGVyYXRpb25EdXJhdGlvbiArIF9sb29wRGVsYXkpIHx8IDA7XG4gIH1cblxuICAvLyBDaGVja3MgaWYgZXhhY3RseSBvbmUgb2YgX3JldmVyc2VkIGFuZCAoX2FsdGVybmF0ZSAmJiBpc09kZCkgaXMgdHJ1ZVxuICBjb25zdCBpc1JldmVyc2VkID0gX3JldmVyc2VkIF4gKF9hbHRlcm5hdGUgJiYgaXNPZGQpO1xuICBjb25zdCBfZWFzZSA9IC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi8odGlja2FibGUpLl9lYXNlO1xuICBsZXQgaXRlcmF0aW9uVGltZSA9IGlzQ3VycmVudFRpbWVFcXVhbE9yQWJvdmVEdXJhdGlvbiA/IGlzUmV2ZXJzZWQgPyAwIDogZHVyYXRpb24gOiBpc1JldmVyc2VkID8gaXRlcmF0aW9uRHVyYXRpb24gLSBpdGVyYXRpb25FbGFwc2VkVGltZSA6IGl0ZXJhdGlvbkVsYXBzZWRUaW1lO1xuICBpZiAoX2Vhc2UpIGl0ZXJhdGlvblRpbWUgPSBpdGVyYXRpb25EdXJhdGlvbiAqIF9lYXNlKGl0ZXJhdGlvblRpbWUgLyBpdGVyYXRpb25EdXJhdGlvbikgfHwgMDtcbiAgY29uc3QgaXNSdW5uaW5nQmFja3dhcmRzID0gKHBhcmVudCA/IHBhcmVudC5iYWNrd2FyZHMgOiB0aWNrYWJsZUFic29sdXRlVGltZSA8IHRpY2thYmxlUHJldkFic29sdXRlVGltZSkgPyAhaXNSZXZlcnNlZCA6ICEhaXNSZXZlcnNlZDtcblxuICB0aWNrYWJsZS5fY3VycmVudFRpbWUgPSB0aWNrYWJsZUFic29sdXRlVGltZTtcbiAgdGlja2FibGUuX2l0ZXJhdGlvblRpbWUgPSBpdGVyYXRpb25UaW1lO1xuICB0aWNrYWJsZS5iYWNrd2FyZHMgPSBpc1J1bm5pbmdCYWNrd2FyZHM7XG5cbiAgaWYgKGlzQ3VycmVudFRpbWVBYm92ZVplcm8gJiYgIXRpY2thYmxlLmJlZ2FuKSB7XG4gICAgdGlja2FibGUuYmVnYW4gPSB0cnVlO1xuICAgIGlmICghbXV0ZUNhbGxiYWNrcyAmJiAhKHBhcmVudCAmJiAoaXNSdW5uaW5nQmFja3dhcmRzIHx8ICFwYXJlbnQuYmVnYW4pKSkge1xuICAgICAgdGlja2FibGUub25CZWdpbigvKiogQHR5cGUge0NhbGxiYWNrQXJndW1lbnR9ICovKHRpY2thYmxlKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRpY2thYmxlQWJzb2x1dGVUaW1lIDw9IDApIHtcbiAgICB0aWNrYWJsZS5iZWdhbiA9IGZhbHNlO1xuICB9XG5cbiAgLy8gT25seSB0cmlnZ2VycyBvbkxvb3AgZm9yIHRpY2thYmxlIHdpdGhvdXQgY2hpbGRyZW4sIG90aGVyd2lzZSBjYWxsIHRoZSB0aGUgb25Mb29wIGNhbGxiYWNrIGluIHRoZSB0aWNrIGZ1bmN0aW9uXG4gIC8vIE1ha2Ugc3VyZSB0byB0cmlnZ2VyIHRoZSBvbkxvb3AgYmVmb3JlIHJlbmRlcmluZyB0byBhbGxvdyAucmVmcmVzaCgpIHRvIHBpY2t1cCB0aGUgY3VycmVudCB2YWx1ZXNcbiAgaWYgKCFtdXRlQ2FsbGJhY2tzICYmICFfaGFzQ2hpbGRyZW4gJiYgaXNDdXJyZW50VGltZUFib3ZlWmVybyAmJiB0aWNrYWJsZS5fY3VycmVudEl0ZXJhdGlvbiAhPT0gX2N1cnJlbnRJdGVyYXRpb24pIHtcbiAgICB0aWNrYWJsZS5vbkxvb3AoLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0aWNrYWJsZSkpO1xuICB9XG5cbiAgaWYgKFxuICAgIGZvcmNlZFRpY2sgfHxcbiAgICB0aWNrTW9kZSA9PT0gdGlja01vZGVzLkFVVE8gJiYgKFxuICAgICAgdGltZSA+PSB0aWNrYWJsZURlbGF5ICYmIHRpbWUgPD0gdGlja2FibGVFbmRUaW1lIHx8IC8vIE5vcm1hbCByZW5kZXJcbiAgICAgIHRpbWUgPD0gdGlja2FibGVEZWxheSAmJiB0aWNrYWJsZVByZXZUaW1lID4gdGlja2FibGVEZWxheSB8fCAvLyBQbGF5aGVhZCBpcyBiZWZvcmUgdGhlIGFuaW1hdGlvbiBzdGFydCB0aW1lIHNvIG1ha2Ugc3VyZSB0aGUgYW5pbWF0aW9uIGlzIGF0IGl0cyBpbml0aWFsIHN0YXRlXG4gICAgICB0aW1lID49IHRpY2thYmxlRW5kVGltZSAmJiB0aWNrYWJsZVByZXZUaW1lICE9PSBkdXJhdGlvbiAvLyBQbGF5aGVhZCBpcyBhZnRlciB0aGUgYW5pbWF0aW9uIGVuZCB0aW1lIHNvIG1ha2Ugc3VyZSB0aGUgYW5pbWF0aW9uIGlzIGF0IGl0cyBlbmQgc3RhdGVcbiAgICApIHx8XG4gICAgaXRlcmF0aW9uVGltZSA+PSB0aWNrYWJsZUVuZFRpbWUgJiYgdGlja2FibGVQcmV2VGltZSAhPT0gZHVyYXRpb24gfHxcbiAgICBpdGVyYXRpb25UaW1lIDw9IHRpY2thYmxlRGVsYXkgJiYgdGlja2FibGVQcmV2VGltZSA+IDAgfHxcbiAgICB0aW1lIDw9IHRpY2thYmxlUHJldlRpbWUgJiYgdGlja2FibGVQcmV2VGltZSA9PT0gZHVyYXRpb24gJiYgY29tcGxldGVkIHx8IC8vIEZvcmNlIGEgcmVuZGVyIGlmIGEgc2VlayBvY2N1cnMgb24gYW4gY29tcGxldGVkIGFuaW1hdGlvblxuICAgIGlzQ3VycmVudFRpbWVFcXVhbE9yQWJvdmVEdXJhdGlvbiAmJiAhY29tcGxldGVkICYmIGlzU2V0dGVyIC8vIFRoaXMgcHJldmVudHMgMCBkdXJhdGlvbiB0aWNrYWJsZXMgdG8gYmUgc2tpcHBlZFxuICApIHtcblxuICAgIGlmIChpc0N1cnJlbnRUaW1lQWJvdmVaZXJvKSB7XG4gICAgICAvLyBUcmlnZ2VyIG9uVXBkYXRlIGNhbGxiYWNrIGJlZm9yZSByZW5kZXJpbmdcbiAgICAgIHRpY2thYmxlLmNvbXB1dGVEZWx0YVRpbWUodGlja2FibGVQcmV2VGltZSk7XG4gICAgICBpZiAoIW11dGVDYWxsYmFja3MpIHRpY2thYmxlLm9uQmVmb3JlVXBkYXRlKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGlja2FibGUpKTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCB0d2VlbnMgcmVuZGVyaW5nXG4gICAgaWYgKCFfaGFzQ2hpbGRyZW4pIHtcblxuICAgICAgLy8gVGltZSBoYXMganVtcGVkIG1vcmUgdGhhbiBnbG9iYWxzLnRpY2tUaHJlc2hvbGQgc28gY29uc2lkZXIgdGhpcyB0aWNrIG1hbnVhbFxuICAgICAgY29uc3QgZm9yY2VkUmVuZGVyID0gZm9yY2VkVGljayB8fCAoaXNSdW5uaW5nQmFja3dhcmRzID8gZGVsdGFUaW1lICogLTEgOiBkZWx0YVRpbWUpID49IGdsb2JhbHMudGlja1RocmVzaG9sZDtcbiAgICAgIGNvbnN0IGFic29sdXRlVGltZSA9IHRpY2thYmxlLl9vZmZzZXQgKyAocGFyZW50ID8gcGFyZW50Ll9vZmZzZXQgOiAwKSArIHRpY2thYmxlRGVsYXkgKyBpdGVyYXRpb25UaW1lO1xuXG4gICAgICAvLyBPbmx5IEFuaW1hdGlvbiBjYW4gaGF2ZSB0d2VlbnMsIFRpbWVyIHJldHVybnMgdW5kZWZpbmVkXG4gICAgICBsZXQgdHdlZW4gPSAvKiogQHR5cGUge1R3ZWVufSAqLygvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqLyh0aWNrYWJsZSkuX2hlYWQpO1xuICAgICAgbGV0IHR3ZWVuVGFyZ2V0O1xuICAgICAgbGV0IHR3ZWVuU3R5bGU7XG4gICAgICBsZXQgdHdlZW5UYXJnZXRUcmFuc2Zvcm1zO1xuICAgICAgbGV0IHR3ZWVuVGFyZ2V0VHJhbnNmb3Jtc1Byb3BlcnRpZXM7XG4gICAgICBsZXQgdHdlZW5UcmFuc2Zvcm1zTmVlZFVwZGF0ZSA9IDA7XG5cbiAgICAgIHdoaWxlICh0d2Vlbikge1xuXG4gICAgICAgIGNvbnN0IHR3ZWVuQ29tcG9zaXRpb24gPSB0d2Vlbi5fY29tcG9zaXRpb247XG4gICAgICAgIGNvbnN0IHR3ZWVuQ3VycmVudFRpbWUgPSB0d2Vlbi5fY3VycmVudFRpbWU7XG4gICAgICAgIGNvbnN0IHR3ZWVuQ2hhbmdlRHVyYXRpb24gPSB0d2Vlbi5fY2hhbmdlRHVyYXRpb247XG4gICAgICAgIGNvbnN0IHR3ZWVuQWJzRW5kVGltZSA9IHR3ZWVuLl9hYnNvbHV0ZVN0YXJ0VGltZSArIHR3ZWVuLl9jaGFuZ2VEdXJhdGlvbjtcbiAgICAgICAgY29uc3QgdHdlZW5OZXh0UmVwID0gdHdlZW4uX25leHRSZXA7XG4gICAgICAgIGNvbnN0IHR3ZWVuUHJldlJlcCA9IHR3ZWVuLl9wcmV2UmVwO1xuICAgICAgICBjb25zdCB0d2Vlbkhhc0NvbXBvc2l0aW9uID0gdHdlZW5Db21wb3NpdGlvbiAhPT0gY29tcG9zaXRpb25UeXBlcy5ub25lO1xuXG4gICAgICAgIGlmICgoZm9yY2VkUmVuZGVyIHx8IChcbiAgICAgICAgICAgICh0d2VlbkN1cnJlbnRUaW1lICE9PSB0d2VlbkNoYW5nZUR1cmF0aW9uIHx8IGFic29sdXRlVGltZSA8PSB0d2VlbkFic0VuZFRpbWUgKyAodHdlZW5OZXh0UmVwID8gdHdlZW5OZXh0UmVwLl9kZWxheSA6IDApKSAmJlxuICAgICAgICAgICAgKHR3ZWVuQ3VycmVudFRpbWUgIT09IDAgfHwgYWJzb2x1dGVUaW1lID49IHR3ZWVuLl9hYnNvbHV0ZVN0YXJ0VGltZSlcbiAgICAgICAgICApKSAmJiAoIXR3ZWVuSGFzQ29tcG9zaXRpb24gfHwgKFxuICAgICAgICAgICAgIXR3ZWVuLl9pc092ZXJyaWRkZW4gJiZcbiAgICAgICAgICAgICghdHdlZW4uX2lzT3ZlcmxhcHBlZCB8fCBhYnNvbHV0ZVRpbWUgPD0gdHdlZW5BYnNFbmRUaW1lKSAmJlxuICAgICAgICAgICAgKCF0d2Vlbk5leHRSZXAgfHwgKHR3ZWVuTmV4dFJlcC5faXNPdmVycmlkZGVuIHx8IGFic29sdXRlVGltZSA8PSB0d2Vlbk5leHRSZXAuX2Fic29sdXRlU3RhcnRUaW1lKSkgJiZcbiAgICAgICAgICAgICghdHdlZW5QcmV2UmVwIHx8ICh0d2VlblByZXZSZXAuX2lzT3ZlcnJpZGRlbiB8fCAoYWJzb2x1dGVUaW1lID49ICh0d2VlblByZXZSZXAuX2Fic29sdXRlU3RhcnRUaW1lICsgdHdlZW5QcmV2UmVwLl9jaGFuZ2VEdXJhdGlvbikgKyB0d2Vlbi5fZGVsYXkpKSlcbiAgICAgICAgICApKVxuICAgICAgICApIHtcblxuICAgICAgICAgIGNvbnN0IHR3ZWVuTmV3VGltZSA9IHR3ZWVuLl9jdXJyZW50VGltZSA9IGNsYW1wKGl0ZXJhdGlvblRpbWUgLSB0d2Vlbi5fc3RhcnRUaW1lLCAwLCB0d2VlbkNoYW5nZUR1cmF0aW9uKTtcbiAgICAgICAgICBjb25zdCB0d2VlblByb2dyZXNzID0gdHdlZW4uX2Vhc2UodHdlZW5OZXdUaW1lIC8gdHdlZW4uX3VwZGF0ZUR1cmF0aW9uKTtcbiAgICAgICAgICBjb25zdCB0d2Vlbk1vZGlmaWVyID0gdHdlZW4uX21vZGlmaWVyO1xuICAgICAgICAgIGNvbnN0IHR3ZWVuVmFsdWVUeXBlID0gdHdlZW4uX3ZhbHVlVHlwZTtcbiAgICAgICAgICBjb25zdCB0d2VlblR5cGUgPSB0d2Vlbi5fdHdlZW5UeXBlO1xuICAgICAgICAgIGNvbnN0IHR3ZWVuSXNPYmplY3QgPSB0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuT0JKRUNUO1xuICAgICAgICAgIGNvbnN0IHR3ZWVuSXNOdW1iZXIgPSB0d2VlblZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlcy5OVU1CRVI7XG4gICAgICAgICAgLy8gT25seSByb3VuZCB0aGUgaW4tYmV0d2VlbiBmcmFtZXMgdmFsdWVzIGlmIHRoZSBmaW5hbCB2YWx1ZSBpcyBhIHN0cmluZ1xuICAgICAgICAgIGNvbnN0IHR3ZWVuUHJlY2lzaW9uID0gKHR3ZWVuSXNOdW1iZXIgJiYgdHdlZW5Jc09iamVjdCkgfHwgdHdlZW5Qcm9ncmVzcyA9PT0gMCB8fCB0d2VlblByb2dyZXNzID09PSAxID8gLTEgOiBnbG9iYWxzLnByZWNpc2lvbjtcblxuICAgICAgICAgIC8vIFJlY29tcG9zZSB0d2VlbiB2YWx1ZVxuICAgICAgICAgIC8qKiBAdHlwZSB7U3RyaW5nfE51bWJlcn0gKi9cbiAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgICAgICAgbGV0IG51bWJlcjtcblxuICAgICAgICAgIGlmICh0d2VlbklzTnVtYmVyKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG51bWJlciA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbk1vZGlmaWVyKHJvdW5kKGludGVycG9sYXRlKHR3ZWVuLl9mcm9tTnVtYmVyLCB0d2Vlbi5fdG9OdW1iZXIsICB0d2VlblByb2dyZXNzKSwgdHdlZW5QcmVjaXNpb24gKSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHdlZW5WYWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuVU5JVCkge1xuICAgICAgICAgICAgLy8gUm91bmRpbmcgdGhlIHZhbHVlcyBzcGVlZCB1cCBzdHJpbmcgY29tcG9zaXRpb25cbiAgICAgICAgICAgIG51bWJlciA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbk1vZGlmaWVyKHJvdW5kKGludGVycG9sYXRlKHR3ZWVuLl9mcm9tTnVtYmVyLCB0d2Vlbi5fdG9OdW1iZXIsICB0d2VlblByb2dyZXNzKSwgdHdlZW5QcmVjaXNpb24pKSk7XG4gICAgICAgICAgICB2YWx1ZSA9IGAke251bWJlcn0ke3R3ZWVuLl91bml0fWA7XG4gICAgICAgICAgfSBlbHNlIGlmICh0d2VlblZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlcy5DT0xPUikge1xuICAgICAgICAgICAgY29uc3QgZm4gPSB0d2Vlbi5fZnJvbU51bWJlcnM7XG4gICAgICAgICAgICBjb25zdCB0biA9IHR3ZWVuLl90b051bWJlcnM7XG4gICAgICAgICAgICBjb25zdCByID0gcm91bmQoY2xhbXAoLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHR3ZWVuTW9kaWZpZXIoaW50ZXJwb2xhdGUoZm5bMF0sIHRuWzBdLCB0d2VlblByb2dyZXNzKSkpLCAwLCAyNTUpLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IGcgPSByb3VuZChjbGFtcCgvKiogQHR5cGUge051bWJlcn0gKi8odHdlZW5Nb2RpZmllcihpbnRlcnBvbGF0ZShmblsxXSwgdG5bMV0sIHR3ZWVuUHJvZ3Jlc3MpKSksIDAsIDI1NSksIDApO1xuICAgICAgICAgICAgY29uc3QgYiA9IHJvdW5kKGNsYW1wKC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbk1vZGlmaWVyKGludGVycG9sYXRlKGZuWzJdLCB0blsyXSwgdHdlZW5Qcm9ncmVzcykpKSwgMCwgMjU1KSwgMCk7XG4gICAgICAgICAgICBjb25zdCBhID0gY2xhbXAoLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHR3ZWVuTW9kaWZpZXIocm91bmQoaW50ZXJwb2xhdGUoZm5bM10sIHRuWzNdLCB0d2VlblByb2dyZXNzKSwgdHdlZW5QcmVjaXNpb24pKSksIDAsIDEpO1xuICAgICAgICAgICAgdmFsdWUgPSBgcmdiYSgke3J9LCR7Z30sJHtifSwke2F9KWA7XG4gICAgICAgICAgICBpZiAodHdlZW5IYXNDb21wb3NpdGlvbikge1xuICAgICAgICAgICAgICBjb25zdCBucyA9IHR3ZWVuLl9udW1iZXJzO1xuICAgICAgICAgICAgICBuc1swXSA9IHI7XG4gICAgICAgICAgICAgIG5zWzFdID0gZztcbiAgICAgICAgICAgICAgbnNbMl0gPSBiO1xuICAgICAgICAgICAgICBuc1szXSA9IGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0d2VlblZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlcy5DT01QTEVYKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHR3ZWVuLl9zdHJpbmdzWzBdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGwgPSB0d2Vlbi5fdG9OdW1iZXJzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgICAgICAgICBjb25zdCBuID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHR3ZWVuTW9kaWZpZXIocm91bmQoaW50ZXJwb2xhdGUodHdlZW4uX2Zyb21OdW1iZXJzW2pdLCB0d2Vlbi5fdG9OdW1iZXJzW2pdLCB0d2VlblByb2dyZXNzKSwgdHdlZW5QcmVjaXNpb24pKSk7XG4gICAgICAgICAgICAgIGNvbnN0IHMgPSB0d2Vlbi5fc3RyaW5nc1tqICsgMV07XG4gICAgICAgICAgICAgIHZhbHVlICs9IGAke3MgPyBuICsgcyA6IG59YDtcbiAgICAgICAgICAgICAgaWYgKHR3ZWVuSGFzQ29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0d2Vlbi5fbnVtYmVyc1tqXSA9IG47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGb3IgYWRkaXRpdmUgdHdlZW5zIGFuZCBBbmltYXRhYmxlc1xuICAgICAgICAgIGlmICh0d2Vlbkhhc0NvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0d2Vlbi5fbnVtYmVyID0gbnVtYmVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWxSZW5kZXIgJiYgdHdlZW5Db21wb3NpdGlvbiAhPT0gY29tcG9zaXRpb25UeXBlcy5ibGVuZCkge1xuXG4gICAgICAgICAgICBjb25zdCB0d2VlblByb3BlcnR5ID0gdHdlZW4ucHJvcGVydHk7XG4gICAgICAgICAgICB0d2VlblRhcmdldCA9IHR3ZWVuLnRhcmdldDtcblxuICAgICAgICAgICAgaWYgKHR3ZWVuSXNPYmplY3QpIHtcbiAgICAgICAgICAgICAgdHdlZW5UYXJnZXRbdHdlZW5Qcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHdlZW5UeXBlID09PSB0d2VlblR5cGVzLkFUVFJJQlVURSkge1xuICAgICAgICAgICAgICAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odHdlZW5UYXJnZXQpLnNldEF0dHJpYnV0ZSh0d2VlblByb3BlcnR5LCAvKiogQHR5cGUge1N0cmluZ30gKi8odmFsdWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHR3ZWVuU3R5bGUgPSAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odHdlZW5UYXJnZXQpLnN0eWxlO1xuICAgICAgICAgICAgICBpZiAodHdlZW5UeXBlID09PSB0d2VlblR5cGVzLlRSQU5TRk9STSkge1xuICAgICAgICAgICAgICAgIGlmICh0d2VlblRhcmdldCAhPT0gdHdlZW5UYXJnZXRUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICAgICAgICB0d2VlblRhcmdldFRyYW5zZm9ybXMgPSB0d2VlblRhcmdldDtcbiAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFJlZmVyZW5jaW5nIHRoZSBjYWNoZWRUcmFuc2Zvcm1zIGluIHRoZSB0d2VlbiBwcm9wZXJ0eSBkaXJlY3RseSBjYW4gYmUgYSBsaXR0bGUgYml0IGZhc3RlciBidXQgYXBwZWFycyB0byBpbmNyZWFzZSBtZW1vcnkgdXNhZ2UuXG4gICAgICAgICAgICAgICAgICB0d2VlblRhcmdldFRyYW5zZm9ybXNQcm9wZXJ0aWVzID0gdHdlZW5UYXJnZXRbdHJhbnNmb3Jtc1N5bWJvbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR3ZWVuVGFyZ2V0VHJhbnNmb3Jtc1Byb3BlcnRpZXNbdHdlZW5Qcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0d2VlblRyYW5zZm9ybXNOZWVkVXBkYXRlID0gMTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuQ1NTKSB7XG4gICAgICAgICAgICAgICAgdHdlZW5TdHlsZVt0d2VlblByb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5DU1NfVkFSKSB7XG4gICAgICAgICAgICAgICAgdHdlZW5TdHlsZS5zZXRQcm9wZXJ0eSh0d2VlblByb3BlcnR5LC8qKiBAdHlwZSB7U3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0N1cnJlbnRUaW1lQWJvdmVaZXJvKSBoYXNSZW5kZXJlZCA9IDE7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlZCBmb3IgY29tcG9zaW5nIHRpbWVsaW5lIHR3ZWVucyB3aXRob3V0IGhhdmluZyB0byBkbyBhIHJlYWwgcmVuZGVyXG4gICAgICAgICAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5PVEU6IFBvc3NpYmxlIGltcHJvdmVtZW50OiBVc2UgdHJhbnNsYXRlKHgseSkgLyB0cmFuc2xhdGUzZCh4LHkseikgc3ludGF4XG4gICAgICAgIC8vIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2Ugb24gc3RyaW5nIGNvbXBvc2l0aW9uXG4gICAgICAgIGlmICh0d2VlblRyYW5zZm9ybXNOZWVkVXBkYXRlICYmIHR3ZWVuLl9yZW5kZXJUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgbGV0IHN0ciA9IGVtcHR5U3RyaW5nO1xuICAgICAgICAgIGZvciAobGV0IGtleSBpbiB0d2VlblRhcmdldFRyYW5zZm9ybXNQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdHIgKz0gYCR7dHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5nc1trZXldfSR7dHdlZW5UYXJnZXRUcmFuc2Zvcm1zUHJvcGVydGllc1trZXldfSkgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHdlZW5TdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgICAgICAgdHdlZW5UcmFuc2Zvcm1zTmVlZFVwZGF0ZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0d2VlbiA9IHR3ZWVuLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICBpZiAoIW11dGVDYWxsYmFja3MgJiYgaGFzUmVuZGVyZWQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi8odGlja2FibGUpLm9uUmVuZGVyKC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKHRpY2thYmxlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFtdXRlQ2FsbGJhY2tzICYmIGlzQ3VycmVudFRpbWVBYm92ZVplcm8pIHtcbiAgICAgIHRpY2thYmxlLm9uVXBkYXRlKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGlja2FibGUpKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8vIEVuZCB0d2VlbnMgcmVuZGVyaW5nXG5cbiAgLy8gSGFuZGxlIHNldHRlcnMgb24gdGltZWxpbmUgZGlmZmVyZW50bHkgYW5kIGFsbG93IHJlLXRyaWdlcmluZyB0aGUgb25Db21wbGV0ZSBjYWxsYmFjayB3aGVuIHNlZWtpbmcgYmFja3dhcmRzXG4gIGlmIChwYXJlbnQgJiYgaXNTZXR0ZXIpIHtcbiAgICBpZiAoIW11dGVDYWxsYmFja3MgJiYgKFxuICAgICAgKHBhcmVudC5iZWdhbiAmJiAhaXNSdW5uaW5nQmFja3dhcmRzICYmIHRpY2thYmxlQWJzb2x1dGVUaW1lID49IGR1cmF0aW9uICYmICFjb21wbGV0ZWQpIHx8XG4gICAgICAoaXNSdW5uaW5nQmFja3dhcmRzICYmIHRpY2thYmxlQWJzb2x1dGVUaW1lIDw9IG1pblZhbHVlICYmIGNvbXBsZXRlZClcbiAgICApKSB7XG4gICAgICB0aWNrYWJsZS5vbkNvbXBsZXRlKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGlja2FibGUpKTtcbiAgICAgIHRpY2thYmxlLmNvbXBsZXRlZCA9ICFpc1J1bm5pbmdCYWNrd2FyZHM7XG4gICAgfVxuICAvLyBJZiBjdXJyZW50VGltZSBpcyBib3RoIGFib3ZlIDAgYW5kIGF0IGxlYXN0IGVxdWFscyB0byBkdXJhdGlvbiwgaGFuZGxlcyBub3JtYWwgb25Db21wbGV0ZSBvciBpbmZpbml0ZSBsb29wc1xuICB9IGVsc2UgaWYgKGlzQ3VycmVudFRpbWVBYm92ZVplcm8gJiYgaXNDdXJyZW50VGltZUVxdWFsT3JBYm92ZUR1cmF0aW9uKSB7XG4gICAgaWYgKGl0ZXJhdGlvbkNvdW50ID09PSBJbmZpbml0eSkge1xuICAgICAgLy8gT2Zmc2V0IHRoZSB0aWNrYWJsZSBfc3RhcnRUaW1lIHdpdGggaXRzIGR1cmF0aW9uIHRvIHJlc2V0IF9jdXJyZW50VGltZSB0byAwIGFuZCBjb250aW51ZSB0aGUgaW5maW5pdGUgdGltZXJcbiAgICAgIHRpY2thYmxlLl9zdGFydFRpbWUgKz0gdGlja2FibGUuZHVyYXRpb247XG4gICAgfSBlbHNlIGlmICh0aWNrYWJsZS5fY3VycmVudEl0ZXJhdGlvbiA+PSBpdGVyYXRpb25Db3VudCAtIDEpIHtcbiAgICAgIC8vIEJ5IHNldHRpbmcgcGF1c2VkIHRvIHRydWUsIHdlIHRlbGwgdGhlIGVuZ2luZSBsb29wIHRvIG5vdCByZW5kZXIgdGhpcyB0aWNrYWJsZSBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBsaXN0IG9uIHRoZSBuZXh0IHRpY2tcbiAgICAgIHRpY2thYmxlLnBhdXNlZCA9IHRydWU7XG4gICAgICBpZiAoIWNvbXBsZXRlZCAmJiAhX2hhc0NoaWxkcmVuKSB7XG4gICAgICAgIC8vIElmIHRoZSB0aWNrYWJsZSBoYXMgY2hpbGRyZW4sIHRyaWdnZXJzIG9uQ29tcGxldGUoKSBvbmx5IHdoZW4gYWxsIGNoaWxkcmVuIGhhdmUgY29tcGxldGVkIGluIHRoZSB0aWNrIGZ1bmN0aW9uXG4gICAgICAgIHRpY2thYmxlLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICghbXV0ZUNhbGxiYWNrcyAmJiAhKHBhcmVudCAmJiAoaXNSdW5uaW5nQmFja3dhcmRzIHx8ICFwYXJlbnQuYmVnYW4pKSkge1xuICAgICAgICAgIHRpY2thYmxlLm9uQ29tcGxldGUoLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0aWNrYWJsZSkpO1xuICAgICAgICAgIHRpY2thYmxlLl9yZXNvbHZlKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGlja2FibGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgLy8gT3RoZXJ3aXNlIHNldCB0aGUgY29tcGxldGVkIGZsYWcgdG8gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICB0aWNrYWJsZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIE5PVEU6IGhhc1JlbmRlcmVkICogZGlyZWN0aW9uIChuZWdhdGl2ZSBmb3IgYmFja3dhcmRzKSB0aGlzIHdheSB3ZSBjYW4gcmVtb3ZlIHRoZSB0aWNrYWJsZS5iYWNrd2FyZHMgcHJvcGVydHkgY29tcGxldGx5ID9cbiAgcmV0dXJuIGhhc1JlbmRlcmVkO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtUaWNrYWJsZX0gdGlja2FibGVcbiAqIEBwYXJhbSAge051bWJlcn0gdGltZVxuICogQHBhcmFtICB7TnVtYmVyfSBtdXRlQ2FsbGJhY2tzXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGludGVybmFsUmVuZGVyXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpY2tNb2RlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5jb25zdCB0aWNrID0gKHRpY2thYmxlLCB0aW1lLCBtdXRlQ2FsbGJhY2tzLCBpbnRlcm5hbFJlbmRlciwgdGlja01vZGUpID0+IHtcbiAgY29uc3QgX2N1cnJlbnRJdGVyYXRpb24gPSB0aWNrYWJsZS5fY3VycmVudEl0ZXJhdGlvbjtcbiAgcmVuZGVyKHRpY2thYmxlLCB0aW1lLCBtdXRlQ2FsbGJhY2tzLCBpbnRlcm5hbFJlbmRlciwgdGlja01vZGUpO1xuICBpZiAodGlja2FibGUuX2hhc0NoaWxkcmVuKSB7XG4gICAgY29uc3QgdGwgPSAvKiogQHR5cGUge1RpbWVsaW5lfSAqLyh0aWNrYWJsZSk7XG4gICAgY29uc3QgdGxJc1J1bm5pbmdCYWNrd2FyZHMgPSB0bC5iYWNrd2FyZHM7XG4gICAgY29uc3QgdGxDaGlsZHJlblRpbWUgPSBpbnRlcm5hbFJlbmRlciA/IHRpbWUgOiB0bC5faXRlcmF0aW9uVGltZTtcbiAgICBjb25zdCB0bENpbGRyZW5UaWNrVGltZSA9IG5vdygpO1xuXG4gICAgbGV0IHRsQ2hpbGRyZW5IYXNSZW5kZXJlZCA9IDA7XG4gICAgbGV0IHRsQ2hpbGRyZW5IYXZlQ29tcGxldGVkID0gdHJ1ZTtcblxuICAgIC8vIElmIHRoZSB0aW1lbGluZSBoYXMgbG9vcGVkIGZvcndhcmQsIHdlIG5lZWQgdG8gbWFudWFsbHkgdHJpZ2dlcnMgY2hpbGRyZW4gc2tpcHBlZCBjYWxsYmFja3NcbiAgICBpZiAoIWludGVybmFsUmVuZGVyICYmIHRsLl9jdXJyZW50SXRlcmF0aW9uICE9PSBfY3VycmVudEl0ZXJhdGlvbikge1xuICAgICAgY29uc3QgdGxJdGVyYXRpb25EdXJhdGlvbiA9IHRsLml0ZXJhdGlvbkR1cmF0aW9uO1xuICAgICAgZm9yRWFjaENoaWxkcmVuKHRsLCAoLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi9jaGlsZCkgPT4ge1xuICAgICAgICBpZiAoIXRsSXNSdW5uaW5nQmFja3dhcmRzKSB7XG4gICAgICAgICAgLy8gRm9yY2UgYW4gaW50ZXJuYWwgcmVuZGVyIHRvIHRyaWdnZXIgdGhlIGNhbGxiYWNrcyBpZiB0aGUgY2hpbGQgaGFzIG5vdCBjb21wbGV0ZWQgb24gbG9vcFxuICAgICAgICAgIGlmICghY2hpbGQuY29tcGxldGVkICYmICFjaGlsZC5iYWNrd2FyZHMgJiYgY2hpbGQuX2N1cnJlbnRUaW1lIDwgY2hpbGQuaXRlcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHJlbmRlcihjaGlsZCwgdGxJdGVyYXRpb25EdXJhdGlvbiwgbXV0ZUNhbGxiYWNrcywgMSwgdGlja01vZGVzLkZPUkNFKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVzZXQgdGhlaXIgYmVnYW4gYW5kIGNvbXBsZXRlZCBmbGFncyB0byBhbGxvdyByZXRyaWdlcmluZyBjYWxsYmFja3Mgb24gdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgY2hpbGQuYmVnYW4gPSBmYWxzZTtcbiAgICAgICAgICBjaGlsZC5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjaGlsZER1cmF0aW9uID0gY2hpbGQuZHVyYXRpb247XG4gICAgICAgICAgY29uc3QgY2hpbGRTdGFydFRpbWUgPSBjaGlsZC5fb2Zmc2V0ICsgY2hpbGQuX2RlbGF5O1xuICAgICAgICAgIGNvbnN0IGNoaWxkRW5kVGltZSA9IGNoaWxkU3RhcnRUaW1lICsgY2hpbGREdXJhdGlvbjtcbiAgICAgICAgICAvLyBUcmlnZ2VycyB0aGUgb25Db21wbGV0ZSBjYWxsYmFjayBvbiByZXZlcnNlIGZvciBjaGlsZHJlbiBvbiB0aGUgZWRnZXMgb2YgdGhlIHRpbWVsaW5lXG4gICAgICAgICAgaWYgKCFtdXRlQ2FsbGJhY2tzICYmIGNoaWxkRHVyYXRpb24gPD0gbWluVmFsdWUgJiYgKCFjaGlsZFN0YXJ0VGltZSB8fCBjaGlsZEVuZFRpbWUgPT09IHRsSXRlcmF0aW9uRHVyYXRpb24pKSB7XG4gICAgICAgICAgICBjaGlsZC5vbkNvbXBsZXRlKGNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFtdXRlQ2FsbGJhY2tzKSB0bC5vbkxvb3AoLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0bCkpO1xuICAgIH1cblxuICAgIGZvckVhY2hDaGlsZHJlbih0bCwgKC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovY2hpbGQpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkVGltZSA9IHJvdW5kKCh0bENoaWxkcmVuVGltZSAtIGNoaWxkLl9vZmZzZXQpICogY2hpbGQuX3NwZWVkLCAxMik7IC8vIFJvdW5kaW5nIGlzIG5lZWRlZCB3aGVuIHVzaW5nIHNlY29uZHNcbiAgICAgIGNvbnN0IGNoaWxkVGlja01vZGUgPSBjaGlsZC5fZnBzIDwgdGwuX2ZwcyA/IGNoaWxkLnJlcXVlc3RUaWNrKHRsQ2lsZHJlblRpY2tUaW1lKSA6IHRpY2tNb2RlO1xuICAgICAgdGxDaGlsZHJlbkhhc1JlbmRlcmVkICs9IHJlbmRlcihjaGlsZCwgY2hpbGRUaW1lLCBtdXRlQ2FsbGJhY2tzLCBpbnRlcm5hbFJlbmRlciwgY2hpbGRUaWNrTW9kZSk7XG4gICAgICBpZiAoIWNoaWxkLmNvbXBsZXRlZCAmJiB0bENoaWxkcmVuSGF2ZUNvbXBsZXRlZCkgdGxDaGlsZHJlbkhhdmVDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB9LCB0bElzUnVubmluZ0JhY2t3YXJkcyk7XG5cbiAgICAvLyBSZW5kZXJzIG9uIHRpbWVsaW5lIGFyZSB0cmlnZ2VyZWQgYnkgaXRzIGNoaWxkcmVuIHNvIGl0IG5lZWRzIHRvIGJlIHNldCBhZnRlciByZW5kZXJpbmcgdGhlIGNoaWxkcmVuXG4gICAgaWYgKCFtdXRlQ2FsbGJhY2tzICYmIHRsQ2hpbGRyZW5IYXNSZW5kZXJlZCkgdGwub25SZW5kZXIoLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0bCkpO1xuXG4gICAgLy8gVHJpZ2dlcnMgdGhlIHRpbWVsaW5lIG9uQ29tcGxldGUoKSBvbmNlIGFsbCBjaGluZHJlbiBhbGwgY29tcGxldGVkIGFuZCB0aGUgY3VycmVudCB0aW1lIGhhcyByZWFjaGVkIHRoZSBlbmRcbiAgICBpZiAodGxDaGlsZHJlbkhhdmVDb21wbGV0ZWQgJiYgdGwuX2N1cnJlbnRUaW1lID49IHRsLmR1cmF0aW9uKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIHBhdXNlZCBmbGFnIGlzIGZhbHNlIGluIGNhc2UgaXQgaGFzIGJlZW4gc2tpcHBlZCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgICB0bC5wYXVzZWQgPSB0cnVlO1xuICAgICAgaWYgKCF0bC5jb21wbGV0ZWQpIHtcbiAgICAgICAgdGwuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFtdXRlQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgdGwub25Db21wbGV0ZSgvKiogQHR5cGUge0NhbGxiYWNrQXJndW1lbnR9ICovKHRsKSk7XG4gICAgICAgICAgdGwuX3Jlc29sdmUoLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0bCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5cblxuXG5jb25zdCBhZGRpdGl2ZSA9IHtcbiAgYW5pbWF0aW9uOiBudWxsLFxuICB1cGRhdGU6IG5vb3AsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIEFkZGl0aXZlQW5pbWF0aW9uXG4gKiBAcHJvcGVydHkge051bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfb2Zmc2V0XG4gKiBAcHJvcGVydHkge051bWJlcn0gX2RlbGF5XG4gKiBAcHJvcGVydHkge1R3ZWVufSBfaGVhZFxuICogQHByb3BlcnR5IHtUd2Vlbn0gX3RhaWxcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSAge1R3ZWVuQWRkaXRpdmVMb29rdXBzfSBsb29rdXBzXG4gKiBAcmV0dXJuIHtBZGRpdGl2ZUFuaW1hdGlvbn1cbiAqL1xuY29uc3QgYWRkQWRkaXRpdmVBbmltYXRpb24gPSBsb29rdXBzID0+IHtcbiAgbGV0IGFuaW1hdGlvbiA9IGFkZGl0aXZlLmFuaW1hdGlvbjtcbiAgaWYgKCFhbmltYXRpb24pIHtcbiAgICBhbmltYXRpb24gPSB7XG4gICAgICBkdXJhdGlvbjogbWluVmFsdWUsXG4gICAgICBjb21wdXRlRGVsdGFUaW1lOiBub29wLFxuICAgICAgX29mZnNldDogMCxcbiAgICAgIF9kZWxheTogMCxcbiAgICAgIF9oZWFkOiBudWxsLFxuICAgICAgX3RhaWw6IG51bGwsXG4gICAgfTtcbiAgICBhZGRpdGl2ZS5hbmltYXRpb24gPSBhbmltYXRpb247XG4gICAgYWRkaXRpdmUudXBkYXRlID0gKCkgPT4ge1xuICAgICAgbG9va3Vwcy5mb3JFYWNoKHByb3BlcnR5QW5pbWF0aW9uID0+IHtcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIGluIHByb3BlcnR5QW5pbWF0aW9uKSB7XG4gICAgICAgICAgY29uc3QgdHdlZW5zID0gcHJvcGVydHlBbmltYXRpb25bcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICBjb25zdCBsb29rdXBUd2VlbiA9IHR3ZWVucy5faGVhZDtcbiAgICAgICAgICBpZiAobG9va3VwVHdlZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IGxvb2t1cFR3ZWVuLl92YWx1ZVR5cGU7XG4gICAgICAgICAgICBjb25zdCBhZGRpdGl2ZVZhbHVlcyA9IHZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlcy5DT01QTEVYIHx8IHZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlcy5DT0xPUiA/IGNsb25lQXJyYXkobG9va3VwVHdlZW4uX2Zyb21OdW1iZXJzKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgYWRkaXRpdmVWYWx1ZSA9IGxvb2t1cFR3ZWVuLl9mcm9tTnVtYmVyO1xuICAgICAgICAgICAgbGV0IHR3ZWVuID0gdHdlZW5zLl90YWlsO1xuICAgICAgICAgICAgd2hpbGUgKHR3ZWVuICYmIHR3ZWVuICE9PSBsb29rdXBUd2Vlbikge1xuICAgICAgICAgICAgICBpZiAoYWRkaXRpdmVWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHR3ZWVuLl9udW1iZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykgYWRkaXRpdmVWYWx1ZXNbaV0gKz0gdHdlZW4uX251bWJlcnNbaV07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkaXRpdmVWYWx1ZSArPSB0d2Vlbi5fbnVtYmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHR3ZWVuID0gdHdlZW4uX3ByZXZBZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb29rdXBUd2Vlbi5fdG9OdW1iZXIgPSBhZGRpdGl2ZVZhbHVlO1xuICAgICAgICAgICAgbG9va3VwVHdlZW4uX3RvTnVtYmVycyA9IGFkZGl0aXZlVmFsdWVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBUT0RPOiBBdm9pZCBwb2x5bW9ycGhpc20gaGVyZSwgaWRlYWx5IHRoZSBhZGRpdGl2ZSBhbmltYXRpb24gc2hvdWxkIGJlIGEgcmVndWxhciBhbmltYXRpb24gd2l0aCBhIGhpZ2hlciBwcmlvcml0eSBpbiB0aGUgcmVuZGVyIGxvb3BcbiAgICAgIHJlbmRlcihhbmltYXRpb24sIDEsIDEsIDAsIHRpY2tNb2Rlcy5GT1JDRSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gYW5pbWF0aW9uO1xufTtcblxuY29uc3QgZW5naW5lVGlja01ldGhvZCA9IGlzQnJvd3NlciA/IHJlcXVlc3RBbmltYXRpb25GcmFtZSA6IHNldEltbWVkaWF0ZTtcbmNvbnN0IGVuZ2luZUNhbmNlbE1ldGhvZCA9IGlzQnJvd3NlciA/IGNhbmNlbEFuaW1hdGlvbkZyYW1lIDogY2xlYXJJbW1lZGlhdGU7XG5cbmNsYXNzIEVuZ2luZSBleHRlbmRzIENsb2NrIHtcblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IFtpbml0VGltZV0gKi9cbiAgY29uc3RydWN0b3IoaW5pdFRpbWUpIHtcbiAgICBzdXBlcihpbml0VGltZSk7XG4gICAgdGhpcy51c2VEZWZhdWx0TWFpbkxvb3AgPSB0cnVlO1xuICAgIHRoaXMucGF1c2VPbkRvY3VtZW50SGlkZGVuID0gdHJ1ZTtcbiAgICAvKiogQHR5cGUge0RlZmF1bHRzUGFyYW1zfSAqL1xuICAgIHRoaXMuZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICB0aGlzLnBhdXNlZCA9IGlzQnJvd3NlciAmJiBkb2MuaGlkZGVuID8gdHJ1ZSAgOiBmYWxzZTtcbiAgICAvKiogQHR5cGUge051bWJlcnxOb2RlSlMuSW1tZWRpYXRlfSAqL1xuICAgIHRoaXMucmVxSWQgPSBudWxsO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHRpbWUgPSB0aGlzLl9jdXJyZW50VGltZSA9IG5vdygpO1xuICAgIGlmICh0aGlzLnJlcXVlc3RUaWNrKHRpbWUpKSB7XG4gICAgICB0aGlzLmNvbXB1dGVEZWx0YVRpbWUodGltZSk7XG4gICAgICBjb25zdCBlbmdpbmVTcGVlZCA9IHRoaXMuX3NwZWVkO1xuICAgICAgY29uc3QgZW5naW5lRnBzID0gdGhpcy5fZnBzO1xuICAgICAgbGV0IGFjdGl2ZVRpY2thYmxlID0gLyoqIEB0eXBlIHtUaWNrYWJsZX0gKi8odGhpcy5faGVhZCk7XG4gICAgICB3aGlsZSAoYWN0aXZlVGlja2FibGUpIHtcbiAgICAgICAgY29uc3QgbmV4dFRpY2thYmxlID0gYWN0aXZlVGlja2FibGUuX25leHQ7XG4gICAgICAgIGlmICghYWN0aXZlVGlja2FibGUucGF1c2VkKSB7XG4gICAgICAgICAgdGljayhcbiAgICAgICAgICAgIGFjdGl2ZVRpY2thYmxlLFxuICAgICAgICAgICAgKHRpbWUgLSBhY3RpdmVUaWNrYWJsZS5fc3RhcnRUaW1lKSAqIGFjdGl2ZVRpY2thYmxlLl9zcGVlZCAqIGVuZ2luZVNwZWVkLFxuICAgICAgICAgICAgMCwgLy8gIW11dGVDYWxsYmFja3NcbiAgICAgICAgICAgIDAsIC8vICFpbnRlcm5hbFJlbmRlclxuICAgICAgICAgICAgYWN0aXZlVGlja2FibGUuX2ZwcyA8IGVuZ2luZUZwcyA/IGFjdGl2ZVRpY2thYmxlLnJlcXVlc3RUaWNrKHRpbWUpIDogdGlja01vZGVzLkFVVE9cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUNoaWxkKHRoaXMsIGFjdGl2ZVRpY2thYmxlKTtcbiAgICAgICAgICB0aGlzLl9oYXNDaGlsZHJlbiA9ICEhdGhpcy5fdGFpbDtcbiAgICAgICAgICBhY3RpdmVUaWNrYWJsZS5fcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChhY3RpdmVUaWNrYWJsZS5jb21wbGV0ZWQgJiYgIWFjdGl2ZVRpY2thYmxlLl9jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGFjdGl2ZVRpY2thYmxlLmNhbmNlbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVUaWNrYWJsZSA9IG5leHRUaWNrYWJsZTtcbiAgICAgIH1cbiAgICAgIGFkZGl0aXZlLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHdha2UoKSB7XG4gICAgaWYgKHRoaXMudXNlRGVmYXVsdE1haW5Mb29wICYmICF0aGlzLnJlcUlkICYmICF0aGlzLnBhdXNlZCkge1xuICAgICAgdGhpcy5yZXFJZCA9IGVuZ2luZVRpY2tNZXRob2QodGlja0VuZ2luZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIHJldHVybiBraWxsRW5naW5lKCk7XG4gIH1cblxuICByZXN1bWUoKSB7XG4gICAgaWYgKCF0aGlzLnBhdXNlZCkgcmV0dXJuO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1RpY2thYmxlfSAqL2NoaWxkKSA9PiBjaGlsZC5yZXNldFRpbWUoKSk7XG4gICAgcmV0dXJuIHRoaXMud2FrZSgpO1xuICB9XG5cbiAgLy8gR2V0dGVyIGFuZCBzZXR0ZXIgZm9yIHNwZWVkXG4gIGdldCBzcGVlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3BlZWQgKiAoZ2xvYmFscy50aW1lU2NhbGUgPT09IDEgPyAxIDogSyk7XG4gIH1cblxuICBzZXQgc3BlZWQocGxheWJhY2tSYXRlKSB7XG4gICAgdGhpcy5fc3BlZWQgPSBwbGF5YmFja1JhdGUgKiBnbG9iYWxzLnRpbWVTY2FsZTtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7VGlja2FibGV9ICovY2hpbGQpID0+IGNoaWxkLnNwZWVkID0gY2hpbGQuX3NwZWVkKTtcbiAgfVxuXG4gIC8vIEdldHRlciBhbmQgc2V0dGVyIGZvciB0aW1lVW5pdFxuICBnZXQgdGltZVVuaXQoKSB7XG4gICAgcmV0dXJuIGdsb2JhbHMudGltZVNjYWxlID09PSAxID8gJ21zJyA6ICdzJztcbiAgfTtcblxuICBzZXQgdGltZVVuaXQodW5pdCkge1xuICAgIGNvbnN0IHNlY29uZHNTY2FsZSA9IDAuMDAxO1xuICAgIGNvbnN0IGlzU2Vjb25kID0gdW5pdCA9PT0gJ3MnO1xuICAgIGNvbnN0IG5ld1NjYWxlID0gaXNTZWNvbmQgPyBzZWNvbmRzU2NhbGUgOiAxO1xuICAgIGlmIChnbG9iYWxzLnRpbWVTY2FsZSAhPT0gbmV3U2NhbGUpIHtcbiAgICAgIGdsb2JhbHMudGltZVNjYWxlID0gbmV3U2NhbGU7XG4gICAgICBnbG9iYWxzLnRpY2tUaHJlc2hvbGQgPSAyMDAgKiBuZXdTY2FsZTtcbiAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gaXNTZWNvbmQgPyBzZWNvbmRzU2NhbGUgOiBLO1xuICAgICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgICAodGhpcy5kZWZhdWx0cy5kdXJhdGlvbikgKj0gc2NhbGVGYWN0b3I7XG4gICAgICB0aGlzLl9zcGVlZCAqPSBzY2FsZUZhY3RvcjtcbiAgICB9XG4gIH1cblxuICAvLyBHZXR0ZXIgYW5kIHNldHRlciBmb3IgcHJlY2lzaW9uXG4gIGdldCBwcmVjaXNpb24oKSB7XG4gICAgcmV0dXJuIGdsb2JhbHMucHJlY2lzaW9uO1xuICB9XG5cbiAgc2V0IHByZWNpc2lvbihwcmVjaXNpb24pIHtcbiAgICBnbG9iYWxzLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgfVxuXG59XG5jb25zdCBlbmdpbmUgPSAvKiNfX1BVUkVfXyovKCgpID0+IHtcbiAgY29uc3QgZW5naW5lID0gbmV3IEVuZ2luZShub3coKSk7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBnbG9iYWxWZXJzaW9ucy5lbmdpbmUgPSBlbmdpbmU7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIWVuZ2luZS5wYXVzZU9uRG9jdW1lbnRIaWRkZW4pIHJldHVybjtcbiAgICAgIGRvYy5oaWRkZW4gPyBlbmdpbmUucGF1c2UoKSA6IGVuZ2luZS5yZXN1bWUoKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZW5naW5lO1xufSkoKTtcblxuXG5jb25zdCB0aWNrRW5naW5lID0gKCkgPT4ge1xuICBpZiAoZW5naW5lLl9oZWFkKSB7XG4gICAgZW5naW5lLnJlcUlkID0gZW5naW5lVGlja01ldGhvZCh0aWNrRW5naW5lKTtcbiAgICBlbmdpbmUudXBkYXRlKCk7XG4gIH0gZWxzZSB7XG4gICAgZW5naW5lLnJlcUlkID0gMDtcbiAgfVxufTtcblxuY29uc3Qga2lsbEVuZ2luZSA9ICgpID0+IHtcbiAgZW5naW5lQ2FuY2VsTWV0aG9kKC8qKiBAdHlwZSB7Tm9kZUpTLkltbWVkaWF0ZSAmIE51bWJlcn0gKi8oZW5naW5lLnJlcUlkKSk7XG4gIGVuZ2luZS5yZXFJZCA9IDA7XG4gIHJldHVybiBlbmdpbmU7XG59O1xuXG5cblxuXG4vKipcbiAqIEBwYXJhbSAge0RPTVRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gIHtPYmplY3R9IGFuaW1hdGlvbklubGluZVN0eWxlc1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCBwYXJzZUlubGluZVRyYW5zZm9ybXMgPSAodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0aW9uSW5saW5lU3R5bGVzKSA9PiB7XG4gIGNvbnN0IGlubGluZVRyYW5zZm9ybXMgPSB0YXJnZXQuc3R5bGUudHJhbnNmb3JtO1xuICBsZXQgaW5saW5lZFN0eWxlc1Byb3BlcnR5VmFsdWU7XG4gIGlmIChpbmxpbmVUcmFuc2Zvcm1zKSB7XG4gICAgY29uc3QgY2FjaGVkVHJhbnNmb3JtcyA9IHRhcmdldFt0cmFuc2Zvcm1zU3ltYm9sXTtcbiAgICBsZXQgdDsgd2hpbGUgKHQgPSB0cmFuc2Zvcm1zRXhlY1JneC5leGVjKGlubGluZVRyYW5zZm9ybXMpKSB7XG4gICAgICBjb25zdCBpbmxpbmVQcm9wZXJ0eU5hbWUgPSB0WzFdO1xuICAgICAgLy8gY29uc3QgaW5saW5lUHJvcGVydHlWYWx1ZSA9IHRbMl07XG4gICAgICBjb25zdCBpbmxpbmVQcm9wZXJ0eVZhbHVlID0gdFsyXS5zbGljZSgxLCAtMSk7XG4gICAgICBjYWNoZWRUcmFuc2Zvcm1zW2lubGluZVByb3BlcnR5TmFtZV0gPSBpbmxpbmVQcm9wZXJ0eVZhbHVlO1xuICAgICAgaWYgKGlubGluZVByb3BlcnR5TmFtZSA9PT0gcHJvcE5hbWUpIHtcbiAgICAgICAgaW5saW5lZFN0eWxlc1Byb3BlcnR5VmFsdWUgPSBpbmxpbmVQcm9wZXJ0eVZhbHVlO1xuICAgICAgICAvLyBTdG9yZSB0aGUgbmV3IHBhcnNlZCBpbmxpbmUgc3R5bGVzIGlmIGFuaW1hdGlvbklubGluZVN0eWxlcyBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoYW5pbWF0aW9uSW5saW5lU3R5bGVzKSB7XG4gICAgICAgICAgYW5pbWF0aW9uSW5saW5lU3R5bGVzW3Byb3BOYW1lXSA9IGlubGluZVByb3BlcnR5VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlubGluZVRyYW5zZm9ybXMgJiYgIWlzVW5kKGlubGluZWRTdHlsZXNQcm9wZXJ0eVZhbHVlKSA/IGlubGluZWRTdHlsZXNQcm9wZXJ0eVZhbHVlIDpcbiAgICBzdHJpbmdTdGFydHNXaXRoKHByb3BOYW1lLCAnc2NhbGUnKSA/ICcxJyA6XG4gICAgc3RyaW5nU3RhcnRzV2l0aChwcm9wTmFtZSwgJ3JvdGF0ZScpIHx8IHN0cmluZ1N0YXJ0c1dpdGgocHJvcE5hbWUsICdza2V3JykgPyAnMGRlZycgOiAnMHB4Jztcbn07XG5cblxuXG5cbi8qKlxuICogQHBhcmFtICB7RE9NVGFyZ2V0c1BhcmFtfFRhcmdldHNQYXJhbX0gdlxuICogQHJldHVybiB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVMaXN0KHYpIHtcbiAgY29uc3QgbiA9IGlzU3RyKHYpID8gZ2xvYmFscy5yb290LnF1ZXJ5U2VsZWN0b3JBbGwodikgOiB2O1xuICBpZiAobiBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG4gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikgcmV0dXJuIG47XG59XG5cbi8qKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtET01UYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEByZXR1cm4ge0RPTVRhcmdldHNBcnJheX1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge0pTVGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKiBAcmV0dXJuIHtKU1RhcmdldHNBcnJheX1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHJldHVybiB7VGFyZ2V0c0FycmF5fVxuICpcbiAqIEBwYXJhbSAge0RPTVRhcmdldHNQYXJhbXxKU1RhcmdldHNQYXJhbXxUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqL1xuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgaWYgKGlzTmlsKHRhcmdldHMpKSByZXR1cm4gLyoqIEB0eXBlIHtUYXJnZXRzQXJyYXl9ICovKFtdKTtcbiAgaWYgKGlzQXJyKHRhcmdldHMpKSB7XG4gICAgY29uc3QgZmxhdHRlbmVkID0gdGFyZ2V0cy5mbGF0KEluZmluaXR5KTtcbiAgICAvKiogQHR5cGUge1RhcmdldHNBcnJheX0gKi9cbiAgICBjb25zdCBwYXJzZWQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGZsYXR0ZW5lZC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBmbGF0dGVuZWRbaV07XG4gICAgICBpZiAoIWlzTmlsKGl0ZW0pKSB7XG4gICAgICAgIGNvbnN0IG5vZGVMaXN0ID0gZ2V0Tm9kZUxpc3QoaXRlbSk7XG4gICAgICAgIGlmIChub2RlTGlzdCkge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqbCA9IG5vZGVMaXN0Lmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Ykl0ZW0gPSBub2RlTGlzdFtqXTtcbiAgICAgICAgICAgIGlmICghaXNOaWwoc3ViSXRlbSkpIHtcbiAgICAgICAgICAgICAgbGV0IGlzRHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwLCBrbCA9IHBhcnNlZC5sZW5ndGg7IGsgPCBrbDsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZFtrXSA9PT0gc3ViSXRlbSkge1xuICAgICAgICAgICAgICAgICAgaXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQucHVzaChzdWJJdGVtKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaXNEdXBsaWNhdGUgPSBmYWxzZTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgamwgPSBwYXJzZWQubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnNlZFtqXSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgICBpc0R1cGxpY2F0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICBwYXJzZWQucHVzaChpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuICBpZiAoIWlzQnJvd3NlcikgcmV0dXJuIC8qKiBAdHlwZSB7SlNUYXJnZXRzQXJyYXl9ICovKFt0YXJnZXRzXSk7XG4gIGNvbnN0IG5vZGVMaXN0ID0gZ2V0Tm9kZUxpc3QodGFyZ2V0cyk7XG4gIGlmIChub2RlTGlzdCkgcmV0dXJuIC8qKiBAdHlwZSB7RE9NVGFyZ2V0c0FycmF5fSAqLyhBcnJheS5mcm9tKG5vZGVMaXN0KSk7XG4gIHJldHVybiAvKiogQHR5cGUge1RhcmdldHNBcnJheX0gKi8oW3RhcmdldHNdKTtcbn1cblxuLyoqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge0RPTVRhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHJldHVybiB7RE9NVGFyZ2V0c0FycmF5fVxuICpcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7SlNUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEByZXR1cm4ge0pTVGFyZ2V0c0FycmF5fVxuICpcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKiBAcmV0dXJuIHtUYXJnZXRzQXJyYXl9XG4gKlxuICogQHBhcmFtICB7RE9NVGFyZ2V0c1BhcmFtfEpTVGFyZ2V0c1BhcmFtfFRhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICovXG5mdW5jdGlvbiByZWdpc3RlclRhcmdldHModGFyZ2V0cykge1xuICBjb25zdCBwYXJzZWRUYXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGNvbnN0IHBhcnNlZFRhcmdldHNMZW5ndGggPSBwYXJzZWRUYXJnZXRzQXJyYXkubGVuZ3RoO1xuICBpZiAocGFyc2VkVGFyZ2V0c0xlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkVGFyZ2V0c0xlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYXJzZWRUYXJnZXRzQXJyYXlbaV07XG4gICAgICBpZiAoIXRhcmdldFtpc1JlZ2lzdGVyZWRUYXJnZXRTeW1ib2xdKSB7XG4gICAgICAgIHRhcmdldFtpc1JlZ2lzdGVyZWRUYXJnZXRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaXNTdmdUeXBlID0gaXNTdmcodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaXNEb20gPSAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odGFyZ2V0KS5ub2RlVHlwZSB8fCBpc1N2Z1R5cGU7XG4gICAgICAgIGlmIChpc0RvbSkge1xuICAgICAgICAgIHRhcmdldFtpc0RvbVN5bWJvbF0gPSB0cnVlO1xuICAgICAgICAgIHRhcmdldFtpc1N2Z1N5bWJvbF0gPSBpc1N2Z1R5cGU7XG4gICAgICAgICAgdGFyZ2V0W3RyYW5zZm9ybXNTeW1ib2xdID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZFRhcmdldHNBcnJheTtcbn1cblxuXG5cblxuLyoqXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IHBhdGhcbiAqIEByZXR1cm4ge1NWR0dlb21ldHJ5RWxlbWVudHx1bmRlZmluZWR9XG4gKi9cbmNvbnN0IGdldFBhdGggPSBwYXRoID0+IHtcbiAgY29uc3QgcGFyc2VkVGFyZ2V0cyA9IHBhcnNlVGFyZ2V0cyhwYXRoKTtcbiAgY29uc3QgJHBhcnNlZFN2ZyA9IC8qKiBAdHlwZSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAqLyhwYXJzZWRUYXJnZXRzWzBdKTtcbiAgaWYgKCEkcGFyc2VkU3ZnIHx8ICFpc1N2ZygkcGFyc2VkU3ZnKSkgcmV0dXJuO1xuICByZXR1cm4gJHBhcnNlZFN2Zztcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VGFyZ2V0c1BhcmFtfSBwYXRoMlxuICogQHBhcmFtICB7TnVtYmVyfSBbcHJlY2lzaW9uXVxuICogQHJldHVybiB7RnVuY3Rpb25WYWx1ZX1cbiAqL1xuY29uc3QgbW9ycGhUbyA9IChwYXRoMiwgcHJlY2lzaW9uID0gLjMzKSA9PiAoJHBhdGgxKSA9PiB7XG4gIGNvbnN0ICRwYXRoMiA9IC8qKiBAdHlwZSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAqLyhnZXRQYXRoKHBhdGgyKSk7XG4gIGlmICghJHBhdGgyKSByZXR1cm47XG4gIGNvbnN0IGlzUGF0aCA9ICRwYXRoMS50YWdOYW1lID09PSAncGF0aCc7XG4gIGNvbnN0IHNlcGFyYXRvciA9IGlzUGF0aCA/ICcgJyA6ICcsJztcbiAgY29uc3QgcHJldmlvdXNQb2ludHMgPSAkcGF0aDFbbW9ycGhQb2ludHNTeW1ib2xdO1xuICBpZiAocHJldmlvdXNQb2ludHMpICRwYXRoMS5zZXRBdHRyaWJ1dGUoaXNQYXRoID8gJ2QnIDogJ3BvaW50cycsIHByZXZpb3VzUG9pbnRzKTtcblxuICBsZXQgdjEgPSAnJywgdjIgPSAnJztcblxuICBpZiAoIXByZWNpc2lvbikge1xuICAgIHYxID0gJHBhdGgxLmdldEF0dHJpYnV0ZShpc1BhdGggPyAnZCcgOiAncG9pbnRzJyk7XG4gICAgdjIgPSAkcGF0aDIuZ2V0QXR0cmlidXRlKGlzUGF0aCA/ICdkJyA6ICdwb2ludHMnKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsZW5ndGgxID0gLyoqIEB0eXBlIHtTVkdHZW9tZXRyeUVsZW1lbnR9ICovKCRwYXRoMSkuZ2V0VG90YWxMZW5ndGgoKTtcbiAgICBjb25zdCBsZW5ndGgyID0gJHBhdGgyLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgY29uc3QgbWF4UG9pbnRzID0gTWF0aC5tYXgoTWF0aC5jZWlsKGxlbmd0aDEgKiBwcmVjaXNpb24pLCBNYXRoLmNlaWwobGVuZ3RoMiAqIHByZWNpc2lvbikpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4UG9pbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IHQgPSBpIC8gKG1heFBvaW50cyAtIDEpO1xuICAgICAgY29uc3QgcG9pbnRPblBhdGgxID0gLyoqIEB0eXBlIHtTVkdHZW9tZXRyeUVsZW1lbnR9ICovKCRwYXRoMSkuZ2V0UG9pbnRBdExlbmd0aChsZW5ndGgxICogdCk7XG4gICAgICBjb25zdCBwb2ludE9uUGF0aDIgPSAkcGF0aDIuZ2V0UG9pbnRBdExlbmd0aChsZW5ndGgyICogdCk7XG4gICAgICBjb25zdCBwcmVmaXggPSBpc1BhdGggPyAoaSA9PT0gMCA/ICdNJyA6ICdMJykgOiAnJztcbiAgICAgIHYxICs9IHByZWZpeCArIHJvdW5kKHBvaW50T25QYXRoMS54LCAzKSArIHNlcGFyYXRvciArIHBvaW50T25QYXRoMS55ICsgJyAnO1xuICAgICAgdjIgKz0gcHJlZml4ICsgcm91bmQocG9pbnRPblBhdGgyLngsIDMpICsgc2VwYXJhdG9yICsgcG9pbnRPblBhdGgyLnkgKyAnICc7XG4gICAgfVxuICB9XG5cbiAgJHBhdGgxW21vcnBoUG9pbnRzU3ltYm9sXSA9IHYyO1xuXG4gIHJldHVybiBbdjEsIHYyXTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtTVkdHZW9tZXRyeUVsZW1lbnR9ICRlbFxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0XG4gKiBAcGFyYW0ge051bWJlcn0gZW5kXG4gKiBAcmV0dXJuIHtQcm94eX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRHJhd2FibGVQcm94eSgkZWwsIHN0YXJ0LCBlbmQpIHtcbiAgY29uc3Qgc3Ryb2tlTGluZUNhcCA9IGdldENvbXB1dGVkU3R5bGUoJGVsKS5zdHJva2VMaW5lY2FwO1xuICBjb25zdCBwYXRoTGVuZ3RoID0gSztcbiAgbGV0IGN1cnJlbnRDYXAgPSBzdHJva2VMaW5lQ2FwO1xuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSgkZWwsIHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wZXJ0eSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcGVydHldO1xuICAgICAgaWYgKHByb3BlcnR5ID09PSBwcm94eVRhcmdldFN5bWJvbCkgcmV0dXJuIHRhcmdldDtcbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NldEF0dHJpYnV0ZScpIHtcbiAgICAgICAgLyoqIEBwYXJhbSB7YW55W119IGFyZ3MgKi9cbiAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKGFyZ3NbMF0gPT09ICdkcmF3Jykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhcmdzWzFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIGNvbnN0IHYxID0gK3ZhbHVlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHYyID0gK3ZhbHVlc1sxXTtcblxuICAgICAgICAgICAgLy8gVE9UTzogQmVuY2htYXJrIGlmIHBlcmZvcm1pbmcgdHdvIHNsaWNlcyBpcyBtb3JlIHBlcmZvcm1hbnQgdGhhbiBvbmUgc3BsaXRcblxuICAgICAgICAgICAgLy8gY29uc3Qgc3BhY2VJbmRleCA9IHZhbHVlLmluZGV4T2YoJyAnKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IHYxID0gcm91bmQoK3ZhbHVlLnNsaWNlKDAsIHNwYWNlSW5kZXgpLCBwcmVjaXNpb24pO1xuICAgICAgICAgICAgLy8gY29uc3QgdjIgPSByb3VuZCgrdmFsdWUuc2xpY2Uoc3BhY2VJbmRleCArIDEpLCBwcmVjaXNpb24pO1xuXG4gICAgICAgICAgICBjb25zdCBvcyA9IHYxICogLTFlMztcbiAgICAgICAgICAgIGNvbnN0IGQxID0gKHYyICogcGF0aExlbmd0aCkgKyBvcztcbiAgICAgICAgICAgIC8vIFByZXZlbnRzIGxpbmVjYXAgdG8gc21lYXIgYnkgb2Zmc2V0dGluZyB0aGUgZGFzaGFycmF5IGxlbmd0aCBieSAwLjAxJSB3aGVuIHYyIGlzIG5vdCBhdCBtYXhcbiAgICAgICAgICAgIGNvbnN0IGQyID0gKHBhdGhMZW5ndGggKyAoKHYxID09PSAwICYmIHYyID09PSAxKSB8fCAodjEgPT09IDEgJiYgdjIgPT09IDApID8gMCA6IDEwKSAtIGQxKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB0aGUgY2FwIGlzIHN0aWxsIHZpc2libGUgd2hlbiB0aGUgbGluZSBpcyBjb21wbGV0bHkgaGlkZGVuXG4gICAgICAgICAgICBpZiAoc3Ryb2tlTGluZUNhcCAhPT0gJ2J1dHQnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0NhcCA9IHYxID09PSB2MiA/ICdidXR0JyA6IHN0cm9rZUxpbmVDYXA7XG4gICAgICAgICAgICAgIGlmIChjdXJyZW50Q2FwICE9PSBuZXdDYXApIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsIGAke25ld0NhcH1gKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2FwID0gbmV3Q2FwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaG9mZnNldCcsIGAke29zfWApO1xuICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIGAke2QxfSAke2QyfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh2YWx1ZSwgdGFyZ2V0LCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0ZuYyh2YWx1ZSkpIHtcbiAgICAgICAgLyoqIEBwYXJhbSB7YW55W119IGFyZ3MgKi9cbiAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiBSZWZsZWN0LmFwcGx5KHZhbHVlLCB0YXJnZXQsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmICgkZWwuZ2V0QXR0cmlidXRlKCdwYXRoTGVuZ3RoJykgIT09IGAke3BhdGhMZW5ndGh9YCkge1xuICAgICRlbC5zZXRBdHRyaWJ1dGUoJ3BhdGhMZW5ndGgnLCBgJHtwYXRoTGVuZ3RofWApO1xuICAgIHByb3h5LnNldEF0dHJpYnV0ZSgnZHJhdycsIGAke3N0YXJ0fSAke2VuZH1gKTtcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHt0eXBlb2YgUHJveHl9ICovKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8ocHJveHkpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RhcmdldHNQYXJhbX0gc2VsZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kPTBdXG4gKiBAcmV0dXJuIHtBcnJheS48UHJveHk+fVxuICovXG5jb25zdCBjcmVhdGVEcmF3YWJsZSA9IChzZWxlY3Rvciwgc3RhcnQgPSAwLCBlbmQgPSAwKSA9PiB7XG4gIGNvbnN0IGVscyA9IC8qKiBAdHlwZSB7QXJyYXkuPFByb3h5Pn0gKi8oKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8ocGFyc2VUYXJnZXRzKHNlbGVjdG9yKSkpKTtcbiAgZWxzLmZvckVhY2goKCRlbCwgaSkgPT4gZWxzW2ldID0gY3JlYXRlRHJhd2FibGVQcm94eSgvKiogQHR5cGUge1NWR0dlb21ldHJ5RWxlbWVudH0gKi8oLyoqIEB0eXBlIHt1bmtub3dufSAqLygkZWwpKSwgc3RhcnQsIGVuZCkpO1xuICByZXR1cm4gZWxzO1xufTtcblxuLy8gTW90aW9uIHBhdGggYW5pbWF0aW9uXG5cbi8qKlxuICogQHBhcmFtIHtTVkdHZW9tZXRyeUVsZW1lbnR9ICRwYXRoXG4gKiBAcGFyYW0ge051bWJlcn0gcHJvZ3Jlc3NcbiAqIEBwYXJhbSB7TnVtYmVyfWxvb2t1cFxuICogQHJldHVybiB7RE9NUG9pbnR9XG4gKi9cbmNvbnN0IGdldFBhdGhQb2ludCA9ICgkcGF0aCwgcHJvZ3Jlc3MsIGxvb2t1cCA9IDApID0+IHtcbiAgcmV0dXJuICRwYXRoLmdldFBvaW50QXRMZW5ndGgocHJvZ3Jlc3MgKyBsb29rdXAgPj0gMSA/IHByb2dyZXNzICsgbG9va3VwIDogMCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAkcGF0aFxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhQcm9wZXJ0eVxuICogQHJldHVybiB7RnVuY3Rpb25WYWx1ZX1cbiAqL1xuY29uc3QgZ2V0UGF0aFByb2dlc3MgPSAoJHBhdGgsIHBhdGhQcm9wZXJ0eSkgPT4ge1xuICByZXR1cm4gJGVsID0+IHtcbiAgICBjb25zdCB0b3RhbExlbmd0aCA9ICsoJHBhdGguZ2V0VG90YWxMZW5ndGgoKSk7XG4gICAgY29uc3QgaW5TdmcgPSAkZWxbaXNTdmdTeW1ib2xdO1xuICAgIGNvbnN0IGN0bSA9ICRwYXRoLmdldENUTSgpO1xuICAgIC8qKiBAdHlwZSB7VHdlZW5PYmplY3RWYWx1ZX0gKi9cbiAgICByZXR1cm4ge1xuICAgICAgZnJvbTogMCxcbiAgICAgIHRvOiB0b3RhbExlbmd0aCxcbiAgICAgIC8qKiBAdHlwZSB7VHdlZW5Nb2RpZmllcn0gKi9cbiAgICAgIG1vZGlmaWVyOiBwcm9ncmVzcyA9PiB7XG4gICAgICAgIGlmIChwYXRoUHJvcGVydHkgPT09ICdhJykge1xuICAgICAgICAgIGNvbnN0IHAwID0gZ2V0UGF0aFBvaW50KCRwYXRoLCBwcm9ncmVzcywgLTEpO1xuICAgICAgICAgIGNvbnN0IHAxID0gZ2V0UGF0aFBvaW50KCRwYXRoLCBwcm9ncmVzcywgMSk7XG4gICAgICAgICAgcmV0dXJuIGF0YW4yKHAxLnkgLSBwMC55LCBwMS54IC0gcDAueCkgKiAxODAgLyBQSTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBwID0gZ2V0UGF0aFBvaW50KCRwYXRoLCBwcm9ncmVzcywgMCk7XG4gICAgICAgICAgcmV0dXJuIHBhdGhQcm9wZXJ0eSA9PT0gJ3gnID9cbiAgICAgICAgICAgIGluU3ZnIHx8ICFjdG0gPyBwLnggOiBwLnggKiBjdG0uYSArIHAueSAqIGN0bS5jICsgY3RtLmUgOlxuICAgICAgICAgICAgaW5TdmcgfHwgIWN0bSA/IHAueSA6IHAueCAqIGN0bS5iICsgcC55ICogY3RtLmQgKyBjdG0uZlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSBwYXRoXG4gKi9cbmNvbnN0IGNyZWF0ZU1vdGlvblBhdGggPSBwYXRoID0+IHtcbiAgY29uc3QgJHBhdGggPSBnZXRQYXRoKHBhdGgpO1xuICBpZiAoISRwYXRoKSByZXR1cm47XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZ2V0UGF0aFByb2dlc3MoJHBhdGgsICd4JyksXG4gICAgdHJhbnNsYXRlWTogZ2V0UGF0aFByb2dlc3MoJHBhdGgsICd5JyksXG4gICAgcm90YXRlOiBnZXRQYXRoUHJvZ2VzcygkcGF0aCwgJ2EnKSxcbiAgfVxufTtcblxuLy8gQ2hlY2sgZm9yIHZhbGlkIFNWRyBhdHRyaWJ1dGVcblxuY29uc3QgY3NzUmVzZXJ2ZWRQcm9wZXJ0aWVzID0gWydvcGFjaXR5JywgJ3JvdGF0ZScsICdvdmVyZmxvdycsICdjb2xvciddO1xuXG4vKipcbiAqIEBwYXJhbSAge1RhcmdldH0gZWxcbiAqIEBwYXJhbSAge1N0cmluZ30gcHJvcGVydHlOYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5jb25zdCBpc1ZhbGlkU1ZHQXR0cmlidXRlID0gKGVsLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgLy8gUmV0dXJuIGVhcmx5IGFuZCB1c2UgQ1NTIG9wYWNpdHkgYW5pbWF0aW9uIGluc3RlYWQgKGFscmVhZHkgYmV0dGVyIGRlZmF1bHQgdmFsdWVzIChvcGFjaXR5OiAxIGluc3RlYWQgb2YgMCkpIGFuZCByb3RhdGUgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSB0cmFuc2Zvcm1cbiAgaWYgKGNzc1Jlc2VydmVkUHJvcGVydGllcy5pbmNsdWRlcyhwcm9wZXJ0eU5hbWUpKSByZXR1cm4gZmFsc2U7XG4gIGlmIChlbC5nZXRBdHRyaWJ1dGUocHJvcGVydHlOYW1lKSB8fCBwcm9wZXJ0eU5hbWUgaW4gZWwpIHtcbiAgICBpZiAocHJvcGVydHlOYW1lID09PSAnc2NhbGUnKSB7IC8vIFNjYWxlXG4gICAgICBjb25zdCBlbFBhcmVudE5vZGUgPSAvKiogQHR5cGUge1NWR0dlb21ldHJ5RWxlbWVudH0gKi8oLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKGVsKS5wYXJlbnROb2RlKTtcbiAgICAgIC8vIE9ubHkgY29uc2lkZXIgc2NhbGUgYXMgYSB2YWxpZCBTVkcgYXR0cmlidXRlIG9uIGZpbHRlciBlbGVtZW50XG4gICAgICByZXR1cm4gZWxQYXJlbnROb2RlICYmIGVsUGFyZW50Tm9kZS50YWdOYW1lID09PSAnZmlsdGVyJztcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbmNvbnN0IHN2ZyA9IHtcbiAgbW9ycGhUbyxcbiAgY3JlYXRlTW90aW9uUGF0aCxcbiAgY3JlYXRlRHJhd2FibGUsXG59O1xuXG5cblxuXG4vKipcbiAqIFJHQiAvIFJHQkEgQ29sb3IgdmFsdWUgc3RyaW5nIC0+IFJHQkEgdmFsdWVzIGFycmF5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IHJnYlZhbHVlXG4gKiBAcmV0dXJuIHtDb2xvckFycmF5fVxuICovXG5jb25zdCByZ2JUb1JnYmEgPSByZ2JWYWx1ZSA9PiB7XG4gIGNvbnN0IHJnYmEgPSByZ2JFeGVjUmd4LmV4ZWMocmdiVmFsdWUpIHx8IHJnYmFFeGVjUmd4LmV4ZWMocmdiVmFsdWUpO1xuICBjb25zdCBhID0gIWlzVW5kKHJnYmFbNF0pID8gK3JnYmFbNF0gOiAxO1xuICByZXR1cm4gW1xuICAgICtyZ2JhWzFdLFxuICAgICtyZ2JhWzJdLFxuICAgICtyZ2JhWzNdLFxuICAgIGFcbiAgXVxufTtcblxuLyoqXG4gKiBIRVgzIC8gSEVYM0EgLyBIRVg2IC8gSEVYNkEgQ29sb3IgdmFsdWUgc3RyaW5nIC0+IFJHQkEgdmFsdWVzIGFycmF5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IGhleFZhbHVlXG4gKiBAcmV0dXJuIHtDb2xvckFycmF5fVxuICovXG5jb25zdCBoZXhUb1JnYmEgPSBoZXhWYWx1ZSA9PiB7XG4gIGNvbnN0IGhleExlbmd0aCA9IGhleFZhbHVlLmxlbmd0aDtcbiAgY29uc3QgaXNTaG9ydCA9IGhleExlbmd0aCA9PT0gNCB8fCBoZXhMZW5ndGggPT09IDU7XG4gIHJldHVybiBbXG4gICAgKygnMHgnICsgaGV4VmFsdWVbMV0gKyBoZXhWYWx1ZVtpc1Nob3J0ID8gMSA6IDJdKSxcbiAgICArKCcweCcgKyBoZXhWYWx1ZVtpc1Nob3J0ID8gMiA6IDNdICsgaGV4VmFsdWVbaXNTaG9ydCA/IDIgOiA0XSksXG4gICAgKygnMHgnICsgaGV4VmFsdWVbaXNTaG9ydCA/IDMgOiA1XSArIGhleFZhbHVlW2lzU2hvcnQgPyAzIDogNl0pLFxuICAgICgoaGV4TGVuZ3RoID09PSA1IHx8IGhleExlbmd0aCA9PT0gOSkgPyArKCsoJzB4JyArIGhleFZhbHVlW2lzU2hvcnQgPyA0IDogN10gKyBoZXhWYWx1ZVtpc1Nob3J0ID8gNCA6IDhdKSAvIDI1NSkudG9GaXhlZCgzKSA6IDEpXG4gIF1cbn07XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSBwXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHFcbiAqIEBwYXJhbSAge051bWJlcn0gdFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBodWUycmdiID0gKHAsIHEsIHQpID0+IHtcbiAgaWYgKHQgPCAwKSB0ICs9IDE7XG4gIGlmICh0ID4gMSkgdCAtPSAxO1xuICByZXR1cm4gdCA8IDEgLyA2ID8gcCArIChxIC0gcCkgKiA2ICogdCA6XG4gICAgICAgICB0IDwgMSAvIDIgPyBxIDpcbiAgICAgICAgIHQgPCAyIC8gMyA/IHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2IDpcbiAgICAgICAgIHA7XG59O1xuXG4vKipcbiAqIEhTTCAvIEhTTEEgQ29sb3IgdmFsdWUgc3RyaW5nIC0+IFJHQkEgdmFsdWVzIGFycmF5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IGhzbFZhbHVlXG4gKiBAcmV0dXJuIHtDb2xvckFycmF5fVxuICovXG5jb25zdCBoc2xUb1JnYmEgPSBoc2xWYWx1ZSA9PiB7XG4gIGNvbnN0IGhzbGEgPSBoc2xFeGVjUmd4LmV4ZWMoaHNsVmFsdWUpIHx8IGhzbGFFeGVjUmd4LmV4ZWMoaHNsVmFsdWUpO1xuICBjb25zdCBoID0gK2hzbGFbMV0gLyAzNjA7XG4gIGNvbnN0IHMgPSAraHNsYVsyXSAvIDEwMDtcbiAgY29uc3QgbCA9ICtoc2xhWzNdIC8gMTAwO1xuICBjb25zdCBhID0gIWlzVW5kKGhzbGFbNF0pID8gK2hzbGFbNF0gOiAxO1xuICBsZXQgciwgZywgYjtcbiAgaWYgKHMgPT09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHEgPSBsIDwgLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgY29uc3QgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gcm91bmQoaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpICogMjU1LCAwKTtcbiAgICBnID0gcm91bmQoaHVlMnJnYihwLCBxLCBoKSAqIDI1NSwgMCk7XG4gICAgYiA9IHJvdW5kKGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKSAqIDI1NSwgMCk7XG4gIH1cbiAgcmV0dXJuIFtyLCBnLCBiLCBhXTtcbn07XG5cbi8qKlxuICogQWxsIGluIG9uZSBjb2xvciBjb252ZXJ0ZXIgdGhhdCBjb252ZXJ0cyBhIGNvbG9yIHN0cmluZyB2YWx1ZSBpbnRvIGFuIGFycmF5IG9mIFJHQkEgdmFsdWVzXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGNvbG9yU3RyaW5nXG4gKiBAcmV0dXJuIHtDb2xvckFycmF5fVxuICovXG5jb25zdCBjb252ZXJ0Q29sb3JTdHJpbmdWYWx1ZXNUb1JnYmFBcnJheSA9IGNvbG9yU3RyaW5nID0+IHtcbiAgcmV0dXJuIGlzUmdiKGNvbG9yU3RyaW5nKSA/IHJnYlRvUmdiYShjb2xvclN0cmluZykgOlxuICAgICAgICAgaXNIZXgoY29sb3JTdHJpbmcpID8gaGV4VG9SZ2JhKGNvbG9yU3RyaW5nKSA6XG4gICAgICAgICBpc0hzbChjb2xvclN0cmluZykgPyBoc2xUb1JnYmEoY29sb3JTdHJpbmcpIDpcbiAgICAgICAgIFswLCAwLCAwLCAxXTtcbn07XG5cblxuXG5cbi8qKlxuICogQHRlbXBsYXRlIFQsIERcbiAqIEBwYXJhbSB7VHx1bmRlZmluZWR9IHRhcmdldFZhbHVlXG4gKiBAcGFyYW0ge0R9IGRlZmF1bHRWYWx1ZVxuICogQHJldHVybiB7VHxEfVxuICovXG5jb25zdCBzZXRWYWx1ZSA9ICh0YXJnZXRWYWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHJldHVybiBpc1VuZCh0YXJnZXRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB0YXJnZXRWYWx1ZTtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VHdlZW5Qcm9wVmFsdWV9IHZhbHVlXG4gKiBAcGFyYW0gIHtUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtICB7TnVtYmVyfSBpbmRleFxuICogQHBhcmFtICB7TnVtYmVyfSB0b3RhbFxuICogQHBhcmFtICB7T2JqZWN0fSBbc3RvcmVdXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmNvbnN0IGdldEZ1bmN0aW9uVmFsdWUgPSAodmFsdWUsIHRhcmdldCwgaW5kZXgsIHRvdGFsLCBzdG9yZSkgPT4ge1xuICBpZiAoaXNGbmModmFsdWUpKSB7XG4gICAgY29uc3QgZnVuYyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8odmFsdWUpKHRhcmdldCwgaW5kZXgsIHRvdGFsKTtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIDAgaWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkIC8gTmFOIC8gbnVsbCAvIGZhbHNlIC8gMFxuICAgICAgcmV0dXJuICFpc05hTigrY29tcHV0ZWQpID8gK2NvbXB1dGVkIDogY29tcHV0ZWQgfHwgMDtcbiAgICB9O1xuICAgIGlmIChzdG9yZSkge1xuICAgICAgc3RvcmUuZnVuYyA9IGZ1bmM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1RhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BcbiAqIEByZXR1cm4ge3R3ZWVuVHlwZXN9XG4gKi9cbmNvbnN0IGdldFR3ZWVuVHlwZSA9ICh0YXJnZXQsIHByb3ApID0+IHtcbiAgcmV0dXJuICF0YXJnZXRbaXNEb21TeW1ib2xdID8gdHdlZW5UeXBlcy5PQkpFQ1QgOlxuICAgIC8vIEhhbmRsZSBTVkcgYXR0cmlidXRlc1xuICAgIHRhcmdldFtpc1N2Z1N5bWJvbF0gJiYgaXNWYWxpZFNWR0F0dHJpYnV0ZSh0YXJnZXQsIHByb3ApID8gdHdlZW5UeXBlcy5BVFRSSUJVVEUgOlxuICAgIC8vIEhhbmRsZSBDU1MgVHJhbnNmb3JtIHByb3BlcnRpZXMgZGlmZmVyZW50bHkgdGhhbiBDU1MgdG8gYWxsb3cgaW5kaXZpZHVhbCBhbmltYXRpb25zXG4gICAgdmFsaWRUcmFuc2Zvcm1zLmluY2x1ZGVzKHByb3ApIHx8IHNob3J0VHJhbnNmb3Jtcy5nZXQocHJvcCkgPyB0d2VlblR5cGVzLlRSQU5TRk9STSA6XG4gICAgLy8gQ1NTIHZhcmlhYmxlc1xuICAgIHN0cmluZ1N0YXJ0c1dpdGgocHJvcCwgJy0tJykgPyB0d2VlblR5cGVzLkNTU19WQVIgOlxuICAgIC8vIEFsbCBvdGhlciBDU1MgcHJvcGVydGllc1xuICAgIHByb3AgaW4gLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHRhcmdldCkuc3R5bGUgPyB0d2VlblR5cGVzLkNTUyA6XG4gICAgLy8gSGFuZGxlIG90aGVyIERPTSBBdHRyaWJ1dGVzXG4gICAgcHJvcCBpbiB0YXJnZXQgPyB0d2VlblR5cGVzLk9CSkVDVCA6XG4gICAgdHdlZW5UeXBlcy5BVFRSSUJVVEU7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge0RPTVRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gIHtPYmplY3R9IGFuaW1hdGlvbklubGluZVN0eWxlc1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCBnZXRDU1NWYWx1ZSA9ICh0YXJnZXQsIHByb3BOYW1lLCBhbmltYXRpb25JbmxpbmVTdHlsZXMpID0+IHtcbiAgY29uc3QgaW5saW5lU3R5bGVzID0gdGFyZ2V0LnN0eWxlW3Byb3BOYW1lXTtcbiAgaWYgKGlubGluZVN0eWxlcyAmJiBhbmltYXRpb25JbmxpbmVTdHlsZXMpIHtcbiAgICBhbmltYXRpb25JbmxpbmVTdHlsZXNbcHJvcE5hbWVdID0gaW5saW5lU3R5bGVzO1xuICB9XG4gIGNvbnN0IHZhbHVlID0gaW5saW5lU3R5bGVzIHx8IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0W3Byb3h5VGFyZ2V0U3ltYm9sXSB8fCB0YXJnZXQpLmdldFByb3BlcnR5VmFsdWUocHJvcE5hbWUpO1xuICByZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/ICcwJyA6IHZhbHVlO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcE5hbWVcbiAqIEBwYXJhbSB7dHdlZW5UeXBlc30gW3R3ZWVuVHlwZV1cbiAqIEBwYXJhbSB7T2JqZWN0fHZvaWR9IFthbmltYXRpb25JbmxpbmVTdHlsZXNdXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICovXG5jb25zdCBnZXRPcmlnaW5hbEFuaW1hdGFibGVWYWx1ZSA9ICh0YXJnZXQsIHByb3BOYW1lLCB0d2VlblR5cGUsIGFuaW1hdGlvbklubGluZVN0eWxlcykgPT4ge1xuICBjb25zdCB0eXBlID0gIWlzVW5kKHR3ZWVuVHlwZSkgPyB0d2VlblR5cGUgOiBnZXRUd2VlblR5cGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gIHJldHVybiB0eXBlID09PSB0d2VlblR5cGVzLk9CSkVDVCA/IHRhcmdldFtwcm9wTmFtZV0gfHwgMCA6XG4gICAgICAgICB0eXBlID09PSB0d2VlblR5cGVzLkFUVFJJQlVURSA/IC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyh0YXJnZXQpLmdldEF0dHJpYnV0ZShwcm9wTmFtZSkgOlxuICAgICAgICAgdHlwZSA9PT0gdHdlZW5UeXBlcy5UUkFOU0ZPUk0gPyBwYXJzZUlubGluZVRyYW5zZm9ybXMoLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHRhcmdldCksIHByb3BOYW1lLCBhbmltYXRpb25JbmxpbmVTdHlsZXMpIDpcbiAgICAgICAgIHR5cGUgPT09IHR3ZWVuVHlwZXMuQ1NTX1ZBUiA/IGdldENTU1ZhbHVlKC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyh0YXJnZXQpLCBwcm9wTmFtZSwgYW5pbWF0aW9uSW5saW5lU3R5bGVzKS50cmltU3RhcnQoKSA6XG4gICAgICAgICBnZXRDU1NWYWx1ZSgvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odGFyZ2V0KSwgcHJvcE5hbWUsIGFuaW1hdGlvbklubGluZVN0eWxlcyk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0geFxuICogQHBhcmFtICB7TnVtYmVyfSB5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IG9wZXJhdG9yXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGdldFJlbGF0aXZlVmFsdWUgPSAoeCwgeSwgb3BlcmF0b3IpID0+IHtcbiAgcmV0dXJuIG9wZXJhdG9yID09PSAnLScgPyB4IC0geSA6XG4gICAgICAgICBvcGVyYXRvciA9PT0gJysnID8geCArIHkgOlxuICAgICAgICAgeCAqIHk7XG59O1xuXG4vKiogQHJldHVybiB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9ICovXG5jb25zdCBjcmVhdGVEZWNvbXBvc2VkVmFsdWVUYXJnZXRPYmplY3QgPSAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLyoqIEB0eXBlIHt2YWx1ZVR5cGVzfSAqL1xuICAgIHQ6IHZhbHVlVHlwZXMuTlVNQkVSLFxuICAgIG46IDAsXG4gICAgdTogbnVsbCxcbiAgICBvOiBudWxsLFxuICAgIGQ6IG51bGwsXG4gICAgczogbnVsbCxcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSByYXdWYWx1ZVxuICogQHBhcmFtICB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9IHRhcmdldE9iamVjdFxuICogQHJldHVybiB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9XG4gKi9cbmNvbnN0IGRlY29tcG9zZVJhd1ZhbHVlID0gKHJhd1ZhbHVlLCB0YXJnZXRPYmplY3QpID0+IHtcbiAgLyoqIEB0eXBlIHt2YWx1ZVR5cGVzfSAqL1xuICB0YXJnZXRPYmplY3QudCA9IHZhbHVlVHlwZXMuTlVNQkVSO1xuICB0YXJnZXRPYmplY3QubiA9IDA7XG4gIHRhcmdldE9iamVjdC51ID0gbnVsbDtcbiAgdGFyZ2V0T2JqZWN0Lm8gPSBudWxsO1xuICB0YXJnZXRPYmplY3QuZCA9IG51bGw7XG4gIHRhcmdldE9iamVjdC5zID0gbnVsbDtcbiAgaWYgKCFyYXdWYWx1ZSkgcmV0dXJuIHRhcmdldE9iamVjdDtcbiAgY29uc3QgbnVtID0gK3Jhd1ZhbHVlO1xuICBpZiAoIWlzTmFOKG51bSkpIHtcbiAgICAvLyBJdCdzIGEgbnVtYmVyXG4gICAgdGFyZ2V0T2JqZWN0Lm4gPSBudW07XG4gICAgcmV0dXJuIHRhcmdldE9iamVjdDtcbiAgfSBlbHNlIHtcbiAgICAvLyBsZXQgc3RyID0gLyoqIEB0eXBlIHtTdHJpbmd9ICovKHJhd1ZhbHVlKS50cmltKCk7XG4gICAgbGV0IHN0ciA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhyYXdWYWx1ZSk7XG4gICAgLy8gUGFyc2luZyBvcGVyYXRvcnMgKCs9LCAtPSwgKj0pIG1hbnVhbGx5IGlzIG11Y2ggZmFzdGVyIHRoYW4gdXNpbmcgcmVnZXggaGVyZVxuICAgIGlmIChzdHJbMV0gPT09ICc9Jykge1xuICAgICAgdGFyZ2V0T2JqZWN0Lm8gPSBzdHJbMF07XG4gICAgICBzdHIgPSBzdHIuc2xpY2UoMik7XG4gICAgfVxuICAgIC8vIFNraXAgZXhlYyByZWdleCBpZiB0aGUgdmFsdWUgdHlwZSBpcyBjb21wbGV4IG9yIGNvbG9yIHRvIGF2b2lkIGxvbmcgcmVnZXggYmFja3RyYWNraW5nXG4gICAgY29uc3QgdW5pdE1hdGNoID0gc3RyLmluY2x1ZGVzKCcgJykgPyBmYWxzZSA6IHVuaXRzRXhlY1JneC5leGVjKHN0cik7XG4gICAgaWYgKHVuaXRNYXRjaCkge1xuICAgICAgLy8gSGFzIGEgbnVtYmVyIGFuZCBhIHVuaXRcbiAgICAgIHRhcmdldE9iamVjdC50ID0gdmFsdWVUeXBlcy5VTklUO1xuICAgICAgdGFyZ2V0T2JqZWN0Lm4gPSArdW5pdE1hdGNoWzFdO1xuICAgICAgdGFyZ2V0T2JqZWN0LnUgPSB1bml0TWF0Y2hbMl07XG4gICAgICByZXR1cm4gdGFyZ2V0T2JqZWN0O1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0T2JqZWN0Lm8pIHtcbiAgICAgIC8vIEhhcyBhbiBvcGVyYXRvciAoKz0sIC09LCAqPSlcbiAgICAgIHRhcmdldE9iamVjdC5uID0gK3N0cjtcbiAgICAgIHJldHVybiB0YXJnZXRPYmplY3Q7XG4gICAgfSBlbHNlIGlmIChpc0NvbChzdHIpKSB7XG4gICAgICAvLyBJcyBhIGNvbG9yXG4gICAgICB0YXJnZXRPYmplY3QudCA9IHZhbHVlVHlwZXMuQ09MT1I7XG4gICAgICB0YXJnZXRPYmplY3QuZCA9IGNvbnZlcnRDb2xvclN0cmluZ1ZhbHVlc1RvUmdiYUFycmF5KHN0cik7XG4gICAgICByZXR1cm4gdGFyZ2V0T2JqZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJcyBhIG1vcmUgY29tcGxleCBzdHJpbmcgKGdlbmVyYWxseSBzdmcgY29vcmRzLCBjYWxjKCkgb3IgZmlsdGVycyBDU1MgdmFsdWVzKVxuICAgICAgY29uc3QgbWF0Y2hlZE51bWJlcnMgPSBzdHIubWF0Y2goZGlnaXRXaXRoRXhwb25lbnRSZ3gpO1xuICAgICAgdGFyZ2V0T2JqZWN0LnQgPSB2YWx1ZVR5cGVzLkNPTVBMRVg7XG4gICAgICB0YXJnZXRPYmplY3QuZCA9IG1hdGNoZWROdW1iZXJzID8gbWF0Y2hlZE51bWJlcnMubWFwKE51bWJlcikgOiBbXTtcbiAgICAgIHRhcmdldE9iamVjdC5zID0gc3RyLnNwbGl0KGRpZ2l0V2l0aEV4cG9uZW50Umd4KSB8fCBbXTtcbiAgICAgIHJldHVybiB0YXJnZXRPYmplY3Q7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1R3ZWVufSB0d2VlblxuICogQHBhcmFtICB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9IHRhcmdldE9iamVjdFxuICogQHJldHVybiB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9XG4gKi9cbmNvbnN0IGRlY29tcG9zZVR3ZWVuVmFsdWUgPSAodHdlZW4sIHRhcmdldE9iamVjdCkgPT4ge1xuICB0YXJnZXRPYmplY3QudCA9IHR3ZWVuLl92YWx1ZVR5cGU7XG4gIHRhcmdldE9iamVjdC5uID0gdHdlZW4uX3RvTnVtYmVyO1xuICB0YXJnZXRPYmplY3QudSA9IHR3ZWVuLl91bml0O1xuICB0YXJnZXRPYmplY3QubyA9IG51bGw7XG4gIHRhcmdldE9iamVjdC5kID0gY2xvbmVBcnJheSh0d2Vlbi5fdG9OdW1iZXJzKTtcbiAgdGFyZ2V0T2JqZWN0LnMgPSBjbG9uZUFycmF5KHR3ZWVuLl9zdHJpbmdzKTtcbiAgcmV0dXJuIHRhcmdldE9iamVjdDtcbn07XG5cbmNvbnN0IGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlID0gY3JlYXRlRGVjb21wb3NlZFZhbHVlVGFyZ2V0T2JqZWN0KCk7XG5cblxuXG5cbmNvbnN0IGxvb2t1cHMgPSB7XG4gIC8qKiBAdHlwZSB7VHdlZW5SZXBsYWNlTG9va3Vwc30gKi9cbiAgX3JlcDogbmV3IFdlYWtNYXAoKSxcbiAgLyoqIEB0eXBlIHtUd2VlbkFkZGl0aXZlTG9va3Vwc30gKi9cbiAgX2FkZDogbmV3IE1hcCgpLFxufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHBhcmFtICB7U3RyaW5nfSBsb29rdXBcbiAqIEByZXR1cm4ge1R3ZWVuUHJvcGVydHlTaWJsaW5nc31cbiAqL1xuY29uc3QgZ2V0VHdlZW5TaWJsaW5ncyA9ICh0YXJnZXQsIHByb3BlcnR5LCBsb29rdXAgPSAnX3JlcCcpID0+IHtcbiAgY29uc3QgbG9va3VwTWFwID0gbG9va3Vwc1tsb29rdXBdO1xuICBsZXQgdGFyZ2V0TG9va3VwID0gbG9va3VwTWFwLmdldCh0YXJnZXQpO1xuICBpZiAoIXRhcmdldExvb2t1cCkge1xuICAgIHRhcmdldExvb2t1cCA9IHt9O1xuICAgIGxvb2t1cE1hcC5zZXQodGFyZ2V0LCB0YXJnZXRMb29rdXApO1xuICB9XG4gIHJldHVybiB0YXJnZXRMb29rdXBbcHJvcGVydHldID8gdGFyZ2V0TG9va3VwW3Byb3BlcnR5XSA6IHRhcmdldExvb2t1cFtwcm9wZXJ0eV0gPSB7XG4gICAgX2hlYWQ6IG51bGwsXG4gICAgX3RhaWw6IG51bGwsXG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtICB7VHdlZW59IHBcbiAqIEBwYXJhbSAge1R3ZWVufSBjXG4gKiBAcmV0dXJuIHtOdW1iZXJ8Qm9vbGVhbn1cbiAqL1xuY29uc3QgYWRkVHdlZW5Tb3J0TWV0aG9kID0gKHAsIGMpID0+IHtcbiAgcmV0dXJuIHAuX2lzT3ZlcnJpZGRlbiB8fCBwLl9hYnNvbHV0ZVN0YXJ0VGltZSA+IGMuX2Fic29sdXRlU3RhcnRUaW1lO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1R3ZWVufSB0d2VlblxuICovXG5jb25zdCBvdmVycmlkZVR3ZWVuID0gdHdlZW4gPT4ge1xuICB0d2Vlbi5faXNPdmVybGFwcGVkID0gMTtcbiAgdHdlZW4uX2lzT3ZlcnJpZGRlbiA9IDE7XG4gIHR3ZWVuLl9jaGFuZ2VEdXJhdGlvbiA9IG1pblZhbHVlO1xuICB0d2Vlbi5fY3VycmVudFRpbWUgPSBtaW5WYWx1ZTtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VHdlZW59IHR3ZWVuXG4gKiBAcGFyYW0gIHtUd2VlblByb3BlcnR5U2libGluZ3N9IHNpYmxpbmdzXG4gKiBAcmV0dXJuIHtUd2Vlbn1cbiAqL1xuY29uc3QgY29tcG9zZVR3ZWVuID0gKHR3ZWVuLCBzaWJsaW5ncykgPT4ge1xuXG4gIGNvbnN0IHR3ZWVuQ29tcG9zaXRpb25UeXBlID0gdHdlZW4uX2NvbXBvc2l0aW9uO1xuXG4gIC8vIEhhbmRsZSByZXBsYWNlZCB0d2VlbnNcblxuICBpZiAodHdlZW5Db21wb3NpdGlvblR5cGUgPT09IGNvbXBvc2l0aW9uVHlwZXMucmVwbGFjZSkge1xuXG4gICAgY29uc3QgdHdlZW5BYnNTdGFydFRpbWUgPSB0d2Vlbi5fYWJzb2x1dGVTdGFydFRpbWU7XG5cbiAgICBhZGRDaGlsZChzaWJsaW5ncywgdHdlZW4sIGFkZFR3ZWVuU29ydE1ldGhvZCwgJ19wcmV2UmVwJywgJ19uZXh0UmVwJyk7XG5cbiAgICBjb25zdCBwcmV2U2libGluZyA9IHR3ZWVuLl9wcmV2UmVwO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwcmV2aW91cyBzaWJsaW5ncyBmb3IgY29tcG9zaXRpb24gcmVwbGFjZSB0d2VlbnNcblxuICAgIGlmIChwcmV2U2libGluZykge1xuXG4gICAgICBjb25zdCBwcmV2UGFyZW50ID0gcHJldlNpYmxpbmcucGFyZW50O1xuICAgICAgY29uc3QgcHJldkFic0VuZFRpbWUgPSBwcmV2U2libGluZy5fYWJzb2x1dGVTdGFydFRpbWUgKyBwcmV2U2libGluZy5fY2hhbmdlRHVyYXRpb247XG5cbiAgICAgIC8vIEhhbmRsZSBsb29wZWQgYW5pbWF0aW9ucyB0d2VlblxuXG4gICAgICBpZiAoXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwcmV2aW91cyB0d2VlbiBpcyBmcm9tIGEgZGlmZmVyZW50IGFuaW1hdGlvblxuICAgICAgICB0d2Vlbi5wYXJlbnQuaWQgIT09IHByZXZQYXJlbnQuaWQgJiZcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGFuaW1hdGlvbiBoYXMgbG9vcHNcbiAgICAgICAgcHJldlBhcmVudC5pdGVyYXRpb25Db3VudD4gMSAmJlxuICAgICAgICAvLyBDaGVjayBpZiBfYWJzb2x1dGVDaGFuZ2VFbmRUaW1lIG9mIGxhc3QgbG9vcCBvdmVybGFwcyB0aGUgY3VycmVudCB0d2VlblxuICAgICAgICBwcmV2QWJzRW5kVGltZSArIChwcmV2UGFyZW50LmR1cmF0aW9uIC0gcHJldlBhcmVudC5pdGVyYXRpb25EdXJhdGlvbikgPiB0d2VlbkFic1N0YXJ0VGltZVxuICAgICAgKSB7XG5cbiAgICAgICAgLy8gVE9ETzogRmluZCBhIHdheSB0byBvbmx5IG92ZXJyaWRlIHRoZSBpdGVyYXRpb25zIG92ZXJsYXBwaW5nIHdpdGggdGhlIHR3ZWVuXG4gICAgICAgIG92ZXJyaWRlVHdlZW4ocHJldlNpYmxpbmcpO1xuXG4gICAgICAgIGxldCBwcmV2UHJldlNpYmxpbmcgPSBwcmV2U2libGluZy5fcHJldlJlcDtcblxuICAgICAgICAvLyBJZiB0aGUgdHdlZW4gd2FzIHBhcnQgb2YgYSBzZXQgb2Yga2V5ZnJhbWVzLCBvdmVycmlkZSBpdHMgc2libGluZ3NcbiAgICAgICAgd2hpbGUgKHByZXZQcmV2U2libGluZyAmJiBwcmV2UHJldlNpYmxpbmcucGFyZW50LmlkID09PSBwcmV2UGFyZW50LmlkKSB7XG4gICAgICAgICAgb3ZlcnJpZGVUd2VlbihwcmV2UHJldlNpYmxpbmcpO1xuICAgICAgICAgIHByZXZQcmV2U2libGluZyA9IHByZXZQcmV2U2libGluZy5fcHJldlJlcDtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFic29sdXRlVXBkYXRlU3RhcnRUaW1lID0gdHdlZW5BYnNTdGFydFRpbWUgLSB0d2Vlbi5fZGVsYXk7XG5cbiAgICAgIGlmIChwcmV2QWJzRW5kVGltZSA+IGFic29sdXRlVXBkYXRlU3RhcnRUaW1lKSB7XG5cbiAgICAgICAgY29uc3QgcHJldkNoYW5nZVN0YXJ0VGltZSA9IHByZXZTaWJsaW5nLl9zdGFydFRpbWU7XG4gICAgICAgIGNvbnN0IHByZXZUTE9mZnNldCA9IHByZXZBYnNFbmRUaW1lIC0gKHByZXZDaGFuZ2VTdGFydFRpbWUgKyBwcmV2U2libGluZy5fdXBkYXRlRHVyYXRpb24pO1xuXG4gICAgICAgIHByZXZTaWJsaW5nLl9jaGFuZ2VEdXJhdGlvbiA9IGFic29sdXRlVXBkYXRlU3RhcnRUaW1lIC0gcHJldlRMT2Zmc2V0IC0gcHJldkNoYW5nZVN0YXJ0VGltZTtcbiAgICAgICAgcHJldlNpYmxpbmcuX2N1cnJlbnRUaW1lID0gcHJldlNpYmxpbmcuX2NoYW5nZUR1cmF0aW9uO1xuICAgICAgICBwcmV2U2libGluZy5faXNPdmVybGFwcGVkID0gMTtcblxuICAgICAgICBpZiAocHJldlNpYmxpbmcuX2NoYW5nZUR1cmF0aW9uIDwgbWluVmFsdWUpIHtcbiAgICAgICAgICBvdmVycmlkZVR3ZWVuKHByZXZTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXVzZSAoYW5kIGNhbmNlbCkgdGhlIHBhcmVudCBpZiBpdCBvbmx5IGNvbnRhaW5zIG92ZXJsYXBwZWQgdHdlZW5zXG5cbiAgICAgIGxldCBwYXVzZVByZXZQYXJlbnRBbmltYXRpb24gPSB0cnVlO1xuXG4gICAgICBmb3JFYWNoQ2hpbGRyZW4ocHJldlBhcmVudCwgKC8qKiBAdHlwZSBUd2VlbiAqL3QpID0+IHtcbiAgICAgICAgaWYgKCF0Ll9pc092ZXJsYXBwZWQpIHBhdXNlUHJldlBhcmVudEFuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChwYXVzZVByZXZQYXJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgY29uc3QgcHJldlBhcmVudFRMID0gcHJldlBhcmVudC5wYXJlbnQ7XG4gICAgICAgIGlmIChwcmV2UGFyZW50VEwpIHtcbiAgICAgICAgICBsZXQgcGF1c2VQcmV2UGFyZW50VEwgPSB0cnVlO1xuICAgICAgICAgIGZvckVhY2hDaGlsZHJlbihwcmV2UGFyZW50VEwsICgvKiogQHR5cGUgSlNBbmltYXRpb24gKi9hKSA9PiB7XG4gICAgICAgICAgICBpZiAoYSAhPT0gcHJldlBhcmVudCkge1xuICAgICAgICAgICAgICBmb3JFYWNoQ2hpbGRyZW4oYSwgKC8qKiBAdHlwZSBUd2VlbiAqL3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXQuX2lzT3ZlcmxhcHBlZCkgcGF1c2VQcmV2UGFyZW50VEwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHBhdXNlUHJldlBhcmVudFRMKSB7XG4gICAgICAgICAgICBwcmV2UGFyZW50VEwuY2FuY2VsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZQYXJlbnQuY2FuY2VsKCk7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSwgY2FsbGluZyAuY2FuY2VsKCkgb24gYSB0aW1lbGluZSBjaGlsZCB3b3VsZCBhZmZlY3QgdGhlIHJlbmRlciBvcmRlciBvZiBvdGhlciBjaGlsZHJlblxuICAgICAgICAgIC8vIFdvcmtlZCBhcm91bmQgdGhpcyBieSBtYXJraW5nIGl0IGFzIC5jb21wbGV0ZWQgYW5kIHVzaW5nIC5wYXVzZSgpIGZvciBzYWZlIHJlbW92YWwgaW4gdGhlIGVuZ2luZSBsb29wXG4gICAgICAgICAgLy8gVGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIHNpbmNlIHRpbWVsaW5lIHR3ZWVuIGNvbXBvc2l0aW9uIGlzIG5vdyBoYW5kbGVkIHNlcGFyYXRseVxuICAgICAgICAgIC8vIEtlZXBpbmcgdGhpcyBoZXJlIGZvciByZWZlcmVuY2VcbiAgICAgICAgICAvLyBwcmV2UGFyZW50LmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgLy8gcHJldlBhcmVudC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBsZXQgbmV4dFNpYmxpbmcgPSB0d2Vlbi5fbmV4dFJlcDtcblxuICAgIC8vIC8vIEFsbCB0aGUgbmV4dCBzaWJsaW5ncyBhcmUgYXV0b21hdGljYWxseSBvdmVycmlkZGVuXG5cbiAgICAvLyBpZiAobmV4dFNpYmxpbmcgJiYgbmV4dFNpYmxpbmcuX2Fic29sdXRlU3RhcnRUaW1lID49IHR3ZWVuQWJzU3RhcnRUaW1lKSB7XG4gICAgLy8gICB3aGlsZSAobmV4dFNpYmxpbmcpIHtcbiAgICAvLyAgICAgb3ZlcnJpZGVUd2VlbihuZXh0U2libGluZyk7XG4gICAgLy8gICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcuX25leHRSZXA7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgLy8gaWYgKG5leHRTaWJsaW5nICYmIG5leHRTaWJsaW5nLl9hYnNvbHV0ZVN0YXJ0VGltZSA8IHR3ZWVuQWJzU3RhcnRUaW1lKSB7XG4gICAgLy8gICB3aGlsZSAobmV4dFNpYmxpbmcpIHtcbiAgICAvLyAgICAgb3ZlcnJpZGVUd2VlbihuZXh0U2libGluZyk7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKHR3ZWVuLmlkLCBuZXh0U2libGluZy5pZCk7XG4gICAgLy8gICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcuX25leHRSZXA7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gIC8vIEhhbmRsZSBhZGRpdGl2ZSB0d2VlbnMgY29tcG9zaXRpb25cblxuICB9IGVsc2UgaWYgKHR3ZWVuQ29tcG9zaXRpb25UeXBlID09PSBjb21wb3NpdGlvblR5cGVzLmJsZW5kKSB7XG5cbiAgICBjb25zdCBhZGRpdGl2ZVR3ZWVuU2libGluZ3MgPSBnZXRUd2VlblNpYmxpbmdzKHR3ZWVuLnRhcmdldCwgdHdlZW4ucHJvcGVydHksICdfYWRkJyk7XG4gICAgY29uc3QgYWRkaXRpdmVBbmltYXRpb24gPSBhZGRBZGRpdGl2ZUFuaW1hdGlvbihsb29rdXBzLl9hZGQpO1xuXG4gICAgbGV0IGxvb2t1cFR3ZWVuID0gYWRkaXRpdmVUd2VlblNpYmxpbmdzLl9oZWFkO1xuXG4gICAgaWYgKCFsb29rdXBUd2Vlbikge1xuICAgICAgbG9va3VwVHdlZW4gPSB7IC4uLnR3ZWVuIH07XG4gICAgICBsb29rdXBUd2Vlbi5fY29tcG9zaXRpb24gPSBjb21wb3NpdGlvblR5cGVzLnJlcGxhY2U7XG4gICAgICBsb29rdXBUd2Vlbi5fdXBkYXRlRHVyYXRpb24gPSBtaW5WYWx1ZTtcbiAgICAgIGxvb2t1cFR3ZWVuLl9zdGFydFRpbWUgPSAwO1xuICAgICAgbG9va3VwVHdlZW4uX251bWJlcnMgPSBjbG9uZUFycmF5KHR3ZWVuLl9mcm9tTnVtYmVycyk7XG4gICAgICBsb29rdXBUd2Vlbi5fbnVtYmVyID0gMDtcbiAgICAgIGxvb2t1cFR3ZWVuLl9uZXh0ID0gbnVsbDtcbiAgICAgIGxvb2t1cFR3ZWVuLl9wcmV2ID0gbnVsbDtcbiAgICAgIGFkZENoaWxkKGFkZGl0aXZlVHdlZW5TaWJsaW5ncywgbG9va3VwVHdlZW4pO1xuICAgICAgYWRkQ2hpbGQoYWRkaXRpdmVBbmltYXRpb24sIGxvb2t1cFR3ZWVuKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IHRoZSB2YWx1ZXMgb2YgVE8gdG8gRlJPTSBhbmQgc2V0IFRPIHRvIDBcblxuICAgIGNvbnN0IHRvTnVtYmVyID0gdHdlZW4uX3RvTnVtYmVyO1xuICAgIHR3ZWVuLl9mcm9tTnVtYmVyID0gbG9va3VwVHdlZW4uX2Zyb21OdW1iZXIgLSB0b051bWJlcjtcbiAgICB0d2Vlbi5fdG9OdW1iZXIgPSAwO1xuICAgIHR3ZWVuLl9udW1iZXJzID0gY2xvbmVBcnJheSh0d2Vlbi5fZnJvbU51bWJlcnMpO1xuICAgIHR3ZWVuLl9udW1iZXIgPSAwO1xuICAgIGxvb2t1cFR3ZWVuLl9mcm9tTnVtYmVyID0gdG9OdW1iZXI7XG5cbiAgICBpZiAodHdlZW4uX3RvTnVtYmVycykge1xuICAgICAgY29uc3QgdG9OdW1iZXJzID0gY2xvbmVBcnJheSh0d2Vlbi5fdG9OdW1iZXJzKTtcbiAgICAgIGlmICh0b051bWJlcnMpIHtcbiAgICAgICAgdG9OdW1iZXJzLmZvckVhY2goKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgICAgdHdlZW4uX2Zyb21OdW1iZXJzW2ldID0gbG9va3VwVHdlZW4uX2Zyb21OdW1iZXJzW2ldIC0gdmFsdWU7XG4gICAgICAgICAgdHdlZW4uX3RvTnVtYmVyc1tpXSA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbG9va3VwVHdlZW4uX2Zyb21OdW1iZXJzID0gdG9OdW1iZXJzO1xuICAgIH1cblxuICAgIGFkZENoaWxkKGFkZGl0aXZlVHdlZW5TaWJsaW5ncywgdHdlZW4sIG51bGwsICdfcHJldkFkZCcsICdfbmV4dEFkZCcpO1xuXG4gIH1cblxuICByZXR1cm4gdHdlZW47XG5cbn07XG5cbi8qKlxuICogQHBhcmFtICB7VHdlZW59IHR3ZWVuXG4gKiBAcmV0dXJuIHtUd2Vlbn1cbiAqL1xuY29uc3QgcmVtb3ZlVHdlZW5TbGlibGluZ3MgPSB0d2VlbiA9PiB7XG4gIGNvbnN0IHR3ZWVuQ29tcG9zaXRpb24gPSB0d2Vlbi5fY29tcG9zaXRpb247XG4gIGlmICh0d2VlbkNvbXBvc2l0aW9uICE9PSBjb21wb3NpdGlvblR5cGVzLm5vbmUpIHtcbiAgICBjb25zdCB0d2VlblRhcmdldCA9IHR3ZWVuLnRhcmdldDtcbiAgICBjb25zdCB0d2VlblByb3BlcnR5ID0gdHdlZW4ucHJvcGVydHk7XG4gICAgY29uc3QgcmVwbGFjZVR3ZWVuc0xvb2t1cCA9IGxvb2t1cHMuX3JlcDtcbiAgICBjb25zdCByZXBsYWNlVGFyZ2V0UHJvcHMgPSByZXBsYWNlVHdlZW5zTG9va3VwLmdldCh0d2VlblRhcmdldCk7XG4gICAgY29uc3QgdHdlZW5SZXBsYWNlU2libGluZ3MgPSByZXBsYWNlVGFyZ2V0UHJvcHNbdHdlZW5Qcm9wZXJ0eV07XG4gICAgcmVtb3ZlQ2hpbGQodHdlZW5SZXBsYWNlU2libGluZ3MsIHR3ZWVuLCAnX3ByZXZSZXAnLCAnX25leHRSZXAnKTtcbiAgICBpZiAodHdlZW5Db21wb3NpdGlvbiA9PT0gY29tcG9zaXRpb25UeXBlcy5ibGVuZCkge1xuICAgICAgY29uc3QgYWRkVHdlZW5zTG9va3VwID0gbG9va3Vwcy5fYWRkO1xuICAgICAgY29uc3QgYWRkVGFyZ2V0UHJvcHMgPSBhZGRUd2VlbnNMb29rdXAuZ2V0KHR3ZWVuVGFyZ2V0KTtcbiAgICAgIGlmICghYWRkVGFyZ2V0UHJvcHMpIHJldHVybjtcbiAgICAgIGNvbnN0IGFkZGl0aXZlVHdlZW5TaWJsaW5ncyA9IGFkZFRhcmdldFByb3BzW3R3ZWVuUHJvcGVydHldO1xuICAgICAgY29uc3QgYWRkaXRpdmVBbmltYXRpb24gPSBhZGRpdGl2ZS5hbmltYXRpb247XG4gICAgICByZW1vdmVDaGlsZChhZGRpdGl2ZVR3ZWVuU2libGluZ3MsIHR3ZWVuLCAnX3ByZXZBZGQnLCAnX25leHRBZGQnKTtcbiAgICAgIC8vIElmIG9ubHkgb25lIHR3ZWVuIGlzIGxlZnQgaW4gdGhlIGFkZGl0aXZlIGxvb2t1cCwgaXQncyB0aGUgdHdlZW4gbG9va3VwXG4gICAgICBjb25zdCBsb29rdXBUd2VlbiA9IGFkZGl0aXZlVHdlZW5TaWJsaW5ncy5faGVhZDtcbiAgICAgIGlmIChsb29rdXBUd2VlbiAmJiBsb29rdXBUd2VlbiA9PT0gYWRkaXRpdmVUd2VlblNpYmxpbmdzLl90YWlsKSB7XG4gICAgICAgIHJlbW92ZUNoaWxkKGFkZGl0aXZlVHdlZW5TaWJsaW5ncywgbG9va3VwVHdlZW4sICdfcHJldkFkZCcsICdfbmV4dEFkZCcpO1xuICAgICAgICByZW1vdmVDaGlsZChhZGRpdGl2ZUFuaW1hdGlvbiwgbG9va3VwVHdlZW4pO1xuICAgICAgICBsZXQgc2hvdWxkQ2xlYW4gPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGFkZFRhcmdldFByb3BzKSB7XG4gICAgICAgICAgaWYgKGFkZFRhcmdldFByb3BzW3Byb3BdLl9oZWFkKSB7XG4gICAgICAgICAgICBzaG91bGRDbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRDbGVhbikge1xuICAgICAgICAgIGFkZFR3ZWVuc0xvb2t1cC5kZWxldGUodHdlZW5UYXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0d2Vlbjtcbn07XG5cblxuXG5cbi8qKlxuICogQHBhcmFtICB7VGltZXJ9IHRpbWVyXG4gKiBAcmV0dXJuIHtUaW1lcn1cbiAqL1xuY29uc3QgcmVzZXRUaW1lclByb3BlcnRpZXMgPSB0aW1lciA9PiB7XG4gIHRpbWVyLnBhdXNlZCA9IHRydWU7XG4gIHRpbWVyLmJlZ2FuID0gZmFsc2U7XG4gIHRpbWVyLmNvbXBsZXRlZCA9IGZhbHNlO1xuICByZXR1cm4gdGltZXI7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1RpbWVyfSB0aW1lclxuICogQHJldHVybiB7VGltZXJ9XG4gKi9cbmNvbnN0IHJldml2ZVRpbWVyID0gdGltZXIgPT4ge1xuICBpZiAoIXRpbWVyLl9jYW5jZWxsZWQpIHJldHVybiB0aW1lcjtcbiAgaWYgKHRpbWVyLl9oYXNDaGlsZHJlbikge1xuICAgIGZvckVhY2hDaGlsZHJlbih0aW1lciwgcmV2aXZlVGltZXIpO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2hDaGlsZHJlbih0aW1lciwgKC8qKiBAdHlwZSB7VHdlZW59IHR3ZWVuKi90d2VlbikgPT4ge1xuICAgICAgaWYgKHR3ZWVuLl9jb21wb3NpdGlvbiAhPT0gY29tcG9zaXRpb25UeXBlcy5ub25lKSB7XG4gICAgICAgIGNvbXBvc2VUd2Vlbih0d2VlbiwgZ2V0VHdlZW5TaWJsaW5ncyh0d2Vlbi50YXJnZXQsIHR3ZWVuLnByb3BlcnR5KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdGltZXIuX2NhbmNlbGxlZCA9IDA7XG4gIHJldHVybiB0aW1lcjtcbn07XG5cbmxldCB0aW1lcklkID0gMDtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIHVzZWQgdG8gY3JlYXRlIFRpbWVycywgQW5pbWF0aW9ucyBhbmQgVGltZWxpbmVzXG4gKi9cbmNsYXNzIFRpbWVyIGV4dGVuZHMgQ2xvY2sge1xuICAvKipcbiAgICogQHBhcmFtIHtUaW1lclBhcmFtc30gW3BhcmFtZXRlcnNdXG4gICAqIEBwYXJhbSB7VGltZWxpbmV9IFtwYXJlbnRdXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyZW50UG9zaXRpb25dXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzID0ge30sIHBhcmVudCA9IG51bGwsIHBhcmVudFBvc2l0aW9uID0gMCkge1xuXG4gICAgc3VwZXIoMCk7XG5cbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGRlbGF5LFxuICAgICAgZHVyYXRpb24sXG4gICAgICByZXZlcnNlZCxcbiAgICAgIGFsdGVybmF0ZSxcbiAgICAgIGxvb3AsXG4gICAgICBsb29wRGVsYXksXG4gICAgICBhdXRvcGxheSxcbiAgICAgIGZyYW1lUmF0ZSxcbiAgICAgIHBsYXliYWNrUmF0ZSxcbiAgICAgIG9uQ29tcGxldGUsXG4gICAgICBvbkxvb3AsXG4gICAgICBvblBhdXNlLFxuICAgICAgb25CZWdpbixcbiAgICAgIG9uQmVmb3JlVXBkYXRlLFxuICAgICAgb25VcGRhdGUsXG4gICAgfSA9IHBhcmFtZXRlcnM7XG5cbiAgICBpZiAoZ2xvYmFscy5zY29wZSkgZ2xvYmFscy5zY29wZS5yZXZlcnRpYmxlcy5wdXNoKHRoaXMpO1xuXG4gICAgY29uc3QgdGltZXJJbml0VGltZSA9IHBhcmVudCA/IDAgOiBlbmdpbmUuX2VsYXBzZWRUaW1lO1xuICAgIGNvbnN0IHRpbWVyRGVmYXVsdHMgPSBwYXJlbnQgPyBwYXJlbnQuZGVmYXVsdHMgOiBnbG9iYWxzLmRlZmF1bHRzO1xuICAgIGNvbnN0IHRpbWVyRGVsYXkgPSAvKiogQHR5cGUge051bWJlcn0gKi8oaXNGbmMoZGVsYXkpIHx8IGlzVW5kKGRlbGF5KSA/IHRpbWVyRGVmYXVsdHMuZGVsYXkgOiArZGVsYXkpO1xuICAgIGNvbnN0IHRpbWVyRHVyYXRpb24gPSBpc0ZuYyhkdXJhdGlvbikgfHwgaXNVbmQoZHVyYXRpb24pID8gSW5maW5pdHkgOiArZHVyYXRpb247XG4gICAgY29uc3QgdGltZXJMb29wID0gc2V0VmFsdWUobG9vcCwgdGltZXJEZWZhdWx0cy5sb29wKTtcbiAgICBjb25zdCB0aW1lckxvb3BEZWxheSA9IHNldFZhbHVlKGxvb3BEZWxheSwgdGltZXJEZWZhdWx0cy5sb29wRGVsYXkpO1xuICAgIGNvbnN0IHRpbWVySXRlcmF0aW9uQ291bnQgPSB0aW1lckxvb3AgPT09IHRydWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJMb29wID09PSBJbmZpbml0eSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge051bWJlcn0gKi8odGltZXJMb29wKSA8IDAgPyBJbmZpbml0eSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0aW1lckxvb3ApICsgMTtcblxuICAgIGxldCBvZmZzZXRQb3NpdGlvbiA9IDA7XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBvZmZzZXRQb3NpdGlvbiA9IHBhcmVudFBvc2l0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc3RhcnRUaW1lID0gbm93KCk7XG4gICAgICAvLyBNYWtlIHN1cmUgdG8gdGljayB0aGUgZW5naW5lIG9uY2UgaWYgc3VzcGVuZGVkIHRvIGF2b2lkIGJpZyBnYXBzIHdpdGggdGhlIGZvbGxvd2luZyBvZmZzZXRQb3NpdGlvbiBjYWxjdWxhdGlvblxuICAgICAgaWYgKGVuZ2luZS5wYXVzZWQpIHtcbiAgICAgICAgZW5naW5lLnJlcXVlc3RUaWNrKHN0YXJ0VGltZSk7XG4gICAgICAgIHN0YXJ0VGltZSA9IGVuZ2luZS5fZWxhcHNlZFRpbWU7XG4gICAgICB9XG4gICAgICBvZmZzZXRQb3NpdGlvbiA9IHN0YXJ0VGltZSAtIGVuZ2luZS5fc3RhcnRUaW1lO1xuICAgIH1cblxuICAgIC8vIFRpbWVyJ3MgcGFyYW1ldGVyc1xuICAgIHRoaXMuaWQgPSAhaXNVbmQoaWQpID8gaWQgOiArK3RpbWVySWQ7XG4gICAgLyoqIEB0eXBlIHtUaW1lbGluZX0gKi9cbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAvLyBUb3RhbCBkdXJhdGlvbiBvZiB0aGUgdGltZXJcbiAgICB0aGlzLmR1cmF0aW9uID0gY2xhbXBJbmZpbml0eSgoKHRpbWVyRHVyYXRpb24gKyB0aW1lckxvb3BEZWxheSkgKiB0aW1lckl0ZXJhdGlvbkNvdW50KSAtIHRpbWVyTG9vcERlbGF5KSB8fCBtaW5WYWx1ZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5iYWNrd2FyZHMgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmJlZ2FuID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuY29tcGxldGVkID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uQmVnaW4gPSBvbkJlZ2luIHx8IHRpbWVyRGVmYXVsdHMub25CZWdpbjtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25CZWZvcmVVcGRhdGUgPSBvbkJlZm9yZVVwZGF0ZSB8fCB0aW1lckRlZmF1bHRzLm9uQmVmb3JlVXBkYXRlO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlIHx8IHRpbWVyRGVmYXVsdHMub25VcGRhdGU7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uTG9vcCA9IG9uTG9vcCB8fCB0aW1lckRlZmF1bHRzLm9uTG9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25QYXVzZSA9IG9uUGF1c2UgfHwgdGltZXJEZWZhdWx0cy5vblBhdXNlO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gb25Db21wbGV0ZSB8fCB0aW1lckRlZmF1bHRzLm9uQ29tcGxldGU7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5pdGVyYXRpb25EdXJhdGlvbiA9IHRpbWVyRHVyYXRpb247IC8vIER1cmF0aW9uIG9mIG9uZSBsb29wXG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5pdGVyYXRpb25Db3VudCA9IHRpbWVySXRlcmF0aW9uQ291bnQ7IC8vIE51bWJlciBvZiBsb29wc1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbnxTY3JvbGxPYnNlcnZlcn0gKi9cbiAgICB0aGlzLl9hdXRvcGxheSA9IHBhcmVudCA/IGZhbHNlIDogc2V0VmFsdWUoYXV0b3BsYXksIHRpbWVyRGVmYXVsdHMuYXV0b3BsYXkpO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX29mZnNldCA9IG9mZnNldFBvc2l0aW9uO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2RlbGF5ID0gdGltZXJEZWxheTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9sb29wRGVsYXkgPSB0aW1lckxvb3BEZWxheTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9pdGVyYXRpb25UaW1lID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9jdXJyZW50SXRlcmF0aW9uID0gMDsgLy8gQ3VycmVudCBsb29wIGluZGV4XG4gICAgLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi9cbiAgICB0aGlzLl9yZXNvbHZlID0gbm9vcDsgLy8gVXNlZCBieSAudGhlbigpXG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9yZXZlcnNlZCA9ICtzZXRWYWx1ZShyZXZlcnNlZCwgdGltZXJEZWZhdWx0cy5yZXZlcnNlZCk7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fcmV2ZXJzZSA9IHRoaXMuX3JldmVyc2VkO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2NhbmNlbGxlZCA9IDA7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuX2FsdGVybmF0ZSA9IHNldFZhbHVlKGFsdGVybmF0ZSwgdGltZXJEZWZhdWx0cy5hbHRlcm5hdGUpO1xuICAgIC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi9cbiAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAvKiogQHR5cGUge1JlbmRlcmFibGV9ICovXG4gICAgdGhpcy5fbmV4dCA9IG51bGw7XG5cbiAgICAvLyBDbG9jaydzIHBhcmFtZXRlcnNcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9lbGFwc2VkVGltZSA9IHRpbWVySW5pdFRpbWU7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fc3RhcnRUaW1lID0gdGltZXJJbml0VGltZTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9sYXN0VGltZSA9IHRpbWVySW5pdFRpbWU7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fZnBzID0gc2V0VmFsdWUoZnJhbWVSYXRlLCB0aW1lckRlZmF1bHRzLmZyYW1lUmF0ZSk7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fc3BlZWQgPSBzZXRWYWx1ZShwbGF5YmFja1JhdGUsIHRpbWVyRGVmYXVsdHMucGxheWJhY2tSYXRlKTtcbiAgfVxuXG4gIGdldCBjYW5jZWxsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY2FuY2VsbGVkO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7Qm9vbGVhbn0gY2FuY2VsbGVkICAqL1xuICBzZXQgY2FuY2VsbGVkKGNhbmNlbGxlZCkge1xuICAgIGNhbmNlbGxlZCA/IHRoaXMuY2FuY2VsKCkgOiB0aGlzLnJlc2V0KDEpLnBsYXkoKTtcbiAgfVxuXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gY2xhbXAocm91bmQodGhpcy5fY3VycmVudFRpbWUsIGdsb2JhbHMucHJlY2lzaW9uKSwgLXRoaXMuX2RlbGF5LCB0aGlzLmR1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gdGltZSAgKi9cbiAgc2V0IGN1cnJlbnRUaW1lKHRpbWUpIHtcbiAgICBjb25zdCBwYXVzZWQgPSB0aGlzLnBhdXNlZDtcbiAgICAvLyBQYXVzaW5nIHRoZSB0aW1lciBpcyBuZWNlc3NhcnkgdG8gYXZvaWQgdGltZSBqdW1wcyBvbiBhIHJ1bm5pbmcgaW5zdGFuY2VcbiAgICB0aGlzLnBhdXNlKCkuc2VlaygrdGltZSk7XG4gICAgaWYgKCFwYXVzZWQpIHRoaXMucmVzdW1lKCk7XG4gIH1cblxuICBnZXQgaXRlcmF0aW9uQ3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHJvdW5kKHRoaXMuX2l0ZXJhdGlvblRpbWUsIGdsb2JhbHMucHJlY2lzaW9uKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gdGltZSAgKi9cbiAgc2V0IGl0ZXJhdGlvbkN1cnJlbnRUaW1lKHRpbWUpIHtcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gKHRoaXMuaXRlcmF0aW9uRHVyYXRpb24gKiB0aGlzLl9jdXJyZW50SXRlcmF0aW9uKSArIHRpbWU7XG4gIH1cblxuICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIGNsYW1wKHJvdW5kKHRoaXMuX2N1cnJlbnRUaW1lIC8gdGhpcy5kdXJhdGlvbiwgNSksIDAsIDEpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7TnVtYmVyfSBwcm9ncmVzcyAgKi9cbiAgc2V0IHByb2dyZXNzKHByb2dyZXNzKSB7XG4gICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuZHVyYXRpb24gKiBwcm9ncmVzcztcbiAgfVxuXG4gIGdldCBpdGVyYXRpb25Qcm9ncmVzcygpIHtcbiAgICByZXR1cm4gY2xhbXAocm91bmQodGhpcy5faXRlcmF0aW9uVGltZSAvIHRoaXMuaXRlcmF0aW9uRHVyYXRpb24sIDUpLCAwLCAxKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gcHJvZ3Jlc3MgICovXG4gIHNldCBpdGVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzcykge1xuICAgIGNvbnN0IGl0ZXJhdGlvbkR1cmF0aW9uID0gdGhpcy5pdGVyYXRpb25EdXJhdGlvbjtcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gKGl0ZXJhdGlvbkR1cmF0aW9uICogdGhpcy5fY3VycmVudEl0ZXJhdGlvbikgKyAoaXRlcmF0aW9uRHVyYXRpb24gKiBwcm9ncmVzcyk7XG4gIH1cblxuICBnZXQgY3VycmVudEl0ZXJhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEl0ZXJhdGlvbjtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gaXRlcmF0aW9uQ291bnQgICovXG4gIHNldCBjdXJyZW50SXRlcmF0aW9uKGl0ZXJhdGlvbkNvdW50KSB7XG4gICAgdGhpcy5jdXJyZW50VGltZSA9ICh0aGlzLml0ZXJhdGlvbkR1cmF0aW9uICogY2xhbXAoK2l0ZXJhdGlvbkNvdW50LCAwLCB0aGlzLml0ZXJhdGlvbkNvdW50IC0gMSkpO1xuICB9XG5cbiAgZ2V0IHJldmVyc2VkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX3JldmVyc2VkO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7Qm9vbGVhbn0gcmV2ZXJzZSAgKi9cbiAgc2V0IHJldmVyc2VkKHJldmVyc2UpIHtcbiAgICByZXZlcnNlID8gdGhpcy5yZXZlcnNlKCkgOiB0aGlzLnBsYXkoKTtcbiAgfVxuXG4gIGdldCBzcGVlZCgpIHtcbiAgICByZXR1cm4gc3VwZXIuc3BlZWQ7XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHBsYXliYWNrUmF0ZSAgKi9cbiAgc2V0IHNwZWVkKHBsYXliYWNrUmF0ZSkge1xuICAgIHN1cGVyLnNwZWVkID0gcGxheWJhY2tSYXRlO1xuICAgIHRoaXMucmVzZXRUaW1lKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpbnRlcm5hbFJlbmRlclxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgcmVzZXQoaW50ZXJuYWxSZW5kZXIgPSAwKSB7XG4gICAgLy8gSWYgY2FuY2VsbGVkLCByZXZpdmUgdGhlIHRpbWVyIGJlZm9yZSByZW5kZXJpbmcgaW4gb3JkZXIgdG8gaGF2ZSBwcm9wZXJ0bHkgY29tcG9zZWQgdHdlZW5zIHNpYmxpbmdzXG4gICAgcmV2aXZlVGltZXIodGhpcyk7XG4gICAgaWYgKHRoaXMuX3JldmVyc2VkICYmICF0aGlzLl9yZXZlcnNlKSB0aGlzLnJldmVyc2VkID0gZmFsc2U7XG4gICAgLy8gUmVuZGVyaW5nIGJlZm9yZSB1cGRhdGluZyB0aGUgY29tcGxldGVkIGZsYWcgdG8gcHJldmVudCBza2lwcyBhbmQgdG8gbWFrZSBzdXJlIHRoZSBwcm9wZXJ0aWVzIGFyZSBub3Qgb3ZlcnJpZGRlblxuICAgIC8vIFNldHRpbmcgdGhlIGl0ZXJhdGlvblRpbWUgYXQgdGhlIGVuZCB0byBmb3JjZSB0aGUgcmVuZGVyaW5nIHRvIGhhcHBlbmQgYmFja3dhcmRzLCBvdGhlcndpc2UgY2FsbGluZyAucmVzZXQoKSBvbiBUaW1lbGluZXMgbWlnaHQgbm90IHJlbmRlciBjaGlsZHJlbiBpbiB0aGUgcmlnaHQgb3JkZXJcbiAgICAvLyBOT1RFOiBUaGlzIGlzIG9ubHkgcmVxdWlyZWQgZm9yIFRpbWVsaW5lcyBhbmQgbWlnaHQgYmUgYmV0dGVyIHRvIG1vdmUgdG8gdGhlIFRpbWVsaW5lIGNsYXNzP1xuICAgIHRoaXMuX2l0ZXJhdGlvblRpbWUgPSB0aGlzLml0ZXJhdGlvbkR1cmF0aW9uO1xuICAgIC8vIFNldCB0aWNrTW9kZSB0byB0aWNrTW9kZXMuRk9SQ0UgdG8gZm9yY2UgcmVuZGVyaW5nXG4gICAgdGljayh0aGlzLCAwLCAxLCBpbnRlcm5hbFJlbmRlciwgdGlja01vZGVzLkZPUkNFKTtcbiAgICAvLyBSZXNldCB0aW1lciBwcm9wZXJ0aWVzIGFmdGVyIHJldml2ZSAvIHJlbmRlciB0byBtYWtlIHN1cmUgdGhlIHByb3BzIGFyZSBub3QgdXBkYXRlZCBhZ2FpblxuICAgIHJlc2V0VGltZXJQcm9wZXJ0aWVzKHRoaXMpO1xuICAgIC8vIEFsc28gcmVzZXQgY2hpbGRyZW4gcHJvcGVydGllc1xuICAgIGlmICh0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsIHJlc2V0VGltZXJQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpbnRlcm5hbFJlbmRlclxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgaW5pdChpbnRlcm5hbFJlbmRlciA9IDApIHtcbiAgICB0aGlzLmZwcyA9IHRoaXMuX2ZwcztcbiAgICB0aGlzLnNwZWVkID0gdGhpcy5fc3BlZWQ7XG4gICAgLy8gTWFudWFsbHkgY2FsbGluZyAuaW5pdCgpIG9uIHRpbWVsaW5lcyBzaG91bGQgcmVuZGVyIGFsbCBjaGlsZHJlbiBpbnRpYWwgc3RhdGVcbiAgICAvLyBGb3JjZXMgYWxsIGNoaWxkcmVuIHRvIHJlbmRlciBvbmNlIHRoZW4gcmVuZGVyIHRvIDAgd2hlbiByZXNldGVkXG4gICAgaWYgKCFpbnRlcm5hbFJlbmRlciAmJiB0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgICAgdGljayh0aGlzLCB0aGlzLmR1cmF0aW9uLCAxLCBpbnRlcm5hbFJlbmRlciwgdGlja01vZGVzLkZPUkNFKTtcbiAgICB9XG4gICAgdGhpcy5yZXNldChpbnRlcm5hbFJlbmRlcik7XG4gICAgLy8gTWFrZSBzdXJlIHRvIHNldCBhdXRvcGxheSB0byBmYWxzZSB0byBjaGlsZCB0aW1lcnMgc28gaXQgZG9lc24ndCBhdHRlbXB0IHRvIGF1dG9wbGF5IC8gbGlua1xuICAgIGNvbnN0IGF1dG9wbGF5ID0gdGhpcy5fYXV0b3BsYXk7XG4gICAgaWYgKGF1dG9wbGF5ID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnJlc3VtZSgpO1xuICAgIH0gZWxzZSBpZiAoYXV0b3BsYXkgJiYgIWlzVW5kKC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovKGF1dG9wbGF5KS5saW5rZWQpKSB7XG4gICAgICAvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqLyhhdXRvcGxheSkubGluayh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgcmVzZXRUaW1lKCkge1xuICAgIGNvbnN0IHRpbWVTY2FsZSA9IDEgLyAodGhpcy5fc3BlZWQgKiBlbmdpbmUuX3NwZWVkKTtcbiAgICB0aGlzLl9zdGFydFRpbWUgPSBub3coKSAtICh0aGlzLl9jdXJyZW50VGltZSArIHRoaXMuX2RlbGF5KSAqIHRpbWVTY2FsZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHt0aGlzfSAqL1xuICBwYXVzZSgpIHtcbiAgICBpZiAodGhpcy5wYXVzZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLm9uUGF1c2UodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgcmVzdW1lKCkge1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgLy8gV2UgY2FuIHNhZmVseSBpbWVkaWF0bHkgcmVuZGVyIGEgdGltZXIgdGhhdCBoYXMgbm8gZHVyYXRpb24gYW5kIG5vIGNoaWxkcmVuXG4gICAgaWYgKHRoaXMuZHVyYXRpb24gPD0gbWluVmFsdWUgJiYgIXRoaXMuX2hhc0NoaWxkcmVuKSB7XG4gICAgICB0aWNrKHRoaXMsIG1pblZhbHVlLCAwLCAwLCB0aWNrTW9kZXMuRk9SQ0UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuX3J1bm5pbmcpIHtcbiAgICAgICAgYWRkQ2hpbGQoZW5naW5lLCB0aGlzKTtcbiAgICAgICAgZW5naW5lLl9oYXNDaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNldFRpbWUoKTtcbiAgICAgIC8vIEZvcmNlcyB0aGUgdGltZXIgdG8gYWR2YW5jZSBieSBhdCBsZWFzdCBvbmUgZnJhbWUgd2hlbiB0aGUgbmV4dCB0aWNrIG9jY3Vyc1xuICAgICAgdGhpcy5fc3RhcnRUaW1lIC09IDEyO1xuICAgICAgZW5naW5lLndha2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgcmVzdGFydCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNldCgwKS5yZXN1bWUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVcbiAgICogQHBhcmFtICB7Qm9vbGVhbnxOdW1iZXJ9IFttdXRlQ2FsbGJhY2tzXVxuICAgKiBAcGFyYW0gIHtCb29sZWFufE51bWJlcn0gW2ludGVybmFsUmVuZGVyXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgc2Vlayh0aW1lLCBtdXRlQ2FsbGJhY2tzID0gMCwgaW50ZXJuYWxSZW5kZXIgPSAwKSB7XG4gICAgLy8gUmVjb21wb3NlIHRoZSB0d2VlbiBzaWJsaW5ncyBpbiBjYXNlIHRoZSB0aW1lciBoYXMgYmVlbiBjYW5jZWxsZWRcbiAgICByZXZpdmVUaW1lcih0aGlzKTtcbiAgICAvLyBJZiB5b3Ugc2VlayBhIGNvbXBsZXRlZCBhbmltYXRpb24sIG90aGVyd2lzZSB0aGUgbmV4dCBwbGF5IHdpbGwgc3RhcnRzIGF0IDBcbiAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGlzUGF1c2VkID0gdGhpcy5wYXVzZWQ7XG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIC8vIHRpbWVyLCB0aW1lLCBtdXRlQ2FsbGJhY2tzLCBpbnRlcm5hbFJlbmRlciwgdGlja01vZGVcbiAgICB0aWNrKHRoaXMsIHRpbWUgKyB0aGlzLl9kZWxheSwgfn5tdXRlQ2FsbGJhY2tzLCB+fmludGVybmFsUmVuZGVyLCB0aWNrTW9kZXMuQVVUTyk7XG4gICAgcmV0dXJuIGlzUGF1c2VkID8gdGhpcyA6IHRoaXMucmVzdW1lKCk7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgYWx0ZXJuYXRlKCkge1xuICAgIGNvbnN0IHJldmVyc2VkID0gdGhpcy5fcmV2ZXJzZWQ7XG4gICAgY29uc3QgY291bnQgPSB0aGlzLml0ZXJhdGlvbkNvdW50O1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5pdGVyYXRpb25EdXJhdGlvbjtcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG1heGltdW0gaXRlcmF0aW9ucyBwb3NzaWJsZSBnaXZlbiB0aGUgaXRlcmF0aW9uIGR1cmF0aW9uXG4gICAgY29uc3QgaXRlcmF0aW9ucyA9IGNvdW50ID09PSBJbmZpbml0eSA/IGZsb29yKG1heFZhbHVlIC8gZHVyYXRpb24pIDogY291bnQ7XG4gICAgdGhpcy5fcmV2ZXJzZWQgPSArKHRoaXMuX2FsdGVybmF0ZSAmJiAhKGl0ZXJhdGlvbnMgJSAyKSA/IHJldmVyc2VkIDogIXJldmVyc2VkKTtcbiAgICBpZiAoY291bnQgPT09IEluZmluaXR5KSB7XG4gICAgICAvLyBIYW5kbGUgaW5maW5pdGUgbG9vcHMgdG8gbG9vcCBvbiB0aGVtc2VsZlxuICAgICAgdGhpcy5pdGVyYXRpb25Qcm9ncmVzcyA9IHRoaXMuX3JldmVyc2VkID8gMSAtIHRoaXMuaXRlcmF0aW9uUHJvZ3Jlc3MgOiB0aGlzLml0ZXJhdGlvblByb2dyZXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlZWsoKGR1cmF0aW9uICogaXRlcmF0aW9ucykgLSB0aGlzLl9jdXJyZW50VGltZSk7XG4gICAgfVxuICAgIHRoaXMucmVzZXRUaW1lKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgcGxheSgpIHtcbiAgICBpZiAodGhpcy5fcmV2ZXJzZWQpIHRoaXMuYWx0ZXJuYXRlKCk7XG4gICAgcmV0dXJuIHRoaXMucmVzdW1lKCk7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgcmV2ZXJzZSgpIHtcbiAgICBpZiAoIXRoaXMuX3JldmVyc2VkKSB0aGlzLmFsdGVybmF0ZSgpO1xuICAgIHJldHVybiB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAgLy8gVE9ETzogTW92ZSBhbGwgdGhlIGFuaW1hdGlvbiAvIHR3ZWVucyAvIGNoaWxkcmVuIHJlbGF0ZWQgY29kZSB0byBBbmltYXRpb24gLyBUaW1lbGluZVxuXG4gIC8qKiBAcmV0dXJuIHt0aGlzfSAqL1xuICBjYW5jZWwoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0NoaWxkcmVuKSB7XG4gICAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi9jaGlsZCkgPT4gY2hpbGQuY2FuY2VsKCksIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgcmVtb3ZlVHdlZW5TbGlibGluZ3MpO1xuICAgIH1cbiAgICB0aGlzLl9jYW5jZWxsZWQgPSAxO1xuICAgIC8vIFBhdXNpbmcgdGhlIHRpbWVyIHJlbW92ZXMgaXQgZnJvbSB0aGUgZW5naW5lXG4gICAgcmV0dXJuIHRoaXMucGF1c2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG5ld0R1cmF0aW9uXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBzdHJldGNoKG5ld0R1cmF0aW9uKSB7XG4gICAgY29uc3QgY3VycmVudER1cmF0aW9uID0gdGhpcy5kdXJhdGlvbjtcbiAgICBpZiAoY3VycmVudER1cmF0aW9uID09PSBjbGFtcFplcm8obmV3RHVyYXRpb24pKSByZXR1cm4gdGhpcztcbiAgICBjb25zdCB0aW1lU2NhbGUgPSBuZXdEdXJhdGlvbiAvIGN1cnJlbnREdXJhdGlvbjtcbiAgICBjb25zdCBpc1NldHRlciA9IG5ld0R1cmF0aW9uIDw9IG1pblZhbHVlO1xuICAgIHRoaXMuZHVyYXRpb24gPSBpc1NldHRlciA/IG1pblZhbHVlIDogY2xhbXBaZXJvKGNsYW1wSW5maW5pdHkocm91bmQoY3VycmVudER1cmF0aW9uICogdGltZVNjYWxlLCAxMikpKTtcbiAgICB0aGlzLml0ZXJhdGlvbkR1cmF0aW9uID0gaXNTZXR0ZXIgPyBtaW5WYWx1ZSA6IGNsYW1wWmVybyhjbGFtcEluZmluaXR5KHJvdW5kKHRoaXMuaXRlcmF0aW9uRHVyYXRpb24gKiB0aW1lU2NhbGUsIDEyKSkpO1xuICAgIHRoaXMuX29mZnNldCAqPSB0aW1lU2NhbGU7XG4gICAgdGhpcy5fZGVsYXkgKj0gdGltZVNjYWxlO1xuICAgIHRoaXMuX2xvb3BEZWxheSAqPSB0aW1lU2NhbGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuIC8qKlxuICAgKiBDYW5jZWxzIHRoZSB0aW1lciBieSBzZWVraW5nIGl0IGJhY2sgdG8gMCBhbmQgcmV2ZXJ0aW5nIHRoZSBhdHRhY2hlZCBzY3JvbGxlciBpZiBuZWNlc3NhcnlcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHJldmVydCgpIHtcbiAgICB0aWNrKHRoaXMsIDAsIDEsIDAsIHRpY2tNb2Rlcy5BVVRPKTtcbiAgICBjb25zdCBhcCA9IC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovKHRoaXMuX2F1dG9wbGF5KTtcbiAgICBpZiAoYXAgJiYgYXAubGlua2VkICYmIGFwLmxpbmtlZCA9PT0gdGhpcykgYXAucmV2ZXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMuY2FuY2VsKCk7XG4gIH1cblxuIC8qKlxuICAgKiBJbWVkaWF0bHkgY29tcGxldGVzIHRoZSB0aW1lciwgY2FuY2VscyBpdCBhbmQgdHJpZ2dlcnMgdGhlIG9uQ29tcGxldGUgY2FsbGJhY2tcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLnNlZWsodGhpcy5kdXJhdGlvbikuY2FuY2VsKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7Q2FsbGJhY2s8dGhpcz59IFtjYWxsYmFja11cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIHRoZW4oY2FsbGJhY2sgPSBub29wKSB7XG4gICAgY29uc3QgdGhlbiA9IHRoaXMudGhlbjtcbiAgICBjb25zdCBvblJlc29sdmUgPSAoKSA9PiB7XG4gICAgICAvLyB0aGlzLnRoZW4gPSBudWxsIHByZXZlbnRzIGluZmluaXRlIHJlY3Vyc2lvbiBpZiByZXR1cm5lZCBieSBhbiBhc3luYyBmdW5jdGlvblxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2p1bGlhbmdhcm5pZXJvcmcvYW5pbWUtYmV0YS9pc3N1ZXMvMjZcbiAgICAgIHRoaXMudGhlbiA9IG51bGw7XG4gICAgICBjYWxsYmFjayh0aGlzKTtcbiAgICAgIHRoaXMudGhlbiA9IHRoZW47XG4gICAgICB0aGlzLl9yZXNvbHZlID0gbm9vcDtcbiAgICB9O1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHtcbiAgICAgIHRoaXMuX3Jlc29sdmUgPSAoKSA9PiByKG9uUmVzb2x2ZSgpKTtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byByZXNvbHZlIGltZWRpYXRseSBpZiB0aGUgdGltZXIgaGFzIGFscmVhZHkgY29tcGxldGVkXG4gICAgICBpZiAodGhpcy5jb21wbGV0ZWQpIHRoaXMuX3Jlc29sdmUoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICB9XG5cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7VGltZXJQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICogQHJldHVybiB7VGltZXJ9XG4gKi9cbmNvbnN0IGNyZWF0ZVRpbWVyID0gcGFyYW1ldGVycyA9PiBuZXcgVGltZXIocGFyYW1ldGVycywgbnVsbCwgMCkuaW5pdCgpO1xuXG5cblxuXG4vKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuY29uc3Qgbm9uZSA9IHQgPT4gdDtcblxuLy8gQ3ViaWMgQmV6aWVyIHNvbHZlciBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzZSBcdTAwQTkgR2FcdTAwRUJ0YW4gUmVuYXVkZWF1XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSBhVFxuICogQHBhcmFtICB7TnVtYmVyfSBhQTFcbiAqIEBwYXJhbSAge051bWJlcn0gYUEyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGNhbGNCZXppZXIgPSAoYVQsIGFBMSwgYUEyKSA9PiAoKCgxIC0gMyAqIGFBMiArIDMgKiBhQTEpICogYVQgKyAoMyAqIGFBMiAtIDYgKiBhQTEpKSAqIGFUICsgKDMgKiBhQTEpKSAqIGFUO1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gYVhcbiAqIEBwYXJhbSAge051bWJlcn0gbVgxXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG1YMlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBiaW5hcnlTdWJkaXZpZGUgPSAoYVgsIG1YMSwgbVgyKSA9PiB7XG4gIGxldCBhQSA9IDAsIGFCID0gMSwgY3VycmVudFgsIGN1cnJlbnRULCBpID0gMDtcbiAgZG8ge1xuICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyO1xuICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgaWYgKGN1cnJlbnRYID4gMCkge1xuICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICB9IGVsc2Uge1xuICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICB9XG4gIH0gd2hpbGUgKGFicyhjdXJyZW50WCkgPiAuMDAwMDAwMSAmJiArK2kgPCAxMDApO1xuICByZXR1cm4gY3VycmVudFQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gW21YMV1cbiAqIEBwYXJhbSAge051bWJlcn0gW21ZMV1cbiAqIEBwYXJhbSAge051bWJlcn0gW21YMl1cbiAqIEBwYXJhbSAge051bWJlcn0gW21ZMl1cbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5cbmNvbnN0IGN1YmljQmV6aWVyID0gKG1YMSA9IDAuNSwgbVkxID0gMC4wLCBtWDIgPSAwLjUsIG1ZMiA9IDEuMCkgPT4gKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKSA/IG5vbmUgOlxuICB0ID0+IHQgPT09IDAgfHwgdCA9PT0gMSA/IHQgOlxuICBjYWxjQmV6aWVyKGJpbmFyeVN1YmRpdmlkZSh0LCBtWDEsIG1YMiksIG1ZMSwgbVkyKTtcblxuLyoqXG4gKiBTdGVwcyBlYXNlIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuICogT25seSBjb3ZlcnMgJ2VuZCcgYW5kICdzdGFydCcganVtcHRlcm1zXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHN0ZXBzXG4gKiBAcGFyYW0gIHtCb29sZWFufSBbZnJvbVN0YXJ0XVxuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb259XG4gKi9cbmNvbnN0IHN0ZXBzID0gKHN0ZXBzID0gMTAsIGZyb21TdGFydCkgPT4ge1xuICBjb25zdCByb3VuZE1ldGhvZCA9IGZyb21TdGFydCA/IGNlaWwgOiBmbG9vcjtcbiAgcmV0dXJuIHQgPT4gcm91bmRNZXRob2QoY2xhbXAodCwgMCwgMSkgKiBzdGVwcykgKiAoMSAvIHN0ZXBzKTtcbn07XG5cbi8qKlxuICogV2l0aG91dCBwYXJhbWV0ZXJzLCB0aGUgbGluZWFyIGZ1bmN0aW9uIGNyZWF0ZXMgYSBub24tZWFzZWQgdHJhbnNpdGlvbi5cbiAqIFBhcmFtZXRlcnMsIGlmIHVzZWQsIGNyZWF0ZXMgYSBwaWVjZXdpc2UgbGluZWFyIGVhc2luZyBieSBpbnRlcnBvbGF0aW5nIGxpbmVhcmx5IGJldHdlZW4gdGhlIHNwZWNpZmllZCBwb2ludHMuXG4gKiBAcGFyYW0gIHsuLi5TdHJpbmd8TnVtYmVyfSBbYXJnc10gLSBQb2ludHNcbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5jb25zdCBsaW5lYXIgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gIGlmICghYXJnc0xlbmd0aCkgcmV0dXJuIG5vbmU7XG4gIGNvbnN0IHRvdGFsUG9pbnRzID0gYXJnc0xlbmd0aCAtIDE7XG4gIGNvbnN0IGZpcnN0QXJnID0gYXJnc1swXTtcbiAgY29uc3QgbGFzdEFyZyA9IGFyZ3NbdG90YWxQb2ludHNdO1xuICBjb25zdCB4UG9pbnRzID0gWzBdO1xuICBjb25zdCB5UG9pbnRzID0gW3BhcnNlTnVtYmVyKGZpcnN0QXJnKV07XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgdG90YWxQb2ludHM7IGkrKykge1xuICAgIGNvbnN0IGFyZyA9IGFyZ3NbaV07XG4gICAgY29uc3Qgc3BsaXRWYWx1ZSA9IGlzU3RyKGFyZykgP1xuICAgIC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhhcmcpLnRyaW0oKS5zcGxpdCgnICcpIDpcbiAgICBbYXJnXTtcbiAgICBjb25zdCB2YWx1ZSA9IHNwbGl0VmFsdWVbMF07XG4gICAgY29uc3QgcGVyY2VudCA9IHNwbGl0VmFsdWVbMV07XG4gICAgeFBvaW50cy5wdXNoKCFpc1VuZChwZXJjZW50KSA/IHBhcnNlTnVtYmVyKHBlcmNlbnQpIC8gMTAwIDogaSAvIHRvdGFsUG9pbnRzKTtcbiAgICB5UG9pbnRzLnB1c2gocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgfVxuICB5UG9pbnRzLnB1c2gocGFyc2VOdW1iZXIobGFzdEFyZykpO1xuICB4UG9pbnRzLnB1c2goMSk7XG4gIHJldHVybiBmdW5jdGlvbiBlYXNlTGluZWFyKHQpIHtcbiAgICBmb3IgKGxldCBpID0gMSwgbCA9IHhQb2ludHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBjdXJyZW50WCA9IHhQb2ludHNbaV07XG4gICAgICBpZiAodCA8PSBjdXJyZW50WCkge1xuICAgICAgICBjb25zdCBwcmV2WCA9IHhQb2ludHNbaSAtIDFdO1xuICAgICAgICBjb25zdCBwcmV2WSA9IHlQb2ludHNbaSAtIDFdO1xuICAgICAgICByZXR1cm4gcHJldlkgKyAoeVBvaW50c1tpXSAtIHByZXZZKSAqICh0IC0gcHJldlgpIC8gKGN1cnJlbnRYIC0gcHJldlgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geVBvaW50c1t5UG9pbnRzLmxlbmd0aCAtIDFdO1xuICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIHJhbmRvbSBzdGVwc1xuICogQHBhcmFtICB7TnVtYmVyfSBbbGVuZ3RoXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHNcbiAqIEBwYXJhbSAge051bWJlcn0gW3JhbmRvbW5lc3NdIC0gSG93IHN0cm9uZyB0aGUgcmFuZG9tbmVzcyBpc1xuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb259XG4gKi9cbmNvbnN0IGlycmVndWxhciA9IChsZW5ndGggPSAxMCwgcmFuZG9tbmVzcyA9IDEpID0+IHtcbiAgY29uc3QgdmFsdWVzID0gWzBdO1xuICBjb25zdCB0b3RhbCA9IGxlbmd0aCAtIDE7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgdG90YWw7IGkrKykge1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB2YWx1ZXNbaSAtIDFdO1xuICAgIGNvbnN0IHNwYWNpbmcgPSBpIC8gdG90YWw7XG4gICAgY29uc3Qgc2VnbWVudEVuZCA9IChpICsgMSkgLyB0b3RhbDtcbiAgICBjb25zdCByYW5kb21WYXJpYXRpb24gPSBzcGFjaW5nICsgKHNlZ21lbnRFbmQgLSBzcGFjaW5nKSAqIE1hdGgucmFuZG9tKCk7XG4gICAgLy8gTWl4IHRoZSBldmVuIHNwYWNpbmcgYW5kIHJhbmRvbSB2YXJpYXRpb24gYmFzZWQgb24gdGhlIHJhbmRvbW5lc3MgcGFyYW1ldGVyXG4gICAgY29uc3QgcmFuZG9tVmFsdWUgPSBzcGFjaW5nICogKDEgLSByYW5kb21uZXNzKSArIHJhbmRvbVZhcmlhdGlvbiAqIHJhbmRvbW5lc3M7XG4gICAgdmFsdWVzLnB1c2goY2xhbXAocmFuZG9tVmFsdWUsIHByZXZpb3VzVmFsdWUsIDEpKTtcbiAgfVxuICB2YWx1ZXMucHVzaCgxKTtcbiAgcmV0dXJuIGxpbmVhciguLi52YWx1ZXMpO1xufTtcblxuLy8gRWFzaW5nIGZ1bmN0aW9ucyBhZGFwdGVkIGZyb20gaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2UgXHUwMEE5IFJvYmVydCBQZW5uZXJcblxuLyoqXG4gKiBAY2FsbGJhY2sgUG93ZXJFYXNpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW3Bvd2VyPTEuNjc1XVxuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb259XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgQmFja0Vhc2luZ1xuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbb3ZlcnNob290PTEuNzAxNThdXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbn1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBFbGFzdGljRWFzaW5nXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFthbXBsaXR1ZGU9MV1cbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW3BlcmlvZD0uM11cbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEVhc2VGYWN0b3J5XG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtwYXJhbUFdXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtwYXJhbUJdXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbnxOdW1iZXJ9XG4gKi9cblxuLyoqIEB0eXBlZGVmIHtQb3dlckVhc2luZ3xCYWNrRWFzaW5nfEVsYXN0aWNFYXNpbmd9IEVhc2VzRmFjdG9yeSAqL1xuXG5jb25zdCBoYWxmUEkgPSBQSSAvIDI7XG5jb25zdCBkb3VibGVQSSA9IFBJICogMjtcbi8qKiBAdHlwZSB7UG93ZXJFYXNpbmd9ICovXG5jb25zdCBlYXNlSW5Qb3dlciA9IChwID0gMS42OCkgPT4gdCA9PiBwb3codCwgK3ApO1xuXG4vKiogQHR5cGUge1JlY29yZDxTdHJpbmcsIEVhc2VzRmFjdG9yeXxFYXNpbmdGdW5jdGlvbj59ICovXG5jb25zdCBlYXNlSW5GdW5jdGlvbnMgPSB7XG4gIFtlbXB0eVN0cmluZ106IGVhc2VJblBvd2VyLFxuICBRdWFkOiBlYXNlSW5Qb3dlcigyKSxcbiAgQ3ViaWM6IGVhc2VJblBvd2VyKDMpLFxuICBRdWFydDogZWFzZUluUG93ZXIoNCksXG4gIFF1aW50OiBlYXNlSW5Qb3dlcig1KSxcbiAgLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbiAgU2luZTogdCA9PiAxIC0gY29zKHQgKiBoYWxmUEkpLFxuICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICBDaXJjOiB0ID0+IDEgLSBzcXJ0KDEgLSB0ICogdCksXG4gIC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovXG4gIEV4cG86IHQgPT4gdCA/IHBvdygyLCAxMCAqIHQgLSAxMCkgOiAwLFxuICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICBCb3VuY2U6IHQgPT4ge1xuICAgIGxldCBwb3cyLCBiID0gNDtcbiAgICB3aGlsZSAodCA8ICgocG93MiA9IHBvdygyLCAtLWIpKSAtIDEpIC8gMTEpO1xuICAgIHJldHVybiAxIC8gcG93KDQsIDMgLSBiKSAtIDcuNTYyNSAqIHBvdygocG93MiAqIDMgLSAyKSAvIDIyIC0gdCwgMik7XG4gIH0sXG4gIC8qKiBAdHlwZSB7QmFja0Vhc2luZ30gKi9cbiAgQmFjazogKG92ZXJzaG9vdCA9IDEuNzAxNTgpID0+IHQgPT4gKCtvdmVyc2hvb3QgKyAxKSAqIHQgKiB0ICogdCAtICtvdmVyc2hvb3QgKiB0ICogdCxcbiAgLyoqIEB0eXBlIHtFbGFzdGljRWFzaW5nfSAqL1xuICBFbGFzdGljOiAoYW1wbGl0dWRlID0gMSwgcGVyaW9kID0gLjMpID0+IHtcbiAgICBjb25zdCBhID0gY2xhbXAoK2FtcGxpdHVkZSwgMSwgMTApO1xuICAgIGNvbnN0IHAgPSBjbGFtcCgrcGVyaW9kLCBtaW5WYWx1ZSwgMik7XG4gICAgY29uc3QgcyA9IChwIC8gZG91YmxlUEkpICogYXNpbigxIC8gYSk7XG4gICAgY29uc3QgZSA9IGRvdWJsZVBJIC8gcDtcbiAgICByZXR1cm4gdCA9PiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogLWEgKiBwb3coMiwgLTEwICogKDEgLSB0KSkgKiBzaW4oKCgxIC0gdCkgLSBzKSAqIGUpO1xuICB9XG59O1xuXG4vKipcbiAqIEBjYWxsYmFjayBFYXNlVHlwZVxuICogQHBhcmFtIHtFYXNpbmdGdW5jdGlvbn0gRWFzZVxuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb259XG4gKi9cblxuLyoqIEB0eXBlIHtSZWNvcmQ8U3RyaW5nLCBFYXNlVHlwZT59ICovXG5jb25zdCBlYXNlVHlwZXMgPSB7XG4gIGluOiBlYXNlSW4gPT4gdCA9PiBlYXNlSW4odCksXG4gIG91dDogZWFzZUluID0+IHQgPT4gMSAtIGVhc2VJbigxIC0gdCksXG4gIGluT3V0OiBlYXNlSW4gPT4gdCA9PiB0IDwgLjUgPyBlYXNlSW4odCAqIDIpIC8gMiA6IDEgLSBlYXNlSW4odCAqIC0yICsgMikgLyAyLFxuICBvdXRJbjogZWFzZUluID0+IHQgPT4gdCA8IC41ID8gKDEgLSBlYXNlSW4oMSAtIHQgKiAyKSkgLyAyIDogKGVhc2VJbih0ICogMiAtIDEpICsgMSkgLyAyLFxufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtICB7UmVjb3JkPFN0cmluZywgRWFzZXNGYWN0b3J5fEVhc2luZ0Z1bmN0aW9uPn0gZWFzZXNGdW5jdGlvbnNcbiAqIEBwYXJhbSAge09iamVjdH0gZWFzZXNMb29rdXBzXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbn1cbiAqL1xuY29uc3QgcGFyc2VFYXNlU3RyaW5nID0gKHN0cmluZywgZWFzZXNGdW5jdGlvbnMsIGVhc2VzTG9va3VwcykgPT4ge1xuICBpZiAoZWFzZXNMb29rdXBzW3N0cmluZ10pIHJldHVybiBlYXNlc0xvb2t1cHNbc3RyaW5nXTtcbiAgaWYgKHN0cmluZy5pbmRleE9mKCcoJykgPD0gLTEpIHtcbiAgICBjb25zdCBoYXNQYXJhbXMgPSBlYXNlVHlwZXNbc3RyaW5nXSB8fCBzdHJpbmcuaW5jbHVkZXMoJ0JhY2snKSB8fCBzdHJpbmcuaW5jbHVkZXMoJ0VsYXN0aWMnKTtcbiAgICBjb25zdCBwYXJzZWRGbiA9IC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovKGhhc1BhcmFtcyA/IC8qKiBAdHlwZSB7RWFzZXNGYWN0b3J5fSAqLyhlYXNlc0Z1bmN0aW9uc1tzdHJpbmddKSgpIDogZWFzZXNGdW5jdGlvbnNbc3RyaW5nXSk7XG4gICAgcmV0dXJuIHBhcnNlZEZuID8gZWFzZXNMb29rdXBzW3N0cmluZ10gPSBwYXJzZWRGbiA6IG5vbmU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3BsaXQgPSBzdHJpbmcuc2xpY2UoMCwgLTEpLnNwbGl0KCcoJyk7XG4gICAgY29uc3QgcGFyc2VkRm4gPSAvKiogQHR5cGUge0Vhc2VzRmFjdG9yeX0gKi8oZWFzZXNGdW5jdGlvbnNbc3BsaXRbMF1dKTtcbiAgICByZXR1cm4gcGFyc2VkRm4gPyBlYXNlc0xvb2t1cHNbc3RyaW5nXSA9IHBhcnNlZEZuKC4uLnNwbGl0WzFdLnNwbGl0KCcsJykpIDogbm9uZTtcbiAgfVxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiAge09iamVjdH0gRWFzZXNGdW5jdGlvbnNcbiAqIEBwcm9wZXJ0eSB7dHlwZW9mIGxpbmVhcn0gbGluZWFyXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpcnJlZ3VsYXJ9IGlycmVndWxhclxuICogQHByb3BlcnR5IHt0eXBlb2Ygc3RlcHN9IHN0ZXBzXG4gKiBAcHJvcGVydHkge3R5cGVvZiBjdWJpY0Jlemllcn0gY3ViaWNCZXppZXJcbiAqIEBwcm9wZXJ0eSB7UG93ZXJFYXNpbmd9IGluXG4gKiBAcHJvcGVydHkge1Bvd2VyRWFzaW5nfSBvdXRcbiAqIEBwcm9wZXJ0eSB7UG93ZXJFYXNpbmd9IGluT3V0XG4gKiBAcHJvcGVydHkge1Bvd2VyRWFzaW5nfSBvdXRJblxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5RdWFkXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRRdWFkXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpbk91dFF1YWRcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluUXVhZFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5DdWJpY1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0Q3ViaWNcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluT3V0Q3ViaWNcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluQ3ViaWNcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluUXVhcnRcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dFF1YXJ0XG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpbk91dFF1YXJ0XG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJblF1YXJ0XG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpblF1aW50XG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRRdWludFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRRdWludFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0SW5RdWludFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5TaW5lXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRTaW5lXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpbk91dFNpbmVcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluU2luZVxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5DaXJjXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRDaXJjXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpbk91dENpcmNcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluQ2lyY1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5FeHBvXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRFeHBvXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpbk91dEV4cG9cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluRXhwb1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5Cb3VuY2VcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEJvdW5jZVxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRCb3VuY2VcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluQm91bmNlXG4gKiBAcHJvcGVydHkge0JhY2tFYXNpbmd9IGluQmFja1xuICogQHByb3BlcnR5IHtCYWNrRWFzaW5nfSBvdXRCYWNrXG4gKiBAcHJvcGVydHkge0JhY2tFYXNpbmd9IGluT3V0QmFja1xuICogQHByb3BlcnR5IHtCYWNrRWFzaW5nfSBvdXRJbkJhY2tcbiAqIEBwcm9wZXJ0eSB7RWxhc3RpY0Vhc2luZ30gaW5FbGFzdGljXG4gKiBAcHJvcGVydHkge0VsYXN0aWNFYXNpbmd9IG91dEVsYXN0aWNcbiAqIEBwcm9wZXJ0eSB7RWxhc3RpY0Vhc2luZ30gaW5PdXRFbGFzdGljXG4gKiBAcHJvcGVydHkge0VsYXN0aWNFYXNpbmd9IG91dEluRWxhc3RpY1xuICovXG5cbmNvbnN0IGVhc2VzID0gKC8qI19fUFVSRV9fKi8gKCgpID0+IHtcbiAgY29uc3QgbGlzdCA9IHsgbGluZWFyLCBpcnJlZ3VsYXIsIHN0ZXBzLCBjdWJpY0JlemllciB9O1xuICBmb3IgKGxldCB0eXBlIGluIGVhc2VUeXBlcykge1xuICAgIGZvciAobGV0IG5hbWUgaW4gZWFzZUluRnVuY3Rpb25zKSB7XG4gICAgICBjb25zdCBlYXNlSW4gPSBlYXNlSW5GdW5jdGlvbnNbbmFtZV07XG4gICAgICBjb25zdCBlYXNlVHlwZSA9IGVhc2VUeXBlc1t0eXBlXTtcbiAgICAgIGxpc3RbdHlwZSArIG5hbWVdID0gLyoqIEB0eXBlIHtFYXNlc0ZhY3Rvcnl8RWFzaW5nRnVuY3Rpb259ICovKFxuICAgICAgICBuYW1lID09PSBlbXB0eVN0cmluZyB8fCBuYW1lID09PSAnQmFjaycgfHwgbmFtZSA9PT0gJ0VsYXN0aWMnID9cbiAgICAgICAgKGEsIGIpID0+IGVhc2VUeXBlKC8qKiBAdHlwZSB7RWFzZXNGYWN0b3J5fSAqLyhlYXNlSW4pKGEsIGIpKSA6XG4gICAgICAgIGVhc2VUeXBlKC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovKGVhc2VJbikpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHtFYXNlc0Z1bmN0aW9uc30gKi8obGlzdCk7XG59KSgpKTtcblxuLyoqIEB0eXBlIHtSZWNvcmQ8U3RyaW5nLCBFYXNpbmdGdW5jdGlvbj59ICovXG5jb25zdCBKU0Vhc2VzTG9va3VwcyA9IHsgbGluZWFyOiBub25lIH07XG5cbi8qKlxuICogQHBhcmFtICB7RWFzaW5nUGFyYW19IGVhc2VcbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5jb25zdCBwYXJzZUVhc2luZ3MgPSBlYXNlID0+IGlzRm5jKGVhc2UpID8gZWFzZSA6XG4gIGlzU3RyKGVhc2UpID8gcGFyc2VFYXNlU3RyaW5nKC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhlYXNlKSwgZWFzZXMsIEpTRWFzZXNMb29rdXBzKSA6XG4gIG5vbmU7XG5cblxuXG5cbmNvbnN0IHByb3BlcnR5TmFtZXNDYWNoZSA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSAge1N0cmluZ30gcHJvcGVydHlOYW1lXG4gKiBAcGFyYW0gIHtUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtICB7dHdlZW5UeXBlc30gdHdlZW5UeXBlXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmNvbnN0IHNhbml0aXplUHJvcGVydHlOYW1lID0gKHByb3BlcnR5TmFtZSwgdGFyZ2V0LCB0d2VlblR5cGUpID0+IHtcbiAgaWYgKHR3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5UUkFOU0ZPUk0pIHtcbiAgICBjb25zdCB0ID0gc2hvcnRUcmFuc2Zvcm1zLmdldChwcm9wZXJ0eU5hbWUpO1xuICAgIHJldHVybiB0ID8gdCA6IHByb3BlcnR5TmFtZTtcbiAgfSBlbHNlIGlmIChcbiAgICB0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuQ1NTIHx8XG4gICAgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZXMgd2hlcmUgcHJvcGVydGllcyBsaWtlIFwic3Ryb2tlRGFzaG9mZnNldFwiIG5lZWRzIHRvIGJlIHNldCBhcyBcInN0cm9rZS1kYXNob2Zmc2V0XCJcbiAgICAvLyBidXQgcHJvcGVydGllcyBsaWtlIFwiYmFzZUZyZXF1ZW5jeVwiIHNob3VsZCBzdGF5IGluIGxvd2VyQ2FtZWxDYXNlXG4gICAgKHR3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5BVFRSSUJVVEUgJiYgKGlzU3ZnKHRhcmdldCkgJiYgcHJvcGVydHlOYW1lIGluIC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyh0YXJnZXQpLnN0eWxlKSlcbiAgKSB7XG4gICAgY29uc3QgY2FjaGVkUHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lc0NhY2hlW3Byb3BlcnR5TmFtZV07XG4gICAgaWYgKGNhY2hlZFByb3BlcnR5TmFtZSkge1xuICAgICAgcmV0dXJuIGNhY2hlZFByb3BlcnR5TmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbG93ZXJDYXNlTmFtZSA9IHByb3BlcnR5TmFtZSA/IHRvTG93ZXJDYXNlKHByb3BlcnR5TmFtZSkgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICBwcm9wZXJ0eU5hbWVzQ2FjaGVbcHJvcGVydHlOYW1lXSA9IGxvd2VyQ2FzZU5hbWU7XG4gICAgICByZXR1cm4gbG93ZXJDYXNlTmFtZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByb3BlcnR5TmFtZTtcbiAgfVxufTtcblxuXG5cblxuY29uc3QgYW5nbGVVbml0c01hcCA9IHsgJ2RlZyc6IDEsICdyYWQnOiAxODAgLyBQSSwgJ3R1cm4nOiAzNjAgfTtcbmNvbnN0IGNvbnZlcnRlZFZhbHVlc0NhY2hlID0ge307XG5cbi8qKlxuICogQHBhcmFtICB7RE9NVGFyZ2V0fSBlbFxuICogQHBhcmFtICB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9IGRlY29tcG9zZWRWYWx1ZVxuICogQHBhcmFtICB7U3RyaW5nfSB1bml0XG4gKiBAcGFyYW0gIHtCb29sZWFufSBbZm9yY2VdXG4gKiBAcmV0dXJuIHtUd2VlbkRlY29tcG9zZWRWYWx1ZX1cbiAqL1xuY29uc3QgY29udmVydFZhbHVlVW5pdCA9IChlbCwgZGVjb21wb3NlZFZhbHVlLCB1bml0LCBmb3JjZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVbml0ID0gZGVjb21wb3NlZFZhbHVlLnU7XG4gIGNvbnN0IGN1cnJlbnROdW1iZXIgPSBkZWNvbXBvc2VkVmFsdWUubjtcbiAgaWYgKGRlY29tcG9zZWRWYWx1ZS50ID09PSB2YWx1ZVR5cGVzLlVOSVQgJiYgY3VycmVudFVuaXQgPT09IHVuaXQpIHsgLy8gVE9ETzogQ2hlY2sgaWYgY2hlY2tpbmcgYWdhaW5zdCB0aGUgc2FtZSB1bml0IHN0cmluZyBpcyBuZWNlc3NhcnlcbiAgICByZXR1cm4gZGVjb21wb3NlZFZhbHVlO1xuICB9XG4gIGNvbnN0IGNhY2hlZEtleSA9IGN1cnJlbnROdW1iZXIgKyBjdXJyZW50VW5pdCArIHVuaXQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNvbnZlcnRlZFZhbHVlc0NhY2hlW2NhY2hlZEtleV07XG4gIGlmICghaXNVbmQoY2FjaGVkKSAmJiAhZm9yY2UpIHtcbiAgICBkZWNvbXBvc2VkVmFsdWUubiA9IGNhY2hlZDtcbiAgfSBlbHNlIHtcbiAgICBsZXQgY29udmVydGVkVmFsdWU7XG4gICAgaWYgKGN1cnJlbnRVbml0IGluIGFuZ2xlVW5pdHNNYXApIHtcbiAgICAgIGNvbnZlcnRlZFZhbHVlID0gY3VycmVudE51bWJlciAqIGFuZ2xlVW5pdHNNYXBbY3VycmVudFVuaXRdIC8gYW5nbGVVbml0c01hcFt1bml0XTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYmFzZWxpbmUgPSAxMDA7XG4gICAgICBjb25zdCB0ZW1wRWwgPSAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8oZWwuY2xvbmVOb2RlKCkpO1xuICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IGVsLnBhcmVudE5vZGU7XG4gICAgICBjb25zdCBwYXJlbnRFbCA9IChwYXJlbnROb2RlICYmIChwYXJlbnROb2RlICE9PSBkb2MpKSA/IHBhcmVudE5vZGUgOiBkb2MuYm9keTtcbiAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRlbXBFbCk7XG4gICAgICBjb25zdCBlbFN0eWxlID0gdGVtcEVsLnN0eWxlO1xuICAgICAgZWxTdHlsZS53aWR0aCA9IGJhc2VsaW5lICsgY3VycmVudFVuaXQ7XG4gICAgICBjb25zdCBjdXJyZW50VW5pdFdpZHRoID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8odGVtcEVsKS5vZmZzZXRXaWR0aCB8fCBiYXNlbGluZTtcbiAgICAgIGVsU3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gICAgICBjb25zdCBuZXdVbml0V2lkdGggPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyh0ZW1wRWwpLm9mZnNldFdpZHRoIHx8IGJhc2VsaW5lO1xuICAgICAgY29uc3QgZmFjdG9yID0gY3VycmVudFVuaXRXaWR0aCAvIG5ld1VuaXRXaWR0aDtcbiAgICAgIHBhcmVudEVsLnJlbW92ZUNoaWxkKHRlbXBFbCk7XG4gICAgICBjb252ZXJ0ZWRWYWx1ZSA9IGZhY3RvciAqIGN1cnJlbnROdW1iZXI7XG4gICAgfVxuICAgIGRlY29tcG9zZWRWYWx1ZS5uID0gY29udmVydGVkVmFsdWU7XG4gICAgY29udmVydGVkVmFsdWVzQ2FjaGVbY2FjaGVkS2V5XSA9IGNvbnZlcnRlZFZhbHVlO1xuICB9XG4gIGRlY29tcG9zZWRWYWx1ZS50ID09PSB2YWx1ZVR5cGVzLlVOSVQ7XG4gIGRlY29tcG9zZWRWYWx1ZS51ID0gdW5pdDtcbiAgcmV0dXJuIGRlY29tcG9zZWRWYWx1ZTtcbn07XG5cblxuXG5cbi8qKlxuICogQHRlbXBsYXRlIHtSZW5kZXJhYmxlfSBUXG4gKiBAcGFyYW0ge1R9IHJlbmRlcmFibGVcbiAqIEByZXR1cm4ge1R9XG4gKi9cbmNvbnN0IGNsZWFuSW5saW5lU3R5bGVzID0gcmVuZGVyYWJsZSA9PiB7XG4gIC8vIEFsbG93IGNsZWFuSW5saW5lU3R5bGVzKCkgdG8gYmUgY2FsbGVkIG9uIHRpbWVsaW5lc1xuICBpZiAocmVuZGVyYWJsZS5faGFzQ2hpbGRyZW4pIHtcbiAgICBmb3JFYWNoQ2hpbGRyZW4ocmVuZGVyYWJsZSwgY2xlYW5JbmxpbmVTdHlsZXMsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKHJlbmRlcmFibGUpO1xuICAgIGFuaW1hdGlvbi5wYXVzZSgpO1xuICAgIGZvckVhY2hDaGlsZHJlbihhbmltYXRpb24sICgvKiogQHR5cGUge1R3ZWVufSAqL3R3ZWVuKSA9PiB7XG4gICAgICBjb25zdCB0d2VlblByb3BlcnR5ID0gdHdlZW4ucHJvcGVydHk7XG4gICAgICBjb25zdCB0d2VlblRhcmdldCA9IHR3ZWVuLnRhcmdldDtcbiAgICAgIGlmICh0d2VlblRhcmdldFtpc0RvbVN5bWJvbF0pIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0U3R5bGUgPSAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odHdlZW5UYXJnZXQpLnN0eWxlO1xuICAgICAgICBjb25zdCBvcmlnaW5hbElubGluZWRWYWx1ZSA9IGFuaW1hdGlvbi5faW5saW5lU3R5bGVzW3R3ZWVuUHJvcGVydHldO1xuICAgICAgICBpZiAodHdlZW4uX3R3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5UUkFOU0ZPUk0pIHtcbiAgICAgICAgICBjb25zdCBjYWNoZWRUcmFuc2Zvcm1zID0gdHdlZW5UYXJnZXRbdHJhbnNmb3Jtc1N5bWJvbF07XG4gICAgICAgICAgaWYgKGlzVW5kKG9yaWdpbmFsSW5saW5lZFZhbHVlKSB8fCBvcmlnaW5hbElubGluZWRWYWx1ZSA9PT0gZW1wdHlTdHJpbmcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjYWNoZWRUcmFuc2Zvcm1zW3R3ZWVuUHJvcGVydHldO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRUcmFuc2Zvcm1zW3R3ZWVuUHJvcGVydHldID0gb3JpZ2luYWxJbmxpbmVkVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0d2Vlbi5fcmVuZGVyVHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhjYWNoZWRUcmFuc2Zvcm1zKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0U3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zZm9ybScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGVtcHR5U3RyaW5nO1xuICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gY2FjaGVkVHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgICAgIHN0ciArPSB0cmFuc2Zvcm1zRnJhZ21lbnRTdHJpbmdzW2tleV0gKyBjYWNoZWRUcmFuc2Zvcm1zW2tleV0gKyAnKSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRhcmdldFN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzVW5kKG9yaWdpbmFsSW5saW5lZFZhbHVlKSB8fCBvcmlnaW5hbElubGluZWRWYWx1ZSA9PT0gZW1wdHlTdHJpbmcpIHtcbiAgICAgICAgICAgIHRhcmdldFN0eWxlLnJlbW92ZVByb3BlcnR5KHR3ZWVuUHJvcGVydHkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRTdHlsZVt0d2VlblByb3BlcnR5XSA9IG9yaWdpbmFsSW5saW5lZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0aW9uLl90YWlsID09PSB0d2Vlbikge1xuICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRzLmZvckVhY2godCA9PiB7XG4gICAgICAgICAgICBpZiAodC5nZXRBdHRyaWJ1dGUgJiYgdC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgPT09IGVtcHR5U3RyaW5nKSB7XG4gICAgICAgICAgICAgIHQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgfSAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZW5kZXJhYmxlO1xufTtcblxuLy8gRGVmaW5lcyBkZWNvbXBvc2VkIHZhbHVlcyB0YXJnZXQgb2JqZWN0cyBvbmx5IG9uY2UgYW5kIG11dGF0ZSB0aGVpciBwcm9wZXJ0aWVzIGxhdGVyIHRvIGF2b2lkIEdDXG4vLyBUT0RPOiBNYXliZSBtb3ZlIHRoZSBvYmplY3RzIGNyZWF0aW9uIHRvIHZhbHVlcy5qcyBhbmQgdXNlIHRoZSBkZWNvbXBvc2UgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBiYXNlIG9iamVjdFxuY29uc3QgZnJvbVRhcmdldE9iamVjdCA9IGNyZWF0ZURlY29tcG9zZWRWYWx1ZVRhcmdldE9iamVjdCgpO1xuY29uc3QgdG9UYXJnZXRPYmplY3QgPSBjcmVhdGVEZWNvbXBvc2VkVmFsdWVUYXJnZXRPYmplY3QoKTtcbmNvbnN0IHRvRnVuY3Rpb25TdG9yZSA9IHsgZnVuYzogbnVsbCB9O1xuY29uc3Qga2V5ZnJhbWVzVGFyZ2V0QXJyYXkgPSBbbnVsbF07XG5jb25zdCBmYXN0U2V0VmFsdWVzQXJyYXkgPSBbbnVsbCwgbnVsbF07XG4vKiogQHR5cGUge1R3ZWVuS2V5VmFsdWV9ICovXG5jb25zdCBrZXlPYmplY3RUYXJnZXQgPSB7IHRvOiBudWxsIH07XG5cbmxldCB0d2VlbklkID0gMDtcbmxldCBrZXlmcmFtZXM7XG4vKiogQHR5cGUge1R3ZWVuUGFyYW1zT3B0aW9ucyAmIFR3ZWVuVmFsdWVzfSAqL1xubGV0IGtleTtcblxuLyoqXG4gKiBAcGFyYW0ge0R1cmF0aW9uS2V5ZnJhbWVzIHwgUGVyY2VudGFnZUtleWZyYW1lc30ga2V5ZnJhbWVzXG4gKiBAcGFyYW0ge0FuaW1hdGlvblBhcmFtc30gcGFyYW1ldGVyc1xuICogQHJldHVybiB7QW5pbWF0aW9uUGFyYW1zfVxuICovXG5jb25zdCBnZW5lcmF0ZUtleWZyYW1lcyA9IChrZXlmcmFtZXMsIHBhcmFtZXRlcnMpID0+IHtcbiAgLyoqIEB0eXBlIHtBbmltYXRpb25QYXJhbXN9ICovXG4gIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcbiAgaWYgKGlzQXJyKGtleWZyYW1lcykpIHtcbiAgICBjb25zdCBwcm9wZXJ0eU5hbWVzID0gW10uY29uY2F0KC4uLi8qKiBAdHlwZSB7RHVyYXRpb25LZXlmcmFtZXN9ICovKGtleWZyYW1lcykubWFwKGtleSA9PiBPYmplY3Qua2V5cyhrZXkpKSkuZmlsdGVyKGlzS2V5KTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgICBjb25zdCBwcm9wQXJyYXkgPSAvKiogQHR5cGUge0R1cmF0aW9uS2V5ZnJhbWVzfSAqLyhrZXlmcmFtZXMpLm1hcChrZXkgPT4ge1xuICAgICAgICAvKiogQHR5cGUge1R3ZWVuS2V5VmFsdWV9ICovXG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBwIGluIGtleSkge1xuICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gLyoqIEB0eXBlIHtUd2VlblByb3BWYWx1ZX0gKi8oa2V5W3BdKTtcbiAgICAgICAgICBpZiAoaXNLZXkocCkpIHtcbiAgICAgICAgICAgIGlmIChwID09PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICBuZXdLZXkudG8gPSBrZXlWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3S2V5W3BdID0ga2V5VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgICB9KTtcbiAgICAgIHByb3BlcnRpZXNbcHJvcE5hbWVdID0gLyoqIEB0eXBlIHtBcnJheVN5bnRheFZhbHVlfSAqLyhwcm9wQXJyYXkpO1xuICAgIH1cblxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHRvdGFsRHVyYXRpb24gPSAvKiogQHR5cGUge051bWJlcn0gKi8oc2V0VmFsdWUocGFyYW1ldGVycy5kdXJhdGlvbiwgZ2xvYmFscy5kZWZhdWx0cy5kdXJhdGlvbikpO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhrZXlmcmFtZXMpXG4gICAgLm1hcChrZXkgPT4geyByZXR1cm4ge286IHBhcnNlRmxvYXQoa2V5KSAvIDEwMCwgcDoga2V5ZnJhbWVzW2tleV19IH0pXG4gICAgLnNvcnQoKGEsIGIpID0+IGEubyAtIGIubyk7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBvZmZzZXQgPSBrZXkubztcbiAgICAgIGNvbnN0IHByb3AgPSBrZXkucDtcbiAgICAgIGZvciAobGV0IG5hbWUgaW4gcHJvcCkge1xuICAgICAgICBpZiAoaXNLZXkobmFtZSkpIHtcbiAgICAgICAgICBsZXQgcHJvcEFycmF5ID0gLyoqIEB0eXBlIHtBcnJheX0gKi8ocHJvcGVydGllc1tuYW1lXSk7XG4gICAgICAgICAgaWYgKCFwcm9wQXJyYXkpIHByb3BBcnJheSA9IHByb3BlcnRpZXNbbmFtZV0gPSBbXTtcbiAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IG9mZnNldCAqIHRvdGFsRHVyYXRpb247XG4gICAgICAgICAgbGV0IGxlbmd0aCA9IHByb3BBcnJheS5sZW5ndGg7XG4gICAgICAgICAgbGV0IHByZXZLZXkgPSBwcm9wQXJyYXlbbGVuZ3RoIC0gMV07XG4gICAgICAgICAgY29uc3Qga2V5T2JqID0geyB0bzogcHJvcFtuYW1lXSB9O1xuICAgICAgICAgIGxldCBkdXJQcm9ncmVzcyA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZHVyUHJvZ3Jlc3MgKz0gcHJvcEFycmF5W2ldLmR1cmF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBrZXlPYmouZnJvbSA9IHByZXZLZXkudG87XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9wLmVhc2UpIHtcbiAgICAgICAgICAgIGtleU9iai5lYXNlID0gcHJvcC5lYXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrZXlPYmouZHVyYXRpb24gPSBkdXJhdGlvbiAtIChsZW5ndGggPyBkdXJQcm9ncmVzcyA6IDApO1xuICAgICAgICAgIHByb3BBcnJheS5wdXNoKGtleU9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXk7XG4gICAgfSk7XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHByb3BBcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKHByb3BlcnRpZXNbbmFtZV0pO1xuICAgICAgbGV0IHByZXZFYXNlO1xuICAgICAgLy8gbGV0IGR1clByb2dyZXNzID0gMFxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBwcm9wQXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBwcm9wQXJyYXlbaV07XG4gICAgICAgIC8vIEVtdWxhdGUgV0FQUEkgZWFzaW5nIHBhcmFtZXRlciBwb3NpdGlvblxuICAgICAgICBjb25zdCBjdXJyZW50RWFzZSA9IHByb3AuZWFzZTtcbiAgICAgICAgcHJvcC5lYXNlID0gcHJldkVhc2UgPyBwcmV2RWFzZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcHJldkVhc2UgPSBjdXJyZW50RWFzZTtcbiAgICAgICAgLy8gZHVyUHJvZ3Jlc3MgKz0gcHJvcC5kdXJhdGlvbjtcbiAgICAgICAgLy8gaWYgKGkgPT09IGwgLSAxICYmIGR1clByb2dyZXNzICE9PSB0b3RhbER1cmF0aW9uKSB7XG4gICAgICAgIC8vICAgcHJvcEFycmF5LnB1c2goeyBmcm9tOiBwcm9wLnRvLCBlYXNlOiBwcm9wLmVhc2UsIGR1cmF0aW9uOiB0b3RhbER1cmF0aW9uIC0gZHVyUHJvZ3Jlc3MgfSlcbiAgICAgICAgLy8gfVxuICAgICAgfVxuICAgICAgaWYgKCFwcm9wQXJyYXlbMF0uZHVyYXRpb24pIHtcbiAgICAgICAgcHJvcEFycmF5LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gcHJvcGVydGllcztcbn07XG5cbmNsYXNzIEpTQW5pbWF0aW9uIGV4dGVuZHMgVGltZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAgICogQHBhcmFtIHtBbmltYXRpb25QYXJhbXN9IHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtUaW1lbGluZX0gW3BhcmVudF1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJlbnRQb3NpdGlvbl1cbiAgICogQHBhcmFtIHtCb29sZWFufSBbZmFzdFNldD1mYWxzZV1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleD0wXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW2xlbmd0aD0wXVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgdGFyZ2V0cyxcbiAgICBwYXJhbWV0ZXJzLFxuICAgIHBhcmVudCxcbiAgICBwYXJlbnRQb3NpdGlvbixcbiAgICBmYXN0U2V0ID0gZmFsc2UsXG4gICAgaW5kZXggPSAwLFxuICAgIGxlbmd0aCA9IDBcbiAgKSB7XG5cbiAgICBzdXBlcigvKiogQHR5cGUge1RpbWVyUGFyYW1zJkFuaW1hdGlvblBhcmFtc30gKi8ocGFyYW1ldGVycyksIHBhcmVudCwgcGFyZW50UG9zaXRpb24pO1xuXG4gICAgY29uc3QgcGFyc2VkVGFyZ2V0cyA9IHJlZ2lzdGVyVGFyZ2V0cyh0YXJnZXRzKTtcbiAgICBjb25zdCB0YXJnZXRzTGVuZ3RoID0gcGFyc2VkVGFyZ2V0cy5sZW5ndGg7XG5cbiAgICAvLyBJZiB0aGUgcGFyYW1ldGVycyBvYmplY3QgY29udGFpbnMgYSBcImtleWZyYW1lc1wiIHByb3BlcnR5LCBjb252ZXJ0IGFsbCB0aGUga2V5ZnJhbWVzIHZhbHVlcyB0byByZWd1bGFyIHByb3BlcnRpZXNcblxuICAgIGNvbnN0IGtmUGFyYW1zID0gLyoqIEB0eXBlIHtBbmltYXRpb25QYXJhbXN9ICovKHBhcmFtZXRlcnMpLmtleWZyYW1lcztcbiAgICBjb25zdCBwYXJhbXMgPSAvKiogQHR5cGUge0FuaW1hdGlvblBhcmFtc30gKi8oa2ZQYXJhbXMgPyBtZXJnZU9iamVjdHMoZ2VuZXJhdGVLZXlmcmFtZXMoLyoqIEB0eXBlIHtEdXJhdGlvbktleWZyYW1lc30gKi8oa2ZQYXJhbXMpLCBwYXJhbWV0ZXJzKSwgcGFyYW1ldGVycykgOiBwYXJhbWV0ZXJzKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGRlbGF5LFxuICAgICAgZHVyYXRpb24sXG4gICAgICBlYXNlLFxuICAgICAgcGxheWJhY2tFYXNlLFxuICAgICAgbW9kaWZpZXIsXG4gICAgICBjb21wb3NpdGlvbixcbiAgICAgIG9uUmVuZGVyLFxuICAgIH0gPSBwYXJhbXM7XG5cbiAgICBjb25zdCBhbmltRGVmYXVsdHMgPSBwYXJlbnQgPyBwYXJlbnQuZGVmYXVsdHMgOiBnbG9iYWxzLmRlZmF1bHRzO1xuICAgIGNvbnN0IGFuaW1hUGxheWJhY2tFYXNlID0gc2V0VmFsdWUocGxheWJhY2tFYXNlLCBhbmltRGVmYXVsdHMucGxheWJhY2tFYXNlKTtcbiAgICBjb25zdCBhbmltRWFzZSA9IGFuaW1hUGxheWJhY2tFYXNlID8gcGFyc2VFYXNpbmdzKGFuaW1hUGxheWJhY2tFYXNlKSA6IG51bGw7XG4gICAgY29uc3QgaGFzU3ByaW5nID0gIWlzVW5kKGVhc2UpICYmICFpc1VuZCgvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZWFzZSk7XG4gICAgY29uc3QgdEVhc2luZyA9IGhhc1NwcmluZyA/IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhlYXNlKS5lYXNlIDogc2V0VmFsdWUoZWFzZSwgYW5pbUVhc2UgPyAnbGluZWFyJyA6IGFuaW1EZWZhdWx0cy5lYXNlKTtcbiAgICBjb25zdCB0RHVyYXRpb24gPSBoYXNTcHJpbmcgPyAvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZHVyYXRpb24gOiBzZXRWYWx1ZShkdXJhdGlvbiwgYW5pbURlZmF1bHRzLmR1cmF0aW9uKTtcbiAgICBjb25zdCB0RGVsYXkgPSBzZXRWYWx1ZShkZWxheSwgYW5pbURlZmF1bHRzLmRlbGF5KTtcbiAgICBjb25zdCB0TW9kaWZpZXIgPSBtb2RpZmllciB8fCBhbmltRGVmYXVsdHMubW9kaWZpZXI7XG4gICAgLy8gSWYgbm8gY29tcG9zaXRpb24gaXMgZGVmaW5lZCBhbmQgdGhlIHRhcmdldHMgbGVuZ3RoIGlzIGhpZ2ggKD49IDEwMDApIHNldCB0aGUgY29tcG9zaXRpb24gdG8gJ25vbmUnICgwKSBmb3IgZmFzdGVyIHR3ZWVuIGNyZWF0aW9uXG4gICAgY29uc3QgdENvbXBvc2l0aW9uID0gaXNVbmQoY29tcG9zaXRpb24pICYmIHRhcmdldHNMZW5ndGggPj0gSyA/IGNvbXBvc2l0aW9uVHlwZXMubm9uZSA6ICFpc1VuZChjb21wb3NpdGlvbikgPyBjb21wb3NpdGlvbiA6IGFuaW1EZWZhdWx0cy5jb21wb3NpdGlvbjtcbiAgICAvLyBUT0RPOiBEbyBub3QgY3JlYXRlIGFuIGVtcHR5IG9iamVjdCB1bnRpbCB3ZSBrbm93IHRoZSBhbmltYXRpb24gd2lsbCBnZW5lcmF0ZSBpbmxpbmUgc3R5bGVzXG4gICAgY29uc3QgYW5pbUlubGluZVN0eWxlcyA9IHt9O1xuICAgIC8vIGNvbnN0IGFic29sdXRlT2Zmc2V0VGltZSA9IHRoaXMuX29mZnNldDtcbiAgICBjb25zdCBhYnNvbHV0ZU9mZnNldFRpbWUgPSB0aGlzLl9vZmZzZXQgKyAocGFyZW50ID8gcGFyZW50Ll9vZmZzZXQgOiAwKTtcblxuICAgIGxldCBpdGVyYXRpb25EdXJhdGlvbiA9IE5hTjtcbiAgICBsZXQgaXRlcmF0aW9uRGVsYXkgPSBOYU47XG4gICAgbGV0IGFuaW1hdGlvbkFuaW1hdGlvbkxlbmd0aCA9IDA7XG4gICAgbGV0IHNob3VsZFRyaWdnZXJSZW5kZXIgPSAwO1xuXG4gICAgZm9yIChsZXQgdGFyZ2V0SW5kZXggPSAwOyB0YXJnZXRJbmRleCA8IHRhcmdldHNMZW5ndGg7IHRhcmdldEluZGV4KyspIHtcblxuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFyc2VkVGFyZ2V0c1t0YXJnZXRJbmRleF07XG4gICAgICBjb25zdCB0aSA9IGluZGV4IHx8IHRhcmdldEluZGV4O1xuICAgICAgY29uc3QgdGwgPSBsZW5ndGggfHwgdGFyZ2V0c0xlbmd0aDtcblxuICAgICAgbGV0IGxhc3RUcmFuc2Zvcm1Hcm91cEluZGV4ID0gTmFOO1xuICAgICAgbGV0IGxhc3RUcmFuc2Zvcm1Hcm91cExlbmd0aCA9IE5hTjtcblxuICAgICAgZm9yIChsZXQgcCBpbiBwYXJhbXMpIHtcblxuICAgICAgICBpZiAoaXNLZXkocCkpIHtcblxuICAgICAgICAgIGNvbnN0IHR3ZWVuVHlwZSA9IGdldFR3ZWVuVHlwZSh0YXJnZXQsIHApO1xuXG4gICAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBzYW5pdGl6ZVByb3BlcnR5TmFtZShwLCB0YXJnZXQsIHR3ZWVuVHlwZSk7XG5cbiAgICAgICAgICBsZXQgcHJvcFZhbHVlID0gcGFyYW1zW3BdO1xuXG4gICAgICAgICAgY29uc3QgaXNQcm9wVmFsdWVBcnJheSA9IGlzQXJyKHByb3BWYWx1ZSk7XG5cbiAgICAgICAgICBpZiAoZmFzdFNldCAmJiAhaXNQcm9wVmFsdWVBcnJheSkge1xuICAgICAgICAgICAgZmFzdFNldFZhbHVlc0FycmF5WzBdID0gcHJvcFZhbHVlO1xuICAgICAgICAgICAgZmFzdFNldFZhbHVlc0FycmF5WzFdID0gcHJvcFZhbHVlO1xuICAgICAgICAgICAgcHJvcFZhbHVlID0gZmFzdFNldFZhbHVlc0FycmF5O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFRPRE86IEFsbG93IG5lc3RlZCBrZXlmcmFtZXMgaW5zaWRlIE9iamVjdFZhbHVlIHZhbHVlIChwcm9wOiB7IHRvOiBbLjUsIDEsIC43NSwgMiwgM10gfSlcbiAgICAgICAgICAvLyBOb3JtYWxpemUgcHJvcGVydHkgdmFsdWVzIHRvIHZhbGlkIGtleWZyYW1lIHN5bnRheDpcbiAgICAgICAgICAvLyBbeCwgeV0gdG8gW3t0bzogW3gsIHldfV0gb3Ige3RvOiB4fSB0byBbe3RvOiB4fV0gb3Iga2VlcCBrZXlzIHN5bnRheCBbe30sIHt9LCB7fS4uLl1cbiAgICAgICAgICAvLyBjb25zdCBrZXlmcmFtZXMgPSBpc0Fycihwcm9wVmFsdWUpID8gcHJvcFZhbHVlLmxlbmd0aCA9PT0gMiAmJiAhaXNPYmoocHJvcFZhbHVlWzBdKSA/IFt7IHRvOiBwcm9wVmFsdWUgfV0gOiBwcm9wVmFsdWUgOiBbcHJvcFZhbHVlXTtcbiAgICAgICAgICBpZiAoaXNQcm9wVmFsdWVBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgYXJyYXlMZW5ndGggPSAvKiogQHR5cGUge0FycmF5fSAqLyhwcm9wVmFsdWUpLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGlzTm90T2JqZWN0VmFsdWUgPSAhaXNPYmoocHJvcFZhbHVlWzBdKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgW3gsIHldIHRvIFt7dG86IFt4LCB5XX1dXG4gICAgICAgICAgICBpZiAoYXJyYXlMZW5ndGggPT09IDIgJiYgaXNOb3RPYmplY3RWYWx1ZSkge1xuICAgICAgICAgICAgICBrZXlPYmplY3RUYXJnZXQudG8gPSAvKiogQHR5cGUge1R3ZWVuUGFyYW1WYWx1ZX0gKi8oLyoqIEB0eXBlIHt1bmtub3dufSAqLyhwcm9wVmFsdWUpKTtcbiAgICAgICAgICAgICAga2V5ZnJhbWVzVGFyZ2V0QXJyYXlbMF0gPSBrZXlPYmplY3RUYXJnZXQ7XG4gICAgICAgICAgICAgIGtleWZyYW1lcyA9IGtleWZyYW1lc1RhcmdldEFycmF5O1xuICAgICAgICAgICAgLy8gQ29udmVydCBbeCwgeSwgel0gdG8gW1t4LCB5XSwgel1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJyYXlMZW5ndGggPiAyICYmIGlzTm90T2JqZWN0VmFsdWUpIHtcbiAgICAgICAgICAgICAga2V5ZnJhbWVzID0gW107XG4gICAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXkuPE51bWJlcj59ICovKHByb3BWYWx1ZSkuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaSkge1xuICAgICAgICAgICAgICAgICAgZmFzdFNldFZhbHVlc0FycmF5WzBdID0gdjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIGZhc3RTZXRWYWx1ZXNBcnJheVsxXSA9IHY7XG4gICAgICAgICAgICAgICAgICBrZXlmcmFtZXMucHVzaChmYXN0U2V0VmFsdWVzQXJyYXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAga2V5ZnJhbWVzID0gLyoqIEB0eXBlIHtBcnJheS48VHdlZW5LZXlWYWx1ZT59ICovKHByb3BWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleWZyYW1lc1RhcmdldEFycmF5WzBdID0gcHJvcFZhbHVlO1xuICAgICAgICAgICAga2V5ZnJhbWVzID0ga2V5ZnJhbWVzVGFyZ2V0QXJyYXk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHNpYmxpbmdzID0gbnVsbDtcbiAgICAgICAgICBsZXQgcHJldlR3ZWVuID0gbnVsbDtcbiAgICAgICAgICBsZXQgZmlyc3RUd2VlbkNoYW5nZVN0YXJ0VGltZSA9IE5hTjtcbiAgICAgICAgICBsZXQgbGFzdFR3ZWVuQ2hhbmdlRW5kVGltZSA9IDA7XG4gICAgICAgICAgbGV0IHR3ZWVuSW5kZXggPSAwO1xuXG4gICAgICAgICAgZm9yIChsZXQgbCA9IGtleWZyYW1lcy5sZW5ndGg7IHR3ZWVuSW5kZXggPCBsOyB0d2VlbkluZGV4KyspIHtcblxuICAgICAgICAgICAgY29uc3Qga2V5ZnJhbWUgPSBrZXlmcmFtZXNbdHdlZW5JbmRleF07XG5cbiAgICAgICAgICAgIGlmIChpc09iaihrZXlmcmFtZSkpIHtcbiAgICAgICAgICAgICAga2V5ID0ga2V5ZnJhbWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBrZXlPYmplY3RUYXJnZXQudG8gPSAvKiogQHR5cGUge1R3ZWVuUGFyYW1WYWx1ZX0gKi8oa2V5ZnJhbWUpO1xuICAgICAgICAgICAgICBrZXkgPSBrZXlPYmplY3RUYXJnZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvRnVuY3Rpb25TdG9yZS5mdW5jID0gbnVsbDtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRUb1ZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShrZXkudG8sIHRhcmdldCwgdGksIHRsLCB0b0Z1bmN0aW9uU3RvcmUpO1xuXG4gICAgICAgICAgICBsZXQgdHdlZW5Ub1ZhbHVlO1xuICAgICAgICAgICAgLy8gQWxsb3dzIGZ1bmN0aW9uIGJhc2VkIHZhbHVlcyB0byByZXR1cm4gYW4gb2JqZWN0IHN5bnRheCB2YWx1ZSAoe3RvOiB2fSlcbiAgICAgICAgICAgIGlmIChpc09iaihjb21wdXRlZFRvVmFsdWUpICYmICFpc1VuZChjb21wdXRlZFRvVmFsdWUudG8pKSB7XG4gICAgICAgICAgICAgIGtleSA9IGNvbXB1dGVkVG9WYWx1ZTtcbiAgICAgICAgICAgICAgdHdlZW5Ub1ZhbHVlID0gY29tcHV0ZWRUb1ZhbHVlLnRvO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHdlZW5Ub1ZhbHVlID0gY29tcHV0ZWRUb1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHdlZW5Gcm9tVmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKGtleS5mcm9tLCB0YXJnZXQsIHRpLCB0bCk7XG4gICAgICAgICAgICBjb25zdCBrZXlFYXNpbmcgPSBrZXkuZWFzZTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1NwcmluZyA9ICFpc1VuZChrZXlFYXNpbmcpICYmICFpc1VuZCgvKiogQHR5cGUge1NwcmluZ30gKi8oa2V5RWFzaW5nKS5lYXNlKTtcbiAgICAgICAgICAgIC8vIEVhc2luZyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBhbmQgZG9uJ3QgYWNjZXB0IGZ1bmN0aW9uIGJhc2VkIHZhbHVlIHRvIHByZXZlbnQgaGF2aW5nIHRvIHBhc3MgYSBmdW5jdGlvbiB3cmFwcGVyIHRoYXQgcmV0dXJucyBhbiBvdGhlciBmdW5jdGlvbiBhbGwgdGhlIHRpbWVcbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuRWFzaW5nID0gaGFzU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGtleUVhc2luZykuZWFzZSA6IGtleUVhc2luZyB8fCB0RWFzaW5nO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGRlZmF1bHQgaW5kaXZpZHVhbCBrZXlmcmFtZSBkdXJhdGlvbiBieSBkaXZpZGluZyB0aGUgdGwgb2Yga2V5ZnJhbWVzXG4gICAgICAgICAgICBjb25zdCB0d2VlbkR1cmF0aW9uID0gaGFzU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGtleUVhc2luZykuZHVyYXRpb24gOiBnZXRGdW5jdGlvblZhbHVlKHNldFZhbHVlKGtleS5kdXJhdGlvbiwgKGwgPiAxID8gZ2V0RnVuY3Rpb25WYWx1ZSh0RHVyYXRpb24sIHRhcmdldCwgdGksIHRsKSAvIGwgOiB0RHVyYXRpb24pKSwgdGFyZ2V0LCB0aSwgdGwpO1xuICAgICAgICAgICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgICAgICAgICAgY29uc3QgdHdlZW5EZWxheSA9IGdldEZ1bmN0aW9uVmFsdWUoc2V0VmFsdWUoa2V5LmRlbGF5LCAoIXR3ZWVuSW5kZXggPyB0RGVsYXkgOiAwKSksIHRhcmdldCwgdGksIHRsKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkQ29tcG9zaXRpb24gPSBnZXRGdW5jdGlvblZhbHVlKHNldFZhbHVlKGtleS5jb21wb3NpdGlvbiwgdENvbXBvc2l0aW9uKSwgdGFyZ2V0LCB0aSwgdGwpO1xuICAgICAgICAgICAgY29uc3QgdHdlZW5Db21wb3NpdGlvbiA9IGlzTnVtKGNvbXB1dGVkQ29tcG9zaXRpb24pID8gY29tcHV0ZWRDb21wb3NpdGlvbiA6IGNvbXBvc2l0aW9uVHlwZXNbY29tcHV0ZWRDb21wb3NpdGlvbl07XG4gICAgICAgICAgICAvLyBNb2RpZmllcnMgYXJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgYW5kIGRvbid0IGFjY2VwdCBmdW5jdGlvbiBiYXNlZCB2YWx1ZSB0byBwcmV2ZW50IGhhdmluZyB0byBwYXNzIGEgZnVuY3Rpb24gd3JhcHBlclxuICAgICAgICAgICAgY29uc3QgdHdlZW5Nb2RpZmllciA9IGtleS5tb2RpZmllciB8fCB0TW9kaWZpZXI7XG4gICAgICAgICAgICBjb25zdCBoYXNGcm9tdmFsdWUgPSAhaXNVbmQodHdlZW5Gcm9tVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgaGFzVG9WYWx1ZSA9ICFpc1VuZCh0d2VlblRvVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgaXNGcm9tVG9BcnJheSA9IGlzQXJyKHR3ZWVuVG9WYWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBpc0Zyb21Ub1ZhbHVlID0gaXNGcm9tVG9BcnJheSB8fCAoaGFzRnJvbXZhbHVlICYmIGhhc1RvVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgdHdlZW5TdGFydFRpbWUgPSBwcmV2VHdlZW4gPyBsYXN0VHdlZW5DaGFuZ2VFbmRUaW1lICsgdHdlZW5EZWxheSA6IHR3ZWVuRGVsYXk7XG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZVN0YXJ0VGltZSA9IGFic29sdXRlT2Zmc2V0VGltZSArIHR3ZWVuU3RhcnRUaW1lO1xuXG4gICAgICAgICAgICAvLyBGb3JjZSBhIG9uUmVuZGVyIGNhbGxiYWNrIGlmIHRoZSBhbmltYXRpb24gY29udGFpbnMgYXQgbGVhc3Qgb25lIGZyb20gdmFsdWUgYW5kIGF1dG9wbGF5IGlzIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgaWYgKCFzaG91bGRUcmlnZ2VyUmVuZGVyICYmIChoYXNGcm9tdmFsdWUgfHwgaXNGcm9tVG9BcnJheSkpIHNob3VsZFRyaWdnZXJSZW5kZXIgPSAxO1xuXG4gICAgICAgICAgICBsZXQgcHJldlNpYmxpbmcgPSBwcmV2VHdlZW47XG5cbiAgICAgICAgICAgIGlmICh0d2VlbkNvbXBvc2l0aW9uICE9PSBjb21wb3NpdGlvblR5cGVzLm5vbmUpIHtcbiAgICAgICAgICAgICAgaWYgKCFzaWJsaW5ncykgc2libGluZ3MgPSBnZXRUd2VlblNpYmxpbmdzKHRhcmdldCwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgICBsZXQgbmV4dFNpYmxpbmcgPSBzaWJsaW5ncy5faGVhZDtcbiAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0cm91Z2ggYWxsIHRoZSBuZXh0IHNpYmxpbmdzIHVudGlsIHdlIGZpbmQgYSBzaWJsaW5nIHdpdGggYW4gZXF1YWwgb3IgaW5mZXJpb3Igc3RhcnQgdGltZVxuICAgICAgICAgICAgICB3aGlsZSAobmV4dFNpYmxpbmcgJiYgIW5leHRTaWJsaW5nLl9pc092ZXJyaWRkZW4gJiYgbmV4dFNpYmxpbmcuX2Fic29sdXRlU3RhcnRUaW1lIDw9IGFic29sdXRlU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcgPSBuZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBuZXh0U2libGluZyA9IG5leHRTaWJsaW5nLl9uZXh0UmVwO1xuICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlcyBhbGwgdGhlIG5leHQgc2libGluZ3MgaWYgdGhlIG5leHQgc2libGluZyBzdGFydHMgYXQgdGhlIHNhbWUgdGltZSBvZiBhZnRlciBhcyB0aGUgbmV3IHR3ZWVuIHN0YXJ0IHRpbWVcbiAgICAgICAgICAgICAgICBpZiAobmV4dFNpYmxpbmcgJiYgbmV4dFNpYmxpbmcuX2Fic29sdXRlU3RhcnRUaW1lID49IGFic29sdXRlU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAobmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVUd2VlbihuZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBlbmRzIGJvdGggdGhlIGN1cnJlbnQgd2hpbGUgbG9vcCBhbmQgdGhlIHVwcGVyIG9uZSBvbmNlIGFsbCB0aGUgbmV4dCBzaWJsbGluZ3MgaGF2ZSBiZWVuIG92ZXJyaWRlblxuICAgICAgICAgICAgICAgICAgICBuZXh0U2libGluZyA9IG5leHRTaWJsaW5nLl9uZXh0UmVwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZWNvbXBvc2UgdmFsdWVzXG4gICAgICAgICAgICBpZiAoaXNGcm9tVG9WYWx1ZSkge1xuICAgICAgICAgICAgICBkZWNvbXBvc2VSYXdWYWx1ZShpc0Zyb21Ub0FycmF5ID8gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlblRvVmFsdWVbMF0sIHRhcmdldCwgdGksIHRsKSA6IHR3ZWVuRnJvbVZhbHVlLCBmcm9tVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUoaXNGcm9tVG9BcnJheSA/IGdldEZ1bmN0aW9uVmFsdWUodHdlZW5Ub1ZhbHVlWzFdLCB0YXJnZXQsIHRpLCB0bCwgdG9GdW5jdGlvblN0b3JlKSA6IHR3ZWVuVG9WYWx1ZSwgdG9UYXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgICBpZiAoZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLk5VTUJFUikge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2U2libGluZykge1xuICAgICAgICAgICAgICAgICAgaWYgKHByZXZTaWJsaW5nLl92YWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuVU5JVCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tVGFyZ2V0T2JqZWN0LnQgPSB2YWx1ZVR5cGVzLlVOSVQ7XG4gICAgICAgICAgICAgICAgICAgIGZyb21UYXJnZXRPYmplY3QudSA9IHByZXZTaWJsaW5nLl91bml0O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkZWNvbXBvc2VSYXdWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdHdlZW5UeXBlLCBhbmltSW5saW5lU3R5bGVzKSxcbiAgICAgICAgICAgICAgICAgICAgZGVjb21wb3NlZE9yaWdpbmFsVmFsdWVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUudCA9PT0gdmFsdWVUeXBlcy5VTklUKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21UYXJnZXRPYmplY3QudCA9IHZhbHVlVHlwZXMuVU5JVDtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRhcmdldE9iamVjdC51ID0gZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUudTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChoYXNUb1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUodHdlZW5Ub1ZhbHVlLCB0b1RhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZUd2Vlbikge1xuICAgICAgICAgICAgICAgICAgZGVjb21wb3NlVHdlZW5WYWx1ZShwcmV2VHdlZW4sIHRvVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBnZXQgYW5kIHBhcnNlIHRoZSBvcmlnaW5hbCB2YWx1ZSBpZiB0aGUgdHdlZW4gaXMgcGFydCBvZiBhIHRpbWVsaW5lIGFuZCBoYXMgYSBwcmV2aW91cyBzaWJsaW5nIHBhcnQgb2YgdGhlIHNhbWUgdGltZWxpbmVcbiAgICAgICAgICAgICAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKHBhcmVudCAmJiBwcmV2U2libGluZyAmJiBwcmV2U2libGluZy5wYXJlbnQucGFyZW50ID09PSBwYXJlbnQgPyBwcmV2U2libGluZy5fdmFsdWUgOlxuICAgICAgICAgICAgICAgICAgZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdHdlZW5UeXBlLCBhbmltSW5saW5lU3R5bGVzKSwgdG9UYXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaGFzRnJvbXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUodHdlZW5Gcm9tVmFsdWUsIGZyb21UYXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2VHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgIGRlY29tcG9zZVR3ZWVuVmFsdWUocHJldlR3ZWVuLCBmcm9tVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUocGFyZW50ICYmIHByZXZTaWJsaW5nICYmIHByZXZTaWJsaW5nLnBhcmVudC5wYXJlbnQgPT09IHBhcmVudCA/IHByZXZTaWJsaW5nLl92YWx1ZSA6XG4gICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGdldCBhbmQgcGFyc2UgdGhlIG9yaWdpbmFsIHZhbHVlIGlmIHRoZSB0d2VlbiBpcyBwYXJ0IG9mIGEgdGltZWxpbmUgYW5kIGhhcyBhIHByZXZpb3VzIHNpYmxpbmcgcGFydCBvZiB0aGUgc2FtZSB0aW1lbGluZVxuICAgICAgICAgICAgICAgICAgZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdHdlZW5UeXBlLCBhbmltSW5saW5lU3R5bGVzKSwgZnJvbVRhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFwcGx5IG9wZXJhdG9yc1xuICAgICAgICAgICAgaWYgKGZyb21UYXJnZXRPYmplY3Qubykge1xuICAgICAgICAgICAgICBmcm9tVGFyZ2V0T2JqZWN0Lm4gPSBnZXRSZWxhdGl2ZVZhbHVlKFxuICAgICAgICAgICAgICAgICFwcmV2U2libGluZyA/IGRlY29tcG9zZVJhd1ZhbHVlKFxuICAgICAgICAgICAgICAgICAgZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdHdlZW5UeXBlLCBhbmltSW5saW5lU3R5bGVzKSxcbiAgICAgICAgICAgICAgICAgIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlXG4gICAgICAgICAgICAgICAgKS5uIDogcHJldlNpYmxpbmcuX3RvTnVtYmVyLFxuICAgICAgICAgICAgICAgIGZyb21UYXJnZXRPYmplY3QubixcbiAgICAgICAgICAgICAgICBmcm9tVGFyZ2V0T2JqZWN0Lm9cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRvVGFyZ2V0T2JqZWN0Lm8pIHtcbiAgICAgICAgICAgICAgdG9UYXJnZXRPYmplY3QubiA9IGdldFJlbGF0aXZlVmFsdWUoZnJvbVRhcmdldE9iamVjdC5uLCB0b1RhcmdldE9iamVjdC5uLCB0b1RhcmdldE9iamVjdC5vKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVmFsdWVzIG9tb2dlbmlzYXRpb24gaW4gY2FzZXMgb2YgdHlwZSBkaWZmZXJlbmNlIGJldHdlZW4gXCJmcm9tXCIgYW5kIFwidG9cIlxuICAgICAgICAgICAgaWYgKGZyb21UYXJnZXRPYmplY3QudCAhPT0gdG9UYXJnZXRPYmplY3QudCkge1xuICAgICAgICAgICAgICBpZiAoZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLkNPTVBMRVggfHwgdG9UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5DT01QTEVYKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGxleFZhbHVlID0gZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLkNPTVBMRVggPyBmcm9tVGFyZ2V0T2JqZWN0IDogdG9UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90Q29tcGxleFZhbHVlID0gZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLkNPTVBMRVggPyB0b1RhcmdldE9iamVjdCA6IGZyb21UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgbm90Q29tcGxleFZhbHVlLnQgPSB2YWx1ZVR5cGVzLkNPTVBMRVg7XG4gICAgICAgICAgICAgICAgbm90Q29tcGxleFZhbHVlLnMgPSBjbG9uZUFycmF5KGNvbXBsZXhWYWx1ZS5zKTtcbiAgICAgICAgICAgICAgICBub3RDb21wbGV4VmFsdWUuZCA9IGNvbXBsZXhWYWx1ZS5kLm1hcCgoKSA9PiBub3RDb21wbGV4VmFsdWUubik7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLlVOSVQgfHwgdG9UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5VTklUKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdFZhbHVlID0gZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLlVOSVQgPyBmcm9tVGFyZ2V0T2JqZWN0IDogdG9UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90VW5pdFZhbHVlID0gZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLlVOSVQgPyB0b1RhcmdldE9iamVjdCA6IGZyb21UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgbm90VW5pdFZhbHVlLnQgPSB2YWx1ZVR5cGVzLlVOSVQ7XG4gICAgICAgICAgICAgICAgbm90VW5pdFZhbHVlLnUgPSB1bml0VmFsdWUudTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChmcm9tVGFyZ2V0T2JqZWN0LnQgPT09IHZhbHVlVHlwZXMuQ09MT1IgfHwgdG9UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5DT0xPUikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yVmFsdWUgPSBmcm9tVGFyZ2V0T2JqZWN0LnQgPT09IHZhbHVlVHlwZXMuQ09MT1IgPyBmcm9tVGFyZ2V0T2JqZWN0IDogdG9UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90Q29sb3JWYWx1ZSA9IGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5DT0xPUiA/IHRvVGFyZ2V0T2JqZWN0IDogZnJvbVRhcmdldE9iamVjdDtcbiAgICAgICAgICAgICAgICBub3RDb2xvclZhbHVlLnQgPSB2YWx1ZVR5cGVzLkNPTE9SO1xuICAgICAgICAgICAgICAgIG5vdENvbG9yVmFsdWUucyA9IGNvbG9yVmFsdWUucztcbiAgICAgICAgICAgICAgICBub3RDb2xvclZhbHVlLmQgPSBbMCwgMCwgMCwgMV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVW5pdCBjb252ZXJzaW9uXG4gICAgICAgICAgICBpZiAoZnJvbVRhcmdldE9iamVjdC51ICE9PSB0b1RhcmdldE9iamVjdC51KSB7XG4gICAgICAgICAgICAgIGxldCB2YWx1ZVRvQ29udmVydCA9IHRvVGFyZ2V0T2JqZWN0LnUgPyBmcm9tVGFyZ2V0T2JqZWN0IDogdG9UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgIHZhbHVlVG9Db252ZXJ0ID0gY29udmVydFZhbHVlVW5pdCgvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odGFyZ2V0KSwgdmFsdWVUb0NvbnZlcnQsIHRvVGFyZ2V0T2JqZWN0LnUgPyB0b1RhcmdldE9iamVjdC51IDogZnJvbVRhcmdldE9iamVjdC51LCBmYWxzZSk7XG4gICAgICAgICAgICAgIC8vIFRPRE86XG4gICAgICAgICAgICAgIC8vIGNvbnZlcnRWYWx1ZVVuaXQodGFyZ2V0LCB0by51ID8gZnJvbSA6IHRvLCB0by51ID8gdG8udSA6IGZyb20udSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpbGwgaW4gbm9uIGV4aXN0aW5nIGNvbXBsZXggdmFsdWVzXG4gICAgICAgICAgICBpZiAodG9UYXJnZXRPYmplY3QuZCAmJiBmcm9tVGFyZ2V0T2JqZWN0LmQgJiYgKHRvVGFyZ2V0T2JqZWN0LmQubGVuZ3RoICE9PSBmcm9tVGFyZ2V0T2JqZWN0LmQubGVuZ3RoKSkge1xuICAgICAgICAgICAgICBjb25zdCBsb25nZXN0VmFsdWUgPSBmcm9tVGFyZ2V0T2JqZWN0LmQubGVuZ3RoID4gdG9UYXJnZXRPYmplY3QuZC5sZW5ndGggPyBmcm9tVGFyZ2V0T2JqZWN0IDogdG9UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgIGNvbnN0IHNob3J0ZXN0VmFsdWUgPSBsb25nZXN0VmFsdWUgPT09IGZyb21UYXJnZXRPYmplY3QgPyB0b1RhcmdldE9iamVjdCA6IGZyb21UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgIC8vIFRPRE86IENoZWNrIGlmIG4gc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiAwIGZvciBkZWZhdWx0IGNvbXBsZXggdmFsdWVzXG4gICAgICAgICAgICAgIHNob3J0ZXN0VmFsdWUuZCA9IGxvbmdlc3RWYWx1ZS5kLm1hcCgoXywgaSkgPT4gaXNVbmQoc2hvcnRlc3RWYWx1ZS5kW2ldKSA/IDAgOiBzaG9ydGVzdFZhbHVlLmRbaV0pO1xuICAgICAgICAgICAgICBzaG9ydGVzdFZhbHVlLnMgPSBjbG9uZUFycmF5KGxvbmdlc3RWYWx1ZS5zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVHdlZW4gZmFjdG9yeVxuXG4gICAgICAgICAgICAvLyBSb3VuZGluZyBpcyBuZWNlc3NhcnkgaGVyZSB0byBtaW5pbWl6ZSBmbG9hdGluZyBwb2ludCBlcnJvcnNcbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuVXBkYXRlRHVyYXRpb24gPSByb3VuZCgrdHdlZW5EdXJhdGlvbiB8fCBtaW5WYWx1ZSwgMTIpO1xuXG4gICAgICAgICAgICAvKiogQHR5cGUge1R3ZWVufSAqL1xuICAgICAgICAgICAgY29uc3QgdHdlZW4gPSB7XG4gICAgICAgICAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgICAgICAgICAgaWQ6IHR3ZWVuSWQrKyxcbiAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BOYW1lLFxuICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgICAgX3ZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICBfZnVuYzogdG9GdW5jdGlvblN0b3JlLmZ1bmMsXG4gICAgICAgICAgICAgIF9lYXNlOiBwYXJzZUVhc2luZ3ModHdlZW5FYXNpbmcpLFxuICAgICAgICAgICAgICBfZnJvbU51bWJlcnM6IGNsb25lQXJyYXkoZnJvbVRhcmdldE9iamVjdC5kKSxcbiAgICAgICAgICAgICAgX3RvTnVtYmVyczogY2xvbmVBcnJheSh0b1RhcmdldE9iamVjdC5kKSxcbiAgICAgICAgICAgICAgX3N0cmluZ3M6IGNsb25lQXJyYXkodG9UYXJnZXRPYmplY3QucyksXG4gICAgICAgICAgICAgIF9mcm9tTnVtYmVyOiBmcm9tVGFyZ2V0T2JqZWN0Lm4sXG4gICAgICAgICAgICAgIF90b051bWJlcjogdG9UYXJnZXRPYmplY3QubixcbiAgICAgICAgICAgICAgX251bWJlcnM6IGNsb25lQXJyYXkoZnJvbVRhcmdldE9iamVjdC5kKSwgLy8gRm9yIGFkZGl0aXZlIHR3ZWVuIGFuZCBhbmltYXRhYmxlc1xuICAgICAgICAgICAgICBfbnVtYmVyOiBmcm9tVGFyZ2V0T2JqZWN0Lm4sIC8vIEZvciBhZGRpdGl2ZSB0d2VlbiBhbmQgYW5pbWF0YWJsZXNcbiAgICAgICAgICAgICAgX3VuaXQ6IHRvVGFyZ2V0T2JqZWN0LnUsXG4gICAgICAgICAgICAgIF9tb2RpZmllcjogdHdlZW5Nb2RpZmllcixcbiAgICAgICAgICAgICAgX2N1cnJlbnRUaW1lOiAwLFxuICAgICAgICAgICAgICBfc3RhcnRUaW1lOiB0d2VlblN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgX2RlbGF5OiArdHdlZW5EZWxheSxcbiAgICAgICAgICAgICAgX3VwZGF0ZUR1cmF0aW9uOiB0d2VlblVwZGF0ZUR1cmF0aW9uLFxuICAgICAgICAgICAgICBfY2hhbmdlRHVyYXRpb246IHR3ZWVuVXBkYXRlRHVyYXRpb24sXG4gICAgICAgICAgICAgIF9hYnNvbHV0ZVN0YXJ0VGltZTogYWJzb2x1dGVTdGFydFRpbWUsXG4gICAgICAgICAgICAgIC8vIE5PVEU6IEludmVzdGlnYXRlIGJpdCBwYWNraW5nIHRvIHN0b3JlcyBFTlVNIC8gQk9PTFxuICAgICAgICAgICAgICBfdHdlZW5UeXBlOiB0d2VlblR5cGUsXG4gICAgICAgICAgICAgIF92YWx1ZVR5cGU6IHRvVGFyZ2V0T2JqZWN0LnQsXG4gICAgICAgICAgICAgIF9jb21wb3NpdGlvbjogdHdlZW5Db21wb3NpdGlvbixcbiAgICAgICAgICAgICAgX2lzT3ZlcmxhcHBlZDogMCxcbiAgICAgICAgICAgICAgX2lzT3ZlcnJpZGRlbjogMCxcbiAgICAgICAgICAgICAgX3JlbmRlclRyYW5zZm9ybXM6IDAsXG4gICAgICAgICAgICAgIF9wcmV2UmVwOiBudWxsLCAvLyBGb3IgcmVwbGFjZWQgdHdlZW5cbiAgICAgICAgICAgICAgX25leHRSZXA6IG51bGwsIC8vIEZvciByZXBsYWNlZCB0d2VlblxuICAgICAgICAgICAgICBfcHJldkFkZDogbnVsbCwgLy8gRm9yIGFkZGl0aXZlIHR3ZWVuXG4gICAgICAgICAgICAgIF9uZXh0QWRkOiBudWxsLCAvLyBGb3IgYWRkaXRpdmUgdHdlZW5cbiAgICAgICAgICAgICAgX3ByZXY6IG51bGwsXG4gICAgICAgICAgICAgIF9uZXh0OiBudWxsLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHR3ZWVuQ29tcG9zaXRpb24gIT09IGNvbXBvc2l0aW9uVHlwZXMubm9uZSkge1xuICAgICAgICAgICAgICBjb21wb3NlVHdlZW4odHdlZW4sIHNpYmxpbmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzTmFOKGZpcnN0VHdlZW5DaGFuZ2VTdGFydFRpbWUpKSB7XG4gICAgICAgICAgICAgIGZpcnN0VHdlZW5DaGFuZ2VTdGFydFRpbWUgPSB0d2Vlbi5fc3RhcnRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUm91bmRpbmcgaXMgbmVjZXNzYXJ5IGhlcmUgdG8gbWluaW1pemUgZmxvYXRpbmcgcG9pbnQgZXJyb3JzXG4gICAgICAgICAgICBsYXN0VHdlZW5DaGFuZ2VFbmRUaW1lID0gcm91bmQodHdlZW5TdGFydFRpbWUgKyB0d2VlblVwZGF0ZUR1cmF0aW9uLCAxMik7XG4gICAgICAgICAgICBwcmV2VHdlZW4gPSB0d2VlbjtcbiAgICAgICAgICAgIGFuaW1hdGlvbkFuaW1hdGlvbkxlbmd0aCsrO1xuXG4gICAgICAgICAgICBhZGRDaGlsZCh0aGlzLCB0d2Vlbik7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBVcGRhdGUgYW5pbWF0aW9uIHRpbWluZ3Mgd2l0aCB0aGUgYWRkZWQgdHdlZW5zIHByb3BlcnRpZXNcblxuICAgICAgICAgIGlmIChpc05hTihpdGVyYXRpb25EZWxheSkgfHwgZmlyc3RUd2VlbkNoYW5nZVN0YXJ0VGltZSA8IGl0ZXJhdGlvbkRlbGF5KSB7XG4gICAgICAgICAgICBpdGVyYXRpb25EZWxheSA9IGZpcnN0VHdlZW5DaGFuZ2VTdGFydFRpbWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzTmFOKGl0ZXJhdGlvbkR1cmF0aW9uKSB8fCBsYXN0VHdlZW5DaGFuZ2VFbmRUaW1lID4gaXRlcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIGl0ZXJhdGlvbkR1cmF0aW9uID0gbGFzdFR3ZWVuQ2hhbmdlRW5kVGltZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUT0RPOiBGaW5kIGEgd2F5IHRvIGlubGluZSB0d2Vlbi5fcmVuZGVyVHJhbnNmb3JtcyA9IDEgaGVyZVxuICAgICAgICAgIGlmICh0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuVFJBTlNGT1JNKSB7XG4gICAgICAgICAgICBsYXN0VHJhbnNmb3JtR3JvdXBJbmRleCA9IGFuaW1hdGlvbkFuaW1hdGlvbkxlbmd0aCAtIHR3ZWVuSW5kZXg7XG4gICAgICAgICAgICBsYXN0VHJhbnNmb3JtR3JvdXBMZW5ndGggPSBhbmltYXRpb25BbmltYXRpb25MZW5ndGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICAvLyBTZXQgX3JlbmRlclRyYW5zZm9ybXMgdG8gbGFzdCB0cmFuc2Zvcm0gcHJvcGVydHkgdG8gY29ycmVjdGx5IHJlbmRlciB0aGUgdHJhbnNmb3JtcyBsaXN0XG4gICAgICBpZiAoIWlzTmFOKGxhc3RUcmFuc2Zvcm1Hcm91cEluZGV4KSkge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvckVhY2hDaGlsZHJlbih0aGlzLCAoLyoqIEB0eXBlIHtUd2Vlbn0gKi90d2VlbikgPT4ge1xuICAgICAgICAgIGlmIChpID49IGxhc3RUcmFuc2Zvcm1Hcm91cEluZGV4ICYmIGkgPCBsYXN0VHJhbnNmb3JtR3JvdXBMZW5ndGgpIHtcbiAgICAgICAgICAgIHR3ZWVuLl9yZW5kZXJUcmFuc2Zvcm1zID0gMTtcbiAgICAgICAgICAgIGlmICh0d2Vlbi5fY29tcG9zaXRpb24gPT09IGNvbXBvc2l0aW9uVHlwZXMuYmxlbmQpIHtcbiAgICAgICAgICAgICAgZm9yRWFjaENoaWxkcmVuKGFkZGl0aXZlLmFuaW1hdGlvbiwgKC8qKiBAdHlwZSB7VHdlZW59ICovYWRkaXRpdmVUd2VlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhZGRpdGl2ZVR3ZWVuLmlkID09PSB0d2Vlbi5pZCkge1xuICAgICAgICAgICAgICAgICAgYWRkaXRpdmVUd2Vlbi5fcmVuZGVyVHJhbnNmb3JtcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICghdGFyZ2V0c0xlbmd0aCkge1xuICAgICAgY29uc29sZS53YXJuKGBObyB0YXJnZXQgZm91bmQuIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCB5b3UncmUgdHJ5aW5nIHRvIGFuaW1hdGUgaXMgYWNjZXNzaWJsZSBiZWZvcmUgY3JlYXRpbmcgeW91ciBhbmltYXRpb24uYCk7XG4gICAgfVxuXG4gICAgaWYgKGl0ZXJhdGlvbkRlbGF5KSB7XG4gICAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7VHdlZW59ICovdHdlZW4pID0+IHtcbiAgICAgICAgLy8gSWYgKHN0YXJ0VGltZSAtIGRlbGF5KSBlcXVhbHMgMCwgdGhpcyBtZWFucyB0aGUgdHdlZW4gaXMgYXQgdGhlIGJlZ2luaW5nIG9mIHRoZSBhbmltYXRpb24gc28gd2UgbmVlZCB0byB0cmltIHRoZSBkZWxheSB0b29cbiAgICAgICAgaWYgKCEodHdlZW4uX3N0YXJ0VGltZSAtIHR3ZWVuLl9kZWxheSkpIHtcbiAgICAgICAgICB0d2Vlbi5fZGVsYXkgLT0gaXRlcmF0aW9uRGVsYXk7XG4gICAgICAgIH1cbiAgICAgICAgdHdlZW4uX3N0YXJ0VGltZSAtPSBpdGVyYXRpb25EZWxheTtcbiAgICAgIH0pO1xuICAgICAgaXRlcmF0aW9uRHVyYXRpb24gLT0gaXRlcmF0aW9uRGVsYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGlvbkRlbGF5ID0gMDtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50cyBpdGVyYXRpb25EdXJhdGlvbiB0byBiZSBOYU4gaWYgbm8gdmFsaWQgYW5pbWF0YWJsZSBwcm9wcyBoYXZlIGJlZW4gcHJvdmlkZWRcbiAgICAvLyBQcmV2ZW50cyBfaXRlcmF0aW9uQ291bnQgdG8gYmUgTmFOIGlmIG5vIHZhbGlkIGFuaW1hdGFibGUgcHJvcHMgaGF2ZSBiZWVuIHByb3ZpZGVkXG4gICAgaWYgKCFpdGVyYXRpb25EdXJhdGlvbikge1xuICAgICAgaXRlcmF0aW9uRHVyYXRpb24gPSBtaW5WYWx1ZTtcbiAgICAgIHRoaXMuaXRlcmF0aW9uQ291bnQgPSAwO1xuICAgIH1cbiAgICAvKiogQHR5cGUge1RhcmdldHNBcnJheX0gKi9cbiAgICB0aGlzLnRhcmdldHMgPSBwYXJzZWRUYXJnZXRzO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuZHVyYXRpb24gPSBpdGVyYXRpb25EdXJhdGlvbiA9PT0gbWluVmFsdWUgPyBtaW5WYWx1ZSA6IGNsYW1wSW5maW5pdHkoKChpdGVyYXRpb25EdXJhdGlvbiArIHRoaXMuX2xvb3BEZWxheSkgKiB0aGlzLml0ZXJhdGlvbkNvdW50KSAtIHRoaXMuX2xvb3BEZWxheSkgfHwgbWluVmFsdWU7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uUmVuZGVyID0gb25SZW5kZXIgfHwgYW5pbURlZmF1bHRzLm9uUmVuZGVyO1xuICAgIC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovXG4gICAgdGhpcy5fZWFzZSA9IGFuaW1FYXNlO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2RlbGF5ID0gaXRlcmF0aW9uRGVsYXk7XG4gICAgLy8gTk9URTogSSdtIGtlZXBpbmcgZGVsYXkgdmFsdWVzIHNlcGFyYXRlZCBmcm9tIG9mZnNldHMgaW4gdGltZWxpbmVzIGJlY2F1c2UgZGVsYXlzIGNhbiBvdmVycmlkZSBwcmV2aW91cyB0d2VlbnMgYW5kIGl0IGNvdWxkIGJlIGNvbmZ1c2luZyB0byBkZWJ1ZyBhIHRpbWVsaW5lIHdpdGggb3ZlcnJpZGRlbiB0d2VlbnMgYW5kIG5vIGFzc29jaWF0ZWQgdmlzaWJsZSBkZWxheXMuXG4gICAgLy8gdGhpcy5fZGVsYXkgPSBwYXJlbnQgPyAwIDogaXRlcmF0aW9uRGVsYXk7XG4gICAgLy8gdGhpcy5fb2Zmc2V0ICs9IHBhcmVudCA/IGl0ZXJhdGlvbkRlbGF5IDogMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLml0ZXJhdGlvbkR1cmF0aW9uID0gaXRlcmF0aW9uRHVyYXRpb247XG4gICAgLyoqIEB0eXBlIHt7fX0gKi9cbiAgICB0aGlzLl9pbmxpbmVTdHlsZXMgPSBhbmltSW5saW5lU3R5bGVzO1xuXG4gICAgaWYgKCF0aGlzLl9hdXRvcGxheSAmJiBzaG91bGRUcmlnZ2VyUmVuZGVyKSB0aGlzLm9uUmVuZGVyKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gbmV3RHVyYXRpb25cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHN0cmV0Y2gobmV3RHVyYXRpb24pIHtcbiAgICBjb25zdCBjdXJyZW50RHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uO1xuICAgIGlmIChjdXJyZW50RHVyYXRpb24gPT09IGNsYW1wWmVybyhuZXdEdXJhdGlvbikpIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IHRpbWVTY2FsZSA9IG5ld0R1cmF0aW9uIC8gY3VycmVudER1cmF0aW9uO1xuICAgIC8vIE5PVEU6IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGUgc3RyZXRjaCBvZiBhbiBhbmltYXRpb24gYWZ0ZXIgc3RyZXRjaCA9IDBcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7VHdlZW59ICovdHdlZW4pID0+IHtcbiAgICAgIC8vIFJvdW5kaW5nIGlzIG5lY2Vzc2FyeSBoZXJlIHRvIG1pbmltaXplIGZsb2F0aW5nIHBvaW50IGVycm9yc1xuICAgICAgdHdlZW4uX3VwZGF0ZUR1cmF0aW9uID0gY2xhbXBaZXJvKHJvdW5kKHR3ZWVuLl91cGRhdGVEdXJhdGlvbiAqIHRpbWVTY2FsZSwgMTIpKTtcbiAgICAgIHR3ZWVuLl9jaGFuZ2VEdXJhdGlvbiA9IGNsYW1wWmVybyhyb3VuZCh0d2Vlbi5fY2hhbmdlRHVyYXRpb24gKiB0aW1lU2NhbGUsIDEyKSk7XG4gICAgICB0d2Vlbi5fY3VycmVudFRpbWUgKj0gdGltZVNjYWxlO1xuICAgICAgdHdlZW4uX3N0YXJ0VGltZSAqPSB0aW1lU2NhbGU7XG4gICAgICB0d2Vlbi5fYWJzb2x1dGVTdGFydFRpbWUgKj0gdGltZVNjYWxlO1xuICAgIH0pO1xuICAgIHJldHVybiBzdXBlci5zdHJldGNoKG5ld0R1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7VHdlZW59ICovdHdlZW4pID0+IHtcbiAgICAgIGNvbnN0IG9nVmFsdWUgPSBnZXRPcmlnaW5hbEFuaW1hdGFibGVWYWx1ZSh0d2Vlbi50YXJnZXQsIHR3ZWVuLnByb3BlcnR5LCB0d2Vlbi5fdHdlZW5UeXBlKTtcbiAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKG9nVmFsdWUsIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlKTtcbiAgICAgIHR3ZWVuLl9mcm9tTnVtYmVycyA9IGNsb25lQXJyYXkoZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUuZCk7XG4gICAgICB0d2Vlbi5fZnJvbU51bWJlciA9IGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLm47XG4gICAgICBpZiAodHdlZW4uX2Z1bmMpIHtcbiAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUodHdlZW4uX2Z1bmMoKSwgdG9UYXJnZXRPYmplY3QpO1xuICAgICAgICB0d2Vlbi5fdG9OdW1iZXJzID0gY2xvbmVBcnJheSh0b1RhcmdldE9iamVjdC5kKTtcbiAgICAgICAgdHdlZW4uX3N0cmluZ3MgPSBjbG9uZUFycmF5KHRvVGFyZ2V0T2JqZWN0LnMpO1xuICAgICAgICB0d2Vlbi5fdG9OdW1iZXIgPSB0b1RhcmdldE9iamVjdC5uO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCB0aGUgYW5pbWF0aW9uIGFuZCByZXZlcnQgYWxsIHRoZSB2YWx1ZXMgYWZmZWN0ZWQgYnkgdGhpcyBhbmltYXRpb24gdG8gdGhlaXIgb3JpZ2luYWwgc3RhdGVcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHJldmVydCgpIHtcbiAgICBzdXBlci5yZXZlcnQoKTtcbiAgICByZXR1cm4gY2xlYW5JbmxpbmVTdHlsZXModGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7Q2FsbGJhY2s8dGhpcz59IFtjYWxsYmFja11cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIHRoZW4oY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3VwZXIudGhlbihjYWxsYmFjayk7XG4gIH1cblxufVxuXG4vKipcbiAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKiBAcGFyYW0ge0FuaW1hdGlvblBhcmFtc30gcGFyYW1ldGVyc1xuICogQHJldHVybiB7SlNBbmltYXRpb259XG4gKi9cbmNvbnN0IGFuaW1hdGUgPSAodGFyZ2V0cywgcGFyYW1ldGVycykgPT4gbmV3IEpTQW5pbWF0aW9uKHRhcmdldHMsIHBhcmFtZXRlcnMsIG51bGwsIDAsIGZhbHNlKS5pbml0KCk7XG5cblxuXG5cbi8qKlxuICogQ29udmVydHMgYW4gZWFzaW5nIGZ1bmN0aW9uIGludG8gYSB2YWxpZCBDU1MgbGluZWFyKCkgdGltaW5nIGZ1bmN0aW9uIHN0cmluZ1xuICogQHBhcmFtIHtFYXNpbmdGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2FtcGxlcz0xMDBdXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDU1MgbGluZWFyKCkgdGltaW5nIGZ1bmN0aW9uXG4gKi9cbmNvbnN0IGVhc2luZ1RvTGluZWFyID0gKGZuLCBzYW1wbGVzID0gMTAwKSA9PiB7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8PSBzYW1wbGVzOyBpKyspIHBvaW50cy5wdXNoKGZuKGkgLyBzYW1wbGVzKSk7XG4gIHJldHVybiBgbGluZWFyKCR7cG9pbnRzLmpvaW4oJywgJyl9KWA7XG59O1xuXG5jb25zdCBXQUFQSUVhc2VzTG9va3VwcyA9IHtcbiAgaW46ICdlYXNlLWluJyxcbiAgb3V0OiAnZWFzZS1vdXQnLFxuICBpbk91dDogJ2Vhc2UtaW4tb3V0Jyxcbn07XG5cbmNvbnN0IFdBQVBJZWFzZXMgPSAvKiNfX1BVUkVfXyovKCgpID0+IHtcbiAgY29uc3QgbGlzdCA9IHt9O1xuICBmb3IgKGxldCB0eXBlIGluIGVhc2VUeXBlcykgbGlzdFt0eXBlXSA9IGEgPT4gZWFzZVR5cGVzW3R5cGVdKGVhc2VJblBvd2VyKGEpKTtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7UmVjb3JkPFN0cmluZywgRWFzaW5nRnVuY3Rpb24+fSAqLyhsaXN0KTtcbn0pKCk7XG5cbi8qKlxuICogQHBhcmFtICB7RWFzaW5nUGFyYW19IGVhc2VcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuY29uc3QgcGFyc2VXQUFQSUVhc2luZyA9IChlYXNlKSA9PiB7XG4gIGxldCBwYXJzZWRFYXNlID0gV0FBUElFYXNlc0xvb2t1cHNbZWFzZV07XG4gIGlmIChwYXJzZWRFYXNlKSByZXR1cm4gcGFyc2VkRWFzZTtcbiAgcGFyc2VkRWFzZSA9ICdsaW5lYXInO1xuICBpZiAoaXNTdHIoZWFzZSkpIHtcbiAgICBpZiAoXG4gICAgICBzdHJpbmdTdGFydHNXaXRoKGVhc2UsICdsaW5lYXInKSB8fFxuICAgICAgc3RyaW5nU3RhcnRzV2l0aChlYXNlLCAnY3ViaWMtJykgfHxcbiAgICAgIHN0cmluZ1N0YXJ0c1dpdGgoZWFzZSwgJ3N0ZXBzJykgfHxcbiAgICAgIHN0cmluZ1N0YXJ0c1dpdGgoZWFzZSwgJ2Vhc2UnKVxuICAgICkge1xuICAgICAgcGFyc2VkRWFzZSA9IGVhc2U7XG4gICAgfSBlbHNlIGlmIChzdHJpbmdTdGFydHNXaXRoKGVhc2UsICdjdWJpY0InKSkge1xuICAgICAgcGFyc2VkRWFzZSA9IHRvTG93ZXJDYXNlKGVhc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUVhc2VTdHJpbmcoZWFzZSwgV0FBUEllYXNlcywgV0FBUElFYXNlc0xvb2t1cHMpO1xuICAgICAgaWYgKGlzRm5jKHBhcnNlZCkpIHBhcnNlZEVhc2UgPSBwYXJzZWQgPT09IG5vbmUgPyAnbGluZWFyJyA6IGVhc2luZ1RvTGluZWFyKHBhcnNlZCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRm5jKGVhc2UpKSB7XG4gICAgY29uc3QgZWFzaW5nID0gZWFzaW5nVG9MaW5lYXIoZWFzZSk7XG4gICAgaWYgKGVhc2luZykgcGFyc2VkRWFzZSA9IGVhc2luZztcbiAgfSBlbHNlIGlmICgvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZWFzZSkge1xuICAgIHBhcnNlZEVhc2UgPSBlYXNpbmdUb0xpbmVhcigvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZWFzZSk7XG4gIH1cbiAgcmV0dXJuIFdBQVBJRWFzZXNMb29rdXBzW2Vhc2VdID0gcGFyc2VkRWFzZTtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge1N0cmluZ3xOdW1iZXJ8QXJyYXk8U3RyaW5nPnxBcnJheTxOdW1iZXI+fSBXQUFQSVR3ZWVuVmFsdWVcbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBXQUFQSUZ1bmN0aW9udmFsdWVcbiAqIEBwYXJhbSB7RE9NVGFyZ2V0fSB0YXJnZXQgLSBUaGUgYW5pbWF0ZWQgdGFyZ2V0XG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBUaGUgdGFyZ2V0IGluZGV4XG4gKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIC0gVGhlIHRvdGFsIG51bWJlciBvZiBhbmltYXRlZCB0YXJnZXRzXG4gKiBAcmV0dXJuIHtXQUFQSVR3ZWVuVmFsdWV9XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7V0FBUElUd2VlblZhbHVlfFdBQVBJRnVuY3Rpb252YWx1ZXxBcnJheTxTdHJpbmd8TnVtYmVyfFdBQVBJRnVuY3Rpb252YWx1ZT59IFdBQVBJS2V5ZnJhbWVWYWx1ZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyhhbmltYXRpb246IFdBQVBJQW5pbWF0aW9uKSA9PiB2b2lkfSBXQUFQSUNhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXQUFQSVR3ZWVuT3B0aW9uc1xuICogQHByb3BlcnR5IHtXQUFQSUtleWZyYW1lVmFsdWV9IFt0b11cbiAqIEBwcm9wZXJ0eSB7V0FBUElLZXlmcmFtZVZhbHVlfSBbZnJvbV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfFdBQVBJRnVuY3Rpb252YWx1ZX0gW2R1cmF0aW9uXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8V0FBUElGdW5jdGlvbnZhbHVlfSBbZGVsYXldXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqIEBwcm9wZXJ0eSB7Q29tcG9zaXRlT3BlcmF0aW9ufSBbY29tcG9zaXRpb25dXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXQUFQSUFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfEJvb2xlYW59IFtsb29wXVxuICogQHByb3BlcnR5IHtCb29sZWFufSBbUmV2ZXJzZWRdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtBbHRlcm5hdGVdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW58U2Nyb2xsT2JzZXJ2ZXJ9IFthdXRvcGxheV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcGxheWJhY2tSYXRlXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8V0FBUElGdW5jdGlvbnZhbHVlfSBbZHVyYXRpb25dXG4gKiBAcHJvcGVydHkge051bWJlcnxXQUFQSUZ1bmN0aW9udmFsdWV9IFtkZWxheV1cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nUGFyYW19IFtlYXNlXVxuICogQHByb3BlcnR5IHtDb21wb3NpdGVPcGVyYXRpb259IFtjb21wb3NpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7V0FBUElDYWxsYmFja30gW29uQ29tcGxldGVdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7UmVjb3JkPFN0cmluZywgV0FBUElLZXlmcmFtZVZhbHVlIHwgV0FBUElBbmltYXRpb25PcHRpb25zIHwgQm9vbGVhbiB8IFNjcm9sbE9ic2VydmVyIHwgV0FBUElDYWxsYmFjayB8IEVhc2luZ1BhcmFtIHwgV0FBUElUd2Vlbk9wdGlvbnM+ICYgV0FBUElBbmltYXRpb25PcHRpb25zfSBXQUFQSUFuaW1hdGlvblBhcmFtc1xuICovXG5cbmNvbnN0IHRyYW5zZm9ybXNTaG9ydGhhbmRzID0gWyd4JywgJ3knLCAneiddO1xuY29uc3QgY29tbW9uRGVmYXVsdFBYUHJvcGVydGllcyA9IFtcbiAgJ3BlcnNwZWN0aXZlJyxcbiAgJ3dpZHRoJyxcbiAgJ2hlaWdodCcsXG4gICdtYXJnaW4nLFxuICAncGFkZGluZycsXG4gICd0b3AnLFxuICAncmlnaHQnLFxuICAnYm90dG9tJyxcbiAgJ2xlZnQnLFxuICAnYm9yZGVyV2lkdGgnLFxuICAnZm9udFNpemUnLFxuICAnYm9yZGVyUmFkaXVzJyxcbiAgLi4udHJhbnNmb3Jtc1Nob3J0aGFuZHNcbl07XG5cbmNvbnN0IHZhbGlkSW5kaXZpZHVhbFRyYW5zZm9ybXMgPSBbLi4udHJhbnNmb3Jtc1Nob3J0aGFuZHMsIC4uLnZhbGlkVHJhbnNmb3Jtcy5maWx0ZXIodCA9PiBbJ1gnLCAnWScsICdaJ10uc29tZShheGlzID0+IHQuZW5kc1dpdGgoYXhpcykpKV07XG5cbi8vIFNldHRpbmcgaXQgdG8gdHJ1ZSBpbiBjYXNlIENTUy5yZWdpc3RlclByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgd2lsbCBhdXRvbWF0aWNhbGx5IHNraXAgdGhlIHJlZ2lzdHJhdGlvbiBhbmQgZmFsbGJhY2sgdG8gbm8gYW5pbWF0aW9uXG5sZXQgdHJhbnNmb3Jtc1Byb3BlcnRpZXNSZWdpc3RlcmVkID0gaXNCcm93c2VyICYmIChpc1VuZChDU1MpIHx8ICFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChDU1MsICdyZWdpc3RlclByb3BlcnR5JykpO1xuXG5jb25zdCByZWdpc3RlclRyYW5zZm9ybXNQcm9wZXJ0aWVzID0gKCkgPT4ge1xuICB2YWxpZFRyYW5zZm9ybXMuZm9yRWFjaCh0ID0+IHtcbiAgICBjb25zdCBpc1NrZXcgPSBzdHJpbmdTdGFydHNXaXRoKHQsICdza2V3Jyk7XG4gICAgY29uc3QgaXNTY2FsZSA9IHN0cmluZ1N0YXJ0c1dpdGgodCwgJ3NjYWxlJyk7XG4gICAgY29uc3QgaXNSb3RhdGUgPSBzdHJpbmdTdGFydHNXaXRoKHQsICdyb3RhdGUnKTtcbiAgICBjb25zdCBpc1RyYW5zbGF0ZSA9IHN0cmluZ1N0YXJ0c1dpdGgodCwgJ3RyYW5zbGF0ZScpO1xuICAgIGNvbnN0IGlzQW5nbGUgPSBpc1JvdGF0ZSB8fCBpc1NrZXc7XG4gICAgY29uc3Qgc3ludGF4ID0gaXNBbmdsZSA/ICc8YW5nbGU+JyA6IGlzU2NhbGUgPyBcIjxudW1iZXI+XCIgOiBpc1RyYW5zbGF0ZSA/IFwiPGxlbmd0aC1wZXJjZW50YWdlPlwiIDogXCIqXCI7XG4gICAgQ1NTLnJlZ2lzdGVyUHJvcGVydHkoe1xuICAgICAgbmFtZTogJy0tJyArIHQsXG4gICAgICBzeW50YXgsXG4gICAgICBpbmhlcml0czogZmFsc2UsXG4gICAgICBpbml0aWFsVmFsdWU6IGlzVHJhbnNsYXRlID8gJzBweCcgOiBpc0FuZ2xlID8gJzBkZWcnIDogaXNTY2FsZSA/ICcxJyA6ICcwJyxcbiAgICB9KTtcbiAgfSk7XG4gIHRyYW5zZm9ybXNQcm9wZXJ0aWVzUmVnaXN0ZXJlZCA9IHRydWU7XG59O1xuXG5jb25zdCBXQUFQSUFuaW1hdGlvbnNMb29rdXBzID0ge1xuICBfaGVhZDogbnVsbCxcbiAgX3RhaWw6IG51bGwsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RE9NVGFyZ2V0fSAkZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydHldXG4gKiBAcGFyYW0ge1dBQVBJQW5pbWF0aW9ufSBbcGFyZW50XVxuICovXG5jb25zdCByZW1vdmVXQUFQSUFuaW1hdGlvbiA9ICgkZWwsIHByb3BlcnR5LCBwYXJlbnQpID0+IHtcbiAgbGV0IG5leHRMb29rdXAgPSBXQUFQSUFuaW1hdGlvbnNMb29rdXBzLl9oZWFkO1xuICB3aGlsZSAobmV4dExvb2t1cCkge1xuICAgIGNvbnN0IG5leHQgPSBuZXh0TG9va3VwLl9uZXh0O1xuICAgIGNvbnN0IG1hdGNoVGFyZ2V0ID0gbmV4dExvb2t1cC4kZWwgPT09ICRlbDtcbiAgICBjb25zdCBtYXRjaFByb3BlcnR5ID0gIXByb3BlcnR5IHx8IG5leHRMb29rdXAucHJvcGVydHkgPT09IHByb3BlcnR5O1xuICAgIGNvbnN0IG1hdGNoUGFyZW50ID0gIXBhcmVudCB8fCBuZXh0TG9va3VwLnBhcmVudCA9PT0gcGFyZW50O1xuICAgIGlmIChtYXRjaFRhcmdldCAmJiBtYXRjaFByb3BlcnR5ICYmIG1hdGNoUGFyZW50KSB7XG4gICAgICBjb25zdCBhbmltID0gbmV4dExvb2t1cC5hbmltYXRpb247XG4gICAgICB0cnkgeyBhbmltLmNvbW1pdFN0eWxlcygpOyB9IGNhdGNoIHt9ICAgICAgYW5pbS5jYW5jZWwoKTtcbiAgICAgIHJlbW92ZUNoaWxkKFdBQVBJQW5pbWF0aW9uc0xvb2t1cHMsIG5leHRMb29rdXApO1xuICAgICAgY29uc3QgbG9va3VwUGFyZW50ID0gbmV4dExvb2t1cC5wYXJlbnQ7XG4gICAgICBpZiAobG9va3VwUGFyZW50KSB7XG4gICAgICAgIGxvb2t1cFBhcmVudC5fY29tcGxldGVkKys7XG4gICAgICAgIGlmIChsb29rdXBQYXJlbnQuYW5pbWF0aW9ucy5sZW5ndGggPT09IGxvb2t1cFBhcmVudC5fY29tcGxldGVkKSB7XG4gICAgICAgICAgbG9va3VwUGFyZW50LmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKCFsb29rdXBQYXJlbnQubXV0ZUNhbGxiYWNrcykge1xuICAgICAgICAgICAgbG9va3VwUGFyZW50LnBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICBsb29rdXBQYXJlbnQub25Db21wbGV0ZShsb29rdXBQYXJlbnQpO1xuICAgICAgICAgICAgbG9va3VwUGFyZW50Ll9yZXNvbHZlKGxvb2t1cFBhcmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG5leHRMb29rdXAgPSBuZXh0O1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7V0FBUElBbmltYXRpb259IHBhcmVudFxuICogQHBhcmFtIHtET01UYXJnZXR9ICRlbFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcGFyYW0ge1Byb3BlcnR5SW5kZXhlZEtleWZyYW1lc30ga2V5ZnJhbWVzXG4gKiBAcGFyYW0ge0tleWZyYW1lQW5pbWF0aW9uT3B0aW9uc30gcGFyYW1zXG4gKiBAcmV0dW4ge0FuaW1hdGlvbn1cbiAqL1xuY29uc3QgYWRkV0FBUElBbmltYXRpb24gPSAocGFyZW50LCAkZWwsIHByb3BlcnR5LCBrZXlmcmFtZXMsIHBhcmFtcykgPT4ge1xuICBjb25zdCBhbmltYXRpb24gPSAkZWwuYW5pbWF0ZShrZXlmcmFtZXMsIHBhcmFtcyk7XG4gIGNvbnN0IGFuaW1Ub3RhbER1cmF0aW9uID0gcGFyYW1zLmRlbGF5ICsgKCtwYXJhbXMuZHVyYXRpb24gKiBwYXJhbXMuaXRlcmF0aW9ucyk7XG4gIGFuaW1hdGlvbi5wbGF5YmFja1JhdGUgPSBwYXJlbnQuX3NwZWVkO1xuICBpZiAocGFyZW50LnBhdXNlZCkgYW5pbWF0aW9uLnBhdXNlKCk7XG4gIGlmIChwYXJlbnQuZHVyYXRpb24gPCBhbmltVG90YWxEdXJhdGlvbikge1xuICAgIHBhcmVudC5kdXJhdGlvbiA9IGFuaW1Ub3RhbER1cmF0aW9uO1xuICAgIHBhcmVudC5jb250cm9sQW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICB9XG4gIHBhcmVudC5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgcmVtb3ZlV0FBUElBbmltYXRpb24oJGVsLCBwcm9wZXJ0eSk7XG4gIGFkZENoaWxkKFdBQVBJQW5pbWF0aW9uc0xvb2t1cHMsIHsgcGFyZW50LCBhbmltYXRpb24sICRlbCwgcHJvcGVydHksIF9uZXh0OiBudWxsLCBfcHJldjogbnVsbCB9KTtcbiAgY29uc3QgaGFuZGxlUmVtb3ZlID0gKCkgPT4geyByZW1vdmVXQUFQSUFuaW1hdGlvbigkZWwsIHByb3BlcnR5LCBwYXJlbnQpOyB9O1xuICBhbmltYXRpb24ub25yZW1vdmUgPSBoYW5kbGVSZW1vdmU7XG4gIGFuaW1hdGlvbi5vbmZpbmlzaCA9IGhhbmRsZVJlbW92ZTtcbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7U3RyaW5nfSBwcm9wTmFtZVxuICogQHBhcmFtICB7V0FBUElLZXlmcmFtZVZhbHVlfSB2YWx1ZVxuICogQHBhcmFtICB7RE9NVGFyZ2V0fSAkZWxcbiAqIEBwYXJhbSAge051bWJlcn0gaVxuICogQHBhcmFtICB7TnVtYmVyfSB0YXJnZXRzTGVuZ3RoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmNvbnN0IG5vcm1hbGl6ZVR3ZWVuVmFsdWUgPSAocHJvcE5hbWUsIHZhbHVlLCAkZWwsIGksIHRhcmdldHNMZW5ndGgpID0+IHtcbiAgbGV0IHYgPSBnZXRGdW5jdGlvblZhbHVlKC8qKiBAdHlwZSB7YW55fSAqLyh2YWx1ZSksICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCk7XG4gIGlmICghaXNOdW0odikpIHJldHVybiB2O1xuICBpZiAoY29tbW9uRGVmYXVsdFBYUHJvcGVydGllcy5pbmNsdWRlcyhwcm9wTmFtZSkgfHwgc3RyaW5nU3RhcnRzV2l0aChwcm9wTmFtZSwgJ3RyYW5zbGF0ZScpKSByZXR1cm4gYCR7dn1weGA7XG4gIGlmIChzdHJpbmdTdGFydHNXaXRoKHByb3BOYW1lLCAncm90YXRlJykgfHwgc3RyaW5nU3RhcnRzV2l0aChwcm9wTmFtZSwgJ3NrZXcnKSkgcmV0dXJuIGAke3Z9ZGVnYDtcbiAgcmV0dXJuIGAke3Z9YDtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7RE9NVGFyZ2V0fSAkZWxcbiAqIEBwYXJhbSAge1N0cmluZ30gcHJvcE5hbWVcbiAqIEBwYXJhbSAge1dBQVBJS2V5ZnJhbWVWYWx1ZX0gZnJvbVxuICogQHBhcmFtICB7V0FBUElLZXlmcmFtZVZhbHVlfSB0b1xuICogQHBhcmFtICB7TnVtYmVyfSBpXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRhcmdldHNMZW5ndGhcbiAqIEByZXR1cm4ge1dBQVBJVHdlZW5WYWx1ZX1cbiAqL1xuY29uc3QgcGFyc2VJbmRpdmlkdWFsVHdlZW5WYWx1ZSA9ICgkZWwsIHByb3BOYW1lLCBmcm9tLCB0bywgaSwgdGFyZ2V0c0xlbmd0aCkgPT4ge1xuICAvKiogQHR5cGUge1dBQVBJVHdlZW5WYWx1ZX0gKi9cbiAgbGV0IHR3ZWVuVmFsdWUgPSAnMCc7XG4gIGNvbnN0IGNvbXB1dGVkVG8gPSAhaXNVbmQodG8pID8gbm9ybWFsaXplVHdlZW5WYWx1ZShwcm9wTmFtZSwgdG8sICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkgOiBnZXRDb21wdXRlZFN0eWxlKCRlbClbcHJvcE5hbWVdO1xuICBpZiAoIWlzVW5kKGZyb20pKSB7XG4gICAgY29uc3QgY29tcHV0ZWRGcm9tID0gbm9ybWFsaXplVHdlZW5WYWx1ZShwcm9wTmFtZSwgZnJvbSwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKTtcbiAgICB0d2VlblZhbHVlID0gW2NvbXB1dGVkRnJvbSwgY29tcHV0ZWRUb107XG4gIH0gZWxzZSB7XG4gICAgdHdlZW5WYWx1ZSA9IGlzQXJyKHRvKSA/IHRvLm1hcCgoLyoqIEB0eXBlIHthbnl9ICovdikgPT4gbm9ybWFsaXplVHdlZW5WYWx1ZShwcm9wTmFtZSwgdiwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKSkgOiBjb21wdXRlZFRvO1xuICB9XG4gIHJldHVybiB0d2VlblZhbHVlO1xufTtcblxuY2xhc3MgV0FBUElBbmltYXRpb24ge1xuLyoqXG4gKiBAcGFyYW0ge0RPTVRhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHBhcmFtIHtXQUFQSUFuaW1hdGlvblBhcmFtc30gcGFyYW1zXG4gKi9cbiAgY29uc3RydWN0b3IodGFyZ2V0cywgcGFyYW1zKSB7XG5cbiAgICBpZiAoZ2xvYmFscy5zY29wZSkgZ2xvYmFscy5zY29wZS5yZXZlcnRpYmxlcy5wdXNoKHRoaXMpO1xuXG4gICAgaWYgKCF0cmFuc2Zvcm1zUHJvcGVydGllc1JlZ2lzdGVyZWQpIHJlZ2lzdGVyVHJhbnNmb3Jtc1Byb3BlcnRpZXMoKTtcblxuICAgIGNvbnN0IHBhcnNlZFRhcmdldHMgPSByZWdpc3RlclRhcmdldHModGFyZ2V0cyk7XG4gICAgY29uc3QgdGFyZ2V0c0xlbmd0aCA9IHBhcnNlZFRhcmdldHMubGVuZ3RoO1xuXG4gICAgaWYgKCF0YXJnZXRzTGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLndhcm4oYE5vIHRhcmdldCBmb3VuZC4gTWFrZSBzdXJlIHRoZSBlbGVtZW50IHlvdSdyZSB0cnlpbmcgdG8gYW5pbWF0ZSBpcyBhY2Nlc3NpYmxlIGJlZm9yZSBjcmVhdGluZyB5b3VyIGFuaW1hdGlvbi5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBlYXNlID0gc2V0VmFsdWUocGFyYW1zLmVhc2UsIHBhcnNlV0FBUElFYXNpbmcoZ2xvYmFscy5kZWZhdWx0cy5lYXNlKSk7XG4gICAgY29uc3Qgc3ByaW5nID0gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmVhc2UgJiYgZWFzZTtcbiAgICBjb25zdCBhdXRvcGxheSA9IHNldFZhbHVlKHBhcmFtcy5hdXRvcGxheSwgZ2xvYmFscy5kZWZhdWx0cy5hdXRvcGxheSk7XG4gICAgY29uc3Qgc2Nyb2xsID0gYXV0b3BsYXkgJiYgLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi8oYXV0b3BsYXkpLmxpbmsgPyBhdXRvcGxheSA6IGZhbHNlO1xuICAgIGNvbnN0IGFsdGVybmF0ZSA9IHBhcmFtcy5hbHRlcm5hdGUgJiYgLyoqIEB0eXBlIHtCb29sZWFufSAqLyhwYXJhbXMuYWx0ZXJuYXRlKSA9PT0gdHJ1ZTtcbiAgICBjb25zdCByZXZlcnNlZCA9IHBhcmFtcy5yZXZlcnNlZCAmJiAvKiogQHR5cGUge0Jvb2xlYW59ICovKHBhcmFtcy5yZXZlcnNlZCkgPT09IHRydWU7XG4gICAgY29uc3QgbG9vcCA9IHNldFZhbHVlKHBhcmFtcy5sb29wLCBnbG9iYWxzLmRlZmF1bHRzLmxvb3ApO1xuICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSAvKiogQHR5cGUge051bWJlcn0gKi8oKGxvb3AgPT09IHRydWUgfHwgbG9vcCA9PT0gSW5maW5pdHkpID8gSW5maW5pdHkgOiBpc051bShsb29wKSA/IGxvb3AgKyAxIDogMSk7XG4gICAgLyoqIEB0eXBlIHtQbGF5YmFja0RpcmVjdGlvbn0gKi9cbiAgICBjb25zdCBkaXJlY3Rpb24gPSBhbHRlcm5hdGUgPyByZXZlcnNlZCA/ICdhbHRlcm5hdGUtcmV2ZXJzZScgOiAnYWx0ZXJuYXRlJyA6IHJldmVyc2VkID8gJ3JldmVyc2UnIDogJ25vcm1hbCc7XG4gICAgLyoqIEB0eXBlIHtGaWxsTW9kZX0gKi9cbiAgICBjb25zdCBmaWxsID0gJ2ZvcndhcmRzJztcbiAgICAvKiogQHR5cGUge1N0cmluZ30gKi9cbiAgICBjb25zdCBlYXNpbmcgPSBwYXJzZVdBQVBJRWFzaW5nKGVhc2UpO1xuICAgIGNvbnN0IHRpbWVTY2FsZSA9IChnbG9iYWxzLnRpbWVTY2FsZSA9PT0gMSA/IDEgOiBLKTtcblxuICAgIC8qKiBAdHlwZSB7RE9NVGFyZ2V0c0FycmF5fV0gKi9cbiAgICB0aGlzLnRhcmdldHMgPSBwYXJzZWRUYXJnZXRzO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8Z2xvYmFsVGhpcy5BbmltYXRpb24+fV0gKi9cbiAgICB0aGlzLmFuaW1hdGlvbnMgPSBbXTtcbiAgICAvKiogQHR5cGUge2dsb2JhbFRoaXMuQW5pbWF0aW9ufV0gKi9cbiAgICB0aGlzLmNvbnRyb2xBbmltYXRpb24gPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gcGFyYW1zLm9uQ29tcGxldGUgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gMDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5tdXRlQ2FsbGJhY2tzID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuY29tcGxldGVkID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMucGF1c2VkID0gIWF1dG9wbGF5IHx8IHNjcm9sbCAhPT0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMucmV2ZXJzZWQgPSByZXZlcnNlZDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW58U2Nyb2xsT2JzZXJ2ZXJ9ICovXG4gICAgdGhpcy5hdXRvcGxheSA9IGF1dG9wbGF5O1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX3NwZWVkID0gc2V0VmFsdWUocGFyYW1zLnBsYXliYWNrUmF0ZSwgZ2xvYmFscy5kZWZhdWx0cy5wbGF5YmFja1JhdGUpO1xuICAgIC8qKiBAdHlwZSB7RnVuY3Rpb259ICovXG4gICAgdGhpcy5fcmVzb2x2ZSA9IG5vb3A7IC8vIFVzZWQgYnkgLnRoZW4oKVxuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2NvbXBsZXRlZCA9IDA7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxPYmplY3Q+fV0gKi9cbiAgICB0aGlzLl9pbmxpbmVTdHlsZXMgPSBwYXJzZWRUYXJnZXRzLm1hcCgkZWwgPT4gJGVsLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSk7XG5cbiAgICBwYXJzZWRUYXJnZXRzLmZvckVhY2goKCRlbCwgaSkgPT4ge1xuXG4gICAgICBjb25zdCBjYWNoZWRUcmFuc2Zvcm1zID0gJGVsW3RyYW5zZm9ybXNTeW1ib2xdO1xuXG4gICAgICBjb25zdCBoYXNJbmRpdmlkdWFsVHJhbnNmb3JtcyA9IHZhbGlkSW5kaXZpZHVhbFRyYW5zZm9ybXMuc29tZSh0ID0+IHBhcmFtcy5oYXNPd25Qcm9wZXJ0eSh0KSk7XG5cbiAgICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgICAgY29uc3QgZHVyYXRpb24gPSAoc3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKHNwcmluZykuZHVyYXRpb24gOiBnZXRGdW5jdGlvblZhbHVlKHNldFZhbHVlKHBhcmFtcy5kdXJhdGlvbiwgZ2xvYmFscy5kZWZhdWx0cy5kdXJhdGlvbiksICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkpICogdGltZVNjYWxlO1xuICAgICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgICBjb25zdCBkZWxheSA9IGdldEZ1bmN0aW9uVmFsdWUoc2V0VmFsdWUocGFyYW1zLmRlbGF5LCBnbG9iYWxzLmRlZmF1bHRzLmRlbGF5KSwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKSAqIHRpbWVTY2FsZTtcbiAgICAgIC8qKiBAdHlwZSB7Q29tcG9zaXRlT3BlcmF0aW9ufSAqL1xuICAgICAgY29uc3QgY29tcG9zaXRlID0gLyoqIEB0eXBlIHtDb21wb3NpdGVPcGVyYXRpb259ICovKHNldFZhbHVlKHBhcmFtcy5jb21wb3NpdGlvbiwgJ3JlcGxhY2UnKSk7XG5cbiAgICAgIGZvciAobGV0IG5hbWUgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmICghaXNLZXkobmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAvKiogQHR5cGUge1Byb3BlcnR5SW5kZXhlZEtleWZyYW1lc30gKi9cbiAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0ge307XG4gICAgICAgIC8qKiBAdHlwZSB7S2V5ZnJhbWVBbmltYXRpb25PcHRpb25zfSAqL1xuICAgICAgICBjb25zdCB0d2VlblBhcmFtcyA9IHsgaXRlcmF0aW9ucywgZGlyZWN0aW9uLCBmaWxsLCBlYXNpbmcsIGR1cmF0aW9uLCBkZWxheSwgY29tcG9zaXRlIH07XG4gICAgICAgIGNvbnN0IHByb3BlcnR5VmFsdWUgPSBwYXJhbXNbbmFtZV07XG4gICAgICAgIGNvbnN0IGluZGl2aWR1YWxUcmFuc2Zvcm1Qcm9wZXJ0eSA9IGhhc0luZGl2aWR1YWxUcmFuc2Zvcm1zID8gdmFsaWRUcmFuc2Zvcm1zLmluY2x1ZGVzKG5hbWUpID8gbmFtZSA6IHNob3J0VHJhbnNmb3Jtcy5nZXQobmFtZSkgOiBmYWxzZTtcbiAgICAgICAgbGV0IHBhcnNlZFByb3BlcnR5VmFsdWU7XG4gICAgICAgIGlmIChpc09iaihwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgIGNvbnN0IHR3ZWVuT3B0aW9ucyA9IC8qKiBAdHlwZSB7V0FBUElUd2Vlbk9wdGlvbnN9ICovKHByb3BlcnR5VmFsdWUpO1xuICAgICAgICAgIGNvbnN0IHR3ZWVuT3B0aW9uc0Vhc2UgPSBzZXRWYWx1ZSh0d2Vlbk9wdGlvbnMuZWFzZSwgZWFzZSk7XG4gICAgICAgICAgY29uc3QgdHdlZW5PcHRpb25zU3ByaW5nID0gLyoqIEB0eXBlIHtTcHJpbmd9ICovKHR3ZWVuT3B0aW9uc0Vhc2UpLmVhc2UgJiYgdHdlZW5PcHRpb25zRWFzZTtcbiAgICAgICAgICBjb25zdCB0byA9IC8qKiBAdHlwZSB7V0FBUElUd2Vlbk9wdGlvbnN9ICovKHR3ZWVuT3B0aW9ucykudG87XG4gICAgICAgICAgY29uc3QgZnJvbSA9IC8qKiBAdHlwZSB7V0FBUElUd2Vlbk9wdGlvbnN9ICovKHR3ZWVuT3B0aW9ucykuZnJvbTtcbiAgICAgICAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICAgICAgICB0d2VlblBhcmFtcy5kdXJhdGlvbiA9ICh0d2Vlbk9wdGlvbnNTcHJpbmcgPyAvKiogQHR5cGUge1NwcmluZ30gKi8odHdlZW5PcHRpb25zU3ByaW5nKS5kdXJhdGlvbiA6IGdldEZ1bmN0aW9uVmFsdWUoc2V0VmFsdWUodHdlZW5PcHRpb25zLmR1cmF0aW9uLCBkdXJhdGlvbiksICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkpICogdGltZVNjYWxlO1xuICAgICAgICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgICAgICAgIHR3ZWVuUGFyYW1zLmRlbGF5ID0gZ2V0RnVuY3Rpb25WYWx1ZShzZXRWYWx1ZSh0d2Vlbk9wdGlvbnMuZGVsYXksIGRlbGF5KSwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKSAqIHRpbWVTY2FsZTtcbiAgICAgICAgICAvKiogQHR5cGUge0NvbXBvc2l0ZU9wZXJhdGlvbn0gKi9cbiAgICAgICAgICB0d2VlblBhcmFtcy5jb21wb3NpdGUgPSAvKiogQHR5cGUge0NvbXBvc2l0ZU9wZXJhdGlvbn0gKi8oc2V0VmFsdWUodHdlZW5PcHRpb25zLmNvbXBvc2l0aW9uLCBjb21wb3NpdGUpKTtcbiAgICAgICAgICAvKiogQHR5cGUge1N0cmluZ30gKi9cbiAgICAgICAgICB0d2VlblBhcmFtcy5lYXNpbmcgPSBwYXJzZVdBQVBJRWFzaW5nKHR3ZWVuT3B0aW9uc0Vhc2UpO1xuICAgICAgICAgIHBhcnNlZFByb3BlcnR5VmFsdWUgPSBwYXJzZUluZGl2aWR1YWxUd2VlblZhbHVlKCRlbCwgbmFtZSwgZnJvbSwgdG8sIGksIHRhcmdldHNMZW5ndGgpO1xuICAgICAgICAgIGlmIChpbmRpdmlkdWFsVHJhbnNmb3JtUHJvcGVydHkpIHtcbiAgICAgICAgICAgIGtleWZyYW1lc1tgLS0ke2luZGl2aWR1YWxUcmFuc2Zvcm1Qcm9wZXJ0eX1gXSA9IHBhcnNlZFByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgICBjYWNoZWRUcmFuc2Zvcm1zW2luZGl2aWR1YWxUcmFuc2Zvcm1Qcm9wZXJ0eV0gPSBwYXJzZWRQcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXlmcmFtZXNbbmFtZV0gPSBwYXJzZUluZGl2aWR1YWxUd2VlblZhbHVlKCRlbCwgbmFtZSwgZnJvbSwgdG8sIGksIHRhcmdldHNMZW5ndGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRXQUFQSUFuaW1hdGlvbih0aGlzLCAkZWwsIG5hbWUsIGtleWZyYW1lcywgdHdlZW5QYXJhbXMpO1xuICAgICAgICAgIGlmICghaXNVbmQoZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghaW5kaXZpZHVhbFRyYW5zZm9ybVByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICRlbC5zdHlsZVtuYW1lXSA9IGtleWZyYW1lc1tuYW1lXVswXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGtleSA9IGAtLSR7aW5kaXZpZHVhbFRyYW5zZm9ybVByb3BlcnR5fWA7XG4gICAgICAgICAgICAgICRlbC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIGtleWZyYW1lc1trZXldWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VkUHJvcGVydHlWYWx1ZSA9IGlzQXJyKHByb3BlcnR5VmFsdWUpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZS5tYXAoKC8qKiBAdHlwZSB7YW55fSAqL3YpID0+IG5vcm1hbGl6ZVR3ZWVuVmFsdWUobmFtZSwgdiwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVUd2VlblZhbHVlKG5hbWUsIC8qKiBAdHlwZSB7YW55fSAqLyhwcm9wZXJ0eVZhbHVlKSwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKTtcbiAgICAgICAgICBpZiAoaW5kaXZpZHVhbFRyYW5zZm9ybVByb3BlcnR5KSB7XG4gICAgICAgICAgICBrZXlmcmFtZXNbYC0tJHtpbmRpdmlkdWFsVHJhbnNmb3JtUHJvcGVydHl9YF0gPSBwYXJzZWRQcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgY2FjaGVkVHJhbnNmb3Jtc1tpbmRpdmlkdWFsVHJhbnNmb3JtUHJvcGVydHldID0gcGFyc2VkUHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ZnJhbWVzW25hbWVdID0gcGFyc2VkUHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkV0FBUElBbmltYXRpb24odGhpcywgJGVsLCBuYW1lLCBrZXlmcmFtZXMsIHR3ZWVuUGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGhhc0luZGl2aWR1YWxUcmFuc2Zvcm1zKSB7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1zID0gZW1wdHlTdHJpbmc7XG4gICAgICAgIGZvciAobGV0IHQgaW4gY2FjaGVkVHJhbnNmb3Jtcykge1xuICAgICAgICAgIHRyYW5zZm9ybXMgKz0gYCR7dHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5nc1t0XX12YXIoLS0ke3R9KSkgYDtcbiAgICAgICAgfVxuICAgICAgICAkZWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtcztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChzY3JvbGwpIHtcbiAgICAgIC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovKHRoaXMuYXV0b3BsYXkpLmxpbmsodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBmb3JFYWNoQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtnbG9iYWxUaGlzLkFuaW1hdGlvbn0gYW5pbWF0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtmb3JFYWNoQ2FsbGJhY2t8U3RyaW5nfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgIGNvbnN0IGNiID0gaXNTdHIoY2FsbGJhY2spID8gYSA9PiBhW2NhbGxiYWNrXSgpIDogY2FsbGJhY2s7XG4gICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goY2IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IHNwZWVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zcGVlZDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gc3BlZWQgKi9cbiAgc2V0IHNwZWVkKHNwZWVkKSB7XG4gICAgdGhpcy5fc3BlZWQgPSArc3BlZWQ7XG4gICAgdGhpcy5mb3JFYWNoKGFuaW0gPT4gYW5pbS5wbGF5YmFja1JhdGUgPSBzcGVlZCk7XG4gIH1cblxuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgY29uc3QgY29udHJvbEFuaW1hdGlvbiA9IHRoaXMuY29udHJvbEFuaW1hdGlvbjtcbiAgICBjb25zdCB0aW1lU2NhbGUgPSBnbG9iYWxzLnRpbWVTY2FsZTtcbiAgICByZXR1cm4gdGhpcy5jb21wbGV0ZWQgPyB0aGlzLmR1cmF0aW9uIDogY29udHJvbEFuaW1hdGlvbiA/ICtjb250cm9sQW5pbWF0aW9uLmN1cnJlbnRUaW1lICogKHRpbWVTY2FsZSA9PT0gMSA/IDEgOiB0aW1lU2NhbGUpIDogMDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gdGltZSAqL1xuICBzZXQgY3VycmVudFRpbWUodGltZSkge1xuICAgIGNvbnN0IHQgPSB0aW1lICogKGdsb2JhbHMudGltZVNjYWxlID09PSAxID8gMSA6IEspO1xuICAgIHRoaXMuZm9yRWFjaChhbmltID0+IGFuaW0uY3VycmVudFRpbWUgPSB0KTtcbiAgfVxuXG4gIGdldCBwcm9ncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VGltZSAvIHRoaXMuZHVyYXRpb247XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHByb2dyZXNzICovXG4gIHNldCBwcm9ncmVzcyhwcm9ncmVzcykge1xuICAgIHRoaXMuZm9yRWFjaChhbmltID0+IGFuaW0uY3VycmVudFRpbWUgPSBwcm9ncmVzcyAqIHRoaXMuZHVyYXRpb24gfHwgMCk7XG4gIH1cblxuICByZXN1bWUoKSB7XG4gICAgaWYgKCF0aGlzLnBhdXNlZCkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICAvLyBUT0RPOiBTdG9yZSB0aGUgY3VycmVudCB0aW1lLCBhbmQgc2VlayBiYWNrIHRvIHRoZSBsYXN0IHBvc2l0aW9uXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgncGxheScpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMucGF1c2VkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgncGF1c2UnKTtcbiAgfVxuXG4gIGFsdGVybmF0ZSgpIHtcbiAgICB0aGlzLnJldmVyc2VkID0gIXRoaXMucmV2ZXJzZWQ7XG4gICAgdGhpcy5mb3JFYWNoKCdyZXZlcnNlJyk7XG4gICAgaWYgKHRoaXMucGF1c2VkKSB0aGlzLmZvckVhY2goJ3BhdXNlJyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwbGF5KCkge1xuICAgIGlmICh0aGlzLnJldmVyc2VkKSB0aGlzLmFsdGVybmF0ZSgpO1xuICAgIHJldHVybiB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV2ZXJzZSgpIHtcbiAgICBpZiAoIXRoaXMucmV2ZXJzZWQpIHRoaXMuYWx0ZXJuYXRlKCk7XG4gICAgcmV0dXJuIHRoaXMucmVzdW1lKCk7XG4gIH1cblxuIC8qKlxuICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lXG4gICogQHBhcmFtIHtCb29sZWFufSBtdXRlQ2FsbGJhY2tzXG4gICovXG4gIHNlZWsodGltZSwgbXV0ZUNhbGxiYWNrcyA9IGZhbHNlKSB7XG4gICAgaWYgKG11dGVDYWxsYmFja3MpIHRoaXMubXV0ZUNhbGxiYWNrcyA9IHRydWU7XG4gICAgaWYgKHRpbWUgPCB0aGlzLmR1cmF0aW9uKSB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aW1lO1xuICAgIHRoaXMubXV0ZUNhbGxiYWNrcyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnBhdXNlZCkgdGhpcy5wYXVzZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVzdGFydCgpIHtcbiAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnNlZWsoMCwgdHJ1ZSkucmVzdW1lKCk7XG4gIH1cblxuICBjb21taXRTdHlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgnY29tbWl0U3R5bGVzJyk7XG4gIH1cblxuICBjb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWVrKHRoaXMuZHVyYXRpb24pO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuZm9yRWFjaCgnY2FuY2VsJyk7XG4gICAgcmV0dXJuIHRoaXMucGF1c2UoKTtcbiAgfVxuXG4gIHJldmVydCgpIHtcbiAgICB0aGlzLmNhbmNlbCgpO1xuICAgIHRoaXMudGFyZ2V0cy5mb3JFYWNoKCgkZWwsIGkpID0+ICRlbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5faW5saW5lU3R5bGVzW2ldKSApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge1dBQVBJQ2FsbGJhY2t9IFtjYWxsYmFja11cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIHRoZW4oY2FsbGJhY2sgPSBub29wKSB7XG4gICAgY29uc3QgdGhlbiA9IHRoaXMudGhlbjtcbiAgICBjb25zdCBvblJlc29sdmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnRoZW4gPSBudWxsO1xuICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICB0aGlzLnRoZW4gPSB0aGVuO1xuICAgICAgdGhpcy5fcmVzb2x2ZSA9IG5vb3A7XG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UociA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlID0gKCkgPT4gcihvblJlc29sdmUoKSk7XG4gICAgICBpZiAodGhpcy5jb21wbGV0ZWQpIHRoaXMuX3Jlc29sdmUoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHdhYXBpID0ge1xuLyoqXG4gKiBAcGFyYW0ge0RPTVRhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHBhcmFtIHtXQUFQSUFuaW1hdGlvblBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJuIHtXQUFQSUFuaW1hdGlvbn1cbiAqL1xuICBhbmltYXRlOiAodGFyZ2V0cywgcGFyYW1zKSA9PiBuZXcgV0FBUElBbmltYXRpb24odGFyZ2V0cywgcGFyYW1zKSxcbiAgY29udmVydEVhc2U6IGVhc2luZ1RvTGluZWFyXG59O1xuXG5cblxuXG4vKipcbiAqIEBwYXJhbSAge0NhbGxiYWNrPFRpbWVyPn0gW2NhbGxiYWNrXVxuICogQHJldHVybiB7VGltZXJ9XG4gKi9cbmNvbnN0IHN5bmMgPSAoY2FsbGJhY2sgPSBub29wKSA9PiB7XG4gIHJldHVybiBuZXcgVGltZXIoeyBkdXJhdGlvbjogMSAqIGdsb2JhbHMudGltZVNjYWxlLCBvbkNvbXBsZXRlOiBjYWxsYmFjayB9LCBudWxsLCAwKS5yZXN1bWUoKTtcbn07XG5cbi8qKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtET01UYXJnZXRTZWxlY3Rvcn0gdGFyZ2V0U2VsZWN0b3JcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICBwcm9wTmFtZVxuICogQHJldHVybiB7U3RyaW5nfVxuICpcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7SlNUYXJnZXRzUGFyYW19IHRhcmdldFNlbGVjdG9yXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgcHJvcE5hbWVcbiAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9XG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtET01UYXJnZXRzUGFyYW19IHRhcmdldFNlbGVjdG9yXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgIHByb3BOYW1lXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgIHVuaXRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0U2VsZWN0b3JcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgcHJvcE5hbWVcbiAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgdW5pdFxuICogQHJldHVybiB7TnVtYmVyfVxuICpcbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gICB0YXJnZXRTZWxlY3RvclxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgIHByb3BOYW1lXG4gKiBAcGFyYW0gIHtTdHJpbmd8Qm9vbGVhbn0gW3VuaXRdXG4gKi9cbmZ1bmN0aW9uIGdldFRhcmdldFZhbHVlKHRhcmdldFNlbGVjdG9yLCBwcm9wTmFtZSwgdW5pdCkge1xuICBjb25zdCB0YXJnZXRzID0gcmVnaXN0ZXJUYXJnZXRzKHRhcmdldFNlbGVjdG9yKTtcbiAgaWYgKCF0YXJnZXRzLmxlbmd0aCkgcmV0dXJuO1xuICBjb25zdCBbIHRhcmdldCBdID0gdGFyZ2V0cztcbiAgY29uc3QgdHdlZW5UeXBlID0gZ2V0VHdlZW5UeXBlKHRhcmdldCwgcHJvcE5hbWUpO1xuICBjb25zdCBub3JtYWxpemVQcm9wTmFtZSA9IHNhbml0aXplUHJvcGVydHlOYW1lKHByb3BOYW1lLCB0YXJnZXQsIHR3ZWVuVHlwZSk7XG4gIGxldCBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUodGFyZ2V0LCBub3JtYWxpemVQcm9wTmFtZSk7XG4gIGlmIChpc1VuZCh1bml0KSkge1xuICAgIHJldHVybiBvcmlnaW5hbFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGRlY29tcG9zZVJhd1ZhbHVlKG9yaWdpbmFsVmFsdWUsIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlKTtcbiAgICBpZiAoZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUudCA9PT0gdmFsdWVUeXBlcy5OVU1CRVIgfHwgZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUudCA9PT0gdmFsdWVUeXBlcy5VTklUKSB7XG4gICAgICBpZiAodW5pdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRWYWx1ZSA9IGNvbnZlcnRWYWx1ZVVuaXQoLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHRhcmdldCksIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLCAvKiogQHR5cGUge1N0cmluZ30gKi8odW5pdCksIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGAke3JvdW5kKGNvbnZlcnRlZFZhbHVlLm4sIGdsb2JhbHMucHJlY2lzaW9uKX0ke2NvbnZlcnRlZFZhbHVlLnV9YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19ICAgIHRhcmdldHNcbiAqIEBwYXJhbSAge0FuaW1hdGlvblBhcmFtc30gcGFyYW1ldGVyc1xuICogQHJldHVybiB7SlNBbmltYXRpb259XG4gKi9cbmNvbnN0IHNldFRhcmdldFZhbHVlcyA9ICh0YXJnZXRzLCBwYXJhbWV0ZXJzKSA9PiB7XG4gIGlmIChpc1VuZChwYXJhbWV0ZXJzKSkgcmV0dXJuO1xuICBwYXJhbWV0ZXJzLmR1cmF0aW9uID0gbWluVmFsdWU7XG4gIC8vIERvIG5vdCBvdmVycmlkZXMgY3VycmVudGx5IGFjdGl2ZSB0d2VlbnMgYnkgZGVmYXVsdFxuICBwYXJhbWV0ZXJzLmNvbXBvc2l0aW9uID0gc2V0VmFsdWUocGFyYW1ldGVycy5jb21wb3NpdGlvbiwgY29tcG9zaXRpb25UeXBlcy5ub25lKTtcbiAgLy8gU2tpcCBpbml0KCkgYW5kIGZvcmNlIHJlbmRlcmluZyBieSBwbGF5aW5nIHRoZSBhbmltYXRpb25cbiAgcmV0dXJuIG5ldyBKU0FuaW1hdGlvbih0YXJnZXRzLCBwYXJhbWV0ZXJzLCBudWxsLCAwLCB0cnVlKS5yZXN1bWUoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VGFyZ2V0c0FycmF5fSB0YXJnZXRzQXJyYXlcbiAqIEBwYXJhbSAge0pTQW5pbWF0aW9ufSAgICBhbmltYXRpb25cbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgW3Byb3BlcnR5TmFtZV1cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmNvbnN0IHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9uID0gKHRhcmdldHNBcnJheSwgYW5pbWF0aW9uLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgbGV0IHR3ZWVuc01hdGNoZXNUYXJnZXRzID0gZmFsc2U7XG4gIGZvckVhY2hDaGlsZHJlbihhbmltYXRpb24sICgvKipAdHlwZSB7VHdlZW59ICovdHdlZW4pID0+IHtcbiAgICBjb25zdCB0d2VlblRhcmdldCA9IHR3ZWVuLnRhcmdldDtcbiAgICBpZiAodGFyZ2V0c0FycmF5LmluY2x1ZGVzKHR3ZWVuVGFyZ2V0KSkge1xuICAgICAgY29uc3QgdHdlZW5OYW1lID0gdHdlZW4ucHJvcGVydHk7XG4gICAgICBjb25zdCB0d2VlblR5cGUgPSB0d2Vlbi5fdHdlZW5UeXBlO1xuICAgICAgY29uc3Qgbm9ybWFsaXplUHJvcE5hbWUgPSBzYW5pdGl6ZVByb3BlcnR5TmFtZShwcm9wZXJ0eU5hbWUsIHR3ZWVuVGFyZ2V0LCB0d2VlblR5cGUpO1xuICAgICAgaWYgKCFub3JtYWxpemVQcm9wTmFtZSB8fCBub3JtYWxpemVQcm9wTmFtZSAmJiBub3JtYWxpemVQcm9wTmFtZSA9PT0gdHdlZW5OYW1lKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0byBmbGFnIHRoZSBwcmV2aW91cyBDU1MgdHJhbnNmb3JtIHR3ZWVuIHRvIHJlbmRlclRyYW5zZm9ybVxuICAgICAgICBpZiAodHdlZW4ucGFyZW50Ll90YWlsID09PSB0d2VlbiAmJlxuICAgICAgICAgICAgdHdlZW4uX3R3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5UUkFOU0ZPUk0gJiZcbiAgICAgICAgICAgIHR3ZWVuLl9wcmV2ICYmXG4gICAgICAgICAgICB0d2Vlbi5fcHJldi5fdHdlZW5UeXBlID09PSB0d2VlblR5cGVzLlRSQU5TRk9STVxuICAgICAgICApIHtcbiAgICAgICAgICB0d2Vlbi5fcHJldi5fcmVuZGVyVHJhbnNmb3JtcyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlcyB0aGUgdHdlZW4gZnJvbSB0aGUgc2VsZWN0ZWQgYW5pbWF0aW9uXG4gICAgICAgIHJlbW92ZUNoaWxkKGFuaW1hdGlvbiwgdHdlZW4pO1xuICAgICAgICAvLyBEZXRhY2ggdGhlIHR3ZWVuIGZyb20gaXRzIHNpYmxpbmdzIHRvIG1ha2Ugc3VyZSBibGVuZGVkIHR3ZWVucyBhcmUgY29ycmVjdGxseSByZW1vdmVkXG4gICAgICAgIHJlbW92ZVR3ZWVuU2xpYmxpbmdzKHR3ZWVuKTtcbiAgICAgICAgdHdlZW5zTWF0Y2hlc1RhcmdldHMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwgdHJ1ZSk7XG4gIHJldHVybiB0d2VlbnNNYXRjaGVzVGFyZ2V0cztcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKiBAcGFyYW0gIHtSZW5kZXJhYmxlfFdBQVBJQW5pbWF0aW9ufSBbcmVuZGVyYWJsZV1cbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgICAgICAgIFtwcm9wZXJ0eU5hbWVdXG4gKiBAcmV0dXJuIHtUYXJnZXRzQXJyYXl9XG4gKi9cbmNvbnN0IHJlbW92ZSA9ICh0YXJnZXRzLCByZW5kZXJhYmxlLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgY29uc3QgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBjb25zdCBwYXJlbnQgPSAvKiogQHR5cGUge1JlbmRlcmFibGV8dHlwZW9mIGVuZ2luZX0gKiovKHJlbmRlcmFibGUgPyByZW5kZXJhYmxlIDogZW5naW5lKTtcbiAgY29uc3Qgd2FhcGlBbmltYXRpb24gPSByZW5kZXJhYmxlICYmIC8qKiBAdHlwZSB7V0FBUElBbmltYXRpb259ICovKHJlbmRlcmFibGUpLmNvbnRyb2xBbmltYXRpb24gJiYgLyoqIEB0eXBlIHtXQUFQSUFuaW1hdGlvbn0gKi8ocmVuZGVyYWJsZSk7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gdGFyZ2V0c0FycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0ICRlbCA9IC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAgKi8odGFyZ2V0c0FycmF5W2ldKTtcbiAgICByZW1vdmVXQUFQSUFuaW1hdGlvbigkZWwsIHByb3BlcnR5TmFtZSwgd2FhcGlBbmltYXRpb24pO1xuICB9XG4gIGxldCByZW1vdmVNYXRjaGVzO1xuICBpZiAocGFyZW50Ll9oYXNDaGlsZHJlbikge1xuICAgIGxldCBpdGVyYXRpb25EdXJhdGlvbiA9IDA7XG4gICAgZm9yRWFjaENoaWxkcmVuKHBhcmVudCwgKC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi9jaGlsZCkgPT4ge1xuICAgICAgaWYgKCFjaGlsZC5faGFzQ2hpbGRyZW4pIHtcbiAgICAgICAgcmVtb3ZlTWF0Y2hlcyA9IHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9uKHRhcmdldHNBcnJheSwgLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi8oY2hpbGQpLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGNoaWxkIGZyb20gaXRzIHBhcmVudCBpZiBubyB0d2VlbnMgYW5kIG5vIGNoaWxkcmVuIGxlZnQgYWZ0ZXIgdGhlIHJlbW92YWxcbiAgICAgICAgaWYgKHJlbW92ZU1hdGNoZXMgJiYgIWNoaWxkLl9oZWFkKSB7XG4gICAgICAgICAgY2hpbGQuY2FuY2VsKCk7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBuZXcgaXRlcmF0aW9uRHVyYXRpb24gdmFsdWUgdG8gaGFuZGxlIG9uQ29tcGxldGUgd2l0aCBsYXN0IGNoaWxkIGluIHJlbmRlcigpXG4gICAgICAgICAgY29uc3QgY2hpbGRUTE9mZnNldCA9IGNoaWxkLl9vZmZzZXQgKyBjaGlsZC5fZGVsYXk7XG4gICAgICAgICAgY29uc3QgY2hpbGREdXIgPSBjaGlsZFRMT2Zmc2V0ICsgY2hpbGQuZHVyYXRpb247XG4gICAgICAgICAgaWYgKGNoaWxkRHVyID4gaXRlcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIGl0ZXJhdGlvbkR1cmF0aW9uID0gY2hpbGREdXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBNYWtlIHN1cmUgdG8gYWxzbyByZW1vdmUgZW5naW5lJ3MgY2hpbGRyZW4gdGFyZ2V0c1xuICAgICAgLy8gTk9URTogQXZvaWQgcmVjdXJzaW9uP1xuICAgICAgaWYgKGNoaWxkLl9oZWFkKSB7XG4gICAgICAgIHJlbW92ZSh0YXJnZXRzLCBjaGlsZCwgcHJvcGVydHlOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkLl9oYXNDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICAgIC8vIFVwZGF0ZSBpdGVyYXRpb25EdXJhdGlvbiB2YWx1ZSB0byBoYW5kbGUgb25Db21wbGV0ZSB3aXRoIGxhc3QgY2hpbGQgaW4gcmVuZGVyKClcbiAgICBpZiAoIWlzVW5kKC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi8ocGFyZW50KS5pdGVyYXRpb25EdXJhdGlvbikpIHtcbiAgICAgIC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi8ocGFyZW50KS5pdGVyYXRpb25EdXJhdGlvbiA9IGl0ZXJhdGlvbkR1cmF0aW9uO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZW1vdmVNYXRjaGVzID0gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb24oXG4gICAgICB0YXJnZXRzQXJyYXksXG4gICAgICAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqLyhwYXJlbnQpLFxuICAgICAgcHJvcGVydHlOYW1lXG4gICAgKTtcbiAgfVxuXG4gIGlmIChyZW1vdmVNYXRjaGVzICYmICFwYXJlbnQuX2hlYWQpIHtcbiAgICBwYXJlbnQuX2hhc0NoaWxkcmVuID0gZmFsc2U7XG4gICAgLy8gQ2FuY2VsIHRoZSBwYXJlbnQgaWYgdGhlcmUgYXJlIG5vIHR3ZWVucyBhbmQgbm8gY2hpbGRyZW4gbGVmdCBhZnRlciB0aGUgcmVtb3ZhbFxuICAgIC8vIFdlIGhhdmUgdG8gY2hlY2sgaWYgdGhlIC5jYW5jZWwoKSBtZXRob2QgZXhpc3QgdG8gaGFuZGxlIGNhc2VzIHdoZXJlIHRoZSBwYXJlbnQgaXMgdGhlIGVuZ2luZSBpdHNlbGZcbiAgICBpZiAoLyoqIEB0eXBlIHtSZW5kZXJhYmxlfSAqLyhwYXJlbnQpLmNhbmNlbCkgLyoqIEB0eXBlIHtSZW5kZXJhYmxlfSAqLyhwYXJlbnQpLmNhbmNlbCgpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldHNBcnJheTtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSBtaW5cbiAqIEBwYXJhbSAge051bWJlcn0gbWF4XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtkZWNpbWFsTGVuZ3RoXVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCByYW5kb20gPSAobWluLCBtYXgsIGRlY2ltYWxMZW5ndGgpID0+IHsgY29uc3QgbSA9IDEwICoqIChkZWNpbWFsTGVuZ3RoIHx8IDApOyByZXR1cm4gZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgKDEgLyBtKSkgKyBtaW4pICogbSkgLyBtIH07XG5cbi8qKlxuICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSBpdGVtc1xuICogQHJldHVybiB7YW55fVxuICovXG5jb25zdCByYW5kb21QaWNrID0gaXRlbXMgPT4gaXRlbXNbcmFuZG9tKDAsIGl0ZW1zLmxlbmd0aCAtIDEpXTtcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gaHR0cHM6Ly9ib3N0Lm9ja3Mub3JnL21pa2Uvc2h1ZmZsZS9cbiAqIEBwYXJhbSAge0FycmF5fSBpdGVtc1xuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmNvbnN0IHNodWZmbGUgPSBpdGVtcyA9PiB7XG4gIGxldCBtID0gaXRlbXMubGVuZ3RoLCB0LCBpO1xuICB3aGlsZSAobSkgeyBpID0gcmFuZG9tKDAsIC0tbSk7IHQgPSBpdGVtc1ttXTsgaXRlbXNbbV0gPSBpdGVtc1tpXTsgaXRlbXNbaV0gPSB0OyB9XG4gIHJldHVybiBpdGVtcztcbn07XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfFN0cmluZ30gdlxuICogQHBhcmFtICB7TnVtYmVyfSBkZWNpbWFsTGVuZ3RoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmNvbnN0IHJvdW5kUGFkID0gKHYsIGRlY2ltYWxMZW5ndGgpID0+ICgrdikudG9GaXhlZChkZWNpbWFsTGVuZ3RoKTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEBwYXJhbSAge051bWJlcn0gdG90YWxMZW5ndGhcbiAqIEBwYXJhbSAge1N0cmluZ30gcGFkU3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmNvbnN0IHBhZFN0YXJ0ID0gKHYsIHRvdGFsTGVuZ3RoLCBwYWRTdHJpbmcpID0+IGAke3Z9YC5wYWRTdGFydCh0b3RhbExlbmd0aCwgcGFkU3RyaW5nKTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEBwYXJhbSAge051bWJlcn0gdG90YWxMZW5ndGhcbiAqIEBwYXJhbSAge1N0cmluZ30gcGFkU3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmNvbnN0IHBhZEVuZCA9ICh2LCB0b3RhbExlbmd0aCwgcGFkU3RyaW5nKSA9PiBgJHt2fWAucGFkRW5kKHRvdGFsTGVuZ3RoLCBwYWRTdHJpbmcpO1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gdlxuICogQHBhcmFtICB7TnVtYmVyfSBtaW5cbiAqIEBwYXJhbSAge051bWJlcn0gbWF4XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IHdyYXAgPSAodiwgbWluLCBtYXgpID0+ICgoKHYgLSBtaW4pICUgKG1heCAtIG1pbikgKyAobWF4IC0gbWluKSkgJSAobWF4IC0gbWluKSkgKyBtaW47XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtICB7TnVtYmVyfSBpbkxvd1xuICogQHBhcmFtICB7TnVtYmVyfSBpbkhpZ2hcbiAqIEBwYXJhbSAge051bWJlcn0gb3V0TG93XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG91dEhpZ2hcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgbWFwUmFuZ2UgPSAodmFsdWUsIGluTG93LCBpbkhpZ2gsIG91dExvdywgb3V0SGlnaCkgPT4gb3V0TG93ICsgKCh2YWx1ZSAtIGluTG93KSAvIChpbkhpZ2ggLSBpbkxvdykpICogKG91dEhpZ2ggLSBvdXRMb3cpO1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gZGVncmVlc1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBkZWdUb1JhZCA9IGRlZ3JlZXMgPT4gZGVncmVlcyAqIFBJIC8gMTgwO1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gcmFkaWFuc1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCByYWRUb0RlZyA9IHJhZGlhbnMgPT4gcmFkaWFucyAqIDE4MCAvIFBJO1xuXG4vKipcbiAqIGh0dHBzOi8vd3d3LnJvcnlkcmlzY29sbC5jb20vMjAxNi8wMy8wNy9mcmFtZS1yYXRlLWluZGVwZW5kZW50LWRhbXBpbmctdXNpbmctbGVycC9cbiAqIEBwYXJhbSAge051bWJlcn0gc3RhcnRcbiAqIEBwYXJhbSAge051bWJlcn0gZW5kXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFtb3VudFxuICogQHBhcmFtICB7UmVuZGVyYWJsZXxCb29sZWFufSBbcmVuZGVyYWJsZV1cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgbGVycCA9IChzdGFydCwgZW5kLCBhbW91bnQsIHJlbmRlcmFibGUpID0+IHtcbiAgbGV0IGR0ID0gSyAvIGdsb2JhbHMuZGVmYXVsdHMuZnJhbWVSYXRlO1xuICBpZiAocmVuZGVyYWJsZSAhPT0gZmFsc2UpIHtcbiAgICBjb25zdCB0aWNrZXIgPSAvKiogQHR5cGUgUmVuZGVyYWJsZSAqL1xuICAgICAgICAgICAgICAgICAgIChyZW5kZXJhYmxlKSB8fFxuICAgICAgICAgICAgICAgICAgIChlbmdpbmUuX2hhc0NoaWxkcmVuICYmIGVuZ2luZSk7XG4gICAgaWYgKHRpY2tlciAmJiB0aWNrZXIuZGVsdGFUaW1lKSB7XG4gICAgICBkdCA9IHRpY2tlci5kZWx0YVRpbWU7XG4gICAgfVxuICB9XG4gIGNvbnN0IHQgPSAxIC0gTWF0aC5leHAoLWFtb3VudCAqIGR0ICogLjEpO1xuICByZXR1cm4gIWFtb3VudCA/IHN0YXJ0IDogYW1vdW50ID09PSAxID8gZW5kIDogKDEgLSB0KSAqIHN0YXJ0ICsgdCAqIGVuZDtcbn07XG5cbi8vIENoYWluLWFibGUgdXRpbGl0aWVzXG5cbi8qKlxuICogQGNhbGxiYWNrIFV0aWxpdHlGdW5jdGlvblxuICogQHBhcmFtIHsuLi4qfSBhcmdzXG4gKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfVxuICpcbiAqIEBwYXJhbSB7VXRpbGl0eUZ1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IFtsYXN0PTBdXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi4oTnVtYmVyfFN0cmluZykpOiBmdW5jdGlvbihOdW1iZXJ8U3RyaW5nKTogKE51bWJlcnxTdHJpbmcpfVxuICovXG5jb25zdCBjdXJyeSA9IChmbiwgbGFzdCA9IDApID0+ICguLi5hcmdzKSA9PiBsYXN0ID8gdiA9PiBmbiguLi5hcmdzLCB2KSA6IHYgPT4gZm4odiwgLi4uYXJncyk7XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLihOdW1iZXJ8U3RyaW5nKSl9XG4gKi9cbmNvbnN0IGNoYWluID0gZm4gPT4ge1xuICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZm4oLi4uYXJncyk7XG4gICAgcmV0dXJuIG5ldyBQcm94eShub29wLCB7XG4gICAgICBhcHBseTogKF8sIF9fLCBbdl0pID0+IHJlc3VsdCh2KSxcbiAgICAgIGdldDogKF8sIHByb3ApID0+IGNoYWluKC8qKkBwYXJhbSB7Li4uTnVtYmVyfFN0cmluZ30gbmV4dEFyZ3MgKi8oLi4ubmV4dEFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHV0aWxzW3Byb3BdKC4uLm5leHRBcmdzKTtcbiAgICAgICAgcmV0dXJuICgvKipAdHlwZSB7TnVtYmVyfFN0cmluZ30gKi92KSA9PiBuZXh0UmVzdWx0KHJlc3VsdCh2KSk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VXRpbGl0eUZ1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IFtyaWdodF1cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLihOdW1iZXJ8U3RyaW5nKSk6IFV0aWxpdHlGdW5jdGlvbn1cbiAqL1xuY29uc3QgbWFrZUNoYWluYWJsZSA9IChmbiwgcmlnaHQgPSAwKSA9PiAoLi4uYXJncykgPT4gKGFyZ3MubGVuZ3RoIDwgZm4ubGVuZ3RoID8gY2hhaW4oY3VycnkoZm4sIHJpZ2h0KSkgOiBmbikoLi4uYXJncyk7XG5cbi8qKlxuICogQGNhbGxiYWNrIENoYWluZWRVdGlsc1Jlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2hhaW5hYmxlVXRpbHNcbiAqIEBwcm9wZXJ0eSB7Q2hhaW5lZENsYW1wfSBjbGFtcFxuICogQHByb3BlcnR5IHtDaGFpbmVkUm91bmR9IHJvdW5kXG4gKiBAcHJvcGVydHkge0NoYWluZWRTbmFwfSBzbmFwXG4gKiBAcHJvcGVydHkge0NoYWluZWRXcmFwfSB3cmFwXG4gKiBAcHJvcGVydHkge0NoYWluZWRJbnRlcnBvbGF0ZX0gaW50ZXJwb2xhdGVcbiAqIEBwcm9wZXJ0eSB7Q2hhaW5lZE1hcFJhbmdlfSBtYXBSYW5nZVxuICogQHByb3BlcnR5IHtDaGFpbmVkUm91bmRQYWR9IHJvdW5kUGFkXG4gKiBAcHJvcGVydHkge0NoYWluZWRQYWRTdGFydH0gcGFkU3RhcnRcbiAqIEBwcm9wZXJ0eSB7Q2hhaW5lZFBhZEVuZH0gcGFkRW5kXG4gKiBAcHJvcGVydHkge0NoYWluZWREZWdUb1JhZH0gZGVnVG9SYWRcbiAqIEBwcm9wZXJ0eSB7Q2hhaW5lZFJhZFRvRGVnfSByYWRUb0RlZ1xuICpcbiAqIEB0eXBlZGVmIHtDaGFpbmFibGVVdGlscyAmIENoYWluZWRVdGlsc1Jlc3VsdH0gQ2hhaW5hYmxlVXRpbFxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkQ2xhbXBcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaW5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRSb3VuZFxuICogQHBhcmFtIHtOdW1iZXJ9IGRlY2ltYWxMZW5ndGhcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRTbmFwXG4gKiBAcGFyYW0ge051bWJlcn0gaW5jcmVtZW50XG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkV3JhcFxuICogQHBhcmFtIHtOdW1iZXJ9IG1pblxuICogQHBhcmFtIHtOdW1iZXJ9IG1heFxuICogQHJldHVybiB7Q2hhaW5hYmxlVXRpbH1cbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZEludGVycG9sYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhcnRcbiAqIEBwYXJhbSB7TnVtYmVyfSBlbmRcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRNYXBSYW5nZVxuICogQHBhcmFtIHtOdW1iZXJ9IGluTG93XG4gKiBAcGFyYW0ge051bWJlcn0gaW5IaWdoXG4gKiBAcGFyYW0ge051bWJlcn0gb3V0TG93XG4gKiBAcGFyYW0ge051bWJlcn0gb3V0SGlnaFxuICogQHJldHVybiB7Q2hhaW5hYmxlVXRpbH1cbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZFJvdW5kUGFkXG4gKiBAcGFyYW0ge051bWJlcn0gZGVjaW1hbExlbmd0aFxuICogQHJldHVybiB7Q2hhaW5hYmxlVXRpbH1cbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZFBhZFN0YXJ0XG4gKiBAcGFyYW0ge051bWJlcn0gdG90YWxMZW5ndGhcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYWRTdHJpbmdcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRQYWRFbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3RhbExlbmd0aFxuICogQHBhcmFtIHtTdHJpbmd9IHBhZFN0cmluZ1xuICogQHJldHVybiB7Q2hhaW5hYmxlVXRpbH1cbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZERlZ1RvUmFkXG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkUmFkVG9EZWdcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKi9cblxuY29uc3QgdXRpbHMgPSB7XG4gICQ6IHJlZ2lzdGVyVGFyZ2V0cyxcbiAgZ2V0OiBnZXRUYXJnZXRWYWx1ZSxcbiAgc2V0OiBzZXRUYXJnZXRWYWx1ZXMsXG4gIHJlbW92ZSxcbiAgY2xlYW5JbmxpbmVTdHlsZXMsXG4gIHJhbmRvbSxcbiAgcmFuZG9tUGljayxcbiAgc2h1ZmZsZSxcbiAgbGVycCxcbiAgc3luYyxcbiAgY2xhbXA6IC8qKiBAdHlwZSB7dHlwZW9mIGNsYW1wICYgQ2hhaW5lZENsYW1wfSAqLyhtYWtlQ2hhaW5hYmxlKGNsYW1wKSksXG4gIHJvdW5kOiAvKiogQHR5cGUge3R5cGVvZiByb3VuZCAmIENoYWluZWRSb3VuZH0gKi8obWFrZUNoYWluYWJsZShyb3VuZCkpLFxuICBzbmFwOiAvKiogQHR5cGUge3R5cGVvZiBzbmFwICYgQ2hhaW5lZFNuYXB9ICovKG1ha2VDaGFpbmFibGUoc25hcCkpLFxuICB3cmFwOiAvKiogQHR5cGUge3R5cGVvZiB3cmFwICYgQ2hhaW5lZFdyYXB9ICovKG1ha2VDaGFpbmFibGUod3JhcCkpLFxuICBpbnRlcnBvbGF0ZTogLyoqIEB0eXBlIHt0eXBlb2YgaW50ZXJwb2xhdGUgJiBDaGFpbmVkSW50ZXJwb2xhdGV9ICovKG1ha2VDaGFpbmFibGUoaW50ZXJwb2xhdGUsIDEpKSxcbiAgbWFwUmFuZ2U6IC8qKiBAdHlwZSB7dHlwZW9mIG1hcFJhbmdlICYgQ2hhaW5lZE1hcFJhbmdlfSAqLyhtYWtlQ2hhaW5hYmxlKG1hcFJhbmdlKSksXG4gIHJvdW5kUGFkOiAvKiogQHR5cGUge3R5cGVvZiByb3VuZFBhZCAmIENoYWluZWRSb3VuZFBhZH0gKi8obWFrZUNoYWluYWJsZShyb3VuZFBhZCkpLFxuICBwYWRTdGFydDogLyoqIEB0eXBlIHt0eXBlb2YgcGFkU3RhcnQgJiBDaGFpbmVkUGFkU3RhcnR9ICovKG1ha2VDaGFpbmFibGUocGFkU3RhcnQpKSxcbiAgcGFkRW5kOiAvKiogQHR5cGUge3R5cGVvZiBwYWRFbmQgJiBDaGFpbmVkUGFkRW5kfSAqLyhtYWtlQ2hhaW5hYmxlKHBhZEVuZCkpLFxuICBkZWdUb1JhZDogLyoqIEB0eXBlIHt0eXBlb2YgZGVnVG9SYWQgJiBDaGFpbmVkRGVnVG9SYWR9ICovKG1ha2VDaGFpbmFibGUoZGVnVG9SYWQpKSxcbiAgcmFkVG9EZWc6IC8qKiBAdHlwZSB7dHlwZW9mIHJhZFRvRGVnICYgQ2hhaW5lZFJhZFRvRGVnfSAqLyhtYWtlQ2hhaW5hYmxlKHJhZFRvRGVnKSksXG59O1xuXG5cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtOdW1iZXJ8U3RyaW5nfEZ1bmN0aW9ufSBUaW1lUG9zaXRpb25cbiAqL1xuXG4vKipcbiAqIFRpbWVsaW5lJ3MgY2hpbGRyZW4gb2Zmc2V0cyBwb3NpdGlvbnMgcGFyc2VyXG4gKiBAcGFyYW0gIHtUaW1lbGluZX0gdGltZWxpbmVcbiAqIEBwYXJhbSAge1N0cmluZ30gdGltZVBvc2l0aW9uXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGdldFByZXZDaGlsZE9mZnNldCA9ICh0aW1lbGluZSwgdGltZVBvc2l0aW9uKSA9PiB7XG4gIGlmIChzdHJpbmdTdGFydHNXaXRoKHRpbWVQb3NpdGlvbiwgJzwnKSkge1xuICAgIGNvbnN0IGdvVG9QcmV2QW5pbWF0aW9uT2Zmc2V0ID0gdGltZVBvc2l0aW9uWzFdID09PSAnPCc7XG4gICAgY29uc3QgcHJldkFuaW1hdGlvbiA9IC8qKiBAdHlwZSB7VGlja2FibGV9ICovKHRpbWVsaW5lLl90YWlsKTtcbiAgICBjb25zdCBwcmV2T2Zmc2V0ID0gcHJldkFuaW1hdGlvbiA/IHByZXZBbmltYXRpb24uX29mZnNldCArIHByZXZBbmltYXRpb24uX2RlbGF5IDogMDtcbiAgICByZXR1cm4gZ29Ub1ByZXZBbmltYXRpb25PZmZzZXQgPyBwcmV2T2Zmc2V0IDogcHJldk9mZnNldCArIHByZXZBbmltYXRpb24uZHVyYXRpb247XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtICB7VGltZWxpbmV9IHRpbWVsaW5lXG4gKiBAcGFyYW0gIHtUaW1lUG9zaXRpb259IFt0aW1lUG9zaXRpb25dXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IHBhcnNlVGltZWxpbmVQb3NpdGlvbiA9ICh0aW1lbGluZSwgdGltZVBvc2l0aW9uKSA9PiB7XG4gIGxldCB0bER1cmF0aW9uID0gdGltZWxpbmUuaXRlcmF0aW9uRHVyYXRpb247XG4gIGlmICh0bER1cmF0aW9uID09PSBtaW5WYWx1ZSkgdGxEdXJhdGlvbiA9IDA7XG4gIGlmIChpc1VuZCh0aW1lUG9zaXRpb24pKSByZXR1cm4gdGxEdXJhdGlvbjtcbiAgaWYgKGlzTnVtKCt0aW1lUG9zaXRpb24pKSByZXR1cm4gK3RpbWVQb3NpdGlvbjtcbiAgY29uc3QgdGltZVBvc1N0ciA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyh0aW1lUG9zaXRpb24pO1xuICBjb25zdCB0bExhYmVscyA9IHRpbWVsaW5lID8gdGltZWxpbmUubGFiZWxzIDogbnVsbDtcbiAgY29uc3QgaGFzTGFiZWxzID0gIWlzTmlsKHRsTGFiZWxzKTtcbiAgY29uc3QgcHJldk9mZnNldCA9IGdldFByZXZDaGlsZE9mZnNldCh0aW1lbGluZSwgdGltZVBvc1N0cik7XG4gIGNvbnN0IGhhc1NpYmxpbmcgPSAhaXNVbmQocHJldk9mZnNldCk7XG4gIGNvbnN0IG1hdGNoZWRSZWxhdGl2ZU9wZXJhdG9yID0gcmVsYXRpdmVWYWx1ZXNFeGVjUmd4LmV4ZWModGltZVBvc1N0cik7XG4gIGlmIChtYXRjaGVkUmVsYXRpdmVPcGVyYXRvcikge1xuICAgIGNvbnN0IGZ1bGxPcGVyYXRvciA9IG1hdGNoZWRSZWxhdGl2ZU9wZXJhdG9yWzBdO1xuICAgIGNvbnN0IHNwbGl0ID0gdGltZVBvc1N0ci5zcGxpdChmdWxsT3BlcmF0b3IpO1xuICAgIGNvbnN0IGxhYmVsT2Zmc2V0ID0gaGFzTGFiZWxzICYmIHNwbGl0WzBdID8gdGxMYWJlbHNbc3BsaXRbMF1dIDogdGxEdXJhdGlvbjtcbiAgICBjb25zdCBwYXJzZWRPZmZzZXQgPSBoYXNTaWJsaW5nID8gcHJldk9mZnNldCA6IGhhc0xhYmVscyA/IGxhYmVsT2Zmc2V0IDogdGxEdXJhdGlvbjtcbiAgICBjb25zdCBwYXJzZWROdW1lcmljYWxPZmZzZXQgPSArc3BsaXRbMV07XG4gICAgcmV0dXJuIGdldFJlbGF0aXZlVmFsdWUocGFyc2VkT2Zmc2V0LCBwYXJzZWROdW1lcmljYWxPZmZzZXQsIGZ1bGxPcGVyYXRvclswXSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhhc1NpYmxpbmcgPyBwcmV2T2Zmc2V0IDpcbiAgICAgICAgICAgaGFzTGFiZWxzID8gIWlzVW5kKHRsTGFiZWxzW3RpbWVQb3NTdHJdKSA/IHRsTGFiZWxzW3RpbWVQb3NTdHJdIDpcbiAgICAgICAgICAgdGxEdXJhdGlvbiA6IHRsRHVyYXRpb247XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtUaW1lbGluZX0gdGxcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0VGltZWxpbmVUb3RhbER1cmF0aW9uKHRsKSB7XG4gIHJldHVybiBjbGFtcEluZmluaXR5KCgodGwuaXRlcmF0aW9uRHVyYXRpb24gKyB0bC5fbG9vcERlbGF5KSAqIHRsLml0ZXJhdGlvbkNvdW50KSAtIHRsLl9sb29wRGVsYXkpIHx8IG1pblZhbHVlO1xufVxuXG4vKipcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7VGltZXJQYXJhbXN9IGNoaWxkUGFyYW1zXG4gKiBAcGFyYW0gIHtUaW1lbGluZX0gdGxcbiAqIEBwYXJhbSAge051bWJlcn0gdGltZVBvc2l0aW9uXG4gKiBAcmV0dXJuIHtUaW1lbGluZX1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge0FuaW1hdGlvblBhcmFtc30gY2hpbGRQYXJhbXNcbiAqIEBwYXJhbSAge1RpbWVsaW5lfSB0bFxuICogQHBhcmFtICB7TnVtYmVyfSB0aW1lUG9zaXRpb25cbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHBhcmFtICB7TnVtYmVyfSBbaW5kZXhdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtsZW5ndGhdXG4gKiBAcmV0dXJuIHtUaW1lbGluZX1cbiAqXG4gKiBAcGFyYW0gIHtUaW1lclBhcmFtc3xBbmltYXRpb25QYXJhbXN9IGNoaWxkUGFyYW1zXG4gKiBAcGFyYW0gIHtUaW1lbGluZX0gdGxcbiAqIEBwYXJhbSAge051bWJlcn0gdGltZVBvc2l0aW9uXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IFt0YXJnZXRzXVxuICogQHBhcmFtICB7TnVtYmVyfSBbaW5kZXhdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtsZW5ndGhdXG4gKi9cbmZ1bmN0aW9uIGFkZFRsQ2hpbGQoY2hpbGRQYXJhbXMsIHRsLCB0aW1lUG9zaXRpb24sIHRhcmdldHMsIGluZGV4LCBsZW5ndGgpIHtcbiAgY29uc3QgaXNTZXR0ZXIgPSBpc051bShjaGlsZFBhcmFtcy5kdXJhdGlvbikgJiYgLyoqIEB0eXBlIHtOdW1iZXJ9ICovKGNoaWxkUGFyYW1zLmR1cmF0aW9uKSA8PSBtaW5WYWx1ZTtcbiAgLy8gT2Zmc2V0IHRoZSB0bCBwb3NpdGlvbiB3aXRoIC1taW5WYWx1ZSBmb3IgMCBkdXJhdGlvbiBhbmltYXRpb25zIG9yIC5zZXQoKSBjYWxscyBpbiBvcmRlciB0byBhbGlnbiB0aGVpciBlbmQgdmFsdWUgd2l0aCB0aGUgZGVmaW5lZCBwb3NpdGlvblxuICBjb25zdCBhZGp1c3RlZFBvc2l0aW9uID0gaXNTZXR0ZXIgPyB0aW1lUG9zaXRpb24gLSBtaW5WYWx1ZSA6IHRpbWVQb3NpdGlvbjtcbiAgdGljayh0bCwgYWRqdXN0ZWRQb3NpdGlvbiwgMSwgMSwgdGlja01vZGVzLkFVVE8pO1xuICBjb25zdCB0bENoaWxkID0gdGFyZ2V0cyA/XG4gICAgbmV3IEpTQW5pbWF0aW9uKHRhcmdldHMsLyoqIEB0eXBlIHtBbmltYXRpb25QYXJhbXN9ICovKGNoaWxkUGFyYW1zKSwgdGwsIGFkanVzdGVkUG9zaXRpb24sIGZhbHNlLCBpbmRleCwgbGVuZ3RoKSA6XG4gICAgbmV3IFRpbWVyKC8qKiBAdHlwZSB7VGltZXJQYXJhbXN9ICovKGNoaWxkUGFyYW1zKSwgdGwsIGFkanVzdGVkUG9zaXRpb24pO1xuICB0bENoaWxkLmluaXQoMSk7XG4gIC8vIFRPRE86IE1pZ2h0IGJlIGJldHRlciB0byBpbnNlcnQgYXQgYSBwb3NpdGlvbiByZWxhdGl2ZSB0byBzdGFydFRpbWU/XG4gIGFkZENoaWxkKHRsLCB0bENoaWxkKTtcbiAgZm9yRWFjaENoaWxkcmVuKHRsLCAoLyoqIEB0eXBlIHtSZW5kZXJhYmxlfSAqL2NoaWxkKSA9PiB7XG4gICAgY29uc3QgY2hpbGRUTE9mZnNldCA9IGNoaWxkLl9vZmZzZXQgKyBjaGlsZC5fZGVsYXk7XG4gICAgY29uc3QgY2hpbGREdXIgPSBjaGlsZFRMT2Zmc2V0ICsgY2hpbGQuZHVyYXRpb247XG4gICAgaWYgKGNoaWxkRHVyID4gdGwuaXRlcmF0aW9uRHVyYXRpb24pIHRsLml0ZXJhdGlvbkR1cmF0aW9uID0gY2hpbGREdXI7XG4gIH0pO1xuICB0bC5kdXJhdGlvbiA9IGdldFRpbWVsaW5lVG90YWxEdXJhdGlvbih0bCk7XG4gIHJldHVybiB0bDtcbn1cblxuY2xhc3MgVGltZWxpbmUgZXh0ZW5kcyBUaW1lciB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VGltZWxpbmVQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHt9KSB7XG4gICAgc3VwZXIoLyoqIEB0eXBlIHtUaW1lclBhcmFtcyZUaW1lbGluZVBhcmFtc30gKi8ocGFyYW1ldGVycyksIG51bGwsIDApO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuZHVyYXRpb24gPSAwOyAvLyBUTCBkdXJhdGlvbiBzdGFydHMgYXQgMCBhbmQgZ3Jvd3Mgd2hlbiBhZGRpbmcgY2hpbGRyZW5cbiAgICAvKiogQHR5cGUge1JlY29yZDxTdHJpbmcsIE51bWJlcj59ICovXG4gICAgdGhpcy5sYWJlbHMgPSB7fTtcbiAgICBjb25zdCBkZWZhdWx0c1BhcmFtcyA9IHBhcmFtZXRlcnMuZGVmYXVsdHM7XG4gICAgY29uc3QgZ2xvYmFsRGVmYXVsdHMgPSBnbG9iYWxzLmRlZmF1bHRzO1xuICAgIC8qKiBAdHlwZSB7RGVmYXVsdHNQYXJhbXN9ICovXG4gICAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzUGFyYW1zID8gbWVyZ2VPYmplY3RzKGRlZmF1bHRzUGFyYW1zLCBnbG9iYWxEZWZhdWx0cykgOiBnbG9iYWxEZWZhdWx0cztcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25SZW5kZXIgPSBwYXJhbWV0ZXJzLm9uUmVuZGVyIHx8IGdsb2JhbERlZmF1bHRzLm9uUmVuZGVyO1xuICAgIGNvbnN0IHRsUGxheWJhY2tFYXNlID0gc2V0VmFsdWUocGFyYW1ldGVycy5wbGF5YmFja0Vhc2UsIGdsb2JhbERlZmF1bHRzLnBsYXliYWNrRWFzZSk7XG4gICAgdGhpcy5fZWFzZSA9IHRsUGxheWJhY2tFYXNlID8gcGFyc2VFYXNpbmdzKHRsUGxheWJhY2tFYXNlKSA6IG51bGw7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5pdGVyYXRpb25EdXJhdGlvbiA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSBhMVxuICAgKiBAcGFyYW0ge0FuaW1hdGlvblBhcmFtc30gYTJcbiAgICogQHBhcmFtIHtUaW1lUG9zaXRpb259IFthM11cbiAgICogQHJldHVybiB7dGhpc31cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7VGltZXJQYXJhbXN9IGExXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbYTJdXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqXG4gICAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfFRpbWVyUGFyYW1zfSBhMVxuICAgKiBAcGFyYW0ge0FuaW1hdGlvblBhcmFtc3xUaW1lUG9zaXRpb259IGEyXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbYTNdXG4gICAqL1xuICBhZGQoYTEsIGEyLCBhMykge1xuICAgIGNvbnN0IGlzQW5pbSA9IGlzT2JqKGEyKTtcbiAgICBjb25zdCBpc1RpbWVyID0gaXNPYmooYTEpO1xuICAgIGlmIChpc0FuaW0gfHwgaXNUaW1lcikge1xuICAgICAgdGhpcy5faGFzQ2hpbGRyZW4gPSB0cnVlO1xuICAgICAgaWYgKGlzQW5pbSkge1xuICAgICAgICBjb25zdCBjaGlsZFBhcmFtcyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uUGFyYW1zfSAqLyhhMik7XG4gICAgICAgIC8vIENoZWNrIGZvciBmdW5jdGlvbiBmb3IgY2hpbGRyZW4gc3RhZ2dlciBwb3NpdGlvbnNcbiAgICAgICAgaWYgKGlzRm5jKGEzKSkge1xuICAgICAgICAgIGNvbnN0IHN0YWdnZXJlZFBvc2l0aW9uID0gLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8oYTMpO1xuICAgICAgICAgIGNvbnN0IHBhcnNlZFRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cygvKiogQHR5cGUge1RhcmdldHNQYXJhbX0gKi8oYTEpKTtcbiAgICAgICAgICAvLyBTdG9yZSBpbml0aWFsIGR1cmF0aW9uIGJlZm9yZSBhZGRpbmcgbmV3IGNoaWxkcmVuIHRoYXQgd2lsbCBjaGFuZ2UgdGhlIGR1cmF0aW9uXG4gICAgICAgICAgY29uc3QgdGxEdXJhdGlvbiA9IHRoaXMuZHVyYXRpb247XG4gICAgICAgICAgLy8gU3RvcmUgaW5pdGlhbCBfaXRlcmF0aW9uRHVyYXRpb24gYmVmb3JlIGFkZGluZyBuZXcgY2hpbGRyZW4gdGhhdCB3aWxsIGNoYW5nZSB0aGUgZHVyYXRpb25cbiAgICAgICAgICBjb25zdCB0bEl0ZXJhdGlvbkR1cmF0aW9uID0gdGhpcy5pdGVyYXRpb25EdXJhdGlvbjtcbiAgICAgICAgICAvLyBTdG9yZSB0aGUgb3JpZ2luYWwgaWQgaW4gb3JkZXIgdG8gYWRkIHNwZWNpZmljIGluZGV4ZXMgdG8gdGhlIG5ldyBhbmltYXRpb25zIGlkc1xuICAgICAgICAgIGNvbnN0IGlkID0gY2hpbGRQYXJhbXMuaWQ7XG4gICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgIGNvbnN0IHBhcnNlZExlbmd0aCA9IHBhcnNlZFRhcmdldHNBcnJheS5sZW5ndGg7XG4gICAgICAgICAgcGFyc2VkVGFyZ2V0c0FycmF5LmZvckVhY2goKC8qKiBAdHlwZSB7VGFyZ2V0fSAqL3RhcmdldCkgPT4ge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhcmFtZXRlciBvYmplY3QgZm9yIGVhY2ggc3RhZ2dlcmVkIGNoaWxkcmVuXG4gICAgICAgICAgICBjb25zdCBzdGFnZ2VyZWRDaGlsZFBhcmFtcyA9IHsgLi4uY2hpbGRQYXJhbXMgfTtcbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgdGltZWxpbmUgaXRlcmF0aW9uIGJlZm9yZSBlYWNoIHN0YWdnZXIgdG8gcHJldmVudCB3cm9uZyBzdGFydCB2YWx1ZSBjYWxjdWxhdGlvblxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IHRsRHVyYXRpb247XG4gICAgICAgICAgICB0aGlzLml0ZXJhdGlvbkR1cmF0aW9uID0gdGxJdGVyYXRpb25EdXJhdGlvbjtcbiAgICAgICAgICAgIGlmICghaXNVbmQoaWQpKSBzdGFnZ2VyZWRDaGlsZFBhcmFtcy5pZCA9IGlkICsgJy0nICsgaTtcbiAgICAgICAgICAgIGFkZFRsQ2hpbGQoXG4gICAgICAgICAgICAgIHN0YWdnZXJlZENoaWxkUGFyYW1zLFxuICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICBzdGFnZ2VyZWRQb3NpdGlvbih0YXJnZXQsIGksIHBhcnNlZExlbmd0aCwgdGhpcyksXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgcGFyc2VkTGVuZ3RoXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZFRsQ2hpbGQoXG4gICAgICAgICAgICBjaGlsZFBhcmFtcyxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBwYXJzZVRpbWVsaW5lUG9zaXRpb24odGhpcywgYTMpLFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtUYXJnZXRzUGFyYW19ICovKGExKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJdCdzIGEgVGltZXJcbiAgICAgICAgYWRkVGxDaGlsZChcbiAgICAgICAgICAvKiogQHR5cGUgVGltZXJQYXJhbXMgKi8oYTEpLFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgcGFyc2VUaW1lbGluZVBvc2l0aW9uKHRoaXMsLyoqIEB0eXBlIFRpbWVQb3NpdGlvbiAqLyhhMikpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaW5pdCgxKTsgLy8gMSA9IGludGVybmFsUmVuZGVyXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge1RpY2thYmxlfSBbc3luY2VkXVxuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW3Bvc2l0aW9uXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtnbG9iYWxUaGlzLkFuaW1hdGlvbn0gW3N5bmNlZF1cbiAgICogQHBhcmFtIHtUaW1lUG9zaXRpb259IFtwb3NpdGlvbl1cbiAgICogQHJldHVybiB7dGhpc31cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7V0FBUElBbmltYXRpb259IFtzeW5jZWRdXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbcG9zaXRpb25dXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqXG4gICAqIEBwYXJhbSB7VGlja2FibGV8V0FBUElBbmltYXRpb258Z2xvYmFsVGhpcy5BbmltYXRpb259IFtzeW5jZWRdXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbcG9zaXRpb25dXG4gICAqL1xuICBzeW5jKHN5bmNlZCwgcG9zaXRpb24pIHtcbiAgICBpZiAoaXNVbmQoc3luY2VkKSB8fCBzeW5jZWQgJiYgaXNVbmQoc3luY2VkLnBhdXNlKSkgcmV0dXJuIHRoaXM7XG4gICAgc3luY2VkLnBhdXNlKCk7XG4gICAgY29uc3QgZHVyYXRpb24gPSArKC8qKiBAdHlwZSB7Z2xvYmFsVGhpcy5BbmltYXRpb259ICovKHN5bmNlZCkuZWZmZWN0ID8gLyoqIEB0eXBlIHtnbG9iYWxUaGlzLkFuaW1hdGlvbn0gKi8oc3luY2VkKS5lZmZlY3QuZ2V0VGltaW5nKCkuZHVyYXRpb24gOiAvKiogQHR5cGUge1RpY2thYmxlfSAqLyhzeW5jZWQpLmR1cmF0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5hZGQoc3luY2VkLCB7IGN1cnJlbnRUaW1lOiBbMCwgZHVyYXRpb25dLCBkdXJhdGlvbiwgZWFzZTogJ2xpbmVhcicgfSwgcG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICAgKiBAcGFyYW0gIHtBbmltYXRpb25QYXJhbXN9IHBhcmFtZXRlcnNcbiAgICogQHBhcmFtICB7VGltZVBvc2l0aW9ufSBbcG9zaXRpb25dXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBzZXQodGFyZ2V0cywgcGFyYW1ldGVycywgcG9zaXRpb24pIHtcbiAgICBpZiAoaXNVbmQocGFyYW1ldGVycykpIHJldHVybiB0aGlzO1xuICAgIHBhcmFtZXRlcnMuZHVyYXRpb24gPSBtaW5WYWx1ZTtcbiAgICBwYXJhbWV0ZXJzLmNvbXBvc2l0aW9uID0gY29tcG9zaXRpb25UeXBlcy5yZXBsYWNlO1xuICAgIHJldHVybiB0aGlzLmFkZCh0YXJnZXRzLCBwYXJhbWV0ZXJzLCBwb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYWxsYmFjazxUaW1lcj59IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbcG9zaXRpb25dXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBjYWxsKGNhbGxiYWNrLCBwb3NpdGlvbikge1xuICAgIGlmIChpc1VuZChjYWxsYmFjaykgfHwgY2FsbGJhY2sgJiYgIWlzRm5jKGNhbGxiYWNrKSkgcmV0dXJuIHRoaXM7XG4gICAgcmV0dXJuIHRoaXMuYWRkKHsgZHVyYXRpb246IDAsIG9uQ29tcGxldGU6ICgpID0+IGNhbGxiYWNrKHRoaXMpIH0sIHBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbGFiZWxOYW1lXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbcG9zaXRpb25dXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqXG4gICAqL1xuICBsYWJlbChsYWJlbE5hbWUsIHBvc2l0aW9uKSB7XG4gICAgaWYgKGlzVW5kKGxhYmVsTmFtZSkgfHwgbGFiZWxOYW1lICYmICFpc1N0cihsYWJlbE5hbWUpKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmxhYmVsc1tsYWJlbE5hbWVdID0gcGFyc2VUaW1lbGluZVBvc2l0aW9uKHRoaXMsLyoqIEB0eXBlIFRpbWVQb3NpdGlvbiAqLyhwb3NpdGlvbikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IFtwcm9wZXJ0eU5hbWVdXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICByZW1vdmUodGFyZ2V0cywgcHJvcGVydHlOYW1lKSB7XG4gICAgcmVtb3ZlKHRhcmdldHMsIHRoaXMsIHByb3BlcnR5TmFtZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSBuZXdEdXJhdGlvblxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgc3RyZXRjaChuZXdEdXJhdGlvbikge1xuICAgIGNvbnN0IGN1cnJlbnREdXJhdGlvbiA9IHRoaXMuZHVyYXRpb247XG4gICAgaWYgKGN1cnJlbnREdXJhdGlvbiA9PT0gY2xhbXBaZXJvKG5ld0R1cmF0aW9uKSkgcmV0dXJuIHRoaXM7XG4gICAgY29uc3QgdGltZVNjYWxlID0gbmV3RHVyYXRpb24gLyBjdXJyZW50RHVyYXRpb247XG4gICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL2NoaWxkKSA9PiB7XG4gICAgICBjaGlsZC5zdHJldGNoKGNoaWxkLmR1cmF0aW9uICogdGltZVNjYWxlKTtcbiAgICB9KTtcbiAgICBmb3IgKGxldCBsYWJlbE5hbWUgaW4gbGFiZWxzKSB7XG4gICAgICBsYWJlbHNbbGFiZWxOYW1lXSAqPSB0aW1lU2NhbGU7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5zdHJldGNoKG5ld0R1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovY2hpbGQpID0+IHtcbiAgICAgIGlmIChjaGlsZC5yZWZyZXNoKSBjaGlsZC5yZWZyZXNoKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHJldmVydCgpIHtcbiAgICBzdXBlci5yZXZlcnQoKTtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovY2hpbGQpID0+IGNoaWxkLnJldmVydCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGNsZWFuSW5saW5lU3R5bGVzKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge0NhbGxiYWNrPHRoaXM+fSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICB0aGVuKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1cGVyLnRoZW4oY2FsbGJhY2spO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtUaW1lbGluZVBhcmFtc30gW3BhcmFtZXRlcnNdXG4gKiBAcmV0dXJuIHtUaW1lbGluZX1cbiAqL1xuY29uc3QgY3JlYXRlVGltZWxpbmUgPSBwYXJhbWV0ZXJzID0+IG5ldyBUaW1lbGluZShwYXJhbWV0ZXJzKS5pbml0KCk7XG5cblxuXG5cbmNsYXNzIEFuaW1hdGFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAgICogQHBhcmFtIHtBbmltYXRhYmxlUGFyYW1zfSBwYXJhbWV0ZXJzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0YXJnZXRzLCBwYXJhbWV0ZXJzKSB7XG4gICAgaWYgKGdsb2JhbHMuc2NvcGUpIGdsb2JhbHMuc2NvcGUucmV2ZXJ0aWJsZXMucHVzaCh0aGlzKTtcbiAgICAvKiogQHR5cGUge0FuaW1hdGlvblBhcmFtc30gKi9cbiAgICBjb25zdCBnbG9iYWxQYXJhbXMgPSB7fTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgdGhpcy50YXJnZXRzID0gW107XG4gICAgdGhpcy5hbmltYXRpb25zID0ge307XG4gICAgaWYgKGlzVW5kKHRhcmdldHMpIHx8IGlzVW5kKHBhcmFtZXRlcnMpKSByZXR1cm47XG4gICAgZm9yIChsZXQgcHJvcE5hbWUgaW4gcGFyYW1ldGVycykge1xuICAgICAgY29uc3QgcGFyYW1WYWx1ZSA9IHBhcmFtZXRlcnNbcHJvcE5hbWVdO1xuICAgICAgaWYgKGlzS2V5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IHBhcmFtVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbG9iYWxQYXJhbXNbcHJvcE5hbWVdID0gcGFyYW1WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgcHJvcE5hbWUgaW4gcHJvcGVydGllcykge1xuICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICBjb25zdCBpc09ialZhbHVlID0gaXNPYmoocHJvcFZhbHVlKTtcbiAgICAgIC8qKiBAdHlwZSB7VHdlZW5QYXJhbXNPcHRpb25zfSAqL1xuICAgICAgbGV0IHByb3BQYXJhbXMgPSB7fTtcbiAgICAgIGxldCB0byA9ICcrPTAnO1xuICAgICAgaWYgKGlzT2JqVmFsdWUpIHtcbiAgICAgICAgY29uc3QgdW5pdCA9IHByb3BWYWx1ZS51bml0O1xuICAgICAgICBpZiAoaXNTdHIodW5pdCkpIHRvICs9IHVuaXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wUGFyYW1zLmR1cmF0aW9uID0gcHJvcFZhbHVlO1xuICAgICAgfVxuICAgICAgcHJvcFBhcmFtc1twcm9wTmFtZV0gPSBpc09ialZhbHVlID8gbWVyZ2VPYmplY3RzKHsgdG8gfSwgcHJvcFZhbHVlKSA6IHRvO1xuICAgICAgY29uc3QgYW5pbVBhcmFtcyA9IG1lcmdlT2JqZWN0cyhnbG9iYWxQYXJhbXMsIHByb3BQYXJhbXMpO1xuICAgICAgYW5pbVBhcmFtcy5jb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uVHlwZXMucmVwbGFjZTtcbiAgICAgIGFuaW1QYXJhbXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1twcm9wTmFtZV0gPSBuZXcgSlNBbmltYXRpb24odGFyZ2V0cywgYW5pbVBhcmFtcywgbnVsbCwgMCwgZmFsc2UpLmluaXQoKTtcbiAgICAgIGlmICghdGhpcy50YXJnZXRzLmxlbmd0aCkgdGhpcy50YXJnZXRzLnB1c2goLi4uYW5pbWF0aW9uLnRhcmdldHMpO1xuICAgICAgLyoqIEB0eXBlIHtBbmltYXRhYmxlUHJvcGVydHl9ICovXG4gICAgICB0aGlzW3Byb3BOYW1lXSA9ICh0bywgZHVyYXRpb24sIGVhc2UpID0+IHtcbiAgICAgICAgY29uc3QgdHdlZW4gPSAvKiogQHR5cGUge1R3ZWVufSAqLyhhbmltYXRpb24uX2hlYWQpO1xuICAgICAgICBpZiAoaXNVbmQodG8pICYmIHR3ZWVuKSB7XG4gICAgICAgICAgY29uc3QgbnVtYmVycyA9IHR3ZWVuLl9udW1iZXJzO1xuICAgICAgICAgIGlmIChudW1iZXJzICYmIG51bWJlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVycztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHR3ZWVuLl9tb2RpZmllcih0d2Vlbi5fbnVtYmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yRWFjaENoaWxkcmVuKGFuaW1hdGlvbiwgKC8qKiBAdHlwZSB7VHdlZW59ICovdHdlZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Fycih0bykpIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSAvKiogQHR5cGUge0FycmF5fSAqLyh0bykubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1VuZCh0d2Vlbi5fbnVtYmVyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgIHR3ZWVuLl9mcm9tTnVtYmVyc1tpXSA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbi5fbW9kaWZpZXIodHdlZW4uX251bWJlcnNbaV0pKTtcbiAgICAgICAgICAgICAgICAgIHR3ZWVuLl90b051bWJlcnNbaV0gPSB0b1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHR3ZWVuLl9mcm9tTnVtYmVyID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHR3ZWVuLl9tb2RpZmllcih0d2Vlbi5fbnVtYmVyKSk7XG4gICAgICAgICAgICAgIHR3ZWVuLl90b051bWJlciA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVW5kKGVhc2UpKSB0d2Vlbi5fZWFzZSA9IHBhcnNlRWFzaW5ncyhlYXNlKTtcbiAgICAgICAgICAgIHR3ZWVuLl9jdXJyZW50VGltZSA9IDA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFpc1VuZChkdXJhdGlvbikpIGFuaW1hdGlvbi5zdHJldGNoKGR1cmF0aW9uKTtcbiAgICAgICAgICBhbmltYXRpb24ucmVzZXQoMSkucmVzdW1lKCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV2ZXJ0KCkge1xuICAgIGZvciAobGV0IHByb3BOYW1lIGluIHRoaXMuYW5pbWF0aW9ucykge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub29wO1xuICAgICAgdGhpcy5hbmltYXRpb25zW3Byb3BOYW1lXS5yZXZlcnQoKTtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb25zID0ge307XG4gICAgdGhpcy50YXJnZXRzLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHBhcmFtIHtBbmltYXRhYmxlUGFyYW1zfSBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJuIHtBbmltYXRhYmxlT2JqZWN0fVxuICovXG5jb25zdCBjcmVhdGVBbmltYXRhYmxlID0gKHRhcmdldHMsIHBhcmFtZXRlcnMpID0+IC8qKiBAdHlwZSB7QW5pbWF0YWJsZU9iamVjdH0gKi8obmV3IEFuaW1hdGFibGUodGFyZ2V0cywgcGFyYW1ldGVycykpO1xuXG5cblxuXG4vKlxuICogU3ByaW5nIGVhc2Ugc29sdmVyIGFkYXB0ZWQgZnJvbSBodHRwczovL3dlYmtpdC5vcmcvZGVtb3Mvc3ByaW5nL3NwcmluZy5qc1xuICogV2Via2l0IENvcHlyaWdodCBcdTAwQTkgMjAxNiBBcHBsZSBJbmNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNwcmluZ1BhcmFtc1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IFttYXNzPTFdIC0gTWFzcywgZGVmYXVsdCAxXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3N0aWZmbmVzcz0xMDBdIC0gU3RpZmZuZXNzLCBkZWZhdWx0IDEwMFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtkYW1waW5nPTEwXSAtIERhbXBpbmcsIGRlZmF1bHQgMTBcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdmVsb2NpdHk9MF0gLSBJbml0aWFsIHZlbG9jaXR5LCBkZWZhdWx0IDBcbiAqL1xuXG5jbGFzcyBTcHJpbmcge1xuICAvKipcbiAgICogQHBhcmFtIHtTcHJpbmdQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHt9KSB7XG4gICAgdGhpcy50aW1lU3RlcCA9IC4wMjsgLy8gSW50ZXJ2YWwgZmVkIHRvIHRoZSBzb2x2ZXIgdG8gY2FsY3VsYXRlIGR1cmF0aW9uXG4gICAgdGhpcy5yZXN0VGhyZXNob2xkID0gLjAwMDU7IC8vIFZhbHVlcyBiZWxvdyB0aGlzIHRocmVzaG9sZCBhcmUgY29uc2lkZXJlZCByZXN0aW5nIHBvc2l0aW9uXG4gICAgdGhpcy5yZXN0RHVyYXRpb24gPSAyMDA7IC8vIER1cmF0aW9uIGluIG1zIHVzZWQgdG8gY2hlY2sgaWYgdGhlIHNwcmluZyBpcyByZXN0aW5nIGFmdGVyIHJlYWNoaW5nIHJlc3RUaHJlc2hvbGRcbiAgICB0aGlzLm1heER1cmF0aW9uID0gNjAwMDA7IC8vIFRoZSBtYXhpbXVtIGFsbG93ZWQgc3ByaW5nIGR1cmF0aW9uIGluIG1zIChkZWZhdWx0IDEgbWluKVxuICAgIHRoaXMubWF4UmVzdFN0ZXBzID0gdGhpcy5yZXN0RHVyYXRpb24gLyB0aGlzLnRpbWVTdGVwIC8gSzsgLy8gSG93IG1hbnkgc3RlcHMgYWxsb3dlZCBhZnRlciByZWFjaGluZyByZXN0VGhyZXNob2xkIGJlZm9yZSBzdG9wcGluZyB0aGUgZHVyYXRpb24gY2FsY3VsYXRpb25cbiAgICB0aGlzLm1heEl0ZXJhdGlvbnMgPSB0aGlzLm1heER1cmF0aW9uIC8gdGhpcy50aW1lU3RlcCAvIEs7IC8vIENhbGN1bGF0ZSB0aGUgbWF4aW11bSBpdGVyYXRpb25zIGFsbG93ZWQgYmFzZWQgb24gbWF4RHVyYXRpb25cbiAgICB0aGlzLm0gPSBjbGFtcChzZXRWYWx1ZShwYXJhbWV0ZXJzLm1hc3MsIDEpLCAwLCBLKTtcbiAgICB0aGlzLnMgPSBjbGFtcChzZXRWYWx1ZShwYXJhbWV0ZXJzLnN0aWZmbmVzcywgMTAwKSwgMSwgSyk7XG4gICAgdGhpcy5kID0gY2xhbXAoc2V0VmFsdWUocGFyYW1ldGVycy5kYW1waW5nLCAxMCksIC4xLCBLKTtcbiAgICB0aGlzLnYgPSBjbGFtcChzZXRWYWx1ZShwYXJhbWV0ZXJzLnZlbG9jaXR5LCAwKSwgLTFlMywgSyk7XG4gICAgdGhpcy53MCA9IDA7XG4gICAgdGhpcy56ZXRhID0gMDtcbiAgICB0aGlzLndkID0gMDtcbiAgICB0aGlzLmIgPSAwO1xuICAgIHRoaXMuc29sdmVyRHVyYXRpb24gPSAwO1xuICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovXG4gICAgdGhpcy5lYXNlID0gdCA9PiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogdGhpcy5zb2x2ZSh0ICogdGhpcy5zb2x2ZXJEdXJhdGlvbik7XG4gIH1cblxuICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICBzb2x2ZSh0aW1lKSB7XG4gICAgY29uc3QgeyB6ZXRhLCB3MCwgd2QsIGIgfSA9IHRoaXM7XG4gICAgbGV0IHQgPSB0aW1lO1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgdCA9IGV4cCgtdCAqIHpldGEgKiB3MCkgKiAoMSAqIGNvcyh3ZCAqIHQpICsgYiAqIHNpbih3ZCAqIHQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdCA9ICgxICsgYiAqIHQpICogZXhwKC10ICogdzApO1xuICAgIH1cbiAgICByZXR1cm4gMSAtIHQ7XG4gIH1cblxuICBjb21wdXRlKCkge1xuICAgIGNvbnN0IHsgbWF4UmVzdFN0ZXBzLCBtYXhJdGVyYXRpb25zLCByZXN0VGhyZXNob2xkLCB0aW1lU3RlcCwgbSwgZCwgcywgdiB9ID0gdGhpcztcbiAgICBjb25zdCB3MCA9IHRoaXMudzAgPSBjbGFtcChzcXJ0KHMgLyBtKSwgbWluVmFsdWUsIEspO1xuICAgIGNvbnN0IHpldGEgPSB0aGlzLnpldGEgPSBkIC8gKDIgKiBzcXJ0KHMgKiBtKSk7XG4gICAgY29uc3Qgd2QgPSB0aGlzLndkID0gemV0YSA8IDEgPyB3MCAqIHNxcnQoMSAtIHpldGEgKiB6ZXRhKSA6IDA7XG4gICAgdGhpcy5iID0gemV0YSA8IDEgPyAoemV0YSAqIHcwICsgLXYpIC8gd2QgOiAtdiArIHcwO1xuICAgIGxldCBzb2x2ZXJUaW1lID0gMDtcbiAgICBsZXQgcmVzdFN0ZXBzID0gMDtcbiAgICBsZXQgaXRlcmF0aW9ucyA9IDA7XG4gICAgd2hpbGUgKHJlc3RTdGVwcyA8IG1heFJlc3RTdGVwcyAmJiBpdGVyYXRpb25zIDwgbWF4SXRlcmF0aW9ucykge1xuICAgICAgaWYgKGFicygxIC0gdGhpcy5zb2x2ZShzb2x2ZXJUaW1lKSkgPCByZXN0VGhyZXNob2xkKSB7XG4gICAgICAgIHJlc3RTdGVwcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdFN0ZXBzID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29sdmVyRHVyYXRpb24gPSBzb2x2ZXJUaW1lO1xuICAgICAgc29sdmVyVGltZSArPSB0aW1lU3RlcDtcbiAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICB9XG4gICAgdGhpcy5kdXJhdGlvbiA9IHJvdW5kKHRoaXMuc29sdmVyRHVyYXRpb24gKiBLLCAwKSAqIGdsb2JhbHMudGltZVNjYWxlO1xuICB9XG5cbiAgZ2V0IG1hc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMubTtcbiAgfVxuXG4gIHNldCBtYXNzKHYpIHtcbiAgICB0aGlzLm0gPSBjbGFtcChzZXRWYWx1ZSh2LCAxKSwgMCwgSyk7XG4gICAgdGhpcy5jb21wdXRlKCk7XG4gIH1cblxuICBnZXQgc3RpZmZuZXNzKCkge1xuICAgIHJldHVybiB0aGlzLnM7XG4gIH1cblxuICBzZXQgc3RpZmZuZXNzKHYpIHtcbiAgICB0aGlzLnMgPSBjbGFtcChzZXRWYWx1ZSh2LCAxMDApLCAxLCBLKTtcbiAgICB0aGlzLmNvbXB1dGUoKTtcbiAgfVxuXG4gIGdldCBkYW1waW5nKCkge1xuICAgIHJldHVybiB0aGlzLmQ7XG4gIH1cblxuICBzZXQgZGFtcGluZyh2KSB7XG4gICAgdGhpcy5kID0gY2xhbXAoc2V0VmFsdWUodiwgMTApLCAuMSwgSyk7XG4gICAgdGhpcy5jb21wdXRlKCk7XG4gIH1cblxuICBnZXQgdmVsb2NpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMudjtcbiAgfVxuXG4gIHNldCB2ZWxvY2l0eSh2KSB7XG4gICAgdGhpcy52ID0gY2xhbXAoc2V0VmFsdWUodiwgMCksIC0xZTMsIEspO1xuICAgIHRoaXMuY29tcHV0ZSgpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtTcHJpbmdQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICogQHJldHVybnMge1NwcmluZ31cbiAqL1xuY29uc3QgY3JlYXRlU3ByaW5nID0gKHBhcmFtZXRlcnMpID0+IG5ldyBTcHJpbmcocGFyYW1ldGVycyk7XG5cblxuXG5cbi8qKlxuICogQHBhcmFtIHtFdmVudH0gZVxuICovXG5jb25zdCBwcmV2ZW50RGVmYXVsdCA9IGUgPT4ge1xuICBpZiAoZS5jYW5jZWxhYmxlKSBlLnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG5jbGFzcyBET01Qcm94eSB7XG4gIC8qKiBAcGFyYW0ge09iamVjdH0gZWwgKi9cbiAgY29uc3RydWN0b3IoZWwpIHtcbiAgICB0aGlzLmVsID0gZWw7XG4gICAgdGhpcy56SW5kZXggPSAwO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5jbGFzc0xpc3QgPSB7XG4gICAgICBhZGQ6IG5vb3AsXG4gICAgICByZW1vdmU6IG5vb3AsXG4gICAgfTtcbiAgfVxuXG4gIGdldCB4KCkgeyByZXR1cm4gdGhpcy5lbC54IHx8IDAgfTtcbiAgc2V0IHgodikgeyB0aGlzLmVsLnggPSB2OyB9O1xuXG4gIGdldCB5KCkgeyByZXR1cm4gdGhpcy5lbC55IHx8IDAgfTtcbiAgc2V0IHkodikgeyB0aGlzLmVsLnkgPSB2OyB9O1xuXG4gIGdldCB3aWR0aCgpIHsgcmV0dXJuIHRoaXMuZWwud2lkdGggfHwgMCB9O1xuICBzZXQgd2lkdGgodikgeyB0aGlzLmVsLndpZHRoID0gdjsgfTtcblxuICBnZXQgaGVpZ2h0KCkgeyByZXR1cm4gdGhpcy5lbC5oZWlnaHQgfHwgMCB9O1xuICBzZXQgaGVpZ2h0KHYpIHsgdGhpcy5lbC5oZWlnaHQgPSB2OyB9O1xuXG4gIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB0aGlzLnksXG4gICAgICByaWdodDogdGhpcy54LFxuICAgICAgYm90dG9tOiB0aGlzLnkgKyB0aGlzLmhlaWdodCxcbiAgICAgIGxlZnQ6IHRoaXMueCArIHRoaXMud2lkdGgsXG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFRyYW5zZm9ybXMge1xuICAvKipcbiAgICogQHBhcmFtIHtET01UYXJnZXR8RE9NUHJveHl9ICRlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoJGVsKSB7XG4gICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgdGhpcy5pbmxpbmVUcmFuc2Zvcm1zID0gW107XG4gICAgdGhpcy5wb2ludCA9IG5ldyBET01Qb2ludCgpO1xuICAgIHRoaXMuaW52ZXJzZWRNYXRyaXggPSB0aGlzLmdldE1hdHJpeCgpLmludmVyc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgKiBAcmV0dXJuIHtET01Qb2ludH1cbiAgICovXG4gIG5vcm1hbGl6ZVBvaW50KHgsIHkpIHtcbiAgICB0aGlzLnBvaW50LnggPSB4O1xuICAgIHRoaXMucG9pbnQueSA9IHk7XG4gICAgcmV0dXJuIHRoaXMucG9pbnQubWF0cml4VHJhbnNmb3JtKHRoaXMuaW52ZXJzZWRNYXRyaXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBUcmF2ZXJzZVBhcmVudHNDYWxsYmFja1xuICAgKiBAcGFyYW0ge0RPTVRhcmdldH0gJGVsXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYXZlcnNlUGFyZW50c0NhbGxiYWNrfSBjYlxuICAgKi9cbiAgdHJhdmVyc2VVcChjYikge1xuICAgIGxldCAkZWwgPSAvKiogQHR5cGUge0RPTVRhcmdldHxEb2N1bWVudH0gKi8odGhpcy4kZWwucGFyZW50RWxlbWVudCksIGkgPSAwO1xuICAgIHdoaWxlICgkZWwgJiYgJGVsICE9PSBkb2MpIHtcbiAgICAgIGNiKC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLygkZWwpLCBpKTtcbiAgICAgICRlbCA9IC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLygkZWwucGFyZW50RWxlbWVudCk7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWF0cml4KCkge1xuICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBET01NYXRyaXgoKTtcbiAgICB0aGlzLnRyYXZlcnNlVXAoJGVsID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybVZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZSgkZWwpLnRyYW5zZm9ybTtcbiAgICAgIGlmICh0cmFuc2Zvcm1WYWx1ZSkge1xuICAgICAgICBjb25zdCBlbE1hdHJpeCA9IG5ldyBET01NYXRyaXgodHJhbnNmb3JtVmFsdWUpO1xuICAgICAgICBtYXRyaXgucHJlTXVsdGlwbHlTZWxmKGVsTWF0cml4KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudHJhdmVyc2VVcCgoJGVsLCBpKSA9PiB7XG4gICAgICB0aGlzLmlubGluZVRyYW5zZm9ybXNbaV0gPSAkZWwuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgJGVsLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICB9KTtcbiAgfVxuXG4gIHJldmVydCgpIHtcbiAgICB0aGlzLnRyYXZlcnNlVXAoKCRlbCwgaSkgPT4ge1xuICAgICAgY29uc3QgY3QgPSB0aGlzLmlubGluZVRyYW5zZm9ybXNbaV07XG4gICAgICBpZiAoY3QgPT09ICcnKSB7XG4gICAgICAgICRlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNmb3JtJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWwuc3R5bGUudHJhbnNmb3JtID0gY3Q7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEcmFnZ2FibGVDdXJzb3JQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbb25Ib3Zlcl1cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbb25HcmFiXVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtBcnJheTxOdW1iZXI+fERPTVRhcmdldFNlbGVjdG9yfFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbnxGdW5jdGlvbnxEcmFnZ2FibGVDdXJzb3JQYXJhbXN9IFRcbiAqIEBwYXJhbSB7VCB8ICgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IFQpfSB2YWx1ZVxuICogQHBhcmFtIHtEcmFnZ2FibGV9IGRyYWdnYWJsZVxuICogQHJldHVybiB7VH1cbiAqL1xuY29uc3QgcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlciA9ICh2YWx1ZSwgZHJhZ2dhYmxlKSA9PiB2YWx1ZSAmJiBpc0ZuYyh2YWx1ZSkgPyAvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyh2YWx1ZSkoZHJhZ2dhYmxlKSA6IHZhbHVlO1xuXG5sZXQgekluZGV4ID0gMDtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEcmFnZ2FibGVBeGlzUGFyYW1cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbbWFwVG9dXG4gKiBAcHJvcGVydHkge1R3ZWVuTW9kaWZpZXJ9IFttb2RpZmllcl1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5Db21wb3NpdGlvbn0gW2NvbXBvc2l0aW9uXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8QXJyYXk8TnVtYmVyPnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXJ8QXJyYXk8TnVtYmVyPil9IFtzbmFwXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRHJhZ2dhYmxlUGFyYW1zXG4gKiBAcHJvcGVydHkge0RPTVRhcmdldFNlbGVjdG9yfSBbdHJpZ2dlcl1cbiAqIEBwcm9wZXJ0eSB7RE9NVGFyZ2V0U2VsZWN0b3J8QXJyYXk8TnVtYmVyPnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBET01UYXJnZXRTZWxlY3RvcnxBcnJheTxOdW1iZXI+KX0gW2NvbnRhaW5lcl1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxEcmFnZ2FibGVBeGlzUGFyYW19IFt4XVxuICogQHByb3BlcnR5IHtCb29sZWFufERyYWdnYWJsZUF4aXNQYXJhbX0gW3ldXG4gKiBAcHJvcGVydHkge1R3ZWVuTW9kaWZpZXJ9IFttb2RpZmllcl1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfEFycmF5PE51bWJlcj58KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gTnVtYmVyfEFycmF5PE51bWJlcj4pfSBbc25hcF1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfEFycmF5PE51bWJlcj58KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gTnVtYmVyfEFycmF5PE51bWJlcj4pfSBbY29udGFpbmVyUGFkZGluZ11cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFtjb250YWluZXJGcmljdGlvbl1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFtyZWxlYXNlQ29udGFpbmVyRnJpY3Rpb25dXG4gKiBAcHJvcGVydHkge051bWJlcnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXIpfSBbZHJhZ1NwZWVkXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gTnVtYmVyKX0gW3Njcm9sbFNwZWVkXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gTnVtYmVyKX0gW3Njcm9sbFRocmVzaG9sZF1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFttaW5WZWxvY2l0eV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFttYXhWZWxvY2l0eV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFt2ZWxvY2l0eU11bHRpcGxpZXJdXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3JlbGVhc2VNYXNzXVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtyZWxlYXNlU3RpZmZuZXNzXVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtyZWxlYXNlRGFtcGluZ11cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3JlbGVhc2VEYW1waW5nXVxuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW3JlbGVhc2VFYXNlXVxuICogQHByb3BlcnR5IHtCb29sZWFufERyYWdnYWJsZUN1cnNvclBhcmFtc3woKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBCb29sZWFufERyYWdnYWJsZUN1cnNvclBhcmFtcyl9IFtjdXJzb3JdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPERyYWdnYWJsZT59IFtvbkdyYWJdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPERyYWdnYWJsZT59IFtvbkRyYWddXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPERyYWdnYWJsZT59IFtvblJlbGVhc2VdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPERyYWdnYWJsZT59IFtvblVwZGF0ZV1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8RHJhZ2dhYmxlPn0gW29uU2V0dGxlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25TbmFwXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25SZXNpemVdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPERyYWdnYWJsZT59IFtvbkFmdGVyUmVzaXplXVxuICovXG5cbmNsYXNzIERyYWdnYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1RhcmdldHNQYXJhbX0gdGFyZ2V0XG4gICAqIEBwYXJhbSB7RHJhZ2dhYmxlUGFyYW1zfSBbcGFyYW1ldGVyc11cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgcGFyYW1ldGVycyA9IHt9KSB7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybjtcbiAgICBpZiAoZ2xvYmFscy5zY29wZSkgZ2xvYmFscy5zY29wZS5yZXZlcnRpYmxlcy5wdXNoKHRoaXMpO1xuICAgIGNvbnN0IHBhcmFtWCA9IHBhcmFtZXRlcnMueDtcbiAgICBjb25zdCBwYXJhbVkgPSBwYXJhbWV0ZXJzLnk7XG4gICAgY29uc3QgdHJpZ2dlciA9IHBhcmFtZXRlcnMudHJpZ2dlcjtcbiAgICBjb25zdCBtb2RpZmllciA9IHBhcmFtZXRlcnMubW9kaWZpZXI7XG4gICAgY29uc3QgZWFzZSA9IHBhcmFtZXRlcnMucmVsZWFzZUVhc2U7XG4gICAgY29uc3QgY3VzdG9tRWFzZSA9IGVhc2UgJiYgcGFyc2VFYXNpbmdzKGVhc2UpO1xuICAgIGNvbnN0IGhhc1NwcmluZyA9ICFpc1VuZChlYXNlKSAmJiAhaXNVbmQoLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmVhc2UpO1xuICAgIGNvbnN0IHhQcm9wID0gLyoqIEB0eXBlIHtTdHJpbmd9ICovKGlzT2JqKHBhcmFtWCkgJiYgIWlzVW5kKC8qKiBAdHlwZSB7T2JqZWN0fSAqLyhwYXJhbVgpLm1hcFRvKSA/IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyhwYXJhbVgpLm1hcFRvIDogJ3RyYW5zbGF0ZVgnKTtcbiAgICBjb25zdCB5UHJvcCA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhpc09iaihwYXJhbVkpICYmICFpc1VuZCgvKiogQHR5cGUge09iamVjdH0gKi8ocGFyYW1ZKS5tYXBUbykgPyAvKiogQHR5cGUge09iamVjdH0gKi8ocGFyYW1ZKS5tYXBUbyA6ICd0cmFuc2xhdGVZJyk7XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbWV0ZXJzLmNvbnRhaW5lciwgdGhpcyk7XG4gICAgdGhpcy5jb250YWluZXJBcnJheSA9IGlzQXJyKGNvbnRhaW5lcikgPyBjb250YWluZXIgOiBudWxsO1xuICAgIHRoaXMuJGNvbnRhaW5lciA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKGNvbnRhaW5lciAmJiAhdGhpcy5jb250YWluZXJBcnJheSA/IHBhcnNlVGFyZ2V0cygvKiogQHR5cGUge0RPTVRhcmdldH0gKi8oY29udGFpbmVyKSlbMF0gOiBkb2MuYm9keSk7XG4gICAgdGhpcy51c2VXaW4gPSB0aGlzLiRjb250YWluZXIgPT09IGRvYy5ib2R5O1xuICAgIC8qKiBAdHlwZSB7V2luZG93IHwgSFRNTEVsZW1lbnR9ICovXG4gICAgdGhpcy4kc2Nyb2xsQ29udGFpbmVyID0gdGhpcy51c2VXaW4gPyB3aW4gOiB0aGlzLiRjb250YWluZXI7XG4gICAgdGhpcy4kdGFyZ2V0ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8oaXNPYmoodGFyZ2V0KSA/IG5ldyBET01Qcm94eSh0YXJnZXQpIDogcGFyc2VUYXJnZXRzKHRhcmdldClbMF0pO1xuICAgIHRoaXMuJHRyaWdnZXIgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhwYXJzZVRhcmdldHModHJpZ2dlciA/IHRyaWdnZXIgOiB0YXJnZXQpWzBdKTtcbiAgICB0aGlzLmZpeGVkID0gZ2V0VGFyZ2V0VmFsdWUodGhpcy4kdGFyZ2V0LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJztcbiAgICAvLyBSZWZyZXNoYWJsZSBwYXJhbWV0ZXJzXG4gICAgdGhpcy5pc0ZpbmVQb2ludGVyID0gdHJ1ZTtcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuY29udGFpbmVyUGFkZGluZyA9IFswLCAwLCAwLCAwXTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmNvbnRhaW5lckZyaWN0aW9uID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnJlbGVhc2VDb250YWluZXJGcmljdGlvbiA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ8QXJyYXk8TnVtYmVyPn0gKi9cbiAgICB0aGlzLnNuYXBYID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcnxBcnJheTxOdW1iZXI+fSAqL1xuICAgIHRoaXMuc25hcFkgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuc2Nyb2xsVGhyZXNob2xkID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmRyYWdTcGVlZCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5tYXhWZWxvY2l0eSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5taW5WZWxvY2l0eSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eU11bHRpcGxpZXIgPSAwO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbnxEcmFnZ2FibGVDdXJzb3JQYXJhbXN9ICovXG4gICAgdGhpcy5jdXJzb3IgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge1NwcmluZ30gKi9cbiAgICB0aGlzLnJlbGVhc2VYU3ByaW5nID0gaGFzU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpIDogY3JlYXRlU3ByaW5nKHtcbiAgICAgIG1hc3M6IHNldFZhbHVlKHBhcmFtZXRlcnMucmVsZWFzZU1hc3MsIDEpLFxuICAgICAgc3RpZmZuZXNzOiBzZXRWYWx1ZShwYXJhbWV0ZXJzLnJlbGVhc2VTdGlmZm5lc3MsIDgwKSxcbiAgICAgIGRhbXBpbmc6IHNldFZhbHVlKHBhcmFtZXRlcnMucmVsZWFzZURhbXBpbmcsIDIwKSxcbiAgICB9KTtcbiAgICAvKiogQHR5cGUge1NwcmluZ30gKi9cbiAgICB0aGlzLnJlbGVhc2VZU3ByaW5nID0gaGFzU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpIDogY3JlYXRlU3ByaW5nKHtcbiAgICAgIG1hc3M6IHNldFZhbHVlKHBhcmFtZXRlcnMucmVsZWFzZU1hc3MsIDEpLFxuICAgICAgc3RpZmZuZXNzOiBzZXRWYWx1ZShwYXJhbWV0ZXJzLnJlbGVhc2VTdGlmZm5lc3MsIDgwKSxcbiAgICAgIGRhbXBpbmc6IHNldFZhbHVlKHBhcmFtZXRlcnMucmVsZWFzZURhbXBpbmcsIDIwKSxcbiAgICB9KTtcbiAgICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICAgIHRoaXMucmVsZWFzZUVhc2UgPSBjdXN0b21FYXNlIHx8IGVhc2VzLm91dFF1aW50O1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmhhc1JlbGVhc2VTcHJpbmcgPSBoYXNTcHJpbmc7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uR3JhYiA9IHBhcmFtZXRlcnMub25HcmFiIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uRHJhZyA9IHBhcmFtZXRlcnMub25EcmFnIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uUmVsZWFzZSA9IHBhcmFtZXRlcnMub25SZWxlYXNlIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uVXBkYXRlID0gcGFyYW1ldGVycy5vblVwZGF0ZSB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vblNldHRsZSA9IHBhcmFtZXRlcnMub25TZXR0bGUgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25TbmFwID0gcGFyYW1ldGVycy5vblNuYXAgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25SZXNpemUgPSBwYXJhbWV0ZXJzLm9uUmVzaXplIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uQWZ0ZXJSZXNpemUgPSBwYXJhbWV0ZXJzLm9uQWZ0ZXJSZXNpemUgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy5kaXNhYmxlZCA9IFswLCAwXTtcbiAgICAvKiogQHR5cGUge0FuaW1hdGFibGVQYXJhbXN9ICovXG4gICAgY29uc3QgYW5pbWF0YWJsZVBhcmFtcyA9IHt9O1xuICAgIGlmIChtb2RpZmllcikgYW5pbWF0YWJsZVBhcmFtcy5tb2RpZmllciA9IG1vZGlmaWVyO1xuICAgIGlmIChpc1VuZChwYXJhbVgpIHx8IHBhcmFtWCA9PT0gdHJ1ZSkge1xuICAgICAgYW5pbWF0YWJsZVBhcmFtc1t4UHJvcF0gPSAwO1xuICAgIH0gZWxzZSBpZiAoaXNPYmoocGFyYW1YKSkge1xuICAgICAgY29uc3QgcGFyYW1YT2JqZWN0ID0gLyoqIEB0eXBlIHtEcmFnZ2FibGVBeGlzUGFyYW19ICovKHBhcmFtWCk7XG4gICAgICBjb25zdCBhbmltYXRhYmxlWFBhcmFtcyA9IHt9O1xuICAgICAgaWYgKHBhcmFtWE9iamVjdC5tb2RpZmllcikgYW5pbWF0YWJsZVhQYXJhbXMubW9kaWZpZXIgPSBwYXJhbVhPYmplY3QubW9kaWZpZXI7XG4gICAgICBpZiAocGFyYW1YT2JqZWN0LmNvbXBvc2l0aW9uKSBhbmltYXRhYmxlWFBhcmFtcy5jb21wb3NpdGlvbiA9IHBhcmFtWE9iamVjdC5jb21wb3NpdGlvbjtcbiAgICAgIGFuaW1hdGFibGVQYXJhbXNbeFByb3BdID0gYW5pbWF0YWJsZVhQYXJhbXM7XG4gICAgfSBlbHNlIGlmIChwYXJhbVggPT09IGZhbHNlKSB7XG4gICAgICBhbmltYXRhYmxlUGFyYW1zW3hQcm9wXSA9IDA7XG4gICAgICB0aGlzLmRpc2FibGVkWzBdID0gMTtcbiAgICB9XG4gICAgaWYgKGlzVW5kKHBhcmFtWSkgfHwgcGFyYW1ZID09PSB0cnVlKSB7XG4gICAgICBhbmltYXRhYmxlUGFyYW1zW3lQcm9wXSA9IDA7XG4gICAgfSBlbHNlIGlmIChpc09iaihwYXJhbVkpKSB7XG4gICAgICBjb25zdCBwYXJhbVlPYmplY3QgPSAvKiogQHR5cGUge0RyYWdnYWJsZUF4aXNQYXJhbX0gKi8ocGFyYW1ZKTtcbiAgICAgIGNvbnN0IGFuaW1hdGFibGVZUGFyYW1zID0ge307XG4gICAgICBpZiAocGFyYW1ZT2JqZWN0Lm1vZGlmaWVyKSBhbmltYXRhYmxlWVBhcmFtcy5tb2RpZmllciA9IHBhcmFtWU9iamVjdC5tb2RpZmllcjtcbiAgICAgIGlmIChwYXJhbVlPYmplY3QuY29tcG9zaXRpb24pIGFuaW1hdGFibGVZUGFyYW1zLmNvbXBvc2l0aW9uID0gcGFyYW1ZT2JqZWN0LmNvbXBvc2l0aW9uO1xuICAgICAgYW5pbWF0YWJsZVBhcmFtc1t5UHJvcF0gPSBhbmltYXRhYmxlWVBhcmFtcztcbiAgICB9IGVsc2UgaWYgKHBhcmFtWSA9PT0gZmFsc2UpIHtcbiAgICAgIGFuaW1hdGFibGVQYXJhbXNbeVByb3BdID0gMDtcbiAgICAgIHRoaXMuZGlzYWJsZWRbMV0gPSAxO1xuICAgIH1cbiAgICAvKiogQHR5cGUge0FuaW1hdGFibGVPYmplY3R9ICovXG4gICAgdGhpcy5hbmltYXRlID0gLyoqIEB0eXBlIHtBbmltYXRhYmxlT2JqZWN0fSAqLyhuZXcgQW5pbWF0YWJsZSh0aGlzLiR0YXJnZXQsIGFuaW1hdGFibGVQYXJhbXMpKTtcbiAgICAvLyBJbnRlcm5hbCBwcm9wc1xuICAgIHRoaXMueFByb3AgPSB4UHJvcDtcbiAgICB0aGlzLnlQcm9wID0geVByb3A7XG4gICAgdGhpcy5kZXN0WCA9IDA7XG4gICAgdGhpcy5kZXN0WSA9IDA7XG4gICAgdGhpcy5kZWx0YVggPSAwO1xuICAgIHRoaXMuZGVsdGFZID0gMDtcbiAgICB0aGlzLnNjcm9sbCA9IHt4OiAwLCB5OiAwfTtcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuY29vcmRzID0gW3RoaXMueCwgdGhpcy55LCAwLCAwXTsgLy8geCwgeSwgdGVtcCB4LCB0ZW1wIHlcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy5zbmFwcGVkID0gWzAsIDBdOyAvLyB4LCB5XG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMucG9pbnRlciA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTsgLy8geDEsIHkxLCB4MiwgeTIsIHRlbXAgeDEsIHRlbXAgeTEsIHRlbXAgeDIsIHRlbXAgeTJcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy5zY3JvbGxWaWV3ID0gWzAsIDBdOyAvLyB3LCBoXG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLmRyYWdBcmVhID0gWzAsIDAsIDAsIDBdOyAvLyB4LCB5LCB3LCBoXG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLmNvbnRhaW5lckJvdW5kcyA9IFstMWUxMiwgbWF4VmFsdWUsIG1heFZhbHVlLCAtMWUxMl07IC8vIHQsIHIsIGIsIGxcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuc2Nyb2xsQm91bmRzID0gWzAsIDAsIDAsIDBdOyAvLyB0LCByLCBiLCBsXG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLnRhcmdldEJvdW5kcyA9IFswLCAwLCAwLCAwXTsgLy8gdCwgciwgYiwgbFxuICAgIC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLndpbmRvdyA9IFswLCAwXTsgLy8gdywgaFxuICAgIC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMudmVsb2NpdHlTdGFjayA9IFswLCAwLCAwXTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tJbmRleCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eVRpbWUgPSBub3coKTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL1xuICAgIHRoaXMuY3Vyc29yU3R5bGVzID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL1xuICAgIHRoaXMudHJpZ2dlclN0eWxlcyA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi9cbiAgICB0aGlzLmJvZHlTdHlsZXMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovXG4gICAgdGhpcy50YXJnZXRTdHlsZXMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovXG4gICAgdGhpcy50b3VjaEFjdGlvblN0eWxlcyA9IG51bGw7XG4gICAgdGhpcy50cmFuc2Zvcm1zID0gbmV3IFRyYW5zZm9ybXModGhpcy4kdGFyZ2V0KTtcbiAgICB0aGlzLm92ZXJzaG9vdENvb3JkcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMub3ZlcnNob290WFRpY2tlciA9IG5ldyBUaW1lcih7IGF1dG9wbGF5OiBmYWxzZSB9LCBudWxsLCAwKS5pbml0KCk7XG4gICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyID0gbmV3IFRpbWVyKHsgYXV0b3BsYXk6IGZhbHNlIH0sIG51bGwsIDApLmluaXQoKTtcbiAgICB0aGlzLnVwZGF0ZVRpY2tlciA9IG5ldyBUaW1lcih7IGF1dG9wbGF5OiBmYWxzZSB9LCBudWxsLCAwKS5pbml0KCk7XG4gICAgdGhpcy5vdmVyc2hvb3RYVGlja2VyLm9uVXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWRbMF0pIHJldHVybjtcbiAgICAgIHRoaXMudXBkYXRlZCA9IHRydWU7XG4gICAgICB0aGlzLm1hbnVhbCA9IHRydWU7XG4gICAgICB0aGlzLmFuaW1hdGVbdGhpcy54UHJvcF0odGhpcy5vdmVyc2hvb3RDb29yZHMueCwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm92ZXJzaG9vdFhUaWNrZXIub25Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkWzBdKSByZXR1cm47XG4gICAgICB0aGlzLm1hbnVhbCA9IGZhbHNlO1xuICAgICAgdGhpcy5hbmltYXRlW3RoaXMueFByb3BdKHRoaXMub3ZlcnNob290Q29vcmRzLngsIDApO1xuICAgIH07XG4gICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyLm9uVXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWRbMV0pIHJldHVybjtcbiAgICAgIHRoaXMudXBkYXRlZCA9IHRydWU7XG4gICAgICB0aGlzLm1hbnVhbCA9IHRydWU7XG4gICAgICB0aGlzLmFuaW1hdGVbdGhpcy55UHJvcF0odGhpcy5vdmVyc2hvb3RDb29yZHMueSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm92ZXJzaG9vdFlUaWNrZXIub25Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkWzFdKSByZXR1cm47XG4gICAgICB0aGlzLm1hbnVhbCA9IGZhbHNlO1xuICAgICAgdGhpcy5hbmltYXRlW3RoaXMueVByb3BdKHRoaXMub3ZlcnNob290Q29vcmRzLnksIDApO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVUaWNrZXIub25VcGRhdGUgPSAoKSA9PiB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMuY29udGFpbmVkID0gIWlzVW5kKGNvbnRhaW5lcik7XG4gICAgdGhpcy5tYW51YWwgPSBmYWxzZTtcbiAgICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbGVhc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jYW5TY3JvbGwgPSBmYWxzZTtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5hY3RpdmVQcm9wID0gdGhpcy5kaXNhYmxlZFswXSA/IHlQcm9wIDogeFByb3A7XG4gICAgdGhpcy5hbmltYXRlLmFuaW1hdGlvbnNbdGhpcy5hY3RpdmVQcm9wXS5vblJlbmRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGhhc1VwZGF0ZWQgPSB0aGlzLnVwZGF0ZWQ7XG4gICAgICBjb25zdCBoYXNNb3ZlZCA9IHRoaXMuZ3JhYmJlZCAmJiBoYXNVcGRhdGVkO1xuICAgICAgY29uc3QgaGFzUmVsZWFzZWQgPSAhaGFzTW92ZWQgJiYgdGhpcy5yZWxlYXNlZDtcbiAgICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgY29uc3QgZHggPSB4IC0gdGhpcy5jb29yZHNbMl07XG4gICAgICBjb25zdCBkeSA9IHkgLSB0aGlzLmNvb3Jkc1szXTtcbiAgICAgIHRoaXMuZGVsdGFYID0gZHg7XG4gICAgICB0aGlzLmRlbHRhWSA9IGR5O1xuICAgICAgdGhpcy5jb29yZHNbMl0gPSB4O1xuICAgICAgdGhpcy5jb29yZHNbM10gPSB5O1xuICAgICAgaWYgKGhhc1VwZGF0ZWQpIHtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmICghaGFzUmVsZWFzZWQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXB1dGVWZWxvY2l0eShkeCwgZHkpO1xuICAgICAgICB0aGlzLmFuZ2xlID0gYXRhbjIoZHksIGR4KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYW5pbWF0ZS5hbmltYXRpb25zW3RoaXMuYWN0aXZlUHJvcF0ub25Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGlmICgoIXRoaXMuZ3JhYmJlZCAmJiB0aGlzLnJlbGVhc2VkKSkge1xuICAgICAgICAvLyBTZXQgZWxlYXNlZCB0byBmYWxzZSBiZWZvcmUgY2FsbGluZyBvblNldHRsZSB0byBhdm9pZCByZWN1cnNpb25cbiAgICAgICAgdGhpcy5yZWxlYXNlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLm1hbnVhbCkge1xuICAgICAgICB0aGlzLmRlbHRhWCA9IDA7XG4gICAgICAgIHRoaXMuZGVsdGFZID0gMDtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlTdGFja1swXSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlTdGFja1sxXSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlTdGFja1syXSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlTdGFja0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5vblNldHRsZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVzaXplVGlja2VyID0gbmV3IFRpbWVyKHtcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgIGR1cmF0aW9uOiAxNTAgKiBnbG9iYWxzLnRpbWVTY2FsZSxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMub25BZnRlclJlc2l6ZSh0aGlzKTtcbiAgICAgIH0sXG4gICAgfSkuaW5pdCgpO1xuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICB0aGlzLnJlc2l6ZVRpY2tlci5yZXN0YXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmVuYWJsZSgpO1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRjb250YWluZXIpO1xuICAgIGlmICghaXNPYmoodGFyZ2V0KSkgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuJHRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSBkeFxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR5XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGNvbXB1dGVWZWxvY2l0eShkeCwgZHkpIHtcbiAgICBjb25zdCBwcmV2VGltZSA9IHRoaXMudmVsb2NpdHlUaW1lO1xuICAgIGNvbnN0IGN1clRpbWUgPSBub3coKTtcbiAgICBjb25zdCBlbGFwc2VkID0gY3VyVGltZSAtIHByZXZUaW1lO1xuICAgIGlmIChlbGFwc2VkIDwgMTcpIHJldHVybiB0aGlzLnZlbG9jaXR5O1xuICAgIHRoaXMudmVsb2NpdHlUaW1lID0gY3VyVGltZTtcbiAgICBjb25zdCB2ZWxvY2l0eVN0YWNrID0gdGhpcy52ZWxvY2l0eVN0YWNrO1xuICAgIGNvbnN0IHZNdWwgPSB0aGlzLnZlbG9jaXR5TXVsdGlwbGllcjtcbiAgICBjb25zdCBtaW5WID0gdGhpcy5taW5WZWxvY2l0eTtcbiAgICBjb25zdCBtYXhWID0gdGhpcy5tYXhWZWxvY2l0eTtcbiAgICBjb25zdCB2aSA9IHRoaXMudmVsb2NpdHlTdGFja0luZGV4O1xuICAgIHZlbG9jaXR5U3RhY2tbdmldID0gcm91bmQoY2xhbXAoKHNxcnQoZHggKiBkeCArIGR5ICogZHkpIC8gZWxhcHNlZCkgKiB2TXVsLCBtaW5WLCBtYXhWKSwgNSk7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBtYXgodmVsb2NpdHlTdGFja1swXSwgdmVsb2NpdHlTdGFja1sxXSwgdmVsb2NpdHlTdGFja1syXSk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIHRoaXMudmVsb2NpdHlTdGFja0luZGV4ID0gKHZpICsgMSkgJSAzO1xuICAgIHJldHVybiB2ZWxvY2l0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge051bWJlcn0gIHhcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbXV0ZVVwZGF0ZUNhbGxiYWNrXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgc2V0WCh4LCBtdXRlVXBkYXRlQ2FsbGJhY2sgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkWzBdKSByZXR1cm47XG4gICAgY29uc3QgdiA9IHJvdW5kKHgsIDUpO1xuICAgIHRoaXMub3ZlcnNob290WFRpY2tlci5wYXVzZSgpO1xuICAgIHRoaXMubWFudWFsID0gdHJ1ZTtcbiAgICB0aGlzLnVwZGF0ZWQgPSAhbXV0ZVVwZGF0ZUNhbGxiYWNrO1xuICAgIHRoaXMuZGVzdFggPSB2O1xuICAgIHRoaXMuc25hcHBlZFswXSA9IHNuYXAodiwgdGhpcy5zbmFwWCk7XG4gICAgdGhpcy5hbmltYXRlW3RoaXMueFByb3BdKHYsIDApO1xuICAgIHRoaXMubWFudWFsID0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ9ICB5XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW211dGVVcGRhdGVDYWxsYmFja11cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHNldFkoeSwgbXV0ZVVwZGF0ZUNhbGxiYWNrID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZFsxXSkgcmV0dXJuO1xuICAgIGNvbnN0IHYgPSByb3VuZCh5LCA1KTtcbiAgICB0aGlzLm92ZXJzaG9vdFlUaWNrZXIucGF1c2UoKTtcbiAgICB0aGlzLm1hbnVhbCA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVkID0gIW11dGVVcGRhdGVDYWxsYmFjaztcbiAgICB0aGlzLmRlc3RZID0gdjtcbiAgICB0aGlzLnNuYXBwZWRbMV0gPSBzbmFwKHYsIHRoaXMuc25hcFkpO1xuICAgIHRoaXMuYW5pbWF0ZVt0aGlzLnlQcm9wXSh2LCAwKTtcbiAgICB0aGlzLm1hbnVhbCA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IHgoKSB7XG4gICAgcmV0dXJuIHJvdW5kKC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0aGlzLmFuaW1hdGVbdGhpcy54UHJvcF0oKSksIGdsb2JhbHMucHJlY2lzaW9uKTtcbiAgfVxuXG4gIHNldCB4KHgpIHtcbiAgICB0aGlzLnNldFgoeCwgZmFsc2UpO1xuICB9XG5cbiAgZ2V0IHkoKSB7XG4gICAgcmV0dXJuIHJvdW5kKC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0aGlzLmFuaW1hdGVbdGhpcy55UHJvcF0oKSksIGdsb2JhbHMucHJlY2lzaW9uKTtcbiAgfVxuXG4gIHNldCB5KHkpIHtcbiAgICB0aGlzLnNldFkoeSwgZmFsc2UpO1xuICB9XG5cbiAgZ2V0IHByb2dyZXNzWCgpIHtcbiAgICByZXR1cm4gbWFwUmFuZ2UodGhpcy54LCB0aGlzLmNvbnRhaW5lckJvdW5kc1szXSwgdGhpcy5jb250YWluZXJCb3VuZHNbMV0sIDAsIDEpO1xuICB9XG5cbiAgc2V0IHByb2dyZXNzWCh4KSB7XG4gICAgdGhpcy5zZXRYKG1hcFJhbmdlKHgsIDAsIDEsIHRoaXMuY29udGFpbmVyQm91bmRzWzNdLCB0aGlzLmNvbnRhaW5lckJvdW5kc1sxXSksIGZhbHNlKTtcbiAgfVxuXG4gIGdldCBwcm9ncmVzc1koKSB7XG4gICAgcmV0dXJuIG1hcFJhbmdlKHRoaXMueSwgdGhpcy5jb250YWluZXJCb3VuZHNbMF0sIHRoaXMuY29udGFpbmVyQm91bmRzWzJdLCAwLCAxKTtcbiAgfVxuXG4gIHNldCBwcm9ncmVzc1koeSkge1xuICAgIHRoaXMuc2V0WShtYXBSYW5nZSh5LCAwLCAxLCB0aGlzLmNvbnRhaW5lckJvdW5kc1swXSwgdGhpcy5jb250YWluZXJCb3VuZHNbMl0pLCBmYWxzZSk7XG4gIH1cblxuICB1cGRhdGVTY3JvbGxDb29yZHMoKSB7XG4gICAgY29uc3Qgc3ggPSByb3VuZCh0aGlzLnVzZVdpbiA/IHdpbi5zY3JvbGxYIDogdGhpcy4kY29udGFpbmVyLnNjcm9sbExlZnQsIDApO1xuICAgIGNvbnN0IHN5ID0gcm91bmQodGhpcy51c2VXaW4gPyB3aW4uc2Nyb2xsWSA6IHRoaXMuJGNvbnRhaW5lci5zY3JvbGxUb3AsIDApO1xuICAgIGNvbnN0IFsgY3B0LCBjcHIsIGNwYiwgY3BsIF0gPSB0aGlzLmNvbnRhaW5lclBhZGRpbmc7XG4gICAgY29uc3QgdGhyZXNob2xkID0gdGhpcy5zY3JvbGxUaHJlc2hvbGQ7XG4gICAgdGhpcy5zY3JvbGwueCA9IHN4O1xuICAgIHRoaXMuc2Nyb2xsLnkgPSBzeTtcbiAgICB0aGlzLnNjcm9sbEJvdW5kc1swXSA9IHN5IC0gdGhpcy50YXJnZXRCb3VuZHNbMF0gKyBjcHQgLSB0aHJlc2hvbGQ7XG4gICAgdGhpcy5zY3JvbGxCb3VuZHNbMV0gPSBzeCAtIHRoaXMudGFyZ2V0Qm91bmRzWzFdIC0gY3ByICsgdGhyZXNob2xkO1xuICAgIHRoaXMuc2Nyb2xsQm91bmRzWzJdID0gc3kgLSB0aGlzLnRhcmdldEJvdW5kc1syXSAtIGNwYiArIHRocmVzaG9sZDtcbiAgICB0aGlzLnNjcm9sbEJvdW5kc1szXSA9IHN4IC0gdGhpcy50YXJnZXRCb3VuZHNbM10gKyBjcGwgLSB0aHJlc2hvbGQ7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1ZhbHVlcygpIHtcbiAgICBjb25zdCAkY29udGFpbmVyID0gdGhpcy4kY29udGFpbmVyO1xuICAgIGNvbnN0IGN4ID0gdGhpcy54O1xuICAgIGNvbnN0IGN5ID0gdGhpcy55O1xuICAgIGNvbnN0IGN4MiA9IHRoaXMuY29vcmRzWzJdO1xuICAgIGNvbnN0IGN5MiA9ICB0aGlzLmNvb3Jkc1szXTtcbiAgICAvLyBQcmV2ZW50cyBpbnRlcmZlcmluZyB3aXRoIHRoZSBzY3JvbGwgYXJlYSBpbiBjYXNlcyB0aGUgdGFyZ2V0IGlzIG91dHNpZGUgb2YgdGhlIGNvbnRhaW5lclxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgdGVtcCBjb29yZHMgYXJlIGFsc28gYWRqdXNldCB0byBwcmV2ZW50cyB3cm9uZyBkZWx0YSBjYWxjdWxhdGlvbiBvbiB1cGRhdGVzXG4gICAgdGhpcy5jb29yZHNbMl0gPSAwO1xuICAgIHRoaXMuY29vcmRzWzNdID0gMDtcbiAgICB0aGlzLnNldFgoMCwgdHJ1ZSk7XG4gICAgdGhpcy5zZXRZKDAsIHRydWUpO1xuICAgIHRoaXMudHJhbnNmb3Jtcy5yZW1vdmUoKTtcbiAgICBjb25zdCBpdyA9IHRoaXMud2luZG93WzBdID0gd2luLmlubmVyV2lkdGg7XG4gICAgY29uc3QgaWggPSB0aGlzLndpbmRvd1sxXSA9IHdpbi5pbm5lckhlaWdodDtcbiAgICBjb25zdCB1dyA9IHRoaXMudXNlV2luO1xuICAgIGNvbnN0IHN3ID0gJGNvbnRhaW5lci5zY3JvbGxXaWR0aDtcbiAgICBjb25zdCBzaCA9ICRjb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xuICAgIGNvbnN0IGZ4ID0gdGhpcy5maXhlZDtcbiAgICBjb25zdCB0cmFuc2Zvcm1Db250YWluZXJSZWN0ID0gJGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBbIGNwdCwgY3ByLCBjcGIsIGNwbCBdID0gdGhpcy5jb250YWluZXJQYWRkaW5nO1xuICAgIHRoaXMuZHJhZ0FyZWFbMF0gPSB1dyA/IDAgOiB0cmFuc2Zvcm1Db250YWluZXJSZWN0LmxlZnQ7XG4gICAgdGhpcy5kcmFnQXJlYVsxXSA9IHV3ID8gMCA6IHRyYW5zZm9ybUNvbnRhaW5lclJlY3QudG9wO1xuICAgIHRoaXMuc2Nyb2xsVmlld1swXSA9IHV3ID8gY2xhbXAoc3csIGl3LCBzdykgOiBzdztcbiAgICB0aGlzLnNjcm9sbFZpZXdbMV0gPSB1dyA/IGNsYW1wKHNoLCBpaCwgc2gpIDogc2g7XG4gICAgdGhpcy51cGRhdGVTY3JvbGxDb29yZHMoKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSB9ID0gJGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0aGlzLmRyYWdBcmVhWzJdID0gcm91bmQodXcgPyBjbGFtcCh3aWR0aCwgaXcsIGl3KSA6IHdpZHRoLCAwKTtcbiAgICB0aGlzLmRyYWdBcmVhWzNdID0gcm91bmQodXcgPyBjbGFtcChoZWlnaHQsIGloLCBpaCkgOiBoZWlnaHQsIDApO1xuICAgIGNvbnN0IGNvbnRhaW5lck92ZXJmbG93ID0gZ2V0VGFyZ2V0VmFsdWUoJGNvbnRhaW5lciwgJ292ZXJmbG93Jyk7XG4gICAgY29uc3QgdmlzaWJsZU92ZXJmbG93ID0gY29udGFpbmVyT3ZlcmZsb3cgPT09ICd2aXNpYmxlJztcbiAgICBjb25zdCBoaWRkZW5PdmVyZmxvdyA9IGNvbnRhaW5lck92ZXJmbG93ID09PSAnaGlkZGVuJztcbiAgICB0aGlzLmNhblNjcm9sbCA9IGZ4ID8gZmFsc2UgOlxuICAgICAgdGhpcy5jb250YWluZWQgJiZcbiAgICAgICgoJGNvbnRhaW5lciA9PT0gZG9jLmJvZHkgJiYgdmlzaWJsZU92ZXJmbG93KSB8fCAoIWhpZGRlbk92ZXJmbG93ICYmICF2aXNpYmxlT3ZlcmZsb3cpKSAmJlxuICAgICAgKHN3ID4gdGhpcy5kcmFnQXJlYVsyXSArIGNwbCAtIGNwciB8fCBzaCA+IHRoaXMuZHJhZ0FyZWFbM10gKyBjcHQgLSBjcGIpICYmXG4gICAgICAoIXRoaXMuY29udGFpbmVyQXJyYXkgfHwgKHRoaXMuY29udGFpbmVyQXJyYXkgJiYgIWlzQXJyKHRoaXMuY29udGFpbmVyQXJyYXkpKSk7XG4gICAgaWYgKHRoaXMuY29udGFpbmVkKSB7XG4gICAgICBjb25zdCBzeCA9IHRoaXMuc2Nyb2xsLng7XG4gICAgICBjb25zdCBzeSA9IHRoaXMuc2Nyb2xsLnk7XG4gICAgICBjb25zdCBjYW5TY3JvbGwgPSB0aGlzLmNhblNjcm9sbDtcbiAgICAgIGNvbnN0IHRhcmdldFJlY3QgPSB0aGlzLiR0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBoaWRkZW5MZWZ0ID0gY2FuU2Nyb2xsID8gdXcgPyAwIDogJGNvbnRhaW5lci5zY3JvbGxMZWZ0IDogMDtcbiAgICAgIGNvbnN0IGhpZGRlblRvcCA9IGNhblNjcm9sbCA/IHV3ID8gMCA6ICRjb250YWluZXIuc2Nyb2xsVG9wIDogMDtcbiAgICAgIGNvbnN0IGhpZGRlblJpZ2h0ID0gY2FuU2Nyb2xsID8gdGhpcy5zY3JvbGxWaWV3WzBdIC0gaGlkZGVuTGVmdCAtIHdpZHRoIDogMDtcbiAgICAgIGNvbnN0IGhpZGRlbkJvdHRvbSA9IGNhblNjcm9sbCA/IHRoaXMuc2Nyb2xsVmlld1sxXSAtIGhpZGRlblRvcCAtIGhlaWdodCA6IDA7XG4gICAgICB0aGlzLnRhcmdldEJvdW5kc1swXSA9IHJvdW5kKCh0YXJnZXRSZWN0LnRvcCArIHN5KSAtICh1dyA/IDAgOiB0b3ApLCAwKTtcbiAgICAgIHRoaXMudGFyZ2V0Qm91bmRzWzFdID0gcm91bmQoKHRhcmdldFJlY3QucmlnaHQgKyBzeCkgLSAodXcgPyBpdyA6IHJpZ2h0KSwgMCk7XG4gICAgICB0aGlzLnRhcmdldEJvdW5kc1syXSA9IHJvdW5kKCh0YXJnZXRSZWN0LmJvdHRvbSArIHN5KSAtICh1dyA/IGloIDogYm90dG9tKSwgMCk7XG4gICAgICB0aGlzLnRhcmdldEJvdW5kc1szXSA9IHJvdW5kKCh0YXJnZXRSZWN0LmxlZnQgKyBzeCkgLSAodXcgPyAwIDogbGVmdCksIDApO1xuICAgICAgaWYgKHRoaXMuY29udGFpbmVyQXJyYXkpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbMF0gPSB0aGlzLmNvbnRhaW5lckFycmF5WzBdICsgY3B0O1xuICAgICAgICB0aGlzLmNvbnRhaW5lckJvdW5kc1sxXSA9IHRoaXMuY29udGFpbmVyQXJyYXlbMV0gLSBjcHI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQm91bmRzWzJdID0gdGhpcy5jb250YWluZXJBcnJheVsyXSAtIGNwYjtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbM10gPSB0aGlzLmNvbnRhaW5lckFycmF5WzNdICsgY3BsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbMF0gPSAtcm91bmQodGFyZ2V0UmVjdC50b3AgLSAoZnggPyBjbGFtcCh0b3AsIDAsIGloKSA6IHRvcCkgKyBoaWRkZW5Ub3AgLSBjcHQsIDApO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckJvdW5kc1sxXSA9IC1yb3VuZCh0YXJnZXRSZWN0LnJpZ2h0IC0gKGZ4ID8gY2xhbXAocmlnaHQsIDAsIGl3KSA6IHJpZ2h0KSAtIGhpZGRlblJpZ2h0ICsgY3ByLCAwKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbMl0gPSAtcm91bmQodGFyZ2V0UmVjdC5ib3R0b20gLSAoZnggPyBjbGFtcChib3R0b20sIDAsIGloKSA6IGJvdHRvbSkgLSBoaWRkZW5Cb3R0b20gKyBjcGIsIDApO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckJvdW5kc1szXSA9IC1yb3VuZCh0YXJnZXRSZWN0LmxlZnQgLSAoZnggPyBjbGFtcChsZWZ0LCAwLCBpdykgOiBsZWZ0KSArIGhpZGRlbkxlZnQgLSBjcGwsIDApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRyYW5zZm9ybXMucmV2ZXJ0KCk7XG4gICAgLy8gUmVzdG9yZSBjb29yZGluYXRlc1xuICAgIHRoaXMuY29vcmRzWzJdID0gY3gyO1xuICAgIHRoaXMuY29vcmRzWzNdID0gY3kyO1xuICAgIHRoaXMuc2V0WChjeCwgdHJ1ZSk7XG4gICAgdGhpcy5zZXRZKGN5LCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIDAgaWYgbm90IE9CLCAxIGlmIHggaXMgT0IsIDIgaWYgeSBpcyBPQiwgMyBpZiBib3RoIHggYW5kIHkgYXJlIE9CXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5fSBib3VuZHNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4XG4gICAqIEBwYXJhbSAge051bWJlcn0geVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBpc091dE9mQm91bmRzKGJvdW5kcywgeCwgeSkge1xuICAgIGlmICghdGhpcy5jb250YWluZWQpIHJldHVybiAwO1xuICAgIGNvbnN0IFsgYnQsIGJyLCBiYiwgYmwgXSA9IGJvdW5kcztcbiAgICBjb25zdCBbIGR4LCBkeSBdID0gdGhpcy5kaXNhYmxlZDtcbiAgICBjb25zdCBvYnggPSAhZHggJiYgeCA8IGJsIHx8ICFkeCAmJiB4ID4gYnI7XG4gICAgY29uc3Qgb2J5ID0gIWR5ICYmIHkgPCBidCB8fCAhZHkgJiYgeSA+IGJiO1xuICAgIHJldHVybiBvYnggJiYgIW9ieSA/IDEgOiAhb2J4ICYmIG9ieSA/IDIgOiBvYnggJiYgb2J5ID8gMyA6IDA7XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMucGFyYW1ldGVycztcbiAgICBjb25zdCBwYXJhbVggPSBwYXJhbXMueDtcbiAgICBjb25zdCBwYXJhbVkgPSBwYXJhbXMueTtcbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJzZURyYWdnYWJsZUZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5jb250YWluZXIsIHRoaXMpO1xuICAgIGNvbnN0IGNwID0gcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuY29udGFpbmVyUGFkZGluZywgdGhpcykgfHwgMDtcbiAgICBjb25zdCBjb250YWluZXJQYWRkaW5nID0gLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi8oaXNBcnIoY3ApID8gY3AgOiBbY3AsIGNwLCBjcCwgY3BdKTtcbiAgICBjb25zdCBjeCA9IHRoaXMueDtcbiAgICBjb25zdCBjeSA9IHRoaXMueTtcbiAgICBjb25zdCBwYXJzZWRDdXJzb3JTdHlsZXMgPSBwYXJzZURyYWdnYWJsZUZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5jdXJzb3IsIHRoaXMpO1xuICAgIGNvbnN0IGN1cnNvclN0eWxlcyA9IHsgb25Ib3ZlcjogJ2dyYWInLCBvbkdyYWI6ICdncmFiYmluZycgfTtcbiAgICBpZiAocGFyc2VkQ3Vyc29yU3R5bGVzKSB7XG4gICAgICBjb25zdCB7IG9uSG92ZXIsIG9uR3JhYiB9ID0gLyoqIEB0eXBlIHtEcmFnZ2FibGVDdXJzb3JQYXJhbXN9ICovKHBhcnNlZEN1cnNvclN0eWxlcyk7XG4gICAgICBpZiAob25Ib3ZlcikgY3Vyc29yU3R5bGVzLm9uSG92ZXIgPSBvbkhvdmVyO1xuICAgICAgaWYgKG9uR3JhYikgY3Vyc29yU3R5bGVzLm9uR3JhYiA9IG9uR3JhYjtcbiAgICB9XG4gICAgdGhpcy5jb250YWluZXJBcnJheSA9IGlzQXJyKGNvbnRhaW5lcikgPyBjb250YWluZXIgOiBudWxsO1xuICAgIHRoaXMuJGNvbnRhaW5lciA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKGNvbnRhaW5lciAmJiAhdGhpcy5jb250YWluZXJBcnJheSA/IHBhcnNlVGFyZ2V0cygvKiogQHR5cGUge0RPTVRhcmdldH0gKi8oY29udGFpbmVyKSlbMF0gOiBkb2MuYm9keSk7XG4gICAgdGhpcy51c2VXaW4gPSB0aGlzLiRjb250YWluZXIgPT09IGRvYy5ib2R5O1xuICAgIC8qKiBAdHlwZSB7V2luZG93IHwgSFRNTEVsZW1lbnR9ICovXG4gICAgdGhpcy4kc2Nyb2xsQ29udGFpbmVyID0gdGhpcy51c2VXaW4gPyB3aW4gOiB0aGlzLiRjb250YWluZXI7XG4gICAgdGhpcy5pc0ZpbmVQb2ludGVyID0gbWF0Y2hNZWRpYSgnKHBvaW50ZXI6ZmluZSknKS5tYXRjaGVzO1xuICAgIHRoaXMuY29udGFpbmVyUGFkZGluZyA9IHNldFZhbHVlKGNvbnRhaW5lclBhZGRpbmcsIFswLCAwLCAwLCAwXSk7XG4gICAgdGhpcy5jb250YWluZXJGcmljdGlvbiA9IGNsYW1wKHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLmNvbnRhaW5lckZyaWN0aW9uLCB0aGlzKSwgLjgpLCAwLCAxKTtcbiAgICB0aGlzLnJlbGVhc2VDb250YWluZXJGcmljdGlvbiA9IGNsYW1wKHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLnJlbGVhc2VDb250YWluZXJGcmljdGlvbiwgdGhpcyksIHRoaXMuY29udGFpbmVyRnJpY3Rpb24pLCAwLCAxKTtcbiAgICB0aGlzLnNuYXBYID0gcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihpc09iaihwYXJhbVgpICYmICFpc1VuZChwYXJhbVguc25hcCkgPyBwYXJhbVguc25hcCA6IHBhcmFtcy5zbmFwLCB0aGlzKTtcbiAgICB0aGlzLnNuYXBZID0gcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihpc09iaihwYXJhbVkpICYmICFpc1VuZChwYXJhbVkuc25hcCkgPyBwYXJhbVkuc25hcCA6IHBhcmFtcy5zbmFwLCB0aGlzKTtcbiAgICB0aGlzLnNjcm9sbFNwZWVkID0gc2V0VmFsdWUocGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuc2Nyb2xsU3BlZWQsIHRoaXMpLCAxLjUpO1xuICAgIHRoaXMuc2Nyb2xsVGhyZXNob2xkID0gc2V0VmFsdWUocGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuc2Nyb2xsVGhyZXNob2xkLCB0aGlzKSwgMjApO1xuICAgIHRoaXMuZHJhZ1NwZWVkID0gc2V0VmFsdWUocGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuZHJhZ1NwZWVkLCB0aGlzKSwgMSk7XG4gICAgdGhpcy5taW5WZWxvY2l0eSA9IHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLm1pblZlbG9jaXR5LCB0aGlzKSwgMCk7XG4gICAgdGhpcy5tYXhWZWxvY2l0eSA9IHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLm1heFZlbG9jaXR5LCB0aGlzKSwgNTApO1xuICAgIHRoaXMudmVsb2NpdHlNdWx0aXBsaWVyID0gc2V0VmFsdWUocGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMudmVsb2NpdHlNdWx0aXBsaWVyLCB0aGlzKSwgMSk7XG4gICAgdGhpcy5jdXJzb3IgPSBwYXJzZWRDdXJzb3JTdHlsZXMgPT09IGZhbHNlID8gZmFsc2UgOiBjdXJzb3JTdHlsZXM7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1ZhbHVlcygpO1xuXG4gICAgLy8gY29uc3Qgb2IgPSB0aGlzLmlzT3V0T2ZCb3VuZHModGhpcy5jb250YWluZXJCb3VuZHMsIHRoaXMueCwgdGhpcy55KTtcbiAgICAvLyBpZiAob2IgPT09IDEgfHwgb2IgPT09IDMpIHRoaXMucHJvZ3Jlc3NYID0gcHg7XG4gICAgLy8gaWYgKG9iID09PSAyIHx8IG9iID09PSAzKSB0aGlzLnByb2dyZXNzWSA9IHB5O1xuXG4gICAgLy8gaWYgKHRoaXMuaW5pdGlhbGl6ZWQgJiYgdGhpcy5jb250YWluZWQpIHtcbiAgICAvLyAgIGlmICh0aGlzLnByb2dyZXNzWCAhPT0gcHgpIHRoaXMucHJvZ3Jlc3NYID0gcHg7XG4gICAgLy8gICBpZiAodGhpcy5wcm9ncmVzc1kgIT09IHB5KSB0aGlzLnByb2dyZXNzWSA9IHB5O1xuICAgIC8vIH1cblxuICAgIGNvbnN0IFsgYnQsIGJyLCBiYiwgYmwgXSA9IHRoaXMuY29udGFpbmVyQm91bmRzO1xuICAgIHRoaXMuc2V0WChjbGFtcChjeCwgYmwsIGJyKSwgdHJ1ZSk7XG4gICAgdGhpcy5zZXRZKGNsYW1wKGN5LCBidCwgYmIpLCB0cnVlKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLnVwZGF0ZVNjcm9sbENvb3JkcygpO1xuICAgIGlmICh0aGlzLmNhblNjcm9sbCkge1xuICAgICAgY29uc3QgWyBjcHQsIGNwciwgY3BiLCBjcGwgXSA9IHRoaXMuY29udGFpbmVyUGFkZGluZztcbiAgICAgIGNvbnN0IFsgc3csIHNoIF0gPSB0aGlzLnNjcm9sbFZpZXc7XG4gICAgICBjb25zdCBkYXcgPSB0aGlzLmRyYWdBcmVhWzJdO1xuICAgICAgY29uc3QgZGFoID0gdGhpcy5kcmFnQXJlYVszXTtcbiAgICAgIGNvbnN0IGNzeCA9IHRoaXMuc2Nyb2xsLng7XG4gICAgICBjb25zdCBjc3kgPSB0aGlzLnNjcm9sbC55O1xuICAgICAgY29uc3QgbnN3ID0gdGhpcy4kY29udGFpbmVyLnNjcm9sbFdpZHRoO1xuICAgICAgY29uc3QgbnNoID0gdGhpcy4kY29udGFpbmVyLnNjcm9sbEhlaWdodDtcbiAgICAgIGNvbnN0IGNzdyA9IHRoaXMudXNlV2luID8gY2xhbXAobnN3LCB0aGlzLndpbmRvd1swXSwgbnN3KSA6IG5zdztcbiAgICAgIGNvbnN0IGNzaCA9IHRoaXMudXNlV2luID8gY2xhbXAobnNoLCB0aGlzLndpbmRvd1sxXSwgbnNoKSA6IG5zaDtcbiAgICAgIGNvbnN0IHN3ZCA9IHN3IC0gY3N3O1xuICAgICAgY29uc3Qgc2hkID0gc2ggLSBjc2g7XG4gICAgICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdGhlIHNjcm9sbGFyZWEgZGltZW5zaW9ucyBjaGFuZ2VzIGR1cmluZyBkcmFnXG4gICAgICBpZiAodGhpcy5kcmFnZ2VkICYmIHN3ZCA+IDApIHtcbiAgICAgICAgdGhpcy5jb29yZHNbMF0gLT0gc3dkO1xuICAgICAgICB0aGlzLnNjcm9sbFZpZXdbMF0gPSBjc3c7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kcmFnZ2VkICYmIHNoZCA+IDApIHtcbiAgICAgICAgdGhpcy5jb29yZHNbMV0gLT0gc2hkO1xuICAgICAgICB0aGlzLnNjcm9sbFZpZXdbMV0gPSBjc2g7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgYXV0b3Njcm9sbCB3aGVuIHRhcmdldCBpcyBhdCB0aGUgZWRnZXMgb2YgdGhlIHNjcm9sbCBib3VuZHNcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnNjcm9sbFNwZWVkICogMTA7XG4gICAgICBjb25zdCB0aHJlc2hvbGQgPSB0aGlzLnNjcm9sbFRocmVzaG9sZDtcbiAgICAgIGNvbnN0IFsgeCwgeSBdID0gdGhpcy5jb29yZHM7XG4gICAgICBjb25zdCBbIHN0LCBzciwgc2IsIHNsIF0gPSB0aGlzLnNjcm9sbEJvdW5kcztcbiAgICAgIGNvbnN0IHQgPSByb3VuZChjbGFtcCgoeSAtIHN0ICsgY3B0KSAvIHRocmVzaG9sZCwgLTEsIDApICogcywgMCk7XG4gICAgICBjb25zdCByID0gcm91bmQoY2xhbXAoKHggLSBzciAtIGNwcikgLyB0aHJlc2hvbGQsIDAsIDEpICogcywgMCk7XG4gICAgICBjb25zdCBiID0gcm91bmQoY2xhbXAoKHkgLSBzYiAtIGNwYikgLyB0aHJlc2hvbGQsIDAsIDEpICogcywgMCk7XG4gICAgICBjb25zdCBsID0gcm91bmQoY2xhbXAoKHggLSBzbCArIGNwbCkgLyB0aHJlc2hvbGQsIC0xLCAwKSAqIHMsIDApO1xuICAgICAgaWYgKHQgfHwgYiB8fCBsIHx8IHIpIHtcbiAgICAgICAgY29uc3QgW254LCBueV0gPSB0aGlzLmRpc2FibGVkO1xuICAgICAgICBsZXQgc2Nyb2xsWCA9IGNzeDtcbiAgICAgICAgbGV0IHNjcm9sbFkgPSBjc3k7XG4gICAgICAgIGlmICghbngpIHtcbiAgICAgICAgICBzY3JvbGxYID0gcm91bmQoY2xhbXAoY3N4ICsgKGwgfHwgciksIDAsIHN3IC0gZGF3KSwgMCk7XG4gICAgICAgICAgdGhpcy5jb29yZHNbMF0gLT0gY3N4IC0gc2Nyb2xsWDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW55KSB7XG4gICAgICAgICAgc2Nyb2xsWSA9IHJvdW5kKGNsYW1wKGNzeSArICh0IHx8IGIpLCAwLCBzaCAtIGRhaCksIDApO1xuICAgICAgICAgIHRoaXMuY29vcmRzWzFdIC09IGNzeSAtIHNjcm9sbFk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogU2FmYXJpIG1vYmlsZSByZXF1aXJlcyB0byB1c2UgZGlmZmVyZW50IHNjcm9sbCBtZXRob2RzIGRlcGVuZGluZyBpZiB1c2luZyB0aGUgd2luZG93IG9yIG5vdFxuICAgICAgICBpZiAodGhpcy51c2VXaW4pIHtcbiAgICAgICAgICB0aGlzLiRzY3JvbGxDb250YWluZXIuc2Nyb2xsQnkoLShjc3ggLSBzY3JvbGxYKSwgLShjc3kgLSBzY3JvbGxZKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvKHNjcm9sbFgsIHNjcm9sbFkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IFsgY3QsIGNyLCBjYiwgY2wgXSA9IHRoaXMuY29udGFpbmVyQm91bmRzO1xuICAgIGNvbnN0IFsgcHgxLCBweTEsIHB4MiwgcHkyLCBweDMsIHB5MyBdID0gdGhpcy5wb2ludGVyO1xuICAgIHRoaXMuY29vcmRzWzBdICs9IChweDEgLSBweDMpICogdGhpcy5kcmFnU3BlZWQ7XG4gICAgdGhpcy5jb29yZHNbMV0gKz0gKHB5MSAtIHB5MykgKiB0aGlzLmRyYWdTcGVlZDtcbiAgICB0aGlzLnBvaW50ZXJbNF0gPSBweDE7XG4gICAgdGhpcy5wb2ludGVyWzVdID0gcHkxO1xuICAgIGNvbnN0IFsgY3gsIGN5IF0gPSB0aGlzLmNvb3JkcztcbiAgICBjb25zdCBbIHN4LCBzeSBdID0gdGhpcy5zbmFwcGVkO1xuICAgIGNvbnN0IGNmID0gKDEgLSB0aGlzLmNvbnRhaW5lckZyaWN0aW9uKSAqIHRoaXMuZHJhZ1NwZWVkO1xuICAgIHRoaXMuc2V0WChjeCA+IGNyID8gY3IgKyAoY3ggLSBjcikgKiBjZiA6IGN4IDwgY2wgPyBjbCArIChjeCAtIGNsKSAqIGNmIDogY3gsIGZhbHNlKTtcbiAgICB0aGlzLnNldFkoY3kgPiBjYiA/IGNiICsgKGN5IC0gY2IpICogY2YgOiBjeSA8IGN0ID8gY3QgKyAoY3kgLSBjdCkgKiBjZiA6IGN5LCBmYWxzZSk7XG4gICAgdGhpcy5jb21wdXRlVmVsb2NpdHkocHgxIC0gcHgzLCBweTEgLSBweTMpO1xuICAgIHRoaXMuYW5nbGUgPSBhdGFuMihweTEgLSBweTIsIHB4MSAtIHB4Mik7XG4gICAgY29uc3QgWyBuc3gsIG5zeSBdID0gdGhpcy5zbmFwcGVkO1xuICAgIGlmIChuc3ggIT09IHN4ICYmIHRoaXMuc25hcFggfHwgbnN5ICE9PSBzeSAmJiB0aGlzLnNuYXBZKSB7XG4gICAgICB0aGlzLm9uU25hcCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMudXBkYXRlVGlja2VyLnBhdXNlKCk7XG4gICAgdGhpcy5vdmVyc2hvb3RYVGlja2VyLnBhdXNlKCk7XG4gICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyLnBhdXNlKCk7XG4gICAgLy8gUGF1c2VzIHRoZSBpbiBib3VuZHMgb25SZWxlYXNlIGFuaW1hdGlvbnNcbiAgICBmb3IgKGxldCBwcm9wIGluIHRoaXMuYW5pbWF0ZS5hbmltYXRpb25zKSB0aGlzLmFuaW1hdGUuYW5pbWF0aW9uc1twcm9wXS5wYXVzZSgpO1xuICAgIHJlbW92ZSh0aGlzLCBudWxsLCAneCcpO1xuICAgIHJlbW92ZSh0aGlzLCBudWxsLCAneScpO1xuICAgIHJlbW92ZSh0aGlzLCBudWxsLCAncHJvZ3Jlc3NYJyk7XG4gICAgcmVtb3ZlKHRoaXMsIG51bGwsICdwcm9ncmVzc1knKTtcbiAgICByZW1vdmUodGhpcy5zY3JvbGwpOyAvLyBSZW1vdmVzIGFueSBhY3RpdmUgYW5pbWF0aW9ucyBvbiB0aGUgY29udGFpbmVyIHNjcm9sbFxuICAgIHJlbW92ZSh0aGlzLm92ZXJzaG9vdENvb3Jkcyk7IC8vIFJlbW92ZXMgYWN0aXZlIG92ZXJzaG9vdCBhbmltYXRpb25zXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtkdXJhdGlvbl1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtnYXBdXG4gICAqIEBwYXJhbSB7RWFzaW5nUGFyYW19IFtlYXNlXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgc2Nyb2xsSW5WaWV3KGR1cmF0aW9uLCBnYXAgPSAwLCBlYXNlID0gZWFzZXMuaW5PdXRRdWFkKSB7XG4gICAgdGhpcy51cGRhdGVTY3JvbGxDb29yZHMoKTtcbiAgICBjb25zdCB4ID0gdGhpcy5kZXN0WDtcbiAgICBjb25zdCB5ID0gdGhpcy5kZXN0WTtcbiAgICBjb25zdCBzY3JvbGwgPSB0aGlzLnNjcm9sbDtcbiAgICBjb25zdCBzY3JvbGxCb3VuZHMgPSB0aGlzLnNjcm9sbEJvdW5kcztcbiAgICBjb25zdCBjYW5TY3JvbGwgPSB0aGlzLmNhblNjcm9sbDtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyQXJyYXkgJiYgdGhpcy5pc091dE9mQm91bmRzKHNjcm9sbEJvdW5kcywgeCwgeSkpIHtcbiAgICAgIGNvbnN0IFsgc3QsIHNyLCBzYiwgc2wgXSA9IHNjcm9sbEJvdW5kcztcbiAgICAgIGNvbnN0IHQgPSByb3VuZChjbGFtcCh5IC0gc3QsIC0xZTEyLCAwKSwgMCk7XG4gICAgICBjb25zdCByID0gcm91bmQoY2xhbXAoeCAtIHNyLCAwLCBtYXhWYWx1ZSksIDApO1xuICAgICAgY29uc3QgYiA9IHJvdW5kKGNsYW1wKHkgLSBzYiwgMCwgbWF4VmFsdWUpLCAwKTtcbiAgICAgIGNvbnN0IGwgPSByb3VuZChjbGFtcCh4IC0gc2wsIC0xZTEyLCAwKSwgMCk7XG4gICAgICBuZXcgSlNBbmltYXRpb24oc2Nyb2xsLCB7XG4gICAgICAgIHg6IHJvdW5kKHNjcm9sbC54ICsgKGwgPyBsIC0gZ2FwIDogciA/IHIgKyBnYXAgOiAwKSwgMCksXG4gICAgICAgIHk6IHJvdW5kKHNjcm9sbC55ICsgKHQgPyB0IC0gZ2FwIDogYiA/IGIgKyBnYXAgOiAwKSwgMCksXG4gICAgICAgIGR1cmF0aW9uOiBpc1VuZChkdXJhdGlvbikgPyAzNTAgKiBnbG9iYWxzLnRpbWVTY2FsZSA6IGR1cmF0aW9uLFxuICAgICAgICBlYXNlLFxuICAgICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2FuU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy4kc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvKHNjcm9sbC54LCBzY3JvbGwueSk7XG4gICAgICAgIH1cbiAgICAgIH0pLmluaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5jYW5TY3JvbGwgPSBjYW5TY3JvbGw7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBoYW5kbGVIb3ZlcigpIHtcbiAgICBpZiAodGhpcy5pc0ZpbmVQb2ludGVyICYmIHRoaXMuY3Vyc29yICYmICF0aGlzLmN1cnNvclN0eWxlcykge1xuICAgICAgdGhpcy5jdXJzb3JTdHlsZXMgPSBzZXRUYXJnZXRWYWx1ZXModGhpcy4kdHJpZ2dlciwge1xuICAgICAgICBjdXJzb3I6IC8qKiBAdHlwZSB7RHJhZ2dhYmxlQ3Vyc29yUGFyYW1zfSAqLyh0aGlzLmN1cnNvcikub25Ib3ZlclxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gW2R1cmF0aW9uXVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtnYXBdXG4gICAqIEBwYXJhbSAge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIGFuaW1hdGVJblZpZXcoZHVyYXRpb24sIGdhcCA9IDAsIGVhc2UgPSBlYXNlcy5pbk91dFF1YWQpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nVmFsdWVzKCk7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IFsgY3B0LCBjcHIsIGNwYiwgY3BsIF0gPSB0aGlzLmNvbnRhaW5lclBhZGRpbmc7XG4gICAgY29uc3QgYnQgPSB0aGlzLnNjcm9sbC55IC0gdGhpcy50YXJnZXRCb3VuZHNbMF0gKyBjcHQgKyBnYXA7XG4gICAgY29uc3QgYnIgPSB0aGlzLnNjcm9sbC54IC0gdGhpcy50YXJnZXRCb3VuZHNbMV0gLSBjcHIgLSBnYXA7XG4gICAgY29uc3QgYmIgPSB0aGlzLnNjcm9sbC55IC0gdGhpcy50YXJnZXRCb3VuZHNbMl0gLSBjcGIgLSBnYXA7XG4gICAgY29uc3QgYmwgPSB0aGlzLnNjcm9sbC54IC0gdGhpcy50YXJnZXRCb3VuZHNbM10gKyBjcGwgKyBnYXA7XG4gICAgY29uc3Qgb2IgPSB0aGlzLmlzT3V0T2ZCb3VuZHMoW2J0LCBiciwgYmIsIGJsXSwgeCwgeSk7XG4gICAgaWYgKG9iKSB7XG4gICAgICBjb25zdCBbIGRpc2FibGVkWCwgZGlzYWJsZWRZIF0gPSB0aGlzLmRpc2FibGVkO1xuICAgICAgY29uc3QgZGVzdFggPSBjbGFtcChzbmFwKHgsIHRoaXMuc25hcFgpLCBibCwgYnIpO1xuICAgICAgY29uc3QgZGVzdFkgPSBjbGFtcChzbmFwKHksIHRoaXMuc25hcFkpLCBidCwgYmIpO1xuICAgICAgY29uc3QgZHVyID0gaXNVbmQoZHVyYXRpb24pID8gMzUwICogZ2xvYmFscy50aW1lU2NhbGUgOiBkdXJhdGlvbjtcbiAgICAgIGlmICghZGlzYWJsZWRYICYmIChvYiA9PT0gMSB8fCBvYiA9PT0gMykpIHRoaXMuYW5pbWF0ZVt0aGlzLnhQcm9wXShkZXN0WCwgZHVyLCBlYXNlKTtcbiAgICAgIGlmICghZGlzYWJsZWRZICYmIChvYiA9PT0gMiB8fCBvYiA9PT0gMykpIHRoaXMuYW5pbWF0ZVt0aGlzLnlQcm9wXShkZXN0WSwgZHVyLCBlYXNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGVcbiAgICovXG4gIGhhbmRsZURvd24oZSkge1xuICAgIGNvbnN0ICRlVGFyZ2V0ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8oZS50YXJnZXQpO1xuICAgIGlmICh0aGlzLmdyYWJiZWQgfHwgLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAgKi8oJGVUYXJnZXQpLnR5cGUgPT09ICdyYW5nZScpIHJldHVybjtcblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICB0aGlzLmdyYWJiZWQgPSB0cnVlO1xuICAgIHRoaXMucmVsZWFzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nVmFsdWVzKCk7XG4gICAgY29uc3QgdG91Y2hlcyA9IC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8oZSkuY2hhbmdlZFRvdWNoZXM7XG4gICAgY29uc3QgZXZlbnRYID0gdG91Y2hlcyA/IHRvdWNoZXNbMF0uY2xpZW50WCA6IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8oZSkuY2xpZW50WDtcbiAgICBjb25zdCBldmVudFkgPSB0b3VjaGVzID8gdG91Y2hlc1swXS5jbGllbnRZIDogLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyhlKS5jbGllbnRZO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy50cmFuc2Zvcm1zLm5vcm1hbGl6ZVBvaW50KGV2ZW50WCwgZXZlbnRZKTtcbiAgICBjb25zdCBbIGN0LCBjciwgY2IsIGNsIF0gPSB0aGlzLmNvbnRhaW5lckJvdW5kcztcbiAgICBjb25zdCBjZiA9ICgxIC0gdGhpcy5jb250YWluZXJGcmljdGlvbikgKiB0aGlzLmRyYWdTcGVlZDtcbiAgICBjb25zdCBjeCA9IHRoaXMueDtcbiAgICBjb25zdCBjeSA9IHRoaXMueTtcbiAgICB0aGlzLmNvb3Jkc1swXSA9IHRoaXMuY29vcmRzWzJdID0gIWNmID8gY3ggOiBjeCA+IGNyID8gY3IgKyAoY3ggLSBjcikgLyBjZiA6IGN4IDwgY2wgPyBjbCArIChjeCAtIGNsKSAvIGNmIDogY3g7XG4gICAgdGhpcy5jb29yZHNbMV0gPSB0aGlzLmNvb3Jkc1szXSA9ICFjZiA/IGN5IDogY3kgPiBjYiA/IGNiICsgKGN5IC0gY2IpIC8gY2YgOiBjeSA8IGN0ID8gY3QgKyAoY3kgLSBjdCkgLyBjZiA6IGN5O1xuICAgIHRoaXMucG9pbnRlclswXSA9IHg7XG4gICAgdGhpcy5wb2ludGVyWzFdID0geTtcbiAgICB0aGlzLnBvaW50ZXJbMl0gPSB4O1xuICAgIHRoaXMucG9pbnRlclszXSA9IHk7XG4gICAgdGhpcy5wb2ludGVyWzRdID0geDtcbiAgICB0aGlzLnBvaW50ZXJbNV0gPSB5O1xuICAgIHRoaXMucG9pbnRlcls2XSA9IHg7XG4gICAgdGhpcy5wb2ludGVyWzddID0geTtcbiAgICB0aGlzLmRlbHRhWCA9IDA7XG4gICAgdGhpcy5kZWx0YVkgPSAwO1xuICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMudmVsb2NpdHlTdGFja1swXSA9IDA7XG4gICAgdGhpcy52ZWxvY2l0eVN0YWNrWzFdID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMl0gPSAwO1xuICAgIHRoaXMudmVsb2NpdHlTdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICBpZiAodGhpcy50YXJnZXRTdHlsZXMpIHtcbiAgICAgIHRoaXMudGFyZ2V0U3R5bGVzLnJldmVydCgpO1xuICAgICAgdGhpcy50YXJnZXRTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCB6ID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKGdldFRhcmdldFZhbHVlKHRoaXMuJHRhcmdldCwgJ3pJbmRleCcsIGZhbHNlKSk7XG4gICAgekluZGV4ID0gKHogPiB6SW5kZXggPyB6IDogekluZGV4KSArIDE7XG4gICAgdGhpcy50YXJnZXRTdHlsZXMgPSBzZXRUYXJnZXRWYWx1ZXModGhpcy4kdGFyZ2V0LCB7IHpJbmRleCB9KTtcbiAgICBpZiAodGhpcy50cmlnZ2VyU3R5bGVzKSB7XG4gICAgICB0aGlzLnRyaWdnZXJTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLnRyaWdnZXJTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJzb3JTdHlsZXMpIHtcbiAgICAgIHRoaXMuY3Vyc29yU3R5bGVzLnJldmVydCgpO1xuICAgICAgdGhpcy5jdXJzb3JTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0ZpbmVQb2ludGVyICYmIHRoaXMuY3Vyc29yKSB7XG4gICAgICB0aGlzLmJvZHlTdHlsZXMgPSBzZXRUYXJnZXRWYWx1ZXMoZG9jLmJvZHksIHtcbiAgICAgICAgY3Vyc29yOiAvKiogQHR5cGUge0RyYWdnYWJsZUN1cnNvclBhcmFtc30gKi8odGhpcy5jdXJzb3IpLm9uR3JhYlxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuc2Nyb2xsSW5WaWV3KDEwMCwgMCwgZWFzZXMub3V0KDMpKTtcbiAgICB0aGlzLm9uR3JhYih0aGlzKTtcblxuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcyk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZVxuICAgKi9cbiAgaGFuZGxlTW92ZShlKSB7XG4gICAgaWYgKCF0aGlzLmdyYWJiZWQpIHJldHVybjtcbiAgICBjb25zdCB0b3VjaGVzID0gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyhlKS5jaGFuZ2VkVG91Y2hlcztcbiAgICBjb25zdCBldmVudFggPSB0b3VjaGVzID8gdG91Y2hlc1swXS5jbGllbnRYIDogLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyhlKS5jbGllbnRYO1xuICAgIGNvbnN0IGV2ZW50WSA9IHRvdWNoZXMgPyB0b3VjaGVzWzBdLmNsaWVudFkgOiAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovKGUpLmNsaWVudFk7XG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLnRyYW5zZm9ybXMubm9ybWFsaXplUG9pbnQoZXZlbnRYLCBldmVudFkpO1xuICAgIGNvbnN0IG1vdmVkWCA9IHggLSB0aGlzLnBvaW50ZXJbNl07XG4gICAgY29uc3QgbW92ZWRZID0geSAtIHRoaXMucG9pbnRlcls3XTtcblxuICAgIGxldCAkcGFyZW50ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8oZS50YXJnZXQpO1xuICAgIGxldCBpc0F0VG9wID0gZmFsc2U7XG4gICAgbGV0IGlzQXRCb3R0b20gPSBmYWxzZTtcbiAgICBsZXQgY2FuVG91Y2hTY3JvbGwgPSBmYWxzZTtcblxuICAgIHdoaWxlICh0b3VjaGVzICYmICRwYXJlbnQgJiYgJHBhcmVudCAhPT0gdGhpcy4kdHJpZ2dlcikge1xuICAgICAgY29uc3Qgb3ZlcmZsb3dZID0gZ2V0VGFyZ2V0VmFsdWUoJHBhcmVudCwgJ292ZXJmbG93LXknKTtcbiAgICAgIGlmIChvdmVyZmxvd1kgIT09ICdoaWRkZW4nICYmIG92ZXJmbG93WSAhPT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCB9ID0gJHBhcmVudDtcbiAgICAgICAgaWYgKHNjcm9sbEhlaWdodCA+IGNsaWVudEhlaWdodCkge1xuICAgICAgICAgIGNhblRvdWNoU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgICBpc0F0VG9wID0gc2Nyb2xsVG9wIDw9IDM7XG4gICAgICAgICAgaXNBdEJvdHRvbSA9IHNjcm9sbFRvcCA+PSAoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0KSAtIDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICRwYXJlbnQgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLygkcGFyZW50LnBhcmVudE5vZGUpO1xuICAgIH1cblxuICAgIGlmIChjYW5Ub3VjaFNjcm9sbCAmJiAoKCFpc0F0VG9wICYmICFpc0F0Qm90dG9tKSB8fCAoaXNBdFRvcCAmJiBtb3ZlZFkgPCAwKSB8fCAoaXNBdEJvdHRvbSAmJiBtb3ZlZFkgPiAwKSkpIHtcblxuICAgICAgdGhpcy5wb2ludGVyWzBdID0geDtcbiAgICAgIHRoaXMucG9pbnRlclsxXSA9IHk7XG4gICAgICB0aGlzLnBvaW50ZXJbMl0gPSB4O1xuICAgICAgdGhpcy5wb2ludGVyWzNdID0geTtcbiAgICAgIHRoaXMucG9pbnRlcls0XSA9IHg7XG4gICAgICB0aGlzLnBvaW50ZXJbNV0gPSB5O1xuICAgICAgdGhpcy5wb2ludGVyWzZdID0geDtcbiAgICAgIHRoaXMucG9pbnRlcls3XSA9IHk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcblxuICAgICAgLy8gTmVlZGVkIHRvIHByZXZlbnRzIGNsaWNrIG9uIGhhbmRsZVVwXG4gICAgICBpZiAoIXRoaXMudHJpZ2dlclN0eWxlcykgdGhpcy50cmlnZ2VyU3R5bGVzID0gc2V0VGFyZ2V0VmFsdWVzKHRoaXMuJHRyaWdnZXIsIHsgcG9pbnRlckV2ZW50czogJ25vbmUnIH0pO1xuICAgICAgLy8gTmVlZGVkIHRvIHByZXZlbnQgcGFnZSBzY3JvbGwgd2hpbGUgZHJhZ2dpbmcgb24gdG91Y2ggZGV2dmljZVxuICAgICAgdGhpcy4kdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcHJldmVudERlZmF1bHQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICB0aGlzLiR0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgdGhpcy4kdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHByZXZlbnREZWZhdWx0KTtcblxuXG4gICAgICBpZiAoKCF0aGlzLmRpc2FibGVkWzBdICYmIGFicyhtb3ZlZFgpID4gMykgfHwgKCF0aGlzLmRpc2FibGVkWzFdICYmIGFicyhtb3ZlZFkpID4gMykpIHtcblxuICAgICAgICB0aGlzLnVwZGF0ZVRpY2tlci5yZXN1bWUoKTtcbiAgICAgICAgdGhpcy5wb2ludGVyWzJdID0gdGhpcy5wb2ludGVyWzBdO1xuICAgICAgICB0aGlzLnBvaW50ZXJbM10gPSB0aGlzLnBvaW50ZXJbMV07XG4gICAgICAgIHRoaXMucG9pbnRlclswXSA9IHg7XG4gICAgICAgIHRoaXMucG9pbnRlclsxXSA9IHk7XG4gICAgICAgIHRoaXMuZHJhZ2dlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVsZWFzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkRyYWcodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlVXAoKSB7XG5cbiAgICBpZiAoIXRoaXMuZ3JhYmJlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy51cGRhdGVUaWNrZXIucGF1c2UoKTtcblxuICAgIGlmICh0aGlzLnRyaWdnZXJTdHlsZXMpIHtcbiAgICAgIHRoaXMudHJpZ2dlclN0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMudHJpZ2dlclN0eWxlcyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm9keVN0eWxlcykge1xuICAgICAgdGhpcy5ib2R5U3R5bGVzLnJldmVydCgpO1xuICAgICAgdGhpcy5ib2R5U3R5bGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBbIGRpc2FibGVkWCwgZGlzYWJsZWRZIF0gPSB0aGlzLmRpc2FibGVkO1xuICAgIGNvbnN0IFsgcHgxLCBweTEsIHB4MiwgcHkyLCBweDMsIHB5MyBdID0gdGhpcy5wb2ludGVyO1xuICAgIGNvbnN0IFsgY3QsIGNyLCBjYiwgY2wgXSA9IHRoaXMuY29udGFpbmVyQm91bmRzO1xuICAgIGNvbnN0IFsgc3gsIHN5IF0gPSB0aGlzLnNuYXBwZWQ7XG4gICAgY29uc3Qgc3ByaW5nWCA9IHRoaXMucmVsZWFzZVhTcHJpbmc7XG4gICAgY29uc3Qgc3ByaW5nWSA9IHRoaXMucmVsZWFzZVlTcHJpbmc7XG4gICAgY29uc3QgcmVsZWFzZUVhc2UgPSB0aGlzLnJlbGVhc2VFYXNlO1xuICAgIGNvbnN0IGhhc1JlbGVhc2VTcHJpbmcgPSB0aGlzLmhhc1JlbGVhc2VTcHJpbmc7XG4gICAgY29uc3Qgb3ZlcnNob290Q29vcmRzID0gdGhpcy5vdmVyc2hvb3RDb29yZHM7XG4gICAgY29uc3QgY3ggPSB0aGlzLng7XG4gICAgY29uc3QgY3kgPSB0aGlzLnk7XG4gICAgY29uc3QgcHYgPSB0aGlzLmNvbXB1dGVWZWxvY2l0eShweDEgLSBweDMsIHB5MSAtIHB5Myk7XG4gICAgY29uc3QgcGEgPSB0aGlzLmFuZ2xlID0gYXRhbjIocHkxIC0gcHkyLCBweDEgLSBweDIpO1xuICAgIGNvbnN0IGRzID0gcHYgKiAxNTA7XG4gICAgY29uc3QgY2YgPSAoMSAtIHRoaXMucmVsZWFzZUNvbnRhaW5lckZyaWN0aW9uKSAqIHRoaXMuZHJhZ1NwZWVkO1xuICAgIGNvbnN0IG54ID0gY3ggKyAoY29zKHBhKSAqIGRzKTtcbiAgICBjb25zdCBueSA9IGN5ICsgKHNpbihwYSkgKiBkcyk7XG4gICAgY29uc3QgYnggPSBueCA+IGNyID8gY3IgKyAobnggLSBjcikgKiBjZiA6IG54IDwgY2wgPyBjbCArIChueCAtIGNsKSAqIGNmIDogbng7XG4gICAgY29uc3QgYnkgPSBueSA+IGNiID8gY2IgKyAobnkgLSBjYikgKiBjZiA6IG55IDwgY3QgPyBjdCArIChueSAtIGN0KSAqIGNmIDogbnk7XG4gICAgY29uc3QgZHggPSB0aGlzLmRlc3RYID0gY2xhbXAocm91bmQoc25hcChieCwgdGhpcy5zbmFwWCksIDUpLCBjbCwgY3IpO1xuICAgIGNvbnN0IGR5ID0gdGhpcy5kZXN0WSA9IGNsYW1wKHJvdW5kKHNuYXAoYnksIHRoaXMuc25hcFkpLCA1KSwgY3QsIGNiKTtcbiAgICBjb25zdCBvYiA9IHRoaXMuaXNPdXRPZkJvdW5kcyh0aGlzLmNvbnRhaW5lckJvdW5kcywgbngsIG55KTtcblxuICAgIGxldCBkdXJhdGlvblggPSAwO1xuICAgIGxldCBkdXJhdGlvblkgPSAwO1xuICAgIGxldCBlYXNlWCA9IHJlbGVhc2VFYXNlO1xuICAgIGxldCBlYXNlWSA9IHJlbGVhc2VFYXNlO1xuICAgIGxldCBsb25nZXN0UmVsZWFzZUR1cmF0aW9uID0gMDtcblxuICAgIG92ZXJzaG9vdENvb3Jkcy54ID0gY3g7XG4gICAgb3ZlcnNob290Q29vcmRzLnkgPSBjeTtcblxuICAgIGlmICghZGlzYWJsZWRYKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb25YID0gZHggPT09IGNyID8gY3ggPiBjciA/IC0xIDogMSA6IGN4IDwgY2wgPyAtMSA6IDE7XG4gICAgICBjb25zdCBkaXN0YW5jZVggPSByb3VuZChjeCAtIGR4LCAwKTtcbiAgICAgIHNwcmluZ1gudmVsb2NpdHkgPSBkaXNhYmxlZFkgJiYgaGFzUmVsZWFzZVNwcmluZyA/IGRpc3RhbmNlWCA/IChkcyAqIGRpcmVjdGlvblgpIC8gYWJzKGRpc3RhbmNlWCkgOiAwIDogcHY7XG4gICAgICBjb25zdCB7IGVhc2UsIGR1cmF0aW9uLCByZXN0RHVyYXRpb24gfSA9IHNwcmluZ1g7XG4gICAgICBkdXJhdGlvblggPSBjeCA9PT0gZHggPyAwIDogaGFzUmVsZWFzZVNwcmluZyA/IGR1cmF0aW9uIDogZHVyYXRpb24gLSAocmVzdER1cmF0aW9uICogZ2xvYmFscy50aW1lU2NhbGUpO1xuICAgICAgaWYgKGhhc1JlbGVhc2VTcHJpbmcpIGVhc2VYID0gZWFzZTtcbiAgICAgIGlmIChkdXJhdGlvblggPiBsb25nZXN0UmVsZWFzZUR1cmF0aW9uKSBsb25nZXN0UmVsZWFzZUR1cmF0aW9uID0gZHVyYXRpb25YO1xuICAgIH1cblxuICAgIGlmICghZGlzYWJsZWRZKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb25ZID0gZHkgPT09IGNiID8gY3kgPiBjYiA/IC0xIDogMSA6IGN5IDwgY3QgPyAtMSA6IDE7XG4gICAgICBjb25zdCBkaXN0YW5jZVkgPSByb3VuZChjeSAtIGR5LCAwKTtcbiAgICAgIHNwcmluZ1kudmVsb2NpdHkgPSBkaXNhYmxlZFggJiYgaGFzUmVsZWFzZVNwcmluZyA/IGRpc3RhbmNlWSA/IChkcyAqIGRpcmVjdGlvblkpIC8gYWJzKGRpc3RhbmNlWSkgOiAwIDogcHY7XG4gICAgICBjb25zdCB7IGVhc2UsIGR1cmF0aW9uLCByZXN0RHVyYXRpb24gfSA9IHNwcmluZ1k7XG4gICAgICBkdXJhdGlvblkgPSBjeSA9PT0gZHkgPyAwIDogaGFzUmVsZWFzZVNwcmluZyA/IGR1cmF0aW9uIDogZHVyYXRpb24gLSAocmVzdER1cmF0aW9uICogZ2xvYmFscy50aW1lU2NhbGUpO1xuICAgICAgaWYgKGhhc1JlbGVhc2VTcHJpbmcpIGVhc2VZID0gZWFzZTtcbiAgICAgIGlmIChkdXJhdGlvblkgPiBsb25nZXN0UmVsZWFzZUR1cmF0aW9uKSBsb25nZXN0UmVsZWFzZUR1cmF0aW9uID0gZHVyYXRpb25ZO1xuICAgIH1cblxuICAgIGlmICghaGFzUmVsZWFzZVNwcmluZyAmJiBvYiAmJiBjZiAmJiAoZHVyYXRpb25YIHx8IGR1cmF0aW9uWSkpIHtcblxuICAgICAgICBjb25zdCBjb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uVHlwZXMuYmxlbmQ7XG5cbiAgICAgICAgbmV3IEpTQW5pbWF0aW9uKG92ZXJzaG9vdENvb3Jkcywge1xuICAgICAgICAgIHg6IHsgdG86IGJ4LCBkdXJhdGlvbjogZHVyYXRpb25YICogLjY1IH0sXG4gICAgICAgICAgeTogeyB0bzogYnksIGR1cmF0aW9uOiBkdXJhdGlvblkgKiAuNjUgfSxcbiAgICAgICAgICBlYXNlOiByZWxlYXNlRWFzZSxcbiAgICAgICAgICBjb21wb3NpdGlvbixcbiAgICAgICAgfSkuaW5pdCgpO1xuXG4gICAgICAgIG5ldyBKU0FuaW1hdGlvbihvdmVyc2hvb3RDb29yZHMsIHtcbiAgICAgICAgICB4OiB7IHRvOiBkeCwgZHVyYXRpb246IGR1cmF0aW9uWCB9LFxuICAgICAgICAgIHk6IHsgdG86IGR5LCBkdXJhdGlvbjogZHVyYXRpb25ZIH0sXG4gICAgICAgICAgZWFzZTogcmVsZWFzZUVhc2UsXG4gICAgICAgICAgY29tcG9zaXRpb24sXG4gICAgICAgIH0pLmluaXQoKTtcblxuICAgICAgICB0aGlzLm92ZXJzaG9vdFhUaWNrZXIuc3RyZXRjaChkdXJhdGlvblgpLnJlc3RhcnQoKTtcbiAgICAgICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyLnN0cmV0Y2goZHVyYXRpb25ZKS5yZXN0YXJ0KCk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAoIWRpc2FibGVkWCkgdGhpcy5hbmltYXRlW3RoaXMueFByb3BdKGR4LCBkdXJhdGlvblgsIGVhc2VYKTtcbiAgICAgIGlmICghZGlzYWJsZWRZKSB0aGlzLmFuaW1hdGVbdGhpcy55UHJvcF0oZHksIGR1cmF0aW9uWSwgZWFzZVkpO1xuXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGxJblZpZXcobG9uZ2VzdFJlbGVhc2VEdXJhdGlvbiwgdGhpcy5zY3JvbGxUaHJlc2hvbGQsIHJlbGVhc2VFYXNlKTtcblxuICAgIGxldCBoYXNTbmFwcGVkID0gZmFsc2U7XG5cbiAgICBpZiAoZHggIT09IHN4KSB7XG4gICAgICB0aGlzLnNuYXBwZWRbMF0gPSBkeDtcbiAgICAgIGlmICh0aGlzLnNuYXBYKSBoYXNTbmFwcGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZHkgIT09IHN5ICYmIHRoaXMuc25hcFkpIHtcbiAgICAgIHRoaXMuc25hcHBlZFsxXSA9IGR5O1xuICAgICAgaWYgKHRoaXMuc25hcFkpIGhhc1NuYXBwZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChoYXNTbmFwcGVkKSB0aGlzLm9uU25hcCh0aGlzKTtcblxuICAgIHRoaXMuZ3JhYmJlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgIHRoaXMudXBkYXRlZCA9IHRydWU7XG4gICAgdGhpcy5yZWxlYXNlZCA9IHRydWU7XG5cbiAgICAvLyBJdCdzIGltcG9ydGFudCB0byB0cmlnZ2VyIHRoZSBjYWxsYmFjayBhZnRlciB0aGUgcmVsZWFzZSBhbmltYXRpb25zIHRvIGJlIGFibGUgdG8gY2FuY2VsIHRoZW1cbiAgICB0aGlzLm9uUmVsZWFzZSh0aGlzKTtcblxuICAgIHRoaXMuJHRyaWdnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHByZXZlbnREZWZhdWx0KTtcbiAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnREZWZhdWx0KTtcbiAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgcHJldmVudERlZmF1bHQpO1xuXG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHRoaXMpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5yZXNpemVUaWNrZXIucGF1c2UoKTtcbiAgICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbGVhc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jYW5TY3JvbGwgPSBmYWxzZTtcbiAgICB0aGlzLnNldFgoMCwgdHJ1ZSk7XG4gICAgdGhpcy5zZXRZKDAsIHRydWUpO1xuICAgIHRoaXMuY29vcmRzWzBdID0gMDtcbiAgICB0aGlzLmNvb3Jkc1sxXSA9IDA7XG4gICAgdGhpcy5wb2ludGVyWzBdID0gMDtcbiAgICB0aGlzLnBvaW50ZXJbMV0gPSAwO1xuICAgIHRoaXMucG9pbnRlclsyXSA9IDA7XG4gICAgdGhpcy5wb2ludGVyWzNdID0gMDtcbiAgICB0aGlzLnBvaW50ZXJbNF0gPSAwO1xuICAgIHRoaXMucG9pbnRlcls1XSA9IDA7XG4gICAgdGhpcy5wb2ludGVyWzZdID0gMDtcbiAgICB0aGlzLnBvaW50ZXJbN10gPSAwO1xuICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMudmVsb2NpdHlTdGFja1swXSA9IDA7XG4gICAgdGhpcy52ZWxvY2l0eVN0YWNrWzFdID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMl0gPSAwO1xuICAgIHRoaXMudmVsb2NpdHlTdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGVuYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgdGhpcy50b3VjaEFjdGlvblN0eWxlcyA9IHNldFRhcmdldFZhbHVlcyh0aGlzLiR0cmlnZ2VyLCB7XG4gICAgICAgIHRvdWNoQWN0aW9uOiB0aGlzLmRpc2FibGVkWzBdID8gJ3Bhbi14JyA6IHRoaXMuZGlzYWJsZWRbMV0gPyAncGFuLXknIDogJ25vbmUnXG4gICAgICB9KTtcbiAgICAgIHRoaXMuJHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIHRoaXMuJHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgdGhpcy4kdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbGVhc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jYW5TY3JvbGwgPSBmYWxzZTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uU3R5bGVzLnJldmVydCgpO1xuICAgIGlmICh0aGlzLmN1cnNvclN0eWxlcykge1xuICAgICAgdGhpcy5jdXJzb3JTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLmN1cnNvclN0eWxlcyA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLnRyaWdnZXJTdHlsZXMpIHtcbiAgICAgIHRoaXMudHJpZ2dlclN0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMudHJpZ2dlclN0eWxlcyA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmJvZHlTdHlsZXMpIHtcbiAgICAgIHRoaXMuYm9keVN0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMuYm9keVN0eWxlcyA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLnRhcmdldFN0eWxlcykge1xuICAgICAgdGhpcy50YXJnZXRTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLnRhcmdldFN0eWxlcyA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMuJHRhcmdldC5jbGFzc0xpc3QuYWRkKCdpcy1kaXNhYmxlZCcpO1xuICAgIHRoaXMuJHRyaWdnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMpO1xuICAgIHRoaXMuJHRyaWdnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcyk7XG4gICAgdGhpcy4kdHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcyk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV2ZXJ0KCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB0aGlzLiR0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZGlzYWJsZWQnKTtcbiAgICB0aGlzLnVwZGF0ZVRpY2tlci5yZXZlcnQoKTtcbiAgICB0aGlzLm92ZXJzaG9vdFhUaWNrZXIucmV2ZXJ0KCk7XG4gICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyLnJldmVydCgpO1xuICAgIHRoaXMucmVzaXplVGlja2VyLnJldmVydCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIGhhbmRsZUV2ZW50KGUpIHtcbiAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgICAgdGhpcy5oYW5kbGVEb3duKC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8oZSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvdWNoc3RhcnQnOlxuICAgICAgICB0aGlzLmhhbmRsZURvd24oLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyhlKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW91c2Vtb3ZlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb3ZlKC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8oZSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvdWNobW92ZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW92ZSgvKiogQHR5cGUge1RvdWNoRXZlbnR9ICovKGUpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgICAgdGhpcy5oYW5kbGVVcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvdWNoZW5kJzpcbiAgICAgICAgdGhpcy5oYW5kbGVVcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvdWNoY2FuY2VsJzpcbiAgICAgICAgdGhpcy5oYW5kbGVVcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vdXNlZW50ZXInOlxuICAgICAgICB0aGlzLmhhbmRsZUhvdmVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsZWN0c3RhcnQnOlxuICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHRhcmdldFxuICogQHBhcmFtIHtEcmFnZ2FibGVQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICogQHJldHVybiB7RHJhZ2dhYmxlfVxuICovXG5jb25zdCBjcmVhdGVEcmFnZ2FibGUgPSAodGFyZ2V0LCBwYXJhbWV0ZXJzKSA9PiBuZXcgRHJhZ2dhYmxlKHRhcmdldCwgcGFyYW1ldGVycyk7XG5cblxuXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVhY3RSZWZcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8U1ZHRWxlbWVudHxudWxsfSBbY3VycmVudF1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuZ3VsYXJSZWZcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8U1ZHRWxlbWVudH0gW25hdGl2ZUVsZW1lbnRdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTY29wZVBhcmFtc1xuICogQHByb3BlcnR5IHtET01UYXJnZXRTZWxlY3RvcnxSZWFjdFJlZnxBbmd1bGFyUmVmfSBbcm9vdF1cbiAqIEBwcm9wZXJ0eSB7RGVmYXVsdHNQYXJhbXN9IFtkZWZhdWx0c11cbiAqIEBwcm9wZXJ0eSB7UmVjb3JkPFN0cmluZywgU3RyaW5nPn0gW21lZGlhUXVlcmllc11cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTY29wZUNsZWFudXBcbiAqIEBwYXJhbSB7U2NvcGV9IFtzY29wZV1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTY29wZUNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1Njb3BlfSBbc2NvcGVdXG4gKiBAcmV0dXJuIHtTY29wZUNsZWFudXB8dm9pZH1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTY29wZU1ldGhvZFxuICogQHBhcmFtIHsuLi4qfSBhcmdzXG4gKiBAcmV0dXJuIHtTY29wZUNsZWFudXB8dm9pZH1cbiAqL1xuXG5jbGFzcyBTY29wZSB7XG4gIC8qKiBAcGFyYW0ge1Njb3BlUGFyYW1zfSBbcGFyYW1ldGVyc10gKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHt9KSB7XG4gICAgaWYgKGdsb2JhbHMuc2NvcGUpIGdsb2JhbHMuc2NvcGUucmV2ZXJ0aWJsZXMucHVzaCh0aGlzKTtcbiAgICBjb25zdCByb290UGFyYW0gPSBwYXJhbWV0ZXJzLnJvb3Q7XG4gICAgLyoqIEB0eXBlIHtEb2N1bWVudHxET01UYXJnZXR9ICovXG4gICAgbGV0IHJvb3QgPSBkb2M7XG4gICAgaWYgKHJvb3RQYXJhbSkge1xuICAgICAgcm9vdCA9IC8qKiBAdHlwZSB7UmVhY3RSZWZ9ICovKHJvb3RQYXJhbSkuY3VycmVudCB8fFxuICAgICAgICAgICAgIC8qKiBAdHlwZSB7QW5ndWxhclJlZn0gKi8ocm9vdFBhcmFtKS5uYXRpdmVFbGVtZW50IHx8XG4gICAgICAgICAgICAgcGFyc2VUYXJnZXRzKC8qKiBAdHlwZSB7RE9NVGFyZ2V0U2VsZWN0b3J9ICovKHJvb3RQYXJhbSkpWzBdIHx8XG4gICAgICAgICAgICAgZG9jO1xuICAgIH1cbiAgICBjb25zdCBzY29wZURlZmF1bHRzID0gcGFyYW1ldGVycy5kZWZhdWx0cztcbiAgICBjb25zdCBnbG9iYWxEZWZhdWx0ID0gZ2xvYmFscy5kZWZhdWx0cztcbiAgICBjb25zdCBtZWRpYVF1ZXJpZXMgPSBwYXJhbWV0ZXJzLm1lZGlhUXVlcmllcztcbiAgICAvKiogQHR5cGUge0RlZmF1bHRzUGFyYW1zfSAqL1xuICAgIHRoaXMuZGVmYXVsdHMgPSBzY29wZURlZmF1bHRzID8gbWVyZ2VPYmplY3RzKHNjb3BlRGVmYXVsdHMsIGdsb2JhbERlZmF1bHQpIDogZ2xvYmFsRGVmYXVsdDtcbiAgICAvKiogQHR5cGUge0RvY3VtZW50fERPTVRhcmdldH0gKi9cbiAgICB0aGlzLnJvb3QgPSByb290O1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8U2NvcGVDb25zdHJ1Y3Rvcj59ICovXG4gICAgdGhpcy5jb25zdHJ1Y3RvcnMgPSBbXTtcbiAgICAvKiogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn0gKi9cbiAgICB0aGlzLnJldmVydENvbnN0cnVjdG9ycyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8UmV2ZXJ0aWJsZT59ICovXG4gICAgdGhpcy5yZXZlcnRpYmxlcyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7UmVjb3JkPFN0cmluZywgRnVuY3Rpb24+fSAqL1xuICAgIHRoaXMubWV0aG9kcyA9IHt9O1xuICAgIC8qKiBAdHlwZSB7UmVjb3JkPFN0cmluZywgQm9vbGVhbj59ICovXG4gICAgdGhpcy5tYXRjaGVzID0ge307XG4gICAgLyoqIEB0eXBlIHtSZWNvcmQ8U3RyaW5nLCBNZWRpYVF1ZXJ5TGlzdD59ICovXG4gICAgdGhpcy5tZWRpYVF1ZXJ5TGlzdHMgPSB7fTtcbiAgICAvKiogQHR5cGUge1JlY29yZDxTdHJpbmcsIGFueT59ICovXG4gICAgdGhpcy5kYXRhID0ge307XG4gICAgaWYgKG1lZGlhUXVlcmllcykge1xuICAgICAgZm9yIChsZXQgbXEgaW4gbWVkaWFRdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IF9tcSA9IHdpbi5tYXRjaE1lZGlhKG1lZGlhUXVlcmllc1ttcV0pO1xuICAgICAgICB0aGlzLm1lZGlhUXVlcnlMaXN0c1ttcV0gPSBfbXE7XG4gICAgICAgIF9tcS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGNhbGxiYWNrIFNjb3BwZWRDYWxsYmFja1xuICAgKiBAcGFyYW0ge3RoaXN9IHNjb3BlXG4gICAqIEByZXR1cm4ge2FueX1cbiAgICpcbiAgICogQHBhcmFtIHtTY29wcGVkQ2FsbGJhY2t9IGNiXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBleGVjdXRlKGNiKSB7XG4gICAgbGV0IGFjdGl2ZVNjb3BlID0gZ2xvYmFscy5zY29wZTtcbiAgICBsZXQgYWN0aXZlUm9vdCA9IGdsb2JhbHMucm9vdDtcbiAgICBsZXQgYWN0aXZlRGVmYXVsdHMgPSBnbG9iYWxzLmRlZmF1bHRzO1xuICAgIGdsb2JhbHMuc2NvcGUgPSB0aGlzO1xuICAgIGdsb2JhbHMucm9vdCA9IHRoaXMucm9vdDtcbiAgICBnbG9iYWxzLmRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cztcbiAgICBjb25zdCBtcXMgPSB0aGlzLm1lZGlhUXVlcnlMaXN0cztcbiAgICBmb3IgKGxldCBtcSBpbiBtcXMpIHRoaXMubWF0Y2hlc1ttcV0gPSBtcXNbbXFdLm1hdGNoZXM7XG4gICAgY29uc3QgcmV0dXJuZWQgPSBjYih0aGlzKTtcbiAgICBnbG9iYWxzLnNjb3BlID0gYWN0aXZlU2NvcGU7XG4gICAgZ2xvYmFscy5yb290ID0gYWN0aXZlUm9vdDtcbiAgICBnbG9iYWxzLmRlZmF1bHRzID0gYWN0aXZlRGVmYXVsdHM7XG4gICAgcmV0dXJuIHJldHVybmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICByZWZyZXNoKCkge1xuICAgIHRoaXMuZXhlY3V0ZSgoKSA9PiB7XG4gICAgICBsZXQgaSA9IHRoaXMucmV2ZXJ0aWJsZXMubGVuZ3RoO1xuICAgICAgbGV0IHkgPSB0aGlzLnJldmVydENvbnN0cnVjdG9ycy5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB0aGlzLnJldmVydGlibGVzW2ldLnJldmVydCgpO1xuICAgICAgd2hpbGUgKHktLSkgdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnNbeV0odGhpcyk7XG4gICAgICB0aGlzLnJldmVydGlibGVzLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLnJldmVydENvbnN0cnVjdG9ycy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5jb25zdHJ1Y3RvcnMuZm9yRWFjaCggY29uc3RydWN0b3IgPT4ge1xuICAgICAgICBjb25zdCByZXZlcnRDb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICBpZiAocmV2ZXJ0Q29uc3RydWN0b3IpIHtcbiAgICAgICAgICB0aGlzLnJldmVydENvbnN0cnVjdG9ycy5wdXNoKHJldmVydENvbnN0cnVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQGNhbGxiYWNrIGNvbnRydWN0b3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge3RoaXN9IHNlbGZcbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhMVxuICAgKiBAcGFyYW0ge1Njb3BlTWV0aG9kfSBhMlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtjb250cnVjdG9yQ2FsbGJhY2t9IGExXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfGNvbnRydWN0b3JDYWxsYmFja30gYTFcbiAgICogQHBhcmFtIHtTY29wZU1ldGhvZH0gW2EyXVxuICAgKi9cbiAgYWRkKGExLCBhMikge1xuICAgIGlmIChpc0ZuYyhhMSkpIHtcbiAgICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gLyoqIEB0eXBlIHtjb250cnVjdG9yQ2FsbGJhY2t9ICovKGExKTtcbiAgICAgIHRoaXMuY29uc3RydWN0b3JzLnB1c2goY29uc3RydWN0b3IpO1xuICAgICAgdGhpcy5leGVjdXRlKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmV2ZXJ0Q29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgaWYgKHJldmVydENvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnMucHVzaChyZXZlcnRDb25zdHJ1Y3Rvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1ldGhvZHNbLyoqIEB0eXBlIHtTdHJpbmd9ICovKGExKV0gPSAoLyoqIEB0eXBlIHthbnl9ICovLi4uYXJncykgPT4gdGhpcy5leGVjdXRlKCgpID0+IGEyKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgaGFuZGxlRXZlbnQoZSkge1xuICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICBjYXNlICdjaGFuZ2UnOlxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV2ZXJ0KCkge1xuICAgIGNvbnN0IHJldmVydGlibGVzID0gdGhpcy5yZXZlcnRpYmxlcztcbiAgICBjb25zdCByZXZlcnRDb25zdHJ1Y3RvcnMgPSB0aGlzLnJldmVydENvbnN0cnVjdG9ycztcbiAgICBjb25zdCBtcXMgPSB0aGlzLm1lZGlhUXVlcnlMaXN0cztcbiAgICBsZXQgaSA9IHJldmVydGlibGVzLmxlbmd0aDtcbiAgICBsZXQgeSA9IHJldmVydENvbnN0cnVjdG9ycy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkgcmV2ZXJ0aWJsZXNbaV0ucmV2ZXJ0KCk7XG4gICAgd2hpbGUgKHktLSkgcmV2ZXJ0Q29uc3RydWN0b3JzW3ldKHRoaXMpO1xuICAgIGZvciAobGV0IG1xIGluIG1xcykgbXFzW21xXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzKTtcbiAgICByZXZlcnRpYmxlcy5sZW5ndGggPSAwO1xuICAgIHJldmVydENvbnN0cnVjdG9ycy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY29uc3RydWN0b3JzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5tYXRjaGVzID0ge307XG4gICAgdGhpcy5tZXRob2RzID0ge307XG4gICAgdGhpcy5tZWRpYVF1ZXJ5TGlzdHMgPSB7fTtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7U2NvcGVQYXJhbXN9IFtwYXJhbXNdXG4gKiBAcmV0dXJuIHtTY29wZX1cbiAqL1xuY29uc3QgY3JlYXRlU2NvcGUgPSBwYXJhbXMgPT4gbmV3IFNjb3BlKHBhcmFtcyk7XG5cbi8qKlxuICogQHR5cGVkZWYge1N0cmluZ3xOdW1iZXJ9IFNjcm9sbFRocmVzaG9sZFZhbHVlXG4gKi9cblxuLyoqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGdldE1heFZpZXdIZWlnaHQgPSAoKSA9PiB7XG4gIGNvbnN0ICRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb2MuYm9keS5hcHBlbmRDaGlsZCgkZWwpO1xuICAkZWwuc3R5bGUuaGVpZ2h0ID0gJzEwMGx2aCc7XG4gIGNvbnN0IGhlaWdodCA9ICRlbC5vZmZzZXRIZWlnaHQ7XG4gIGRvYy5ib2R5LnJlbW92ZUNoaWxkKCRlbCk7XG4gIHJldHVybiBoZWlnaHQ7XG59O1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7U2Nyb2xsVGhyZXNob2xkVmFsdWV8U3RyaW5nfE51bWJlcnxCb29sZWFufEZ1bmN0aW9ufE9iamVjdH0gVFxuICogQHBhcmFtIHtUIHwgKChvYnNlcnZlcjogU2Nyb2xsT2JzZXJ2ZXIpID0+IFQpfSB2YWx1ZVxuICogQHBhcmFtIHtTY3JvbGxPYnNlcnZlcn0gc2Nyb2xsZXJcbiAqIEByZXR1cm4ge1R9XG4gKi9cbmNvbnN0IHBhcnNlU2Nyb2xsT2JzZXJ2ZXJGdW5jdGlvblBhcmFtZXRlciA9ICh2YWx1ZSwgc2Nyb2xsZXIpID0+IHZhbHVlICYmIGlzRm5jKHZhbHVlKSA/IC8qKiBAdHlwZSB7RnVuY3Rpb259ICovKHZhbHVlKShzY3JvbGxlcikgOiB2YWx1ZTtcblxuY29uc3Qgc2Nyb2xsQ29udGFpbmVycyA9IG5ldyBNYXAoKTtcblxuY2xhc3MgU2Nyb2xsQ29udGFpbmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICRlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoJGVsKSB7XG4gICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbiAgICB0aGlzLmVsZW1lbnQgPSAkZWw7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMudXNlV2luID0gdGhpcy5lbGVtZW50ID09PSBkb2MuYm9keTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLndpbldpZHRoID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLndpbkhlaWdodCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMubGVmdCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy50b3AgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuekluZGV4ID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnNjcm9sbFggPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuc2Nyb2xsWSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2U2Nyb2xsWCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2U2Nyb2xsWSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5zY3JvbGxXaWR0aCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmJhY2t3YXJkWCA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmJhY2t3YXJkWSA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7VGltZXJ9ICovXG4gICAgdGhpcy5zY3JvbGxUaWNrZXIgPSBuZXcgVGltZXIoe1xuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgb25CZWdpbjogKCkgPT4gdGhpcy5kYXRhVGltZXIucmVzdW1lKCksXG4gICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBiYWNrd2FyZHMgPSB0aGlzLmJhY2t3YXJkWCB8fCB0aGlzLmJhY2t3YXJkWTtcbiAgICAgICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqL2NoaWxkKSA9PiBjaGlsZC5oYW5kbGVTY3JvbGwoKSwgYmFja3dhcmRzKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB0aGlzLmRhdGFUaW1lci5wYXVzZSgpXG4gICAgfSkuaW5pdCgpO1xuICAgIC8qKiBAdHlwZSB7VGltZXJ9ICovXG4gICAgdGhpcy5kYXRhVGltZXIgPSBuZXcgVGltZXIoe1xuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgZnJhbWVSYXRlOiAzMCxcbiAgICAgIG9uVXBkYXRlOiBzZWxmID0+IHtcbiAgICAgICAgY29uc3QgZHQgPSBzZWxmLmRlbHRhVGltZTtcbiAgICAgICAgY29uc3QgcHggPSB0aGlzLnByZXZTY3JvbGxYO1xuICAgICAgICBjb25zdCBweSA9IHRoaXMucHJldlNjcm9sbFk7XG4gICAgICAgIGNvbnN0IG54ID0gdGhpcy5zY3JvbGxYO1xuICAgICAgICBjb25zdCBueSA9IHRoaXMuc2Nyb2xsWTtcbiAgICAgICAgY29uc3QgZHggPSBweCAtIG54O1xuICAgICAgICBjb25zdCBkeSA9IHB5IC0gbnk7XG4gICAgICAgIHRoaXMucHJldlNjcm9sbFggPSBueDtcbiAgICAgICAgdGhpcy5wcmV2U2Nyb2xsWSA9IG55O1xuICAgICAgICBpZiAoZHgpIHRoaXMuYmFja3dhcmRYID0gcHggPiBueDtcbiAgICAgICAgaWYgKGR5KSB0aGlzLmJhY2t3YXJkWSA9IHB5ID4gbnk7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSByb3VuZChkdCA+IDAgPyBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIC8gZHQgOiAwLCA1KTtcbiAgICAgIH1cbiAgICB9KS5pbml0KCk7XG4gICAgLyoqIEB0eXBlIHtUaW1lcn0gKi9cbiAgICB0aGlzLnJlc2l6ZVRpY2tlciA9IG5ldyBUaW1lcih7XG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBkdXJhdGlvbjogMjUwICogZ2xvYmFscy50aW1lU2NhbGUsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlV2luZG93Qm91bmRzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaFNjcm9sbE9ic2VydmVycygpO1xuICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbCgpO1xuICAgICAgfVxuICAgIH0pLmluaXQoKTtcbiAgICAvKiogQHR5cGUge1RpbWVyfSAqL1xuICAgIHRoaXMud2FrZVRpY2tlciA9IG5ldyBUaW1lcih7XG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBkdXJhdGlvbjogNTAwICogZ2xvYmFscy50aW1lU2NhbGUsXG4gICAgICBvbkJlZ2luOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVGlja2VyLnJlc3VtZSgpO1xuICAgICAgfSxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxUaWNrZXIucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9KS5pbml0KCk7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi9cbiAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqL1xuICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgIHRoaXMudXBkYXRlU2Nyb2xsQ29vcmRzKCk7XG4gICAgdGhpcy51cGRhdGVXaW5kb3dCb3VuZHMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgIHRoaXMucmVmcmVzaFNjcm9sbE9ic2VydmVycygpO1xuICAgIHRoaXMuaGFuZGxlU2Nyb2xsKCk7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB0aGlzLnJlc2l6ZVRpY2tlci5yZXN0YXJ0KCkpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQpO1xuICAgICh0aGlzLnVzZVdpbiA/IHdpbiA6IHRoaXMuZWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcywgZmFsc2UpO1xuICB9XG5cbiAgdXBkYXRlU2Nyb2xsQ29vcmRzKCkge1xuICAgIGNvbnN0IHVzZVdpbiA9IHRoaXMudXNlV2luO1xuICAgIGNvbnN0ICRlbCA9IHRoaXMuZWxlbWVudDtcbiAgICB0aGlzLnNjcm9sbFggPSByb3VuZCh1c2VXaW4gPyB3aW4uc2Nyb2xsWCA6ICRlbC5zY3JvbGxMZWZ0LCAwKTtcbiAgICB0aGlzLnNjcm9sbFkgPSByb3VuZCh1c2VXaW4gPyB3aW4uc2Nyb2xsWSA6ICRlbC5zY3JvbGxUb3AsIDApO1xuICB9XG5cbiAgdXBkYXRlV2luZG93Qm91bmRzKCkge1xuICAgIHRoaXMud2luV2lkdGggPSB3aW4uaW5uZXJXaWR0aDtcbiAgICB0aGlzLndpbkhlaWdodCA9IGdldE1heFZpZXdIZWlnaHQoKTtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kcygpIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KTtcbiAgICBjb25zdCAkZWwgPSB0aGlzLmVsZW1lbnQ7XG4gICAgdGhpcy5zY3JvbGxXaWR0aCA9ICRlbC5zY3JvbGxXaWR0aCArIHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9ICRlbC5zY3JvbGxIZWlnaHQgKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblRvcCkgKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gICAgdGhpcy51cGRhdGVXaW5kb3dCb3VuZHMoKTtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgICBpZiAodGhpcy51c2VXaW4pIHtcbiAgICAgIHdpZHRoID0gdGhpcy53aW5XaWR0aDtcbiAgICAgIGhlaWdodCA9IHRoaXMud2luSGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbFJlY3QgPSAkZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB3aWR0aCA9IGVsUmVjdC53aWR0aDtcbiAgICAgIGhlaWdodCA9IGVsUmVjdC5oZWlnaHQ7XG4gICAgICB0aGlzLnRvcCA9IGVsUmVjdC50b3A7XG4gICAgICB0aGlzLmxlZnQgPSBlbFJlY3QubGVmdDtcbiAgICB9XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG5cbiAgcmVmcmVzaFNjcm9sbE9ic2VydmVycygpIHtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovY2hpbGQpID0+IHtcbiAgICAgIGlmIChjaGlsZC5fZGVidWcpIHtcbiAgICAgICAgY2hpbGQucmVtb3ZlRGVidWcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgIGZvckVhY2hDaGlsZHJlbih0aGlzLCAoLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi9jaGlsZCkgPT4ge1xuICAgICAgY2hpbGQucmVmcmVzaCgpO1xuICAgICAgaWYgKGNoaWxkLl9kZWJ1Zykge1xuICAgICAgICBjaGlsZC5kZWJ1ZygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLnVwZGF0ZVdpbmRvd0JvdW5kcygpO1xuICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgdGhpcy5yZWZyZXNoU2Nyb2xsT2JzZXJ2ZXJzKCk7XG4gICAgdGhpcy5oYW5kbGVTY3JvbGwoKTtcbiAgfVxuXG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICB0aGlzLnVwZGF0ZVNjcm9sbENvb3JkcygpO1xuICAgIHRoaXMud2FrZVRpY2tlci5yZXN0YXJ0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgaGFuZGxlRXZlbnQoZSkge1xuICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICBjYXNlICdzY3JvbGwnOlxuICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXZlcnQoKSB7XG4gICAgdGhpcy5zY3JvbGxUaWNrZXIuY2FuY2VsKCk7XG4gICAgdGhpcy5kYXRhVGltZXIuY2FuY2VsKCk7XG4gICAgdGhpcy5yZXNpemVUaWNrZXIuY2FuY2VsKCk7XG4gICAgdGhpcy53YWtlVGlja2VyLmNhbmNlbCgpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuZWxlbWVudCk7XG4gICAgKHRoaXMudXNlV2luID8gd2luIDogdGhpcy5lbGVtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzKTtcbiAgICBzY3JvbGxDb250YWluZXJzLmRlbGV0ZSh0aGlzLmVsZW1lbnQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHRhcmdldFxuICogQHJldHVybiB7U2Nyb2xsQ29udGFpbmVyfVxuICovXG5jb25zdCByZWdpc3RlckFuZEdldFNjcm9sbENvbnRhaW5lciA9IHRhcmdldCA9PiB7XG4gIGNvbnN0ICRlbCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHRhcmdldCA/IHBhcnNlVGFyZ2V0cyh0YXJnZXQpWzBdIHx8IGRvYy5ib2R5IDogZG9jLmJvZHkpO1xuICBsZXQgc2Nyb2xsQ29udGFpbmVyID0gc2Nyb2xsQ29udGFpbmVycy5nZXQoJGVsKTtcbiAgaWYgKCFzY3JvbGxDb250YWluZXIpIHtcbiAgICBzY3JvbGxDb250YWluZXIgPSBuZXcgU2Nyb2xsQ29udGFpbmVyKCRlbCk7XG4gICAgc2Nyb2xsQ29udGFpbmVycy5zZXQoJGVsLCBzY3JvbGxDb250YWluZXIpO1xuICB9XG4gIHJldHVybiBzY3JvbGxDb250YWluZXI7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICRlbFxuICogQHBhcmFtIHtOdW1iZXJ8c3RyaW5nfSB2XG4gKiBAcGFyYW0ge051bWJlcn0gc2l6ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFt1bmRlcl1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3Zlcl1cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgY29udmVydFZhbHVlVG9QeCA9ICgkZWwsIHYsIHNpemUsIHVuZGVyLCBvdmVyKSA9PiB7XG4gIGNvbnN0IGNsYW1wTWluID0gdiA9PT0gJ21pbic7XG4gIGNvbnN0IGNsYW1wTWF4ID0gdiA9PT0gJ21heCc7XG4gIGNvbnN0IHZhbHVlID0gdiA9PT0gJ3RvcCcgfHwgdiA9PT0gJ2xlZnQnIHx8IHYgPT09ICdzdGFydCcgfHwgY2xhbXBNaW4gPyAwIDpcbiAgICAgICAgICAgICAgICB2ID09PSAnYm90dG9tJyB8fCB2ID09PSAncmlnaHQnIHx8IHYgPT09ICdlbmQnIHx8IGNsYW1wTWF4ID8gJzEwMCUnIDpcbiAgICAgICAgICAgICAgICB2ID09PSAnY2VudGVyJyA/ICc1MCUnIDpcbiAgICAgICAgICAgICAgICB2O1xuICBjb25zdCB7IG4sIHUgfSA9IGRlY29tcG9zZVJhd1ZhbHVlKHZhbHVlLCBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSk7XG4gIGxldCBweCA9IG47XG4gIGlmICh1ID09PSAnJScpIHtcbiAgICBweCA9IChuIC8gMTAwKSAqIHNpemU7XG4gIH0gZWxzZSBpZiAodSkge1xuICAgIHB4ID0gY29udmVydFZhbHVlVW5pdCgkZWwsIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLCAncHgnLCB0cnVlKS5uO1xuICB9XG4gIGlmIChjbGFtcE1heCAmJiB1bmRlciA8IDApIHB4ICs9IHVuZGVyO1xuICBpZiAoY2xhbXBNaW4gJiYgb3ZlciA+IDApIHB4ICs9IG92ZXI7XG4gIHJldHVybiBweDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gJGVsXG4gKiBAcGFyYW0ge1Njcm9sbFRocmVzaG9sZFZhbHVlfSB2XG4gKiBAcGFyYW0ge051bWJlcn0gc2l6ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFt1bmRlcl1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3Zlcl1cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgcGFyc2VCb3VuZFZhbHVlID0gKCRlbCwgdiwgc2l6ZSwgdW5kZXIsIG92ZXIpID0+IHtcbiAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gIGxldCB2YWx1ZTtcbiAgaWYgKGlzU3RyKHYpKSB7XG4gICAgY29uc3QgbWF0Y2hlZE9wZXJhdG9yID0gcmVsYXRpdmVWYWx1ZXNFeGVjUmd4LmV4ZWMoLyoqIEB0eXBlIHtTdHJpbmd9ICovKHYpKTtcbiAgICBpZiAobWF0Y2hlZE9wZXJhdG9yKSB7XG4gICAgICBjb25zdCBzcGxpdHRlciA9IG1hdGNoZWRPcGVyYXRvclswXTtcbiAgICAgIGNvbnN0IG9wZXJhdG9yID0gc3BsaXR0ZXJbMF07XG4gICAgICBjb25zdCBzcGxpdHRlZCA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyh2KS5zcGxpdChzcGxpdHRlcik7XG4gICAgICBjb25zdCBjbGFtcE1pbiA9IHNwbGl0dGVkWzBdID09PSAnbWluJztcbiAgICAgIGNvbnN0IGNsYW1wTWF4ID0gc3BsaXR0ZWRbMF0gPT09ICdtYXgnO1xuICAgICAgY29uc3QgdmFsdWVBUHggPSBjb252ZXJ0VmFsdWVUb1B4KCRlbCwgc3BsaXR0ZWRbMF0sIHNpemUsIHVuZGVyLCBvdmVyKTtcbiAgICAgIGNvbnN0IHZhbHVlQlB4ID0gY29udmVydFZhbHVlVG9QeCgkZWwsIHNwbGl0dGVkWzFdLCBzaXplLCB1bmRlciwgb3Zlcik7XG4gICAgICBpZiAoY2xhbXBNaW4pIHtcbiAgICAgICAgY29uc3QgbWluID0gZ2V0UmVsYXRpdmVWYWx1ZShjb252ZXJ0VmFsdWVUb1B4KCRlbCwgJ21pbicsIHNpemUpLCB2YWx1ZUJQeCwgb3BlcmF0b3IpO1xuICAgICAgICB2YWx1ZSA9IG1pbiA8IHZhbHVlQVB4ID8gdmFsdWVBUHggOiBtaW47XG4gICAgICB9IGVsc2UgaWYgKGNsYW1wTWF4KSB7XG4gICAgICAgIGNvbnN0IG1heCA9IGdldFJlbGF0aXZlVmFsdWUoY29udmVydFZhbHVlVG9QeCgkZWwsICdtYXgnLCBzaXplKSwgdmFsdWVCUHgsIG9wZXJhdG9yKTtcbiAgICAgICAgdmFsdWUgPSBtYXggPiB2YWx1ZUFQeCA/IHZhbHVlQVB4IDogbWF4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbHVlQVB4LCB2YWx1ZUJQeCwgb3BlcmF0b3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IGNvbnZlcnRWYWx1ZVRvUHgoJGVsLCB2LCBzaXplLCB1bmRlciwgb3Zlcik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHYpO1xuICB9XG4gIHJldHVybiByb3VuZCh2YWx1ZSwgMCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7SlNBbmltYXRpb259IGxpbmtlZFxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gKi9cbmNvbnN0IGdldEFuaW1hdGlvbkRvbVRhcmdldCA9IGxpbmtlZCA9PiB7XG4gIGxldCAkbGlua2VkVGFyZ2V0O1xuICBjb25zdCBsaW5rZWRUYXJnZXRzID0gbGlua2VkLnRhcmdldHM7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gbGlua2VkVGFyZ2V0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCB0YXJnZXQgPSBsaW5rZWRUYXJnZXRzW2ldO1xuICAgIGlmICh0YXJnZXRbaXNEb21TeW1ib2xdKSB7XG4gICAgICAkbGlua2VkVGFyZ2V0ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8odGFyZ2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJGxpbmtlZFRhcmdldDtcbn07XG5cbmxldCBzY3JvbGxlckluZGV4ID0gMDtcblxuY29uc3QgZGVidWdDb2xvcnMgPSBbJyNGRjRCNEInLCcjRkY5NzFCJywnI0ZGQzczMCcsJyNGOUY2NDAnLCcjN0FGRjVBJywnIzE4RkY3NCcsJyMxN0UwOUInLCcjM0NGRkVDJywnIzA1REJFOScsJyMzM0IzRjEnLCcjNjM4Q0Y5JywnI0M1NjNGRScsJyNGRjRGQ0YnLCcjRjkzRjhBJ107XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2Nyb2xsVGhyZXNob2xkUGFyYW1cbiAqIEBwcm9wZXJ0eSB7U2Nyb2xsVGhyZXNob2xkVmFsdWV9IFt0YXJnZXRdXG4gKiBAcHJvcGVydHkge1Njcm9sbFRocmVzaG9sZFZhbHVlfSBbY29udGFpbmVyXVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFNjcm9sbE9ic2VydmVyQXhpc0NhbGxiYWNrXG4gKiBAcGFyYW0ge1Njcm9sbE9ic2VydmVyfSBzZWxmXG4gKiBAcmV0dXJuIHsneCd8J3knfVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFNjcm9sbFRocmVzaG9sZENhbGxiYWNrXG4gKiBAcGFyYW0ge1Njcm9sbE9ic2VydmVyfSBzZWxmXG4gKiBAcmV0dXJuIHtTY3JvbGxUaHJlc2hvbGRWYWx1ZXxTY3JvbGxUaHJlc2hvbGRQYXJhbX1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNjcm9sbE9ic2VydmVyUGFyYW1zXG4gKiBAcHJvcGVydHkge051bWJlcnxTdHJpbmd9IFtpZF1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxOdW1iZXJ8U3RyaW5nfEVhc2luZ1BhcmFtfSBbc3luY11cbiAqIEBwcm9wZXJ0eSB7VGFyZ2V0c1BhcmFtfSBbY29udGFpbmVyXVxuICogQHByb3BlcnR5IHtUYXJnZXRzUGFyYW19IFt0YXJnZXRdXG4gKiBAcHJvcGVydHkgeyd4J3wneSd8U2Nyb2xsT2JzZXJ2ZXJBeGlzQ2FsbGJhY2t8KChvYnNlcnZlcjogU2Nyb2xsT2JzZXJ2ZXIpID0+ICd4J3wneSd8U2Nyb2xsT2JzZXJ2ZXJBeGlzQ2FsbGJhY2spfSBbYXhpc11cbiAqIEBwcm9wZXJ0eSB7U2Nyb2xsVGhyZXNob2xkVmFsdWV8U2Nyb2xsVGhyZXNob2xkUGFyYW18U2Nyb2xsVGhyZXNob2xkQ2FsbGJhY2t8KChvYnNlcnZlcjogU2Nyb2xsT2JzZXJ2ZXIpID0+IFNjcm9sbFRocmVzaG9sZFZhbHVlfFNjcm9sbFRocmVzaG9sZFBhcmFtfFNjcm9sbFRocmVzaG9sZENhbGxiYWNrKX0gW2VudGVyXVxuICogQHByb3BlcnR5IHtTY3JvbGxUaHJlc2hvbGRWYWx1ZXxTY3JvbGxUaHJlc2hvbGRQYXJhbXxTY3JvbGxUaHJlc2hvbGRDYWxsYmFja3woKG9ic2VydmVyOiBTY3JvbGxPYnNlcnZlcikgPT4gU2Nyb2xsVGhyZXNob2xkVmFsdWV8U2Nyb2xsVGhyZXNob2xkUGFyYW18U2Nyb2xsVGhyZXNob2xkQ2FsbGJhY2spfSBbbGVhdmVdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW58KChvYnNlcnZlcjogU2Nyb2xsT2JzZXJ2ZXIpID0+IEJvb2xlYW4pfSBbcmVwZWF0XVxuICogQHByb3BlcnR5IHtCb29sZWFufSBbZGVidWddXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gW29uRW50ZXJdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gW29uTGVhdmVdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gW29uRW50ZXJGb3J3YXJkXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvbkxlYXZlRm9yd2FyZF1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSBbb25FbnRlckJhY2t3YXJkXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvbkxlYXZlQmFja3dhcmRdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gW29uVXBkYXRlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvblN5bmNDb21wbGV0ZV1cbiAqL1xuXG5jbGFzcyBTY3JvbGxPYnNlcnZlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1Njcm9sbE9ic2VydmVyUGFyYW1zfSBwYXJhbWV0ZXJzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzID0ge30pIHtcbiAgICBpZiAoZ2xvYmFscy5zY29wZSkgZ2xvYmFscy5zY29wZS5yZXZlcnRpYmxlcy5wdXNoKHRoaXMpO1xuICAgIGNvbnN0IHN5bmNNb2RlID0gc2V0VmFsdWUocGFyYW1ldGVycy5zeW5jLCAncGxheSBwYXVzZScpO1xuICAgIGNvbnN0IGVhc2UgPSBzeW5jTW9kZSA/IHBhcnNlRWFzaW5ncygvKiogQHR5cGUge0Vhc2luZ1BhcmFtfSAqLyhzeW5jTW9kZSkpIDogbnVsbDtcbiAgICBjb25zdCBpc0xpbmVhciA9IHN5bmNNb2RlICYmIChzeW5jTW9kZSA9PT0gJ2xpbmVhcicgfHwgc3luY01vZGUgPT09IG5vbmUpO1xuICAgIGNvbnN0IGlzRWFzZSA9IHN5bmNNb2RlICYmICEoZWFzZSA9PT0gbm9uZSAmJiAhaXNMaW5lYXIpO1xuICAgIGNvbnN0IGlzU21vb3RoID0gc3luY01vZGUgJiYgKGlzTnVtKHN5bmNNb2RlKSB8fCBzeW5jTW9kZSA9PT0gdHJ1ZSB8fCBpc0xpbmVhcik7XG4gICAgY29uc3QgaXNNZXRob2RzID0gc3luY01vZGUgJiYgKGlzU3RyKHN5bmNNb2RlKSAmJiAhaXNFYXNlICYmICFpc1Ntb290aCk7XG4gICAgY29uc3Qgc3luY01ldGhvZHMgPSBpc01ldGhvZHMgPyAvKiogQHR5cGUge1N0cmluZ30gKi8oc3luY01vZGUpLnNwbGl0KCcgJykubWFwKFxuICAgICAgKC8qKiBAdHlwZSB7U3RyaW5nfSAqL20pID0+ICgpID0+IHtcbiAgICAgICAgY29uc3QgbGlua2VkID0gdGhpcy5saW5rZWQ7XG4gICAgICAgIHJldHVybiBsaW5rZWQgJiYgbGlua2VkW21dID8gbGlua2VkW21dKCkgOiBudWxsO1xuICAgICAgfVxuICAgICkgOiBudWxsO1xuICAgIGNvbnN0IGJpRGlyU3luYyA9IGlzTWV0aG9kcyAmJiBzeW5jTWV0aG9kcy5sZW5ndGggPiAyO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuaW5kZXggPSBzY3JvbGxlckluZGV4Kys7XG4gICAgLyoqIEB0eXBlIHtTdHJpbmd8TnVtYmVyfSAqL1xuICAgIHRoaXMuaWQgPSAhaXNVbmQocGFyYW1ldGVycy5pZCkgPyBwYXJhbWV0ZXJzLmlkIDogdGhpcy5pbmRleDtcbiAgICAvKiogQHR5cGUge1Njcm9sbENvbnRhaW5lcn0gKi9cbiAgICB0aGlzLmNvbnRhaW5lciA9IHJlZ2lzdGVyQW5kR2V0U2Nyb2xsQ29udGFpbmVyKHBhcmFtZXRlcnMuY29udGFpbmVyKTtcbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAvKiogQHR5cGUge1RpY2thYmxlfFdBQVBJQW5pbWF0aW9ufSAqL1xuICAgIHRoaXMubGlua2VkID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5yZXBlYXQgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmhvcml6b250YWwgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsVGhyZXNob2xkUGFyYW18U2Nyb2xsVGhyZXNob2xkVmFsdWV8U2Nyb2xsVGhyZXNob2xkQ2FsbGJhY2t9ICovXG4gICAgdGhpcy5lbnRlciA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxUaHJlc2hvbGRQYXJhbXxTY3JvbGxUaHJlc2hvbGRWYWx1ZXxTY3JvbGxUaHJlc2hvbGRDYWxsYmFja30gKi9cbiAgICB0aGlzLmxlYXZlID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5zeW5jID0gaXNFYXNlIHx8IGlzU21vb3RoIHx8ICEhc3luY01ldGhvZHM7XG4gICAgLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbiAgICB0aGlzLnN5bmNFYXNlID0gaXNFYXNlID8gZWFzZSA6IG51bGw7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5zeW5jU21vb3RoID0gaXNTbW9vdGggPyBzeW5jTW9kZSA9PT0gdHJ1ZSB8fCBpc0xpbmVhciA/IDEgOiAvKiogQHR5cGUge051bWJlcn0gKi8oc3luY01vZGUpIDogbnVsbDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uU3luY0VudGVyID0gc3luY01ldGhvZHMgJiYgIWJpRGlyU3luYyAmJiBzeW5jTWV0aG9kc1swXSA/IHN5bmNNZXRob2RzWzBdIDogbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uU3luY0xlYXZlID0gc3luY01ldGhvZHMgJiYgIWJpRGlyU3luYyAmJiBzeW5jTWV0aG9kc1sxXSA/IHN5bmNNZXRob2RzWzFdIDogbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uU3luY0VudGVyRm9yd2FyZCA9IHN5bmNNZXRob2RzICYmIGJpRGlyU3luYyAmJiBzeW5jTWV0aG9kc1swXSA/IHN5bmNNZXRob2RzWzBdIDogbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uU3luY0xlYXZlRm9yd2FyZCA9IHN5bmNNZXRob2RzICYmIGJpRGlyU3luYyAmJiBzeW5jTWV0aG9kc1sxXSA/IHN5bmNNZXRob2RzWzFdIDogbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uU3luY0VudGVyQmFja3dhcmQgPSBzeW5jTWV0aG9kcyAmJiBiaURpclN5bmMgJiYgc3luY01ldGhvZHNbMl0gPyBzeW5jTWV0aG9kc1syXSA6IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNMZWF2ZUJhY2t3YXJkID0gc3luY01ldGhvZHMgJiYgYmlEaXJTeW5jICYmIHN5bmNNZXRob2RzWzNdID8gc3luY01ldGhvZHNbM10gOiBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25FbnRlciA9IHBhcmFtZXRlcnMub25FbnRlciB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25MZWF2ZSA9IHBhcmFtZXRlcnMub25MZWF2ZSB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25FbnRlckZvcndhcmQgPSBwYXJhbWV0ZXJzLm9uRW50ZXJGb3J3YXJkIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vbkxlYXZlRm9yd2FyZCA9IHBhcmFtZXRlcnMub25MZWF2ZUZvcndhcmQgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uRW50ZXJCYWNrd2FyZCA9IHBhcmFtZXRlcnMub25FbnRlckJhY2t3YXJkIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vbkxlYXZlQmFja3dhcmQgPSBwYXJhbWV0ZXJzLm9uTGVhdmVCYWNrd2FyZCB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25VcGRhdGUgPSBwYXJhbWV0ZXJzLm9uVXBkYXRlIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNDb21wbGV0ZSA9IHBhcmFtZXRlcnMub25TeW5jQ29tcGxldGUgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5yZXZlcnRlZCA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmJlZ2FuID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuaXNJblZpZXcgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5mb3JjZUVudGVyID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuaGFzRW50ZXJlZCA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7QXJyYXkuPE51bWJlcj59ICovXG4gICAgdGhpcy5vZmZzZXRzID0gW107XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMub2Zmc2V0U3RhcnQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMub2Zmc2V0RW5kID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmRpc3RhbmNlID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnByZXZQcm9ncmVzcyA9IDA7XG4gICAgLyoqIEB0eXBlIHtBcnJheX0gKi9cbiAgICB0aGlzLnRocmVzaG9sZHMgPSBbJ3N0YXJ0JywgJ2VuZCcsICdlbmQnLCAnc3RhcnQnXTtcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuY29vcmRzID0gWzAsIDAsIDAsIDBdO1xuICAgIC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovXG4gICAgdGhpcy5kZWJ1Z1N0eWxlcyA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbiAgICB0aGlzLiRkZWJ1ZyA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlclBhcmFtc30gKi9cbiAgICB0aGlzLl9wYXJhbXMgPSBwYXJhbWV0ZXJzO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLl9kZWJ1ZyA9IHNldFZhbHVlKHBhcmFtZXRlcnMuZGVidWcsIGZhbHNlKTtcbiAgICAvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqL1xuICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovXG4gICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgYWRkQ2hpbGQodGhpcy5jb250YWluZXIsIHRoaXMpO1xuICAgIC8vIFdhaXQgZm9yIHRoZSBuZXh0IGZyYW1lIHRvIGFkZCB0byB0aGUgY29udGFpbmVyIGluIG9yZGVyIHRvIGhhbmRsZSBjYWxscyB0byBsaW5rKClcbiAgICBzeW5jKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnJldmVydGVkKSByZXR1cm47XG4gICAgICBpZiAoIXRoaXMudGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHBhcnNlVGFyZ2V0cyhwYXJhbWV0ZXJzLnRhcmdldClbMF0pO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldCB8fCBkb2MuYm9keTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fZGVidWcpIHRoaXMuZGVidWcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RpY2thYmxlfFdBQVBJQW5pbWF0aW9ufSBsaW5rZWRcbiAgICovXG4gIGxpbmsobGlua2VkKSB7XG4gICAgaWYgKGxpbmtlZCkge1xuICAgICAgLy8gTWFrZSBzdXJlIHRvIHBhdXNlIHRoZSBsaW5rZWQgb2JqZWN0IGluIGNhc2UgaXQncyBhZGRlZCBsYXRlclxuICAgICAgbGlua2VkLnBhdXNlKCk7XG4gICAgICB0aGlzLmxpbmtlZCA9IGxpbmtlZDtcbiAgICAgIC8vIFRyeSB0byB1c2UgYSB0YXJnZXQgb2YgdGhlIGxpbmtlZCBvYmplY3QgaWYgbm8gdGFyZ2V0IHBhcmFtZXRlcnMgc3BlY2lmaWVkXG4gICAgICBpZiAoIXRoaXMuX3BhcmFtcy50YXJnZXQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbiAgICAgICAgbGV0ICRsaW5rZWRUYXJnZXQ7XG4gICAgICAgIGlmICghaXNVbmQoLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi8obGlua2VkKS50YXJnZXRzKSkge1xuICAgICAgICAgICRsaW5rZWRUYXJnZXQgPSBnZXRBbmltYXRpb25Eb21UYXJnZXQoLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi8obGlua2VkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yRWFjaENoaWxkcmVuKC8qKiBAdHlwZSB7VGltZWxpbmV9ICovKGxpbmtlZCksICgvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL2NoaWxkKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hpbGQudGFyZ2V0cyAmJiAhJGxpbmtlZFRhcmdldCkge1xuICAgICAgICAgICAgICAkbGlua2VkVGFyZ2V0ID0gZ2V0QW5pbWF0aW9uRG9tVGFyZ2V0KC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKGNoaWxkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gYm9keSBpZiBubyB0YXJnZXQgZm91bmRcbiAgICAgICAgdGhpcy50YXJnZXQgPSAkbGlua2VkVGFyZ2V0IHx8IGRvYy5ib2R5O1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXQgdmVsb2NpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnZlbG9jaXR5O1xuICB9XG5cbiAgZ2V0IGJhY2t3YXJkKCkge1xuICAgIHJldHVybiB0aGlzLmhvcml6b250YWwgPyB0aGlzLmNvbnRhaW5lci5iYWNrd2FyZFggOiB0aGlzLmNvbnRhaW5lci5iYWNrd2FyZFk7XG4gIH1cblxuICBnZXQgc2Nyb2xsKCkge1xuICAgIHJldHVybiB0aGlzLmhvcml6b250YWwgPyB0aGlzLmNvbnRhaW5lci5zY3JvbGxYIDogdGhpcy5jb250YWluZXIuc2Nyb2xsWTtcbiAgfVxuXG4gIGdldCBwcm9ncmVzcygpIHtcbiAgICBjb25zdCBwID0gKHRoaXMuc2Nyb2xsIC0gdGhpcy5vZmZzZXRTdGFydCkgLyB0aGlzLmRpc3RhbmNlO1xuICAgIHJldHVybiBwID09PSBJbmZpbml0eSB8fCBpc05hTihwKSA/IDAgOiByb3VuZChjbGFtcChwLCAwLCAxKSwgNik7XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMucmV2ZXJ0ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBwYXJhbXMgPSB0aGlzLl9wYXJhbXM7XG4gICAgdGhpcy5yZXBlYXQgPSBzZXRWYWx1ZShwYXJzZVNjcm9sbE9ic2VydmVyRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLnJlcGVhdCwgdGhpcyksIHRydWUpO1xuICAgIHRoaXMuaG9yaXpvbnRhbCA9IHNldFZhbHVlKHBhcnNlU2Nyb2xsT2JzZXJ2ZXJGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuYXhpcywgdGhpcyksICd5JykgPT09ICd4JztcbiAgICB0aGlzLmVudGVyID0gc2V0VmFsdWUocGFyc2VTY3JvbGxPYnNlcnZlckZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5lbnRlciwgdGhpcyksICdlbmQgc3RhcnQnKTtcbiAgICB0aGlzLmxlYXZlID0gc2V0VmFsdWUocGFyc2VTY3JvbGxPYnNlcnZlckZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5sZWF2ZSwgdGhpcyksICdzdGFydCBlbmQnKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgIHRoaXMuaGFuZGxlU2Nyb2xsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZW1vdmVEZWJ1ZygpIHtcbiAgICBpZiAodGhpcy4kZGVidWcpIHtcbiAgICAgIHRoaXMuJGRlYnVnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kZGVidWcpO1xuICAgICAgdGhpcy4kZGVidWcgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZWJ1Z1N0eWxlcykge1xuICAgICAgdGhpcy5kZWJ1Z1N0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMuJGRlYnVnID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBkZWJ1ZygpIHtcbiAgICB0aGlzLnJlbW92ZURlYnVnKCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgY29uc3QgaXNIb3JpID0gdGhpcy5ob3Jpem9udGFsO1xuICAgIGNvbnN0ICRleGlzdGluZ0RlYnVnID0gY29udGFpbmVyLmVsZW1lbnQucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmFuaW1lanMtb25zY3JvbGwtZGVidWcnKTtcbiAgICBjb25zdCAkZGVidWcgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgJHRocmVzaG9sZHMgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgJHRyaWdnZXJzID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGNvbG9yID0gZGVidWdDb2xvcnNbdGhpcy5pbmRleCAlIGRlYnVnQ29sb3JzLmxlbmd0aF07XG4gICAgY29uc3QgdXNlV2luID0gY29udGFpbmVyLnVzZVdpbjtcbiAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHVzZVdpbiA/IGNvbnRhaW5lci53aW5XaWR0aCA6IGNvbnRhaW5lci53aWR0aDtcbiAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSB1c2VXaW4gPyBjb250YWluZXIud2luSGVpZ2h0IDogY29udGFpbmVyLmhlaWdodDtcbiAgICBjb25zdCBzY3JvbGxXaWR0aCA9IGNvbnRhaW5lci5zY3JvbGxXaWR0aDtcbiAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmNvbnRhaW5lci53aWR0aCA+IDM2MCA/IDMyMCA6IDI2MDtcbiAgICBjb25zdCBvZmZMZWZ0ID0gaXNIb3JpID8gMCA6IDEwO1xuICAgIGNvbnN0IG9mZlRvcCA9IGlzSG9yaSA/IDEwIDogMDtcbiAgICBjb25zdCBoYWxmID0gaXNIb3JpID8gMjQgOiBzaXplIC8gMjtcbiAgICBjb25zdCBsYWJlbEhlaWdodCA9IGlzSG9yaSA/IGhhbGYgOiAxNTtcbiAgICBjb25zdCBsYWJlbFdpZHRoID0gaXNIb3JpID8gNjAgOiBoYWxmO1xuICAgIGNvbnN0IGxhYmVsU2l6ZSA9IGlzSG9yaSA/IGxhYmVsV2lkdGggOiBsYWJlbEhlaWdodDtcbiAgICBjb25zdCByZXBlYXQgPSBpc0hvcmkgPyAncmVwZWF0LXgnIDogJ3JlcGVhdC15JztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjb25zdCBncmFkaWVudE9mZnNldCA9IHYgPT4gaXNIb3JpID8gJzBweCAnKyh2KSsncHgnIDogKHYpKydweCcrJyAycHgnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNvbnN0IGxpbmVDU1MgPSAoYykgPT4gYGxpbmVhci1ncmFkaWVudCgke2lzSG9yaSA/IDkwIDogMH1kZWcsICR7Y30gMnB4LCB0cmFuc3BhcmVudCAxcHgpYDtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNvbnN0IGJhc2VDU1MgPSAocCwgbCwgdCwgdywgaCkgPT4gYHBvc2l0aW9uOiR7cH07bGVmdDoke2x9cHg7dG9wOiR7dH1weDt3aWR0aDoke3d9cHg7aGVpZ2h0OiR7aH1weDtgO1xuICAgICRkZWJ1Zy5zdHlsZS5jc3NUZXh0ID0gYCR7YmFzZUNTUygnYWJzb2x1dGUnLCBvZmZMZWZ0LCBvZmZUb3AsIGlzSG9yaSA/IHNjcm9sbFdpZHRoIDogc2l6ZSwgaXNIb3JpID8gc2l6ZSA6IHNjcm9sbEhlaWdodCl9XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgIHotaW5kZXg6ICR7dGhpcy5jb250YWluZXIuekluZGV4Kyt9O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiAke2lzSG9yaSA/ICdjb2x1bW4nIDogJ3Jvdyd9O1xuICAgICAgZmlsdGVyOiBkcm9wLXNoYWRvdygwcHggMXB4IDBweCByZ2JhKDAsMCwwLC43NSkpO1xuICAgIGA7XG4gICAgJHRocmVzaG9sZHMuc3R5bGUuY3NzVGV4dCA9IGAke2Jhc2VDU1MoJ3N0aWNreScsIDAsIDAsIGlzSG9yaSA/IGNvbnRhaW5lcldpZHRoIDogaGFsZiwgaXNIb3JpID8gaGFsZiA6IGNvbnRhaW5lckhlaWdodCl9YDtcbiAgICBpZiAoISRleGlzdGluZ0RlYnVnKSB7XG4gICAgICAkdGhyZXNob2xkcy5zdHlsZS5jc3NUZXh0ICs9IGBiYWNrZ3JvdW5kOlxuICAgICAgICAke2xpbmVDU1MoJyNGRkZGJyl9JHtncmFkaWVudE9mZnNldChoYWxmLTEwKX0gLyAke2lzSG9yaSA/ICcxMDBweCAxMDBweCcgOiAnMTAwcHggMTAwcHgnfSAke3JlcGVhdH0sXG4gICAgICAgICR7bGluZUNTUygnI0ZGRjgnKX0ke2dyYWRpZW50T2Zmc2V0KGhhbGYtMTApfSAvICR7aXNIb3JpID8gJzEwcHggMTBweCcgOiAnMTBweCAxMHB4J30gJHtyZXBlYXR9O1xuICAgICAgYDtcbiAgICB9XG4gICAgJHRyaWdnZXJzLnN0eWxlLmNzc1RleHQgPSBgJHtiYXNlQ1NTKCdyZWxhdGl2ZScsIDAsIDAsIGlzSG9yaSA/IHNjcm9sbFdpZHRoIDogaGFsZiwgaXNIb3JpID8gaGFsZiA6IHNjcm9sbEhlaWdodCl9YDtcbiAgICBpZiAoISRleGlzdGluZ0RlYnVnKSB7XG4gICAgICAkdHJpZ2dlcnMuc3R5bGUuY3NzVGV4dCArPSBgYmFja2dyb3VuZDpcbiAgICAgICAgJHtsaW5lQ1NTKCcjRkZGRicpfSR7Z3JhZGllbnRPZmZzZXQoMCl9IC8gJHtpc0hvcmkgPyAnMTAwcHggMTBweCcgOiAnMTBweCAxMDBweCd9ICR7cmVwZWF0fSxcbiAgICAgICAgJHtsaW5lQ1NTKCcjRkZGOCcpfSR7Z3JhZGllbnRPZmZzZXQoMCl9IC8gJHtpc0hvcmkgPyAnMTBweCAwcHgnIDogJzBweCAxMHB4J30gJHtyZXBlYXR9O1xuICAgICAgYDtcbiAgICB9XG4gICAgY29uc3QgbGFiZWxzID0gWycgZW50ZXI6ICcsICcgbGVhdmU6ICddO1xuICAgIHRoaXMuY29vcmRzLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlldyA9IGkgPiAxO1xuICAgICAgY29uc3QgdmFsdWUgPSAoaXNWaWV3ID8gMCA6IHRoaXMub2Zmc2V0KSArIHY7XG4gICAgICBjb25zdCBpc1RhaWwgPSBpICUgMjtcbiAgICAgIGNvbnN0IGlzRmlyc3QgPSB2YWx1ZSA8IGxhYmVsU2l6ZTtcbiAgICAgIGNvbnN0IGlzT3ZlciA9IHZhbHVlID4gKGlzVmlldyA/IGlzSG9yaSA/IGNvbnRhaW5lcldpZHRoIDogY29udGFpbmVySGVpZ2h0IDogaXNIb3JpID8gc2Nyb2xsV2lkdGggOiBzY3JvbGxIZWlnaHQpIC0gbGFiZWxTaXplO1xuICAgICAgY29uc3QgaXNGbGlwID0gKGlzVmlldyA/IGlzVGFpbCAmJiAhaXNGaXJzdCA6ICFpc1RhaWwgJiYgIWlzRmlyc3QpIHx8IGlzT3ZlcjtcbiAgICAgIGNvbnN0ICRsYWJlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0ICR0ZXh0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgZGlyUHJvcCA9IGlzSG9yaSA/IGlzRmxpcCA/ICdyaWdodCcgOiAnbGVmdCcgOiBpc0ZsaXAgPyAnYm90dG9tJyA6ICd0b3AnO1xuICAgICAgY29uc3QgZmxpcE9mZnNldCA9IGlzRmxpcCA/IChpc0hvcmkgPyBsYWJlbFdpZHRoIDogbGFiZWxIZWlnaHQpICsgKCFpc1ZpZXcgPyBpc0hvcmkgPyAtMSA6IC0yIDogaXNIb3JpID8gLTEgOiBpc092ZXIgPyAwIDogLTIpIDogIWlzVmlldyA/IGlzSG9yaSA/IDEgOiAwIDogaXNIb3JpID8gMSA6IDA7XG4gICAgICAvLyAkdGV4dC5pbm5lckhUTUwgPSBgJHshaXNWaWV3ID8gJycgOiBsYWJlbHNbaXNUYWlsXSArICcgJ30ke3RoaXMuaWR9OiAke3RoaXMudGhyZXNob2xkc1tpXX0gJHtpc1ZpZXcgPyAnJyA6IGxhYmVsc1tpc1RhaWxdfWA7XG4gICAgICAkdGV4dC5pbm5lckhUTUwgPSBgJHt0aGlzLmlkfSR7bGFiZWxzW2lzVGFpbF19JHt0aGlzLnRocmVzaG9sZHNbaV19YDtcbiAgICAgICRsYWJlbC5zdHlsZS5jc3NUZXh0ID0gYCR7YmFzZUNTUygnYWJzb2x1dGUnLCAwLCAwLCBsYWJlbFdpZHRoLCBsYWJlbEhlaWdodCl9XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiAke2lzSG9yaSA/ICdjb2x1bW4nIDogJ3Jvdyd9O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtJHtpc1ZpZXcgPyAnc3RhcnQnIDogJ2VuZCd9O1xuICAgICAgICBhbGlnbi1pdGVtczogZmxleC0ke2lzRmxpcCA/ICdlbmQnIDogJ3N0YXJ0J307XG4gICAgICAgIGJvcmRlci0ke2RpclByb3B9OiAycHggJHtpc1RhaWwgPyAnc29saWQnIDogJ3NvbGlkJ30gJHtjb2xvcn07XG4gICAgICBgO1xuICAgICAgJHRleHQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgbWF4LXdpZHRoOiAkeyhzaXplIC8gMikgLSAxMH1weDtcbiAgICAgICAgaGVpZ2h0OiAke2xhYmVsSGVpZ2h0fTtcbiAgICAgICAgbWFyZ2luLSR7aXNIb3JpID8gaXNGbGlwID8gJ3JpZ2h0JyA6ICdsZWZ0JyA6IGlzRmxpcCA/ICdib3R0b20nIDogJ3RvcCd9OiAtMnB4O1xuICAgICAgICBwYWRkaW5nOiAxcHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB1aS1tb25vc3BhY2UsIG1vbm9zcGFjZTtcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogLS4wMjVlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDlweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgdGV4dC1hbGlnbjogJHtpc0hvcmkgJiYgaXNGbGlwIHx8ICFpc0hvcmkgJiYgIWlzVmlldyA/ICdyaWdodCcgOiAnbGVmdCd9O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgY29sb3I6ICR7aXNUYWlsID8gY29sb3IgOiAncmdiYSgwLDAsMCwuNzUpJ307XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aXNUYWlsID8gJ3JnYmEoMCwwLDAsLjY1KScgOiBjb2xvcn07XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICR7aXNUYWlsID8gY29sb3IgOiAndHJhbnNwYXJlbnQnfTtcbiAgICAgICAgYm9yZGVyLSR7aXNIb3JpID8gaXNGbGlwID8gJ3RvcC1sZWZ0JyA6ICd0b3AtcmlnaHQnIDogaXNGbGlwID8gJ3RvcC1sZWZ0JyA6ICdib3R0b20tbGVmdCd9LXJhZGl1czogNXB4O1xuICAgICAgICBib3JkZXItJHtpc0hvcmkgPyBpc0ZsaXAgPyAnYm90dG9tLWxlZnQnIDogJ2JvdHRvbS1yaWdodCcgOiBpc0ZsaXAgPyAndG9wLXJpZ2h0JyA6ICdib3R0b20tcmlnaHQnfS1yYWRpdXM6IDVweDtcbiAgICAgIGA7XG4gICAgICAkbGFiZWwuYXBwZW5kQ2hpbGQoJHRleHQpO1xuICAgICAgbGV0IHBvc2l0aW9uID0gdmFsdWUgLSBmbGlwT2Zmc2V0ICsgKGlzSG9yaSA/IDEgOiAwKTtcbiAgICAgICRsYWJlbC5zdHlsZVtpc0hvcmkgPyAnbGVmdCcgOiAndG9wJ10gPSBgJHtwb3NpdGlvbn1weGA7XG4gICAgICAvLyAkbGFiZWwuc3R5bGVbaXNIb3JpID8gJ2xlZnQnIDogJ3RvcCddID0gdmFsdWUgLSBmbGlwT2Zmc2V0ICsgKCFpc0ZsaXAgJiYgaXNGaXJzdCAmJiAhaXNWaWV3ID8gMSA6IGlzRmxpcCA/IDAgOiAtMikgKyAncHgnO1xuICAgICAgKGlzVmlldyA/ICR0aHJlc2hvbGRzIDogJHRyaWdnZXJzKS5hcHBlbmRDaGlsZCgkbGFiZWwpO1xuICAgIH0pO1xuXG4gICAgJGRlYnVnLmFwcGVuZENoaWxkKCR0aHJlc2hvbGRzKTtcbiAgICAkZGVidWcuYXBwZW5kQ2hpbGQoJHRyaWdnZXJzKTtcbiAgICBjb250YWluZXIuZWxlbWVudC5hcHBlbmRDaGlsZCgkZGVidWcpO1xuXG4gICAgaWYgKCEkZXhpc3RpbmdEZWJ1ZykgJGRlYnVnLmNsYXNzTGlzdC5hZGQoJ2FuaW1lanMtb25zY3JvbGwtZGVidWcnKTtcbiAgICB0aGlzLiRkZWJ1ZyA9ICRkZWJ1ZztcbiAgICBjb25zdCBjb250YWluZXJQb3NpdGlvbiA9IGdldFRhcmdldFZhbHVlKGNvbnRhaW5lci5lbGVtZW50LCAncG9zaXRpb24nKTtcbiAgICBpZiAoY29udGFpbmVyUG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICB0aGlzLmRlYnVnU3R5bGVzID0gc2V0VGFyZ2V0VmFsdWVzKGNvbnRhaW5lci5lbGVtZW50LCB7IHBvc2l0aW9uOiAncmVsYXRpdmUgJ30pO1xuICAgIH1cblxuICB9XG5cbiAgdXBkYXRlQm91bmRzKCkge1xuICAgIGlmICh0aGlzLl9kZWJ1Zykge1xuICAgICAgdGhpcy5yZW1vdmVEZWJ1ZygpO1xuICAgIH1cbiAgICBsZXQgc3RpY2t5cztcbiAgICBjb25zdCAkdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgY29uc3QgaXNIb3JpID0gdGhpcy5ob3Jpem9udGFsO1xuICAgIGNvbnN0IGxpbmtlZCA9IHRoaXMubGlua2VkO1xuICAgIGxldCBsaW5rZWRUaW1lO1xuICAgIGxldCAkZWwgPSAkdGFyZ2V0O1xuICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgLyoqIEB0eXBlIHtFbGVtZW50fSAqL1xuICAgIGxldCAkb2Zmc2V0UGFyZW50ID0gJGVsO1xuICAgIGlmIChsaW5rZWQpIHtcbiAgICAgIGxpbmtlZFRpbWUgPSBsaW5rZWQuY3VycmVudFRpbWU7XG4gICAgICBsaW5rZWQuc2VlaygwLCB0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgaXNDb250YWluZXJTdGF0aWMgPSBnZXRUYXJnZXRWYWx1ZShjb250YWluZXIuZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnID8gc2V0VGFyZ2V0VmFsdWVzKGNvbnRhaW5lci5lbGVtZW50LCB7IHBvc2l0aW9uOiAncmVsYXRpdmUgJ30pIDogZmFsc2U7XG4gICAgd2hpbGUgKCRlbCAmJiAkZWwgIT09IGNvbnRhaW5lci5lbGVtZW50ICYmICRlbCAhPT0gZG9jLmJvZHkpIHtcbiAgICAgIGNvbnN0IGlzU3RpY2t5ID0gZ2V0VGFyZ2V0VmFsdWUoJGVsLCAncG9zaXRpb24nKSA9PT0gJ3N0aWNreScgP1xuICAgICAgICAgICAgICAgICAgICAgICBzZXRUYXJnZXRWYWx1ZXMoJGVsLCB7IHBvc2l0aW9uOiAnc3RhdGljJyB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuICAgICAgaWYgKCRlbCA9PT0gJG9mZnNldFBhcmVudCkge1xuICAgICAgICBvZmZzZXRYICs9ICRlbC5vZmZzZXRMZWZ0IHx8IDA7XG4gICAgICAgIG9mZnNldFkgKz0gJGVsLm9mZnNldFRvcCB8fCAwO1xuICAgICAgICAkb2Zmc2V0UGFyZW50ID0gJGVsLm9mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgICRlbCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKCRlbC5wYXJlbnRFbGVtZW50KTtcbiAgICAgIGlmIChpc1N0aWNreSkge1xuICAgICAgICBpZiAoIXN0aWNreXMpIHN0aWNreXMgPSBbXTtcbiAgICAgICAgc3RpY2t5cy5wdXNoKGlzU3RpY2t5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQ29udGFpbmVyU3RhdGljKSBpc0NvbnRhaW5lclN0YXRpYy5yZXZlcnQoKTtcbiAgICBjb25zdCBvZmZzZXQgPSBpc0hvcmkgPyBvZmZzZXRYIDogb2Zmc2V0WTtcbiAgICBjb25zdCB0YXJnZXRTaXplID0gaXNIb3JpID8gJHRhcmdldC5vZmZzZXRXaWR0aCA6ICR0YXJnZXQub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSBpc0hvcmkgPyBjb250YWluZXIud2lkdGggOiBjb250YWluZXIuaGVpZ2h0O1xuICAgIGNvbnN0IHNjcm9sbFNpemUgPSBpc0hvcmkgPyBjb250YWluZXIuc2Nyb2xsV2lkdGggOiBjb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xuICAgIGNvbnN0IG1heFNjcm9sbCA9IHNjcm9sbFNpemUgLSBjb250YWluZXJTaXplO1xuICAgIGNvbnN0IGVudGVyID0gdGhpcy5lbnRlcjtcbiAgICBjb25zdCBsZWF2ZSA9IHRoaXMubGVhdmU7XG5cbiAgICAvKiogQHR5cGUge1Njcm9sbFRocmVzaG9sZFZhbHVlfSAqL1xuICAgIGxldCBlbnRlclRhcmdldCA9ICdzdGFydCc7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxUaHJlc2hvbGRWYWx1ZX0gKi9cbiAgICBsZXQgbGVhdmVUYXJnZXQgPSAnZW5kJztcbiAgICAvKiogQHR5cGUge1Njcm9sbFRocmVzaG9sZFZhbHVlfSAqL1xuICAgIGxldCBlbnRlckNvbnRhaW5lciA9ICdlbmQnO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsVGhyZXNob2xkVmFsdWV9ICovXG4gICAgbGV0IGxlYXZlQ29udGFpbmVyID0gJ3N0YXJ0JztcblxuICAgIGlmIChpc1N0cihlbnRlcikpIHtcbiAgICAgIGNvbnN0IHNwbGl0dGVkID0gLyoqIEB0eXBlIHtTdHJpbmd9ICovKGVudGVyKS5zcGxpdCgnICcpO1xuICAgICAgZW50ZXJDb250YWluZXIgPSBzcGxpdHRlZFswXTtcbiAgICAgIGVudGVyVGFyZ2V0ID0gc3BsaXR0ZWQubGVuZ3RoID4gMSA/IHNwbGl0dGVkWzFdIDogZW50ZXJUYXJnZXQ7XG4gICAgfSBlbHNlIGlmIChpc09iaihlbnRlcikpIHtcbiAgICAgIGNvbnN0IGUgPSAvKiogQHR5cGUge1Njcm9sbFRocmVzaG9sZFBhcmFtfSAqLyhlbnRlcik7XG4gICAgICBpZiAoIWlzVW5kKGUuY29udGFpbmVyKSkgZW50ZXJDb250YWluZXIgPSBlLmNvbnRhaW5lcjtcbiAgICAgIGlmICghaXNVbmQoZS50YXJnZXQpKSBlbnRlclRhcmdldCA9IGUudGFyZ2V0O1xuICAgIH0gZWxzZSBpZiAoaXNOdW0oZW50ZXIpKSB7XG4gICAgICBlbnRlckNvbnRhaW5lciA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyhlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyKGxlYXZlKSkge1xuICAgICAgY29uc3Qgc3BsaXR0ZWQgPSAvKiogQHR5cGUge1N0cmluZ30gKi8obGVhdmUpLnNwbGl0KCcgJyk7XG4gICAgICBsZWF2ZUNvbnRhaW5lciA9IHNwbGl0dGVkWzBdO1xuICAgICAgbGVhdmVUYXJnZXQgPSBzcGxpdHRlZC5sZW5ndGggPiAxID8gc3BsaXR0ZWRbMV0gOiBsZWF2ZVRhcmdldDtcbiAgICB9IGVsc2UgaWYgKGlzT2JqKGxlYXZlKSkge1xuICAgICAgY29uc3QgdCA9IC8qKiBAdHlwZSB7U2Nyb2xsVGhyZXNob2xkUGFyYW19ICovKGxlYXZlKTtcbiAgICAgIGlmICghaXNVbmQodC5jb250YWluZXIpKSBsZWF2ZUNvbnRhaW5lciA9IHQuY29udGFpbmVyO1xuICAgICAgaWYgKCFpc1VuZCh0LnRhcmdldCkpIGxlYXZlVGFyZ2V0ID0gdC50YXJnZXQ7XG4gICAgfSBlbHNlIGlmIChpc051bShsZWF2ZSkpIHtcbiAgICAgIGxlYXZlQ29udGFpbmVyID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKGxlYXZlKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWRFbnRlclRhcmdldCA9IHBhcnNlQm91bmRWYWx1ZSgkdGFyZ2V0LCBlbnRlclRhcmdldCwgdGFyZ2V0U2l6ZSk7XG4gICAgY29uc3QgcGFyc2VkTGVhdmVUYXJnZXQgPSBwYXJzZUJvdW5kVmFsdWUoJHRhcmdldCwgbGVhdmVUYXJnZXQsIHRhcmdldFNpemUpO1xuICAgIGNvbnN0IHVuZGVyID0gKHBhcnNlZEVudGVyVGFyZ2V0ICsgb2Zmc2V0KSAtIGNvbnRhaW5lclNpemU7XG4gICAgY29uc3Qgb3ZlciA9IChwYXJzZWRMZWF2ZVRhcmdldCArIG9mZnNldCkgLSBtYXhTY3JvbGw7XG4gICAgY29uc3QgcGFyc2VkRW50ZXJDb250YWluZXIgPSBwYXJzZUJvdW5kVmFsdWUoJHRhcmdldCwgZW50ZXJDb250YWluZXIsIGNvbnRhaW5lclNpemUsIHVuZGVyLCBvdmVyKTtcbiAgICBjb25zdCBwYXJzZWRMZWF2ZUNvbnRhaW5lciA9IHBhcnNlQm91bmRWYWx1ZSgkdGFyZ2V0LCBsZWF2ZUNvbnRhaW5lciwgY29udGFpbmVyU2l6ZSwgdW5kZXIsIG92ZXIpO1xuICAgIGNvbnN0IG9mZnNldFN0YXJ0ID0gcGFyc2VkRW50ZXJUYXJnZXQgKyBvZmZzZXQgLSBwYXJzZWRFbnRlckNvbnRhaW5lcjtcbiAgICBjb25zdCBvZmZzZXRFbmQgPSBwYXJzZWRMZWF2ZVRhcmdldCArIG9mZnNldCAtIHBhcnNlZExlYXZlQ29udGFpbmVyO1xuICAgIGNvbnN0IHNjcm9sbERlbHRhID0gb2Zmc2V0RW5kIC0gb2Zmc2V0U3RhcnQ7XG4gICAgdGhpcy5vZmZzZXRzWzBdID0gb2Zmc2V0WDtcbiAgICB0aGlzLm9mZnNldHNbMV0gPSBvZmZzZXRZO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMub2Zmc2V0U3RhcnQgPSBvZmZzZXRTdGFydDtcbiAgICB0aGlzLm9mZnNldEVuZCA9IG9mZnNldEVuZDtcbiAgICB0aGlzLmRpc3RhbmNlID0gc2Nyb2xsRGVsdGEgPD0gMCA/IDAgOiBzY3JvbGxEZWx0YTtcbiAgICB0aGlzLnRocmVzaG9sZHMgPSBbZW50ZXJUYXJnZXQsIGxlYXZlVGFyZ2V0LCBlbnRlckNvbnRhaW5lciwgbGVhdmVDb250YWluZXJdO1xuICAgIHRoaXMuY29vcmRzID0gW3BhcnNlZEVudGVyVGFyZ2V0LCBwYXJzZWRMZWF2ZVRhcmdldCwgcGFyc2VkRW50ZXJDb250YWluZXIsIHBhcnNlZExlYXZlQ29udGFpbmVyXTtcbiAgICBpZiAoc3RpY2t5cykge1xuICAgICAgc3RpY2t5cy5mb3JFYWNoKHN0aWNreSA9PiBzdGlja3kucmV2ZXJ0KCkpO1xuICAgIH1cbiAgICBpZiAobGlua2VkKSB7XG4gICAgICBsaW5rZWQuc2VlayhsaW5rZWRUaW1lLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2RlYnVnKSB7XG4gICAgICB0aGlzLmRlYnVnKCk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGNvbnN0IGxpbmtlZCA9IHRoaXMubGlua2VkO1xuICAgIGNvbnN0IHN5bmMgPSB0aGlzLnN5bmM7XG4gICAgY29uc3Qgc3luY0Vhc2UgPSB0aGlzLnN5bmNFYXNlO1xuICAgIGNvbnN0IHN5bmNTbW9vdGggPSB0aGlzLnN5bmNTbW9vdGg7XG4gICAgY29uc3Qgc2hvdWxkU2VlayA9IGxpbmtlZCAmJiAoc3luY0Vhc2UgfHwgc3luY1Ntb290aCk7XG4gICAgY29uc3QgaXNIb3JpID0gdGhpcy5ob3Jpem9udGFsO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuc2Nyb2xsO1xuICAgIGNvbnN0IGlzQmVmb3JlID0gc2Nyb2xsIDw9IHRoaXMub2Zmc2V0U3RhcnQ7XG4gICAgY29uc3QgaXNBZnRlciA9IHNjcm9sbCA+PSB0aGlzLm9mZnNldEVuZDtcbiAgICBjb25zdCBpc0luVmlldyA9ICFpc0JlZm9yZSAmJiAhaXNBZnRlcjtcbiAgICBjb25zdCBpc09uVGhlRWRnZSA9IHNjcm9sbCA9PT0gdGhpcy5vZmZzZXRTdGFydCB8fCBzY3JvbGwgPT09IHRoaXMub2Zmc2V0RW5kO1xuICAgIGNvbnN0IGZvcmNlRW50ZXIgPSAhdGhpcy5oYXNFbnRlcmVkICYmIGlzT25UaGVFZGdlO1xuICAgIGNvbnN0ICRkZWJ1ZyA9IHRoaXMuX2RlYnVnICYmIHRoaXMuJGRlYnVnO1xuICAgIGxldCBoYXNVcGRhdGVkID0gZmFsc2U7XG4gICAgbGV0IHN5bmNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcCA9IHRoaXMucHJvZ3Jlc3M7XG5cbiAgICBpZiAoaXNCZWZvcmUgJiYgdGhpcy5iZWdhbikge1xuICAgICAgdGhpcy5iZWdhbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChwID4gMCAmJiAhdGhpcy5iZWdhbikge1xuICAgICAgdGhpcy5iZWdhbiA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFNlZWspIHtcbiAgICAgIGNvbnN0IGxwID0gbGlua2VkLnByb2dyZXNzO1xuICAgICAgaWYgKHN5bmNTbW9vdGggJiYgaXNOdW0oc3luY1Ntb290aCkpIHtcbiAgICAgICAgaWYgKC8qKiBAdHlwZSB7TnVtYmVyfSAqLyhzeW5jU21vb3RoKSA8IDEpIHtcbiAgICAgICAgICBjb25zdCBzdGVwID0gMC4wMDAxO1xuICAgICAgICAgIGNvbnN0IHNuYXAgPSBscCA8IHAgJiYgcCA9PT0gMSA/IHN0ZXAgOiBscCA+IHAgJiYgIXAgPyAtMWUtNCA6IDA7XG4gICAgICAgICAgcCA9IHJvdW5kKGxlcnAobHAsIHAsIGludGVycG9sYXRlKC4wMSwgLjIsIC8qKiBAdHlwZSB7TnVtYmVyfSAqLyhzeW5jU21vb3RoKSksIGZhbHNlKSArIHNuYXAsIDYpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN5bmNFYXNlKSB7XG4gICAgICAgIHAgPSBzeW5jRWFzZShwKTtcbiAgICAgIH1cbiAgICAgIGhhc1VwZGF0ZWQgPSBwICE9PSB0aGlzLnByZXZQcm9ncmVzcztcbiAgICAgIHN5bmNDb21wbGV0ZWQgPSBscCA9PT0gMTtcbiAgICAgIGlmIChoYXNVcGRhdGVkICYmICFzeW5jQ29tcGxldGVkICYmIChzeW5jU21vb3RoICYmIGxwKSkge1xuICAgICAgICBjb250YWluZXIud2FrZVRpY2tlci5yZXN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCRkZWJ1Zykge1xuICAgICAgY29uc3Qgc3RpY2t5ID0gaXNIb3JpID8gY29udGFpbmVyLnNjcm9sbFkgOiBjb250YWluZXIuc2Nyb2xsWDtcbiAgICAgICRkZWJ1Zy5zdHlsZVtpc0hvcmkgPyAndG9wJyA6ICdsZWZ0J10gPSBzdGlja3kgKyAxMCArICdweCc7XG4gICAgfVxuXG4gICAgLy8gVHJpZ2dlciBlbnRlciBjYWxsYmFja3MgaWYgYWxyZWFkeSBpbiB2aWV3IG9yIHdoZW4gZW50ZXJpbmcgdGhlIHZpZXdcbiAgICBpZiAoKGlzSW5WaWV3ICYmICF0aGlzLmlzSW5WaWV3KSB8fCAoZm9yY2VFbnRlciAmJiAhdGhpcy5mb3JjZUVudGVyICYmICF0aGlzLmhhc0VudGVyZWQpKSB7XG4gICAgICBpZiAoaXNJblZpZXcpIHRoaXMuaXNJblZpZXcgPSB0cnVlO1xuICAgICAgaWYgKCF0aGlzLmZvcmNlRW50ZXIgfHwgIXRoaXMuaGFzRW50ZXJlZCkge1xuICAgICAgICBpZiAoJGRlYnVnICYmIGlzSW5WaWV3KSAkZGVidWcuc3R5bGUuekluZGV4ID0gYCR7dGhpcy5jb250YWluZXIuekluZGV4Kyt9YDtcbiAgICAgICAgdGhpcy5vblN5bmNFbnRlcih0aGlzKTtcbiAgICAgICAgdGhpcy5vbkVudGVyKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5iYWNrd2FyZCkge1xuICAgICAgICAgIHRoaXMub25TeW5jRW50ZXJCYWNrd2FyZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLm9uRW50ZXJCYWNrd2FyZCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9uU3luY0VudGVyRm9yd2FyZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLm9uRW50ZXJGb3J3YXJkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRW50ZXJlZCA9IHRydWU7XG4gICAgICAgIGlmIChmb3JjZUVudGVyKSB0aGlzLmZvcmNlRW50ZXIgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChpc0luVmlldykge1xuICAgICAgICB0aGlzLmZvcmNlRW50ZXIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNJblZpZXcgfHwgIWlzSW5WaWV3ICYmIHRoaXMuaXNJblZpZXcpIHtcbiAgICAgIGhhc1VwZGF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChoYXNVcGRhdGVkKSB7XG4gICAgICBpZiAoc2hvdWxkU2VlaykgbGlua2VkLnNlZWsobGlua2VkLmR1cmF0aW9uICogcCk7XG4gICAgICB0aGlzLm9uVXBkYXRlKHRoaXMpO1xuICAgIH1cblxuICAgIGlmICghaXNJblZpZXcgJiYgdGhpcy5pc0luVmlldykge1xuICAgICAgdGhpcy5pc0luVmlldyA9IGZhbHNlO1xuICAgICAgdGhpcy5vblN5bmNMZWF2ZSh0aGlzKTtcbiAgICAgIHRoaXMub25MZWF2ZSh0aGlzKTtcbiAgICAgIGlmICh0aGlzLmJhY2t3YXJkKSB7XG4gICAgICAgIHRoaXMub25TeW5jTGVhdmVCYWNrd2FyZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkxlYXZlQmFja3dhcmQodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uU3luY0xlYXZlRm9yd2FyZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkxlYXZlRm9yd2FyZCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW5jICYmICFzeW5jU21vb3RoKSB7XG4gICAgICAgIHN5bmNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwID49IDEgJiYgdGhpcy5iZWdhbiAmJiAhdGhpcy5jb21wbGV0ZWQgJiYgKHN5bmMgJiYgc3luY0NvbXBsZXRlZCB8fCAhc3luYykpIHtcbiAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgIHRoaXMub25TeW5jQ29tcGxldGUodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICBpZiAoKCF0aGlzLnJlcGVhdCAmJiAhbGlua2VkKSB8fCAoIXRoaXMucmVwZWF0ICYmIGxpbmtlZCAmJiBsaW5rZWQuY29tcGxldGVkKSkge1xuICAgICAgICB0aGlzLnJldmVydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwIDwgMSAmJiB0aGlzLmNvbXBsZXRlZCkge1xuICAgICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXZQcm9ncmVzcyA9IHA7XG4gIH1cblxuICByZXZlcnQoKSB7XG4gICAgaWYgKHRoaXMucmV2ZXJ0ZWQpIHJldHVybjtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICByZW1vdmVDaGlsZChjb250YWluZXIsIHRoaXMpO1xuICAgIGlmICghY29udGFpbmVyLl9oZWFkKSB7XG4gICAgICBjb250YWluZXIucmV2ZXJ0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZWJ1Zykge1xuICAgICAgdGhpcy5yZW1vdmVEZWJ1ZygpO1xuICAgIH1cbiAgICB0aGlzLnJldmVydGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG5cbi8qKlxuICogQHBhcmFtIHtTY3JvbGxPYnNlcnZlclBhcmFtc30gW3BhcmFtZXRlcnM9e31dXG4gKiBAcmV0dXJuIHtTY3JvbGxPYnNlcnZlcn1cbiAqL1xuY29uc3Qgb25TY3JvbGwgPSAocGFyYW1ldGVycyA9IHt9KSA9PiBuZXcgU2Nyb2xsT2JzZXJ2ZXIocGFyYW1ldGVycyk7XG5cblxuXG5cbi8qKlxuICogQHR5cGVkZWYgIHtPYmplY3R9IFN0YWdnZXJQYXJhbWV0ZXJzXG4gKiBAcHJvcGVydHkge051bWJlcnxTdHJpbmd9IFtzdGFydF1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCdmaXJzdCd8J2NlbnRlcid8J2xhc3QnfSBbZnJvbV1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3JldmVyc2VkXVxuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gW2dyaWRdXG4gKiBAcHJvcGVydHkgeygneCd8J3knKX0gW2F4aXNdXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5Nb2RpZmllcn0gW21vZGlmaWVyXVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFN0YWdnZXJGdW5jdGlvblxuICogQHBhcmFtIHtUYXJnZXR9IFt0YXJnZXRdXG4gKiBAcGFyYW0ge051bWJlcn0gW2luZGV4XVxuICogQHBhcmFtIHtOdW1iZXJ9IFtsZW5ndGhdXG4gKiBAcGFyYW0ge1RpbWVsaW5lfSBbdGxdXG4gKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfVxuICovXG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfFN0cmluZ3xbTnVtYmVyfFN0cmluZyxOdW1iZXJ8U3RyaW5nXX0gdmFsXG4gKiBAcGFyYW0gIHtTdGFnZ2VyUGFyYW1ldGVyc30gcGFyYW1zXG4gKiBAcmV0dXJuIHtTdGFnZ2VyRnVuY3Rpb259XG4gKi9cbmNvbnN0IHN0YWdnZXIgPSAodmFsLCBwYXJhbXMgPSB7fSkgPT4ge1xuICBsZXQgdmFsdWVzID0gW107XG4gIGxldCBtYXhWYWx1ZSA9IDA7XG4gIGNvbnN0IGZyb20gPSBwYXJhbXMuZnJvbTtcbiAgY29uc3QgcmV2ZXJzZWQgPSBwYXJhbXMucmV2ZXJzZWQ7XG4gIGNvbnN0IGVhc2UgPSBwYXJhbXMuZWFzZTtcbiAgY29uc3QgaGFzRWFzaW5nID0gIWlzVW5kKGVhc2UpO1xuICBjb25zdCBoYXNTcHJpbmcgPSBoYXNFYXNpbmcgJiYgIWlzVW5kKC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhlYXNlKS5lYXNlKTtcbiAgY29uc3Qgc3RhZ2dlckVhc2UgPSBoYXNTcHJpbmcgPyAvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZWFzZSA6IGhhc0Vhc2luZyA/IHBhcnNlRWFzaW5ncyhlYXNlKSA6IG51bGw7XG4gIGNvbnN0IGdyaWQgPSBwYXJhbXMuZ3JpZDtcbiAgY29uc3QgYXhpcyA9IHBhcmFtcy5heGlzO1xuICBjb25zdCBmcm9tRmlyc3QgPSBpc1VuZChmcm9tKSB8fCBmcm9tID09PSAwIHx8IGZyb20gPT09ICdmaXJzdCc7XG4gIGNvbnN0IGZyb21DZW50ZXIgPSBmcm9tID09PSAnY2VudGVyJztcbiAgY29uc3QgZnJvbUxhc3QgPSBmcm9tID09PSAnbGFzdCc7XG4gIGNvbnN0IGlzUmFuZ2UgPSBpc0Fycih2YWwpO1xuICBjb25zdCB2YWwxID0gaXNSYW5nZSA/IHBhcnNlTnVtYmVyKHZhbFswXSkgOiBwYXJzZU51bWJlcih2YWwpO1xuICBjb25zdCB2YWwyID0gaXNSYW5nZSA/IHBhcnNlTnVtYmVyKHZhbFsxXSkgOiAwO1xuICBjb25zdCB1bml0TWF0Y2ggPSB1bml0c0V4ZWNSZ3guZXhlYygoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgKyBlbXB0eVN0cmluZyk7XG4gIGNvbnN0IHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgbGV0IGZyb21JbmRleCA9IGZyb21GaXJzdCA/IDAgOiBpc051bShmcm9tKSA/IGZyb20gOiAwO1xuICByZXR1cm4gKF8sIGksIHQsIHRsKSA9PiB7XG4gICAgaWYgKGZyb21DZW50ZXIpIGZyb21JbmRleCA9ICh0IC0gMSkgLyAyO1xuICAgIGlmIChmcm9tTGFzdCkgZnJvbUluZGV4ID0gdCAtIDE7XG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoIWdyaWQpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChhYnMoZnJvbUluZGV4IC0gaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBmcm9tWCA9ICFmcm9tQ2VudGVyID8gZnJvbUluZGV4ICUgZ3JpZFswXSA6IChncmlkWzBdIC0gMSkgLyAyO1xuICAgICAgICAgIGNvbnN0IGZyb21ZID0gIWZyb21DZW50ZXIgPyBmbG9vcihmcm9tSW5kZXggLyBncmlkWzBdKSA6IChncmlkWzFdIC0gMSkgLyAyO1xuICAgICAgICAgIGNvbnN0IHRvWCA9IGluZGV4ICUgZ3JpZFswXTtcbiAgICAgICAgICBjb25zdCB0b1kgPSBmbG9vcihpbmRleCAvIGdyaWRbMF0pO1xuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlWSA9IGZyb21ZIC0gdG9ZO1xuICAgICAgICAgIGxldCB2YWx1ZSA9IHNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB2YWx1ZSA9IC1kaXN0YW5jZVg7XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd5JykgdmFsdWUgPSAtZGlzdGFuY2VZO1xuICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhWYWx1ZSA9IG1heCguLi52YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YWdnZXJFYXNlKSB2YWx1ZXMgPSB2YWx1ZXMubWFwKHZhbCA9PiBzdGFnZ2VyRWFzZSh2YWwgLyBtYXhWYWx1ZSkgKiBtYXhWYWx1ZSk7XG4gICAgICBpZiAocmV2ZXJzZWQpIHZhbHVlcyA9IHZhbHVlcy5tYXAodmFsID0+IGF4aXMgPyAodmFsIDwgMCkgPyB2YWwgKiAtMSA6IC12YWwgOiBhYnMobWF4VmFsdWUgLSB2YWwpKTtcbiAgICB9XG4gICAgY29uc3Qgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIGNvbnN0IG9mZnNldCA9IHRsID8gcGFyc2VUaW1lbGluZVBvc2l0aW9uKHRsLCBpc1VuZChwYXJhbXMuc3RhcnQpID8gdGwuaXRlcmF0aW9uRHVyYXRpb24gOiBzdGFydCkgOiAvKiogQHR5cGUge051bWJlcn0gKi8oc3RhcnQpO1xuICAgIC8qKiBAdHlwZSB7U3RyaW5nfE51bWJlcn0gKi9cbiAgICBsZXQgb3V0cHV0ID0gb2Zmc2V0ICsgKChzcGFjaW5nICogcm91bmQodmFsdWVzW2ldLCAyKSkgfHwgMCk7XG4gICAgaWYgKHBhcmFtcy5tb2RpZmllcikgb3V0cHV0ID0gcGFyYW1zLm1vZGlmaWVyKG91dHB1dCk7XG4gICAgaWYgKHVuaXRNYXRjaCkgb3V0cHV0ID0gYCR7b3V0cHV0fSR7dW5pdE1hdGNoWzJdfWA7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxufTtcblxuZXhwb3J0IHsgQW5pbWF0YWJsZSwgRHJhZ2dhYmxlLCBKU0FuaW1hdGlvbiwgU2NvcGUsIFNjcm9sbE9ic2VydmVyLCBTcHJpbmcsIFRpbWVsaW5lLCBUaW1lciwgV0FBUElBbmltYXRpb24sIGFuaW1hdGUsIGNyZWF0ZUFuaW1hdGFibGUsIGNyZWF0ZURyYWdnYWJsZSwgY3JlYXRlU2NvcGUsIGNyZWF0ZVNwcmluZywgY3JlYXRlVGltZWxpbmUsIGNyZWF0ZVRpbWVyLCBlYXNlcywgZW5naW5lLCBvblNjcm9sbCwgc2Nyb2xsQ29udGFpbmVycywgc3RhZ2dlciwgc3ZnLCB1dGlscywgd2FhcGkgfTtcbiIsICJleHBvcnQgZnVuY3Rpb24gYXBwZW5kRmluZUFudCgpIHtcblx0Y29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblx0c2NyaXB0LnNyYyA9IFwiaHR0cHM6Ly93d3cuZmlyZWFudC52bi9TY3JpcHRzL3dlYi93aWRnZXRzLmpzXCI7XG5cdHNjcmlwdC5kZWZlciA9IHRydWU7XG5cdHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0bmV3IEZpcmVBbnQuUXVvdGVXaWRnZXQoe1xuXHRcdFx0Y29udGFpbmVyX2lkOiBcImZhbi1xdW90ZS0zNzNcIixcblx0XHRcdHN5bWJvbHM6IFwiSUpDXCIsXG5cdFx0XHRsb2NhbGU6IFwidmlcIixcblx0XHRcdHByaWNlX2xpbmVfY29sb3I6IFwiIzcxQkRERlwiLFxuXHRcdFx0Z3JpZF9jb2xvcjogXCIjOTk5OTk5XCIsXG5cdFx0XHRsYWJlbF9jb2xvcjogXCIjOTk5OTk5XCIsXG5cdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRoZWlnaHQ6IFwiMjAwcHhcIixcblx0XHR9KTtcblx0fTtcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pZnJhbWUtZmluZWFudFwiKS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXHRjb25zb2xlLmxvZyhcIlx1RDgzRFx1REZFMiBGaW5lYW50IGlzIGFkZGVkIVwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG93UmVzb2x1dGlvbldlYigpIHtcblx0Y29uc3Qgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblx0Y29uc3QgaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXHQkKFwibWFpblwiKS5hcHBlbmQoXG5cdFx0YDxzdHlsZT4uc2hvdy1yZXNvbHV0aW9uLXdlYntwb3NpdGlvbjogZml4ZWQ7IHJpZ2h0OiAwOyBib3R0b206IDA7IGJhY2tncm91bmQtY29sb3I6ICNmNzM5MzY7IGNvbG9yOiB3aGl0ZTsgei1pbmRleDogMTAwOyBwYWRkaW5nOiAxcmVtO308L3N0eWxlPjxkaXYgY2xhc3M9XCJzaG93LXJlc29sdXRpb24td2ViXCI+PHA+V2lkdGg6ICR7d2lkdGh9cHg8L3A+IDxwPkhlaWdodDogJHtoZWlnaHR9cHg8L3A+PC9kaXY+YFxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVtKHZhbHVlKSB7XG5cdHJldHVybiAodmFsdWUgLyAxOTIwKSAqIDEwMCArIFwicmVtXCI7XG59XG4iLCAiLyohXG4gKiBTcGxpdFRleHQgMy4xMy4wXG4gKiBodHRwczovL2dzYXAuY29tXG4gKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IDIwMjUsIEdyZWVuU29jay4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gU3ViamVjdCB0byB0aGUgdGVybXMgYXQgaHR0cHM6Ly9nc2FwLmNvbS9zdGFuZGFyZC1saWNlbnNlLlxuICogQGF1dGhvcjogSmFjayBEb3lsZVxuICovXG5cbmxldCBnc2FwLCBfZm9udHMsIF9jb3JlSW5pdHRlZCwgX2luaXRJZk5lY2Vzc2FyeSA9ICgpID0+IF9jb3JlSW5pdHRlZCB8fCBTcGxpdFRleHQucmVnaXN0ZXIod2luZG93LmdzYXApLCBfY2hhclNlZ21lbnRlciA9IHR5cGVvZiBJbnRsICE9PSBcInVuZGVmaW5lZFwiID8gbmV3IEludGwuU2VnbWVudGVyKCkgOiAwLCBfdG9BcnJheSA9IChyKSA9PiB0eXBlb2YgciA9PT0gXCJzdHJpbmdcIiA/IF90b0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocikpIDogXCJsZW5ndGhcIiBpbiByID8gQXJyYXkuZnJvbShyKSA6IFtyXSwgX2VsZW1lbnRzID0gKHRhcmdldHMpID0+IF90b0FycmF5KHRhcmdldHMpLmZpbHRlcigoZSkgPT4gZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSwgX2VtcHR5QXJyYXkgPSBbXSwgX2NvbnRleHQgPSBmdW5jdGlvbigpIHtcbn0sIF9zcGFjZXNSZWdFeCA9IC9cXHMrL2csIF9lbW9qaVNhZmVSZWdFeCA9IG5ldyBSZWdFeHAoXCJcXFxccHtSSX1cXFxccHtSSX18XFxcXHB7RW1vaml9KFxcXFxwe0VNb2R9fFxcXFx1e0ZFMEZ9XFxcXHV7MjBFM30/fFtcXFxcdXtFMDAyMH0tXFxcXHV7RTAwN0V9XStcXFxcdXtFMDA3Rn0pPyhcXFxcdXsyMDBEfVxcXFxwe0Vtb2ppfShcXFxccHtFTW9kfXxcXFxcdXtGRTBGfVxcXFx1ezIwRTN9P3xbXFxcXHV7RTAwMjB9LVxcXFx1e0UwMDdFfV0rXFxcXHV7RTAwN0Z9KT8pKnwuXCIsIFwiZ3VcIiksIF9lbXB0eUJvdW5kcyA9IHsgbGVmdDogMCwgdG9wOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sIF9zdHJldGNoVG9GaXRTcGVjaWFsQ2hhcnMgPSAoY29sbGVjdGlvbiwgc3BlY2lhbENoYXJzUmVnRXgpID0+IHtcbiAgaWYgKHNwZWNpYWxDaGFyc1JlZ0V4KSB7XG4gICAgbGV0IGNoYXJzRm91bmQgPSBuZXcgU2V0KGNvbGxlY3Rpb24uam9pbihcIlwiKS5tYXRjaChzcGVjaWFsQ2hhcnNSZWdFeCkgfHwgX2VtcHR5QXJyYXkpLCBpID0gY29sbGVjdGlvbi5sZW5ndGgsIHNsb3RzLCB3b3JkLCBjaGFyLCBjb21iaW5lZDtcbiAgICBpZiAoY2hhcnNGb3VuZC5zaXplKSB7XG4gICAgICB3aGlsZSAoLS1pID4gLTEpIHtcbiAgICAgICAgd29yZCA9IGNvbGxlY3Rpb25baV07XG4gICAgICAgIGZvciAoY2hhciBvZiBjaGFyc0ZvdW5kKSB7XG4gICAgICAgICAgaWYgKGNoYXIuc3RhcnRzV2l0aCh3b3JkKSAmJiBjaGFyLmxlbmd0aCA+IHdvcmQubGVuZ3RoKSB7XG4gICAgICAgICAgICBzbG90cyA9IDA7XG4gICAgICAgICAgICBjb21iaW5lZCA9IHdvcmQ7XG4gICAgICAgICAgICB3aGlsZSAoY2hhci5zdGFydHNXaXRoKGNvbWJpbmVkICs9IGNvbGxlY3Rpb25baSArICsrc2xvdHNdKSAmJiBjb21iaW5lZC5sZW5ndGggPCBjaGFyLmxlbmd0aCkge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNsb3RzICYmIGNvbWJpbmVkLmxlbmd0aCA9PT0gY2hhci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY29sbGVjdGlvbltpXSA9IGNoYXI7XG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24uc3BsaWNlKGkgKyAxLCBzbG90cyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29sbGVjdGlvbjtcbn0sIF9kaXNhbGxvd0lubGluZSA9IChlbGVtZW50KSA9PiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXNwbGF5ID09PSBcImlubGluZVwiICYmIChlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiKSwgX2luc2VydE5vZGVCZWZvcmUgPSAobmV3Q2hpbGQsIHBhcmVudCwgZXhpc3RpbmdDaGlsZCkgPT4gcGFyZW50Lmluc2VydEJlZm9yZSh0eXBlb2YgbmV3Q2hpbGQgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCkgOiBuZXdDaGlsZCwgZXhpc3RpbmdDaGlsZCksIF9nZXRXcmFwcGVyID0gKHR5cGUsIGNvbmZpZywgY29sbGVjdGlvbikgPT4ge1xuICBsZXQgY2xhc3NOYW1lID0gY29uZmlnW3R5cGUgKyBcInNDbGFzc1wiXSB8fCBcIlwiLCB7IHRhZyA9IFwiZGl2XCIsIGFyaWEgPSBcImF1dG9cIiwgcHJvcEluZGV4ID0gZmFsc2UgfSA9IGNvbmZpZywgZGlzcGxheSA9IHR5cGUgPT09IFwibGluZVwiID8gXCJibG9ja1wiIDogXCJpbmxpbmUtYmxvY2tcIiwgaW5jcmVtZW50Q2xhc3MgPSBjbGFzc05hbWUuaW5kZXhPZihcIisrXCIpID4gLTEsIHdyYXBwZXIgPSAodGV4dCkgPT4ge1xuICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKSwgaSA9IGNvbGxlY3Rpb24ubGVuZ3RoICsgMTtcbiAgICBjbGFzc05hbWUgJiYgKGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZSArIChpbmNyZW1lbnRDbGFzcyA/IFwiIFwiICsgY2xhc3NOYW1lICsgaSA6IFwiXCIpKTtcbiAgICBwcm9wSW5kZXggJiYgZWwuc3R5bGUuc2V0UHJvcGVydHkoXCItLVwiICsgdHlwZSwgaSArIFwiXCIpO1xuICAgIGFyaWEgIT09IFwibm9uZVwiICYmIGVsLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICBpZiAodGFnICE9PSBcInNwYW5cIikge1xuICAgICAgZWwuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICB9XG4gICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIGNvbGxlY3Rpb24ucHVzaChlbCk7XG4gICAgcmV0dXJuIGVsO1xuICB9O1xuICBpbmNyZW1lbnRDbGFzcyAmJiAoY2xhc3NOYW1lID0gY2xhc3NOYW1lLnJlcGxhY2UoXCIrK1wiLCBcIlwiKSk7XG4gIHdyYXBwZXIuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gIHJldHVybiB3cmFwcGVyO1xufSwgX2dldExpbmVXcmFwcGVyID0gKGVsZW1lbnQsIG5vZGVzLCBjb25maWcsIGNvbGxlY3Rpb24pID0+IHtcbiAgbGV0IGxpbmVXcmFwcGVyID0gX2dldFdyYXBwZXIoXCJsaW5lXCIsIGNvbmZpZywgY29sbGVjdGlvbiksIHRleHRBbGlnbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnRleHRBbGlnbiB8fCBcImxlZnRcIjtcbiAgcmV0dXJuIChzdGFydEluZGV4LCBlbmRJbmRleCkgPT4ge1xuICAgIGxldCBuZXdMaW5lID0gbGluZVdyYXBwZXIoXCJcIik7XG4gICAgbmV3TGluZS5zdHlsZS50ZXh0QWxpZ24gPSB0ZXh0QWxpZ247XG4gICAgZWxlbWVudC5pbnNlcnRCZWZvcmUobmV3TGluZSwgbm9kZXNbc3RhcnRJbmRleF0pO1xuICAgIGZvciAoOyBzdGFydEluZGV4IDwgZW5kSW5kZXg7IHN0YXJ0SW5kZXgrKykge1xuICAgICAgbmV3TGluZS5hcHBlbmRDaGlsZChub2Rlc1tzdGFydEluZGV4XSk7XG4gICAgfVxuICAgIG5ld0xpbmUubm9ybWFsaXplKCk7XG4gIH07XG59LCBfc3BsaXRXb3Jkc0FuZENoYXJzUmVjdXJzaXZlbHkgPSAoZWxlbWVudCwgY29uZmlnLCB3b3JkV3JhcHBlciwgY2hhcldyYXBwZXIsIHByZXBGb3JDaGFyc09ubHksIGRlZXBTbGljZSwgaWdub3JlLCBjaGFyU3BsaXRSZWdFeCwgc3BlY2lhbENoYXJzUmVnRXgsIGlzTmVzdGVkKSA9PiB7XG4gIHZhciBfYTtcbiAgbGV0IG5vZGVzID0gQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpLCBpID0gMCwgeyB3b3JkRGVsaW1pdGVyLCByZWR1Y2VXaGl0ZVNwYWNlID0gdHJ1ZSwgcHJlcGFyZVRleHQgfSA9IGNvbmZpZywgZWxlbWVudEJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGxhc3RCb3VuZHMgPSBlbGVtZW50Qm91bmRzLCBpc1ByZWZvcm1hdHRlZCA9ICFyZWR1Y2VXaGl0ZVNwYWNlICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLndoaXRlU3BhY2Uuc3Vic3RyaW5nKDAsIDMpID09PSBcInByZVwiLCBpZ25vcmVkUHJldmlvdXNTaWJsaW5nID0gMCwgd29yZHNDb2xsZWN0aW9uID0gd29yZFdyYXBwZXIuY29sbGVjdGlvbiwgd29yZERlbGltSXNOb3RTcGFjZSwgd29yZERlbGltU3RyaW5nLCB3b3JkRGVsaW1TcGxpdHRlciwgY3VyTm9kZSwgd29yZHMsIGN1cldvcmRFbCwgc3RhcnRzV2l0aFNwYWNlLCBlbmRzV2l0aFNwYWNlLCBqLCBib3VuZHMsIGN1cldvcmRDaGFycywgY2xvbmVkTm9kZSwgY3VyU3ViTm9kZSwgdGVtcFN1Yk5vZGUsIGN1clRleHRDb250ZW50LCB3b3JkVGV4dCwgbGFzdFdvcmRUZXh0LCBrO1xuICBpZiAodHlwZW9mIHdvcmREZWxpbWl0ZXIgPT09IFwib2JqZWN0XCIpIHtcbiAgICB3b3JkRGVsaW1TcGxpdHRlciA9IHdvcmREZWxpbWl0ZXIuZGVsaW1pdGVyIHx8IHdvcmREZWxpbWl0ZXI7XG4gICAgd29yZERlbGltU3RyaW5nID0gd29yZERlbGltaXRlci5yZXBsYWNlV2l0aCB8fCBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHdvcmREZWxpbVN0cmluZyA9IHdvcmREZWxpbWl0ZXIgPT09IFwiXCIgPyBcIlwiIDogd29yZERlbGltaXRlciB8fCBcIiBcIjtcbiAgfVxuICB3b3JkRGVsaW1Jc05vdFNwYWNlID0gd29yZERlbGltU3RyaW5nICE9PSBcIiBcIjtcbiAgZm9yICg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGN1ck5vZGUgPSBub2Rlc1tpXTtcbiAgICBpZiAoY3VyTm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgY3VyVGV4dENvbnRlbnQgPSBjdXJOb2RlLnRleHRDb250ZW50IHx8IFwiXCI7XG4gICAgICBpZiAocmVkdWNlV2hpdGVTcGFjZSkge1xuICAgICAgICBjdXJUZXh0Q29udGVudCA9IGN1clRleHRDb250ZW50LnJlcGxhY2UoX3NwYWNlc1JlZ0V4LCBcIiBcIik7XG4gICAgICB9IGVsc2UgaWYgKGlzUHJlZm9ybWF0dGVkKSB7XG4gICAgICAgIGN1clRleHRDb250ZW50ID0gY3VyVGV4dENvbnRlbnQucmVwbGFjZSgvXFxuL2csIHdvcmREZWxpbVN0cmluZyArIFwiXFxuXCIpO1xuICAgICAgfVxuICAgICAgcHJlcGFyZVRleHQgJiYgKGN1clRleHRDb250ZW50ID0gcHJlcGFyZVRleHQoY3VyVGV4dENvbnRlbnQsIGVsZW1lbnQpKTtcbiAgICAgIGN1ck5vZGUudGV4dENvbnRlbnQgPSBjdXJUZXh0Q29udGVudDtcbiAgICAgIHdvcmRzID0gd29yZERlbGltU3RyaW5nIHx8IHdvcmREZWxpbVNwbGl0dGVyID8gY3VyVGV4dENvbnRlbnQuc3BsaXQod29yZERlbGltU3BsaXR0ZXIgfHwgd29yZERlbGltU3RyaW5nKSA6IGN1clRleHRDb250ZW50Lm1hdGNoKGNoYXJTcGxpdFJlZ0V4KSB8fCBfZW1wdHlBcnJheTtcbiAgICAgIGxhc3RXb3JkVGV4dCA9IHdvcmRzW3dvcmRzLmxlbmd0aCAtIDFdO1xuICAgICAgZW5kc1dpdGhTcGFjZSA9IHdvcmREZWxpbUlzTm90U3BhY2UgPyBsYXN0V29yZFRleHQuc2xpY2UoLTEpID09PSBcIiBcIiA6ICFsYXN0V29yZFRleHQ7XG4gICAgICBsYXN0V29yZFRleHQgfHwgd29yZHMucG9wKCk7XG4gICAgICBsYXN0Qm91bmRzID0gZWxlbWVudEJvdW5kcztcbiAgICAgIHN0YXJ0c1dpdGhTcGFjZSA9IHdvcmREZWxpbUlzTm90U3BhY2UgPyB3b3Jkc1swXS5jaGFyQXQoMCkgPT09IFwiIFwiIDogIXdvcmRzWzBdO1xuICAgICAgc3RhcnRzV2l0aFNwYWNlICYmIF9pbnNlcnROb2RlQmVmb3JlKFwiIFwiLCBlbGVtZW50LCBjdXJOb2RlKTtcbiAgICAgIHdvcmRzWzBdIHx8IHdvcmRzLnNoaWZ0KCk7XG4gICAgICBfc3RyZXRjaFRvRml0U3BlY2lhbENoYXJzKHdvcmRzLCBzcGVjaWFsQ2hhcnNSZWdFeCk7XG4gICAgICBkZWVwU2xpY2UgJiYgaXNOZXN0ZWQgfHwgKGN1ck5vZGUudGV4dENvbnRlbnQgPSBcIlwiKTtcbiAgICAgIGZvciAoaiA9IDE7IGogPD0gd29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgd29yZFRleHQgPSB3b3Jkc1tqIC0gMV07XG4gICAgICAgIGlmICghcmVkdWNlV2hpdGVTcGFjZSAmJiBpc1ByZWZvcm1hdHRlZCAmJiB3b3JkVGV4dC5jaGFyQXQoMCkgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAoX2EgPSBjdXJOb2RlLnByZXZpb3VzU2libGluZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlbW92ZSgpO1xuICAgICAgICAgIF9pbnNlcnROb2RlQmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSwgZWxlbWVudCwgY3VyTm9kZSk7XG4gICAgICAgICAgd29yZFRleHQgPSB3b3JkVGV4dC5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlZHVjZVdoaXRlU3BhY2UgJiYgd29yZFRleHQgPT09IFwiXCIpIHtcbiAgICAgICAgICBfaW5zZXJ0Tm9kZUJlZm9yZSh3b3JkRGVsaW1TdHJpbmcsIGVsZW1lbnQsIGN1ck5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHdvcmRUZXh0ID09PSBcIiBcIikge1xuICAgICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSwgY3VyTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd29yZERlbGltSXNOb3RTcGFjZSAmJiB3b3JkVGV4dC5jaGFyQXQoMCkgPT09IFwiIFwiICYmIF9pbnNlcnROb2RlQmVmb3JlKFwiIFwiLCBlbGVtZW50LCBjdXJOb2RlKTtcbiAgICAgICAgICBpZiAoaWdub3JlZFByZXZpb3VzU2libGluZyAmJiBqID09PSAxICYmICFzdGFydHNXaXRoU3BhY2UgJiYgd29yZHNDb2xsZWN0aW9uLmluZGV4T2YoaWdub3JlZFByZXZpb3VzU2libGluZy5wYXJlbnROb2RlKSA+IC0xKSB7XG4gICAgICAgICAgICBjdXJXb3JkRWwgPSB3b3Jkc0NvbGxlY3Rpb25bd29yZHNDb2xsZWN0aW9uLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY3VyV29yZEVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoYXJXcmFwcGVyID8gXCJcIiA6IHdvcmRUZXh0KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cldvcmRFbCA9IHdvcmRXcmFwcGVyKGNoYXJXcmFwcGVyID8gXCJcIiA6IHdvcmRUZXh0KTtcbiAgICAgICAgICAgIF9pbnNlcnROb2RlQmVmb3JlKGN1cldvcmRFbCwgZWxlbWVudCwgY3VyTm9kZSk7XG4gICAgICAgICAgICBpZ25vcmVkUHJldmlvdXNTaWJsaW5nICYmIGogPT09IDEgJiYgIXN0YXJ0c1dpdGhTcGFjZSAmJiBjdXJXb3JkRWwuaW5zZXJ0QmVmb3JlKGlnbm9yZWRQcmV2aW91c1NpYmxpbmcsIGN1cldvcmRFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNoYXJXcmFwcGVyKSB7XG4gICAgICAgICAgICBjdXJXb3JkQ2hhcnMgPSBfY2hhclNlZ21lbnRlciA/IF9zdHJldGNoVG9GaXRTcGVjaWFsQ2hhcnMoWy4uLl9jaGFyU2VnbWVudGVyLnNlZ21lbnQod29yZFRleHQpXS5tYXAoKHMpID0+IHMuc2VnbWVudCksIHNwZWNpYWxDaGFyc1JlZ0V4KSA6IHdvcmRUZXh0Lm1hdGNoKGNoYXJTcGxpdFJlZ0V4KSB8fCBfZW1wdHlBcnJheTtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjdXJXb3JkQ2hhcnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgY3VyV29yZEVsLmFwcGVuZENoaWxkKGN1cldvcmRDaGFyc1trXSA9PT0gXCIgXCIgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiBcIikgOiBjaGFyV3JhcHBlcihjdXJXb3JkQ2hhcnNba10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRlZXBTbGljZSAmJiBpc05lc3RlZCkge1xuICAgICAgICAgICAgY3VyVGV4dENvbnRlbnQgPSBjdXJOb2RlLnRleHRDb250ZW50ID0gY3VyVGV4dENvbnRlbnQuc3Vic3RyaW5nKHdvcmRUZXh0Lmxlbmd0aCArIDEsIGN1clRleHRDb250ZW50Lmxlbmd0aCk7XG4gICAgICAgICAgICBib3VuZHMgPSBjdXJXb3JkRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBpZiAoYm91bmRzLnRvcCA+IGxhc3RCb3VuZHMudG9wICYmIGJvdW5kcy5sZWZ0IDw9IGxhc3RCb3VuZHMubGVmdCkge1xuICAgICAgICAgICAgICBjbG9uZWROb2RlID0gZWxlbWVudC5jbG9uZU5vZGUoKTtcbiAgICAgICAgICAgICAgY3VyU3ViTm9kZSA9IGVsZW1lbnQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgICAgd2hpbGUgKGN1clN1Yk5vZGUgJiYgY3VyU3ViTm9kZSAhPT0gY3VyV29yZEVsKSB7XG4gICAgICAgICAgICAgICAgdGVtcFN1Yk5vZGUgPSBjdXJTdWJOb2RlO1xuICAgICAgICAgICAgICAgIGN1clN1Yk5vZGUgPSBjdXJTdWJOb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGNsb25lZE5vZGUuYXBwZW5kQ2hpbGQodGVtcFN1Yk5vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2xvbmVkTm9kZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAgIHByZXBGb3JDaGFyc09ubHkgJiYgX2Rpc2FsbG93SW5saW5lKGNsb25lZE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEJvdW5kcyA9IGJvdW5kcztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGogPCB3b3Jkcy5sZW5ndGggfHwgZW5kc1dpdGhTcGFjZSkge1xuICAgICAgICAgICAgX2luc2VydE5vZGVCZWZvcmUoaiA+PSB3b3Jkcy5sZW5ndGggPyBcIiBcIiA6IHdvcmREZWxpbUlzTm90U3BhY2UgJiYgd29yZFRleHQuc2xpY2UoLTEpID09PSBcIiBcIiA/IFwiIFwiICsgd29yZERlbGltU3RyaW5nIDogd29yZERlbGltU3RyaW5nLCBlbGVtZW50LCBjdXJOb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoY3VyTm9kZSk7XG4gICAgICBpZ25vcmVkUHJldmlvdXNTaWJsaW5nID0gMDtcbiAgICB9IGVsc2UgaWYgKGN1ck5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGlmIChpZ25vcmUgJiYgaWdub3JlLmluZGV4T2YoY3VyTm9kZSkgPiAtMSkge1xuICAgICAgICB3b3Jkc0NvbGxlY3Rpb24uaW5kZXhPZihjdXJOb2RlLnByZXZpb3VzU2libGluZykgPiAtMSAmJiB3b3Jkc0NvbGxlY3Rpb25bd29yZHNDb2xsZWN0aW9uLmxlbmd0aCAtIDFdLmFwcGVuZENoaWxkKGN1ck5vZGUpO1xuICAgICAgICBpZ25vcmVkUHJldmlvdXNTaWJsaW5nID0gY3VyTm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9zcGxpdFdvcmRzQW5kQ2hhcnNSZWN1cnNpdmVseShjdXJOb2RlLCBjb25maWcsIHdvcmRXcmFwcGVyLCBjaGFyV3JhcHBlciwgcHJlcEZvckNoYXJzT25seSwgZGVlcFNsaWNlLCBpZ25vcmUsIGNoYXJTcGxpdFJlZ0V4LCBzcGVjaWFsQ2hhcnNSZWdFeCwgdHJ1ZSk7XG4gICAgICAgIGlnbm9yZWRQcmV2aW91c1NpYmxpbmcgPSAwO1xuICAgICAgfVxuICAgICAgcHJlcEZvckNoYXJzT25seSAmJiBfZGlzYWxsb3dJbmxpbmUoY3VyTm9kZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgX1NwbGl0VGV4dCA9IGNsYXNzIF9TcGxpdFRleHQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50cywgY29uZmlnKSB7XG4gICAgdGhpcy5pc1NwbGl0ID0gZmFsc2U7XG4gICAgX2luaXRJZk5lY2Vzc2FyeSgpO1xuICAgIHRoaXMuZWxlbWVudHMgPSBfZWxlbWVudHMoZWxlbWVudHMpO1xuICAgIHRoaXMuY2hhcnMgPSBbXTtcbiAgICB0aGlzLndvcmRzID0gW107XG4gICAgdGhpcy5saW5lcyA9IFtdO1xuICAgIHRoaXMubWFza3MgPSBbXTtcbiAgICB0aGlzLnZhcnMgPSBjb25maWc7XG4gICAgdGhpcy5fc3BsaXQgPSAoKSA9PiB0aGlzLmlzU3BsaXQgJiYgdGhpcy5zcGxpdCh0aGlzLnZhcnMpO1xuICAgIGxldCBvcmlnID0gW10sIHRpbWVySWQsIGNoZWNrV2lkdGhzID0gKCkgPT4ge1xuICAgICAgbGV0IGkgPSBvcmlnLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgbyA9IG9yaWdbaV07XG4gICAgICAgIGxldCB3ID0gby5lbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBpZiAodyAhPT0gby53aWR0aCkge1xuICAgICAgICAgIG8ud2lkdGggPSB3O1xuICAgICAgICAgIHRoaXMuX3NwbGl0KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9kYXRhID0geyBvcmlnLCBvYnM6IHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQoY2hlY2tXaWR0aHMsIDIwMCk7XG4gICAgfSkgfTtcbiAgICBfY29udGV4dCh0aGlzKTtcbiAgICB0aGlzLnNwbGl0KGNvbmZpZyk7XG4gIH1cbiAgc3BsaXQoY29uZmlnKSB7XG4gICAgdGhpcy5pc1NwbGl0ICYmIHRoaXMucmV2ZXJ0KCk7XG4gICAgdGhpcy52YXJzID0gY29uZmlnID0gY29uZmlnIHx8IHRoaXMudmFycyB8fCB7fTtcbiAgICBsZXQgeyB0eXBlID0gXCJjaGFycyx3b3JkcyxsaW5lc1wiLCBhcmlhID0gXCJhdXRvXCIsIGRlZXBTbGljZSA9IHRydWUsIHNtYXJ0V3JhcCwgb25TcGxpdCwgYXV0b1NwbGl0ID0gZmFsc2UsIHNwZWNpYWxDaGFycywgbWFzayB9ID0gdGhpcy52YXJzLCBzcGxpdExpbmVzID0gdHlwZS5pbmRleE9mKFwibGluZXNcIikgPiAtMSwgc3BsaXRDaGFyYWN0ZXJzID0gdHlwZS5pbmRleE9mKFwiY2hhcnNcIikgPiAtMSwgc3BsaXRXb3JkcyA9IHR5cGUuaW5kZXhPZihcIndvcmRzXCIpID4gLTEsIG9ubHlTcGxpdENoYXJhY3RlcnMgPSBzcGxpdENoYXJhY3RlcnMgJiYgIXNwbGl0V29yZHMgJiYgIXNwbGl0TGluZXMsIHNwZWNpYWxDaGFyc1JlZ0V4ID0gc3BlY2lhbENoYXJzICYmIChcInB1c2hcIiBpbiBzcGVjaWFsQ2hhcnMgPyBuZXcgUmVnRXhwKFwiKD86XCIgKyBzcGVjaWFsQ2hhcnMuam9pbihcInxcIikgKyBcIilcIiwgXCJndVwiKSA6IHNwZWNpYWxDaGFycyksIGZpbmFsQ2hhclNwbGl0UmVnRXggPSBzcGVjaWFsQ2hhcnNSZWdFeCA/IG5ldyBSZWdFeHAoc3BlY2lhbENoYXJzUmVnRXguc291cmNlICsgXCJ8XCIgKyBfZW1vamlTYWZlUmVnRXguc291cmNlLCBcImd1XCIpIDogX2Vtb2ppU2FmZVJlZ0V4LCBpZ25vcmUgPSAhIWNvbmZpZy5pZ25vcmUgJiYgX2VsZW1lbnRzKGNvbmZpZy5pZ25vcmUpLCB7IG9yaWcsIGFuaW1UaW1lLCBvYnMgfSA9IHRoaXMuX2RhdGEsIG9uU3BsaXRSZXN1bHQ7XG4gICAgaWYgKHNwbGl0Q2hhcmFjdGVycyB8fCBzcGxpdFdvcmRzIHx8IHNwbGl0TGluZXMpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgb3JpZ1tpbmRleF0gPSB7XG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICBodG1sOiBlbGVtZW50LmlubmVySFRNTCxcbiAgICAgICAgICBhcmlhTDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLFxuICAgICAgICAgIGFyaWFIOiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpXG4gICAgICAgIH07XG4gICAgICAgIGFyaWEgPT09IFwiYXV0b1wiID8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIChlbGVtZW50LnRleHRDb250ZW50IHx8IFwiXCIpLnRyaW0oKSkgOiBhcmlhID09PSBcImhpZGRlblwiICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICBsZXQgY2hhcnMgPSBbXSwgd29yZHMgPSBbXSwgbGluZXMgPSBbXSwgY2hhcldyYXBwZXIgPSBzcGxpdENoYXJhY3RlcnMgPyBfZ2V0V3JhcHBlcihcImNoYXJcIiwgY29uZmlnLCBjaGFycykgOiBudWxsLCB3b3JkV3JhcHBlciA9IF9nZXRXcmFwcGVyKFwid29yZFwiLCBjb25maWcsIHdvcmRzKSwgaSwgY3VyV29yZCwgc21hcnRXcmFwU3BhbiwgbmV4dFNpYmxpbmc7XG4gICAgICAgIF9zcGxpdFdvcmRzQW5kQ2hhcnNSZWN1cnNpdmVseShlbGVtZW50LCBjb25maWcsIHdvcmRXcmFwcGVyLCBjaGFyV3JhcHBlciwgb25seVNwbGl0Q2hhcmFjdGVycywgZGVlcFNsaWNlICYmIChzcGxpdExpbmVzIHx8IG9ubHlTcGxpdENoYXJhY3RlcnMpLCBpZ25vcmUsIGZpbmFsQ2hhclNwbGl0UmVnRXgsIHNwZWNpYWxDaGFyc1JlZ0V4LCBmYWxzZSk7XG4gICAgICAgIGlmIChzcGxpdExpbmVzKSB7XG4gICAgICAgICAgbGV0IG5vZGVzID0gX3RvQXJyYXkoZWxlbWVudC5jaGlsZE5vZGVzKSwgd3JhcExpbmUgPSBfZ2V0TGluZVdyYXBwZXIoZWxlbWVudCwgbm9kZXMsIGNvbmZpZywgbGluZXMpLCBjdXJOb2RlLCB0b1JlbW92ZSA9IFtdLCBsaW5lU3RhcnRJbmRleCA9IDAsIGFsbEJvdW5kcyA9IG5vZGVzLm1hcCgobikgPT4gbi5ub2RlVHlwZSA9PT0gMSA/IG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBfZW1wdHlCb3VuZHMpLCBsYXN0Qm91bmRzID0gX2VtcHR5Qm91bmRzO1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VyTm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKGN1ck5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgaWYgKGN1ck5vZGUubm9kZU5hbWUgPT09IFwiQlJcIikge1xuICAgICAgICAgICAgICAgIHRvUmVtb3ZlLnB1c2goY3VyTm9kZSk7XG4gICAgICAgICAgICAgICAgd3JhcExpbmUobGluZVN0YXJ0SW5kZXgsIGkgKyAxKTtcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnRJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGxhc3RCb3VuZHMgPSBhbGxCb3VuZHNbbGluZVN0YXJ0SW5kZXhdO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpICYmIGFsbEJvdW5kc1tpXS50b3AgPiBsYXN0Qm91bmRzLnRvcCAmJiBhbGxCb3VuZHNbaV0ubGVmdCA8PSBsYXN0Qm91bmRzLmxlZnQpIHtcbiAgICAgICAgICAgICAgICAgIHdyYXBMaW5lKGxpbmVTdGFydEluZGV4LCBpKTtcbiAgICAgICAgICAgICAgICAgIGxpbmVTdGFydEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdEJvdW5kcyA9IGFsbEJvdW5kc1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsaW5lU3RhcnRJbmRleCA8IGkgJiYgd3JhcExpbmUobGluZVN0YXJ0SW5kZXgsIGkpO1xuICAgICAgICAgIHRvUmVtb3ZlLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gZWwucGFyZW50Tm9kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwbGl0V29yZHMpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cldvcmQgPSB3b3Jkc1tpXTtcbiAgICAgICAgICAgIGlmIChzcGxpdENoYXJhY3RlcnMgfHwgIWN1cldvcmQubmV4dFNpYmxpbmcgfHwgY3VyV29yZC5uZXh0U2libGluZy5ub2RlVHlwZSAhPT0gMykge1xuICAgICAgICAgICAgICBpZiAoc21hcnRXcmFwICYmICFzcGxpdExpbmVzKSB7XG4gICAgICAgICAgICAgICAgc21hcnRXcmFwU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIHNtYXJ0V3JhcFNwYW4uc3R5bGUud2hpdGVTcGFjZSA9IFwibm93cmFwXCI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cldvcmQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgc21hcnRXcmFwU3Bhbi5hcHBlbmRDaGlsZChjdXJXb3JkLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJXb3JkLnJlcGxhY2VXaXRoKHNtYXJ0V3JhcFNwYW4pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cldvcmQucmVwbGFjZVdpdGgoLi4uY3VyV29yZC5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBjdXJXb3JkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICBpZiAobmV4dFNpYmxpbmcgJiYgbmV4dFNpYmxpbmcubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICBuZXh0U2libGluZy50ZXh0Q29udGVudCA9IChjdXJXb3JkLnRleHRDb250ZW50IHx8IFwiXCIpICsgKG5leHRTaWJsaW5nLnRleHRDb250ZW50IHx8IFwiXCIpO1xuICAgICAgICAgICAgICAgIGN1cldvcmQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgd29yZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICBlbGVtZW50Lm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGluZXMucHVzaCguLi5saW5lcyk7XG4gICAgICAgIHRoaXMud29yZHMucHVzaCguLi53b3Jkcyk7XG4gICAgICAgIHRoaXMuY2hhcnMucHVzaCguLi5jaGFycyk7XG4gICAgICB9KTtcbiAgICAgIG1hc2sgJiYgdGhpc1ttYXNrXSAmJiB0aGlzLm1hc2tzLnB1c2goLi4udGhpc1ttYXNrXS5tYXAoKGVsKSA9PiB7XG4gICAgICAgIGxldCBtYXNrRWwgPSBlbC5jbG9uZU5vZGUoKTtcbiAgICAgICAgZWwucmVwbGFjZVdpdGgobWFza0VsKTtcbiAgICAgICAgbWFza0VsLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgZWwuY2xhc3NOYW1lICYmIChtYXNrRWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UoLyhcXGJcXHcrXFxiKS9nLCBcIiQxLW1hc2tcIikpO1xuICAgICAgICBtYXNrRWwuc3R5bGUub3ZlcmZsb3cgPSBcImNsaXBcIjtcbiAgICAgICAgcmV0dXJuIG1hc2tFbDtcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdGhpcy5pc1NwbGl0ID0gdHJ1ZTtcbiAgICBfZm9udHMgJiYgKGF1dG9TcGxpdCA/IF9mb250cy5hZGRFdmVudExpc3RlbmVyKFwibG9hZGluZ2RvbmVcIiwgdGhpcy5fc3BsaXQpIDogX2ZvbnRzLnN0YXR1cyA9PT0gXCJsb2FkaW5nXCIgJiYgY29uc29sZS53YXJuKFwiU3BsaXRUZXh0IGNhbGxlZCBiZWZvcmUgZm9udHMgbG9hZGVkXCIpKTtcbiAgICBpZiAoKG9uU3BsaXRSZXN1bHQgPSBvblNwbGl0ICYmIG9uU3BsaXQodGhpcykpICYmIG9uU3BsaXRSZXN1bHQudG90YWxUaW1lKSB7XG4gICAgICB0aGlzLl9kYXRhLmFuaW0gPSBhbmltVGltZSA/IG9uU3BsaXRSZXN1bHQudG90YWxUaW1lKGFuaW1UaW1lKSA6IG9uU3BsaXRSZXN1bHQ7XG4gICAgfVxuICAgIHNwbGl0TGluZXMgJiYgYXV0b1NwbGl0ICYmIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIG9yaWdbaW5kZXhdLndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIG9icyAmJiBvYnMub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZXZlcnQoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBsZXQgeyBvcmlnLCBhbmltLCBvYnMgfSA9IHRoaXMuX2RhdGE7XG4gICAgb2JzICYmIG9icy5kaXNjb25uZWN0KCk7XG4gICAgb3JpZy5mb3JFYWNoKCh7IGVsZW1lbnQsIGh0bWwsIGFyaWFMLCBhcmlhSCB9KSA9PiB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICBhcmlhTCA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBhcmlhTCkgOiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIik7XG4gICAgICBhcmlhSCA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgYXJpYUgpIDogZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtcbiAgICB9KTtcbiAgICB0aGlzLmNoYXJzLmxlbmd0aCA9IHRoaXMud29yZHMubGVuZ3RoID0gdGhpcy5saW5lcy5sZW5ndGggPSBvcmlnLmxlbmd0aCA9IHRoaXMubWFza3MubGVuZ3RoID0gMDtcbiAgICB0aGlzLmlzU3BsaXQgPSBmYWxzZTtcbiAgICBfZm9udHMgPT0gbnVsbCA/IHZvaWQgMCA6IF9mb250cy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZGluZ2RvbmVcIiwgdGhpcy5fc3BsaXQpO1xuICAgIGlmIChhbmltKSB7XG4gICAgICB0aGlzLl9kYXRhLmFuaW1UaW1lID0gYW5pbS50b3RhbFRpbWUoKTtcbiAgICAgIGFuaW0ucmV2ZXJ0KCk7XG4gICAgfVxuICAgIChfYiA9IChfYSA9IHRoaXMudmFycykub25SZXZlcnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzdGF0aWMgY3JlYXRlKGVsZW1lbnRzLCBjb25maWcpIHtcbiAgICByZXR1cm4gbmV3IF9TcGxpdFRleHQoZWxlbWVudHMsIGNvbmZpZyk7XG4gIH1cbiAgc3RhdGljIHJlZ2lzdGVyKGNvcmUpIHtcbiAgICBnc2FwID0gZ3NhcCB8fCBjb3JlIHx8IHdpbmRvdy5nc2FwO1xuICAgIGlmIChnc2FwKSB7XG4gICAgICBfdG9BcnJheSA9IGdzYXAudXRpbHMudG9BcnJheTtcbiAgICAgIF9jb250ZXh0ID0gZ3NhcC5jb3JlLmNvbnRleHQgfHwgX2NvbnRleHQ7XG4gICAgfVxuICAgIGlmICghX2NvcmVJbml0dGVkICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMCkge1xuICAgICAgX2ZvbnRzID0gZG9jdW1lbnQuZm9udHM7XG4gICAgICBfY29yZUluaXR0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcbl9TcGxpdFRleHQudmVyc2lvbiA9IFwiMy4xMy4wXCI7XG5sZXQgU3BsaXRUZXh0ID0gX1NwbGl0VGV4dDtcblxuZXhwb3J0IHsgU3BsaXRUZXh0LCBTcGxpdFRleHQgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGFuaW1hdGUsIGNyZWF0ZVNwcmluZywgb25TY3JvbGwsIHN0YWdnZXIsIHV0aWxzIH0gZnJvbSBcImFuaW1lanNcIjtcbmltcG9ydCB7IGdldFJlbSB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBTcGxpdFRleHQgfSBmcm9tIFwiZ3NhcC9TcGxpdFRleHRcIjtcblxuY29uc3QgaG9tZVNlY3Rpb24gPSB1dGlscy4kKFwic2VjdGlvbltjbGFzcyo9J2hvbWUtJ11cIik7XG5cbmV4cG9ydCBjb25zdCBob21lUGFnZSA9IHtcblx0aG9tZV8yOiAoKSA9PiB7XG5cdFx0Ly8gVFx1MUVBMW8gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgXHUwMTExXHUxRUMzIHRoZW8gZFx1MDBGNWkga2hpIHNlY3Rpb24geHVcdTFFQTV0IGhpXHUxRUM3biB0cm9uZyB2aWV3cG9ydFxuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0Ly8gPT09IEFOSU1BVElPTiBDSE8gTUFQID09PVxuXHRcdFx0XHRcdGNvbnN0IG1hcCA9IHV0aWxzLiQoZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIubWFwXCIpKTtcblx0XHRcdFx0XHQvLyBTZXQgdHJcdTFFQTFuZyB0aFx1MDBFMWkgYmFuIFx1MDExMVx1MUVBN3U6IFx1MUVBOW4gdlx1MDBFMCBkXHUxRUNCY2ggc2FuZyBwaFx1MUVBM2lcblx0XHRcdFx0XHR1dGlscy5zZXQobWFwLCB7XG5cdFx0XHRcdFx0XHRvcGFjaXR5OiAwLCAvLyBcdTFFQThuIGhvXHUwMEUwbiB0b1x1MDBFMG5cblx0XHRcdFx0XHRcdHg6IGdldFJlbSgzMDApLCAvLyBEXHUxRUNCY2ggc2FuZyBwaFx1MUVBM2kgMzAwcmVtIChuZ29cdTAwRTBpIG1cdTAwRTBuIGhcdTAwRUNuaClcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGNvbnN0IHN1YlRpdGxlID0gdXRpbHMuJChlbnRyeS50YXJnZXQucXVlcnlTZWxlY3RvcihcIi5zdWItdGl0bGVcIikpO1xuXHRcdFx0XHRcdHV0aWxzLnNldChzdWJUaXRsZSwge1xuXHRcdFx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0XHRcdHk6IGdldFJlbSgxMDApLFxuXHRcdFx0XHRcdFx0ZHVyYXRpb246IDMwMCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vID09PSBBTklNQVRJT04gQ0hPIEJPWCA9PT1cblx0XHRcdFx0XHRjb25zdCBib3ggPSB1dGlscy4kKGVudHJ5LnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiLmJveFwiKSk7XG5cdFx0XHRcdFx0Ly8gU2V0IHRyXHUxRUExbmcgdGhcdTAwRTFpIGJhbiBcdTAxMTFcdTFFQTd1OiBcdTFFQTluIHZcdTAwRTAgZFx1MUVDQmNoIHh1XHUxRUQxbmcgZFx1MDFCMFx1MUVEQmkgeGFcblx0XHRcdFx0XHR1dGlscy5zZXQoYm94LCB7XG5cdFx0XHRcdFx0XHRvcGFjaXR5OiAwLCAvLyBcdTFFQThuIGhvXHUwMEUwbiB0b1x1MDBFMG5cblx0XHRcdFx0XHRcdHk6IGdldFJlbSgyMDApLCAvLyBEaSBjaHV5XHUxRUMzbiB4dVx1MUVEMW5nIGRcdTAxQjBcdTFFREJpIDIwMHJlbVxuXHRcdFx0XHRcdFx0ZHVyYXRpb246IDMwMCwgLy8gVGhcdTFFRERpIGdpYW4gc2V0dXA6IDMwMG1zXG5cdFx0XHRcdFx0XHRlYXNlOiBcImVhc2VJbk91dFNpbmVcIiwgLy8gSGlcdTFFQzd1IFx1MUVFOW5nIGNodXlcdTFFQzNuIFx1MDExMVx1MUVEOW5nXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBLaGkgc2VjdGlvbiB4dVx1MUVBNXQgaGlcdTFFQzduIDUwJSB0cm9uZyB2aWV3cG9ydCAtPiBjaFx1MUVBMXkgYW5pbWF0aW9uXG5cdFx0XHRcdFx0aWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gMC42KSB7XG5cdFx0XHRcdFx0XHRhbmltYXRlKHN1YlRpdGxlLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDEsXG5cdFx0XHRcdFx0XHRcdHk6IDAsXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA1MDAsXG5cdFx0XHRcdFx0XHRcdGVhc2U6IFwiZWFzZUluT3V0U2luZVwiLFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdC8vIEFOSU1BVEUgTUFQOiBiYXkgdFx1MUVFQiBwaFx1MUVBM2kgdlx1MDBFMG8gKGRlbGF5IDYwMG1zIHRyXHUwMUIwXHUxRURCYyBraGkgY2hcdTFFQTF5KVxuXHRcdFx0XHRcdFx0YW5pbWF0ZShtYXAsIHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMSwgLy8gSGlcdTFFQzduIHJcdTAwRjUgaG9cdTAwRTBuIHRvXHUwMEUwblxuXHRcdFx0XHRcdFx0XHR4OiAwLCAvLyBCYXkgdFx1MUVFQiBwaFx1MUVBM2kgdlx1MUVDMSB2XHUxRUNCIHRyXHUwMEVEIGJhbiBcdTAxMTFcdTFFQTd1XG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiAxMjAwLCAvLyBBbmltYXRpb24ga1x1MDBFOW8gZFx1MDBFMGkgMTIwMG1zIChjaFx1MUVBRG0gaFx1MDFBMW4pXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiA2MDAsIC8vIFx1MDExMFx1MUVFM2kgNjAwbXMgdHJcdTAxQjBcdTFFREJjIGtoaSBhbmltYXRpb24gYlx1MUVBRnQgXHUwMTExXHUxRUE3dVxuXHRcdFx0XHRcdFx0XHRlYXNlOiBcIm91dENpcmNcIiwgLy8gRWFzaW5nIGNpcmN1bGFyIC0gY2hcdTFFQURtIGRcdTFFQTduIFx1MUVERiBjdVx1MUVEMWkgKG1cdTAxQjBcdTFFRTN0KVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdC8vIEFOSU1BVEUgQk9YOiBiYXkgdFx1MUVFQiBkXHUwMUIwXHUxRURCaSBsXHUwMEVBbiAoZGVsYXkgNDAwbXMgdHJcdTAxQjBcdTFFREJjIGtoaSBjaFx1MUVBMXkpXG5cdFx0XHRcdFx0XHRhbmltYXRlKGJveCwge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxLCAvLyBIaVx1MUVDN24gclx1MDBGNSBob1x1MDBFMG4gdG9cdTAwRTBuXG5cdFx0XHRcdFx0XHRcdHk6IDAsIC8vIEJheSB0XHUxRUVCIGRcdTAxQjBcdTFFREJpIGxcdTAwRUFuIHZcdTFFQ0IgdHJcdTAwRUQgYmFuIFx1MDExMVx1MUVBN3Vcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDEwMDAsIC8vIEFuaW1hdGlvbiBrXHUwMEU5byBkXHUwMEUwaSAxMDAwbXNcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IDQwMCwgLy8gXHUwMTEwXHUxRUUzaSA0MDBtcyB0clx1MDFCMFx1MUVEQmMga2hpIGFuaW1hdGlvbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1XG5cdFx0XHRcdFx0XHRcdGVhc2U6IFwib3V0Q2lyY1wiLCAvLyBFYXNpbmcgY2lyY3VsYXIgLSBjaFx1MUVBRG0gZFx1MUVBN24gbVx1MDFCMFx1MUVFM3QgbVx1MDBFMFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdC8vIE5nXHUxRUVCbmcgdGhlbyBkXHUwMEY1aSBlbGVtZW50IHNhdSBraGkgYW5pbWF0ZSAoY2hcdTFFQzkgY2hcdTFFQTF5IDEgbFx1MUVBN24pXG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC42LCAvLyBLXHUwMEVEY2ggaG9cdTFFQTF0IGtoaSA1MCUgZWxlbWVudCB4dVx1MUVBNXQgaGlcdTFFQzduIHRyb25nIHZpZXdwb3J0XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdC8vIFx1MDBDMXAgZFx1MUVFNW5nIG9ic2VydmVyIGNobyB0XHUxRUE1dCBjXHUxRUEzIHNlY3Rpb25zIGNcdTAwRjMgY2xhc3MgLmhvbWUtMlxuXHRcdHV0aWxzLiQoXCIuaG9tZS0yXCIpLmZvckVhY2goKHNlY3Rpb24pID0+IHtcblx0XHRcdG9ic2VydmVyLm9ic2VydmUoc2VjdGlvbik7XG5cdFx0fSk7XG5cdH0sXG5cblx0aG9tZV8zOiAoKSA9PiB7XG5cdFx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0XHQoZW50cmllcywgb2JzKSA9PiB7XG5cdFx0XHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpdGVtcyA9IHV0aWxzLiQoZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1pdGVtXCIpKTtcblx0XHRcdFx0XHRpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHQvLyBTZXQgdHJcdTFFQTFuZyB0aFx1MDBFMWkgYmFuIFx1MDExMVx1MUVBN3U6IHRodSBuaFx1MUVDRiB2XHUwMEUwIGRcdTFFQ0JjaCB4dVx1MUVEMW5nIGRcdTAxQjBcdTFFREJpXG5cdFx0XHRcdFx0XHR1dGlscy5zZXQoaXRlbSwge1xuXHRcdFx0XHRcdFx0XHRzY2FsZTogMCwgLy8gVGh1IG5oXHUxRUNGIGhvXHUwMEUwbiB0b1x1MDBFMG4gKGludmlzaWJsZSlcblx0XHRcdFx0XHRcdFx0dHJhbnNsYXRlWTogZ2V0UmVtKDQwKSwgLy8gRGkgY2h1eVx1MUVDM24geHVcdTFFRDFuZyA0MHJlbVxuXHRcdFx0XHRcdFx0XHRlYXNlOiBcImVhc2VJbk91dFNpbmVcIiwgLy8gSGlcdTFFQzd1IFx1MUVFOW5nIGNodXlcdTFFQzNuIFx1MDExMVx1MUVEOW5nIG1cdTAxQjBcdTFFRTN0XG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiAzMDAsIC8vIFRoXHUxRUREaSBnaWFuIHNldHVwOiAzMDBtc1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBLaGkgc2VjdGlvbiB4dVx1MUVBNXQgaGlcdTFFQzduIDUwJSB0cm9uZyB2aWV3cG9ydCAtPiBjaFx1MUVBMXkgYW5pbWF0aW9uXG5cdFx0XHRcdFx0aWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gMC41KSB7XG5cdFx0XHRcdFx0XHQvLyBBTklNQVRFIElURU1TOiBwaFx1MDBGM25nIHRvIHZcdTAwRTAgZGkgY2h1eVx1MUVDM24gbFx1MDBFQW5cblx0XHRcdFx0XHRcdGFuaW1hdGUoaXRlbXMsIHtcblx0XHRcdFx0XHRcdFx0c2NhbGU6IDEsIC8vIFBoXHUwMEYzbmcgdG8gdlx1MUVDMSBrXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjIGJcdTAwRUNuaCB0aFx1MDFCMFx1MUVERG5nXG5cdFx0XHRcdFx0XHRcdHRyYW5zbGF0ZVk6IDAsIC8vIFRyXHUxRURGIHZcdTFFQzEgdlx1MUVDQiB0clx1MDBFRCBiYW4gXHUwMTExXHUxRUE3dVxuXHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcigxMjApLCAvLyBNXHUxRUQ3aSBpdGVtIGRlbGF5IDUwbXMgKGhpXHUxRUM3dSBcdTFFRTluZyBsXHUxRUE3biBsXHUwMUIwXHUxRUUzdClcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Ly8gTmdcdTFFRUJuZyB0aGVvIGRcdTAwRjVpIGVsZW1lbnQgc2F1IGtoaSBhbmltYXRlIChjaFx1MUVDOSBjaFx1MUVBMXkgMSBsXHUxRUE3bilcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dGhyZXNob2xkOiAwLjUsIC8vIEtcdTAwRURjaCBob1x1MUVBMXQga2hpIDUwJSBlbGVtZW50IHh1XHUxRUE1dCBoaVx1MUVDN24gdHJvbmcgdmlld3BvcnRcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Ly8gXHUwMEMxcCBkXHUxRUU1bmcgb2JzZXJ2ZXIgY2hvIHRcdTFFQTV0IGNcdTFFQTMgc2VjdGlvbnMgY1x1MDBGMyBjbGFzcyAuaG9tZS0yXG5cdFx0dXRpbHMuJChcIi5ob21lLTNcIikuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKTtcblx0XHR9KTtcblx0fSxcblx0aG9tZV80OiAoKSA9PiB7XG5cdFx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0XHQoZW50cmllcywgb2JzKSA9PiB7XG5cdFx0XHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpdGVtcyA9IHV0aWxzLiQoZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGlzdHNcIikpO1xuXHRcdFx0XHRcdGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdC8vIFNldCB0clx1MUVBMW5nIHRoXHUwMEUxaSBiYW4gXHUwMTExXHUxRUE3dTogdGh1IG5oXHUxRUNGIHZcdTAwRTAgZFx1MUVDQmNoIHh1XHUxRUQxbmcgZFx1MDFCMFx1MUVEQmlcblx0XHRcdFx0XHRcdHV0aWxzLnNldChpdGVtLCB7XG5cdFx0XHRcdFx0XHRcdHNjYWxlOiAwLCAvLyBUaHUgbmhcdTFFQ0YgaG9cdTAwRTBuIHRvXHUwMEUwbiAoaW52aXNpYmxlKVxuXHRcdFx0XHRcdFx0XHRlYXNlOiBcImVhc2VJbk91dFNpbmVcIiwgLy8gSGlcdTFFQzd1IFx1MUVFOW5nIGNodXlcdTFFQzNuIFx1MDExMVx1MUVEOW5nIG1cdTAxQjBcdTFFRTN0XG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiAzMDAsIC8vIFRoXHUxRUREaSBnaWFuIHNldHVwOiAzMDBtc1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBLaGkgc2VjdGlvbiB4dVx1MUVBNXQgaGlcdTFFQzduIDUwJSB0cm9uZyB2aWV3cG9ydCAtPiBjaFx1MUVBMXkgYW5pbWF0aW9uXG5cdFx0XHRcdFx0aWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gMC41KSB7XG5cdFx0XHRcdFx0XHQvLyBBTklNQVRFIElURU1TOiBwaFx1MDBGM25nIHRvIHZcdTAwRTAgZGkgY2h1eVx1MUVDM24gbFx1MDBFQW5cblx0XHRcdFx0XHRcdGFuaW1hdGUoaXRlbXMsIHtcblx0XHRcdFx0XHRcdFx0c2NhbGU6IDEsIC8vIFBoXHUwMEYzbmcgdG8gdlx1MUVDMSBrXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjIGJcdTAwRUNuaCB0aFx1MDFCMFx1MUVERG5nXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDEyMCksIC8vIE1cdTFFRDdpIGl0ZW0gZGVsYXkgNTBtcyAoaGlcdTFFQzd1IFx1MUVFOW5nIGxcdTFFQTduIGxcdTAxQjBcdTFFRTN0KVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQvLyBOZ1x1MUVFQm5nIHRoZW8gZFx1MDBGNWkgZWxlbWVudCBzYXUga2hpIGFuaW1hdGUgKGNoXHUxRUM5IGNoXHUxRUExeSAxIGxcdTFFQTduKVxuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0aHJlc2hvbGQ6IDAuNSwgLy8gS1x1MDBFRGNoIGhvXHUxRUExdCBraGkgNTAlIGVsZW1lbnQgeHVcdTFFQTV0IGhpXHUxRUM3biB0cm9uZyB2aWV3cG9ydFxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHQvLyBcdTAwQzFwIGRcdTFFRTVuZyBvYnNlcnZlciBjaG8gdFx1MUVBNXQgY1x1MUVBMyBzZWN0aW9ucyBjXHUwMEYzIGNsYXNzIC5ob21lLTJcblx0XHR1dGlscy4kKFwiLmhvbWUtNFwiKS5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKHNlY3Rpb24pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lXzU6ICgpID0+IHtcblx0XHRjb25zdCBEVVJBVElPTiA9IDEwMDA7XG5cdFx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0XHQoZW50cmllcywgb2JzKSA9PiB7XG5cdFx0XHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdFx0XHRpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwLjUpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGl0ZW1zID0gZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpcGVyLXNsaWRlXCIpO1xuXHRcdFx0XHRcdFx0aXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZShpdGVtLCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdFx0XHRcdFx0XHR4OiBbZ2V0UmVtKDgwKSwgMF0sXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IERVUkFUSU9OLFxuXHRcdFx0XHRcdFx0XHRcdGVhc2U6IFwib3V0UXVhcnRcIixcblx0XHRcdFx0XHRcdFx0XHRkZWxheTogaW5kZXggKiAyMDAsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC41LFxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHR1dGlscy4kKFwiLmhvbWUtNVwiKS5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG5cdFx0XHRzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpcGVyLXNsaWRlXCIpLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdFx0dXRpbHMuc2V0KGl0ZW0sIHtcblx0XHRcdFx0XHRvcGFjaXR5OiAwLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKTtcblx0XHR9KTtcblx0fSxcblx0aG9tZV9pdGVtc19hbmltYXRpb246ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwLjUpIHtcblx0XHRcdFx0XHRcdGFuaW1hdGUoZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbVwiKSwge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdHk6IFtnZXRSZW0oNDApLCAwXSxcblx0XHRcdFx0XHRcdFx0ZWFzZTogY3JlYXRlU3ByaW5nKHtcblx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDE1MCxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDEwMCksXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA2MDAsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHsgdGhyZXNob2xkOiAwLjUgfVxuXHRcdCk7XG5cblx0XHR1dGlscy4kKFwiLmhvbWUtaXRlbS1hbmltYXRpb25cIikuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdHV0aWxzLnNldChlbC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW1cIiksIHtcblx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0eTogZ2V0UmVtKDQwKSxcblx0XHRcdH0pO1xuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0fSk7XG5cdH0sXG5cdGhvbWVCbG9ja1RpdGxlczogKCkgPT4ge1xuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB0aXRsZSA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGNvbnN0IHBvc2l0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGl0bGUpLnRleHRBbGlnbjtcblx0XHRcdFx0XHRcdGxldCBhbmltYXRlRnJvbSA9IFwiZmlyc3RcIjtcblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJjZW50ZXJcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwiY2VudGVyXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwibGFzdFwiO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRleHQgPSBTcGxpdFRleHQuY3JlYXRlKHRpdGxlLCB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY2hhcnMsd29yZHNcIixcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0ZW50cnkudGFyZ2V0LmNsb3Nlc3QoXCIuYmxvY2stdGl0bGVcIikuc3R5bGUub3BhY2l0eSA9IDE7XG5cdFx0XHRcdFx0XHRjb25zdCBjaGFycyA9IHNwbGl0VGV4dC5jaGFycztcblx0XHRcdFx0XHRcdGFuaW1hdGUoY2hhcnMsIHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0XHRcdFx0XHR5OiBbZ2V0UmVtKDIwKSwgMF0sXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA0MDAsXG5cdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcigyMCwge1xuXHRcdFx0XHRcdFx0XHRcdGZyb206IGFuaW1hdGVGcm9tLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0aXRsZSk7IC8vIE9ubHkgYW5pbWF0ZSBvbmNlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC4yLCAvLyBBZGp1c3QgYXMgbmVlZGVkICgyMCUgdmlzaWJsZSlcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0aG9tZVNlY3Rpb24uZm9yRWFjaCgoaG9tZSkgPT4ge1xuXHRcdFx0Y29uc3QgdGl0bGUgPSBob21lLnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2stdGl0bGVcIik7XG5cdFx0XHRpZiAoIXRpdGxlKSByZXR1cm47XG5cdFx0XHR0aXRsZS5zdHlsZS5vcGFjaXR5ID0gMDtcblx0XHRcdG9ic2VydmVyLm9ic2VydmUodGl0bGUpO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lVGl0bGU6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAuNSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGl0bGUgPSBlbnRyeS50YXJnZXQ7XG5cdFx0XHRcdFx0XHRjb25zdCBhbmltYXRlU3R5bGUgPSB0aXRsZS5nZXRBdHRyaWJ1dGUoXCJhbmltYXRlLXRpdGxlXCIpIHx8IFwiZmFkZS11cFwiO1xuXHRcdFx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aXRsZSkudGV4dEFsaWduO1xuXHRcdFx0XHRcdFx0bGV0IGFuaW1hdGVGcm9tID0gXCJmaXJzdFwiO1xuXHRcdFx0XHRcdFx0aWYgKHBvc2l0aW9uID09PSBcImNlbnRlclwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGVGcm9tID0gXCJjZW50ZXJcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGVGcm9tID0gXCJsYXN0XCI7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VGV4dCA9IFNwbGl0VGV4dC5jcmVhdGUodGl0bGUsIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJ3b3Jkc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdHRpdGxlLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblxuXHRcdFx0XHRcdFx0aWYgKGFuaW1hdGVTdHlsZSA9PT0gXCJmYWRlLXVwXCIpIHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZShzcGxpdFRleHQud29yZHMsIHtcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdFx0eTogW1wiMTAwJVwiLCAwXSxcblx0XHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogNjAwLFxuXHRcdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDE1MCxcblx0XHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcigyNSwge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnJvbTogYW5pbWF0ZUZyb20sXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGFuaW1hdGVTdHlsZSA9PT0gXCJzbGlkZS11cFwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGUoc3BsaXRUZXh0LndvcmRzLCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0XHRcdFx0XHRcdHg6IFtcIjEwMCVcIiwgMF0sXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDYwMCxcblx0XHRcdFx0XHRcdFx0XHRlYXNlOiBjcmVhdGVTcHJpbmcoe1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoMjUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZyb206IGFuaW1hdGVGcm9tLFxuXHRcdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0aXRsZSk7IC8vIE9ubHkgYW5pbWF0ZSBvbmNlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC41LFxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRob21lU2VjdGlvbi5mb3JFYWNoKChob21lKSA9PiB7XG5cdFx0XHRjb25zdCB0aXRsZSA9IGhvbWUucXVlcnlTZWxlY3RvckFsbChcIlthbmltYXRlLXRpdGxlXVwiKTtcblx0XHRcdGlmICghdGl0bGUpIHJldHVybjtcblx0XHRcdHRpdGxlLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShpdGVtKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lRGVzY3JpcHRpb246ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBlbnRyeS50YXJnZXQ7XG5cdFx0XHRcdFx0XHRsZXQgYW5pbWF0ZUZyb20gPSBcImZpcnN0XCI7XG5cdFx0XHRcdFx0XHQvLyBjb25zdCBwb3NpdGlvbiA9XG5cdFx0XHRcdFx0XHQvLyBcdHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRlc2NyaXB0aW9uKS50ZXh0QWxpZ247XG5cdFx0XHRcdFx0XHQvLyBpZiAocG9zaXRpb24gPT09IFwiY2VudGVyXCIpIHtcblx0XHRcdFx0XHRcdC8vIFx0YW5pbWF0ZUZyb20gPSBcImNlbnRlclwiO1xuXHRcdFx0XHRcdFx0Ly8gfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRcdFx0XHQvLyBcdGFuaW1hdGVGcm9tID0gXCJsYXN0XCI7XG5cdFx0XHRcdFx0XHQvLyB9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VGV4dCA9IFNwbGl0VGV4dC5jcmVhdGUoZGVzY3JpcHRpb24sIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJ3b3JkcyxsaW5lc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRkZXNjcmlwdGlvbi5zdHlsZS5vcGFjaXR5ID0gMTtcblx0XHRcdFx0XHRcdGNvbnN0IHdvcmRzID0gc3BsaXRUZXh0LndvcmRzO1xuXHRcdFx0XHRcdFx0Y29uc3QgbGluZSA9IHNwbGl0VGV4dC5saW5lcztcblx0XHRcdFx0XHRcdGxpbmUuZm9yRWFjaCgobGluZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsaW5lLnN0eWxlLmhlaWdodCA9IGxpbmUub2Zmc2V0SGVpZ2h0ICsgXCJweFwiO1xuXHRcdFx0XHRcdFx0XHRsaW5lLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0YW5pbWF0ZSh3b3Jkcywge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdHRyYW5zbGF0ZVk6IFtnZXRSZW0oMjApLCAwXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDUwMCxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoMTUsIHtcblx0XHRcdFx0XHRcdFx0XHRmcm9tOiBhbmltYXRlRnJvbSxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUoZGVzY3JpcHRpb24pOyAvLyBPbmx5IGFuaW1hdGUgb25jZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0aHJlc2hvbGQ6IDAuMiwgLy8gQWRqdXN0IGFzIG5lZWRlZCAoMjAlIHZpc2libGUpXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGhvbWVTZWN0aW9uLmZvckVhY2goKGhvbWUpID0+IHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gaG9tZS5xdWVyeVNlbGVjdG9yKFwiLmRlc2NcIik7XG5cdFx0XHRpZiAoIWRlc2NyaXB0aW9uKSByZXR1cm47XG5cdFx0XHRkZXNjcmlwdGlvbi5zdHlsZS5vcGFjaXR5ID0gMDtcblx0XHRcdG9ic2VydmVyLm9ic2VydmUoZGVzY3JpcHRpb24pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lQnV0dG9uczogKCkgPT4ge1xuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB3cmFwID0gZW50cnkudGFyZ2V0O1xuXHRcdFx0XHRcdFx0YW5pbWF0ZSh3cmFwLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0eTogWzQ1LCAwXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDUwMCxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh3cmFwKTsgLy8gT25seSBhbmltYXRlIG9uY2Vcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dGhyZXNob2xkOiAwLjIsIC8vIEFkanVzdCBhcyBuZWVkZWQgKDIwJSB2aXNpYmxlKVxuXHRcdFx0fVxuXHRcdCk7XG5cdH0sXG5cdHByaW1hcnlOYXY6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0YW5pbWF0ZShlbnRyeS50YXJnZXQucXVlcnlTZWxlY3RvckFsbChcImxpXCIpLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDEsXG5cdFx0XHRcdFx0XHRcdHg6IDAsXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA2MDAsXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDEwMCksXG5cdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdFx0ZGFtcGluZzogMTAsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7IHRocmVzaG9sZDogMC4yIH1cblx0XHQpO1xuXG5cdFx0dXRpbHMuJChcIi5wcmltYXJ5LW5hdlwiKS5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0KGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKSwge1xuXHRcdFx0XHRvcGFjaXR5OiAwLFxuXHRcdFx0XHR4OiBnZXRSZW0oMjApLFxuXHRcdFx0fSk7XG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHR9KTtcblx0fSxcblxuXHRpbml0OiAoKSA9PiB7XG5cdFx0aWYgKCQoXCJib2R5LmhvbWVcIikubGVuZ3RoID09PSAwKSByZXR1cm47XG5cdFx0aWYgKCQod2luZG93KS53aWR0aCgpIDwgMTIwMCkgcmV0dXJuO1xuXHRcdC8vIGhvbWVQYWdlLnByaW1hcnlOYXYoKTtcblx0XHRob21lUGFnZS5ob21lXzIoKTtcblx0XHRob21lUGFnZS5ob21lXzMoKTtcblx0XHRob21lUGFnZS5ob21lXzQoKTtcblx0XHRob21lUGFnZS5ob21lXzUoKTtcblx0XHRob21lUGFnZS5ob21lX2l0ZW1zX2FuaW1hdGlvbigpO1xuXHRcdGhvbWVQYWdlLmhvbWVCdXR0b25zKCk7XG5cdFx0ZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoZSkgPT4ge1xuXHRcdFx0aG9tZVBhZ2UuaG9tZUJsb2NrVGl0bGVzKCk7XG5cdFx0XHRob21lUGFnZS5ob21lVGl0bGUoKTtcblx0XHRcdGhvbWVQYWdlLmhvbWVEZXNjcmlwdGlvbigpO1xuXHRcdH0pO1xuXHR9LFxufTtcbiJdLAogICJtYXBwaW5ncyI6ICIyNUJBQUEsSUFBQUEsR0FBQUMsR0FBQSxDQUFBQyxHQUFBQyxLQUFBLEVBQUMsU0FBU0MsRUFBRUMsRUFBRSxDQUFXLE9BQU9ILElBQWpCLFVBQW9DLE9BQU9DLElBQWpCLFNBQXdCQSxHQUFPLFFBQVFFLEVBQUUsRUFBYyxPQUFPLFFBQW5CLFlBQTJCLE9BQU8sSUFBSSxPQUFPLENBQUMsRUFBRUEsQ0FBQyxFQUFZLE9BQU9ILElBQWpCLFNBQXlCQSxHQUFRLElBQUlHLEVBQUUsRUFBRUQsRUFBRSxJQUFJQyxFQUFFLENBQUMsR0FBRUgsR0FBSyxVQUFVLENBQUMsT0FBTyxTQUFTRSxFQUFFLENBQUMsU0FBU0MsRUFBRUMsRUFBRSxDQUFDLEdBQUdDLEVBQUVELENBQUMsRUFBRSxPQUFPQyxFQUFFRCxDQUFDLEVBQUUsUUFBUSxJQUFJRSxFQUFFRCxFQUFFRCxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxHQUFHQSxFQUFFLE9BQU8sRUFBRSxFQUFFLE9BQU9GLEVBQUVFLENBQUMsRUFBRSxLQUFLRSxFQUFFLFFBQVFBLEVBQUVBLEVBQUUsUUFBUUgsQ0FBQyxFQUFFRyxFQUFFLE9BQU8sR0FBR0EsRUFBRSxPQUFPLENBQUMsSUFBSUQsRUFBRSxDQUFDLEVBQUUsT0FBT0YsRUFBRSxFQUFFRCxFQUFFQyxFQUFFLEVBQUVFLEVBQUVGLEVBQUUsRUFBRSxRQUFRQSxFQUFFLENBQUMsQ0FBQyxFQUFF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QyxFQUFFLENBQUMsSUFBSSxTQUFTLE1BQU0sVUFBVSxDQUFDLE9BQU8sS0FBSyxPQUFPLEdBQUcsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRUMsRUFBRSxRQUFRLElBQUlRLENBQUMsRUFBRSxTQUFTVCxFQUFFQyxFQUFFLENBQUMsYUFBYSxPQUFPLGVBQWVBLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSUUsRUFBRSxTQUFTSCxFQUFFQyxFQUFFRSxFQUFFLENBQUMsSUFBSUQsRUFBRUYsRUFBRSxLQUFLLGFBQWEsZUFBZSxFQUFFQyxFQUFFRCxFQUFFLFNBQVNBLEVBQUUsS0FBSyxVQUFVLElBQUksYUFBYSxFQUFlLE9BQU9FLEdBQXBCLGNBQWtDQSxJQUFWLFNBQWEsQ0FBQ0MsR0FBWUQsSUFBVCxTQUFhRixFQUFFLEtBQUssVUFBVSxPQUFPLGFBQWEsQ0FBQyxFQUFFRSxFQUFFLFNBQVNGLEVBQUVDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxZQUFZRyxFQUFFLE9BQU8sWUFBWUosRUFBRSxRQUFRLFNBQVNBLEVBQUVLLEVBQUUsQ0FBQ0YsRUFBRUgsRUFBRUksRUFBRSxFQUFFSCxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsUUFBUUMsQ0FBQyxFQUFFLFNBQVNGLEVBQUVDLEVBQUVFLEVBQUUsQ0FBQyxhQUFhLFNBQVNELEVBQUVGLEVBQUUsQ0FBQyxPQUFPQSxHQUFHQSxFQUFFLFdBQVdBLEVBQUUsQ0FBQyxRQUFRQSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWVDLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSUcsRUFBRUQsRUFBRSxFQUFFLEVBQUVFLEVBQUVILEVBQUVFLENBQUMsRUFBRUUsRUFBRSxTQUFTTixFQUFFQyxFQUFFLENBQUMsT0FBT0QsRUFBRSxRQUFRLFNBQVNBLEVBQUVHLEVBQUUsQ0FBQ0gsRUFBRSxLQUFLLFVBQVUsSUFBSSxVQUFVLEVBQUVBLEVBQUUs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SSxFQUNkQyxFQUFVRCxFQUFNLFFBQVEsbUJBQW1CLEVBT2pELEdBSkFDLEVBQVEsS0FBSyxnQkFBZ0IsRUFBRSxZQUFZLFFBQVEsRUFDbkRELEVBQU0sU0FBUyxRQUFRLEVBR25CQyxFQUFRLFNBQVMsa0JBQWtCLEVBQUcsQ0FDekMsSUFBTUMsRUFBV0YsRUFBTSxRQUFRLGtCQUFrQixFQUFFLENBQUMsRUFDcEQsR0FBSUUsR0FBQSxNQUFBQSxFQUFVLE9BQVEsQ0FDckIsSUFBTUMsRUFBU0QsRUFBUyxPQUNsQnpCLEVBQVF1QixFQUFNLE1BQU0sRUFDMUJHLEVBQU8sUUFBUTFCLENBQUssRUFFcEIsV0FBVyxJQUFNLENBQ2hCMEIsRUFBTyxhQUFhLEVBQ3BCQSxFQUFPLG9CQUFvQixDQUM1QixFQUFHLENBQUMsQ0FDTCxDQUNELENBQ0QsQ0FBQyxFQUdJSixFQUFlLFNBQVMsa0JBQWtCLEdBQzlDRCxFQUFZLE1BQU0sRUFBRSxTQUFTLFFBQVEsQ0FFdkMsQ0FHQSxHQUFBL0IsUUFBSSxLQUFLLENBQ1IsT0FBUSxHQUNULENBQUMsRUFFRCxJQUFNcUMsTUFBVyxHQUFBQyxTQUFNLEVBQ3ZCRCxHQUFTLFFBQVEsRUFDakIsT0FBTyxNQUFRQSIsCiAgIm5hbWVzIjogWyJyZXF1aXJlX2FvcyIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImUiLCAidCIsICJvIiwgIm4iLCAiaSIsICJyIiwgImEiLCAidSIsICJjIiwgInMiLCAiZiIsICJkIiwgImwiLCAicCIsICJtIiwgInYiLCAiZyIsICJoIiwgInciLCAiayIsICJ4IiwgImoiLCAiTyIsICJNIiwgIlMiLCAiXyIsICJiIiwgInkiLCAicmVxdWlyZV9sb3phZF9taW4iLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJnIiwgImYiLCAidCIsICJlIiwgInIiLCAiYSIsICJvIiwgImkiLCAibiIsICJkIiwgInUiLCAiQSIsICJtIiwgInYiLCAicyIsICJjIiwgImwiLCAiYiIsICJpbXBvcnRfYW9zIiwgImltcG9ydF9sb3phZCIsICJzZXRCYWNrZ3JvdW5kRWxlbWVudCIsICJiYWNrZ3JvdW5kIiwgImJ1dHRvblRvVG9wIiwgIndpbmRvd0hlaWdodCIsICJzY3JvbGxUb3AiLCAiZG9jdW1lbnRIZWlnaHQiLCAiVG9nZ2xlSXRlbSIsICJub2RlVGl0bGUiLCAiZmlyc3RUaXRsZSIsICJmaXJzdENvbnRlbnQiLCAic2V0T2Zmc2V0VG9QYXJlbnQiLCAiaXRlbSIsICJwYXJlbnQiLCAiJGl0ZW0iLCAiJHBhcmVudCIsICJvZmZzZXRCb3R0b20iLCAicmVwbGFjZVN2Z0ltYWdlcyIsICIkaW1nIiwgImltZ1VSTCIsICJpbWdDbGFzcyIsICJpbWdXaWR0aCIsICJpbWdIZWlnaHQiLCAiZXh0ZW5zaW9uIiwgInN2Z0NvbnRlbnQiLCAiJHN2ZyIsICJlcnJvciIsICJzdGlja0VsZW1lbnRUb0VkZ2UiLCAidGFyZ2V0IiwgIiR0aGlzIiwgImVkZ2VQb3NpdGlvbiIsICJwb3NpdGlvbiIsICJ1bnN0aWNrIiwgIm9mZnNldCIsICJtZW51U3B5IiwgImVsbSIsICJkZWJvdW5jZVRpbWVyIiwgImlzQWN0aXZlIiwgIm1zIiwgImN1cnJlbnRJdGVtIiwgIm5vZGVQYXJlbnQiLCAiaGVhZGVyU2VhcmNoIiwgImNsb3NlU2VhcmNoIiwgInZ3IiwgImhlYWRlciIsICJoZWlnaHQiLCAic3QiLCAiJGhlYWRlciIsICJ1cGRhdGVIZWFkZXJIZWlnaHQiLCAiaGVhZGVyU2VhcmNoIiwgImUiLCAiaXNPYmplY3QiLCAib2JqIiwgImV4dGVuZCIsICJ0YXJnZXQiLCAic3JjIiwgImtleSIsICJzc3JEb2N1bWVudCIsICJnZXREb2N1bWVudCIsICJkb2MiLCAic3NyV2luZG93IiwgImNhbGxiYWNrIiwgImlkIiwgImdldFdpbmRvdyIsICJ3aW4iLCAiY2xhc3Nlc1RvVG9rZW5zIiwgImNsYXNzZXMiLCAiYyIsICJkZWxldGVQcm9wcyIsICJvYmoiLCAib2JqZWN0IiwgImtleSIsICJlIiwgIm5leHRUaWNrIiwgImNhbGxiYWNrIiwgImRlbGF5IiwgIm5vdyIsICJnZXRDb21wdXRlZFN0eWxlIiwgImVsIiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAic3R5bGUiLCAiZ2V0VHJhbnNsYXRlIiwgImF4aXMiLCAibWF0cml4IiwgImN1clRyYW5zZm9ybSIsICJ0cmFuc2Zvcm1NYXRyaXgiLCAiY3VyU3R5bGUiLCAiaXNPYmplY3QiLCAibyIsICJpc05vZGUiLCAibm9kZSIsICJleHRlbmQiLCAidG8iLCAibm9FeHRlbmQiLCAiaSIsICJuZXh0U291cmNlIiwgImtleXNBcnJheSIsICJuZXh0SW5kZXgiLCAibGVuIiwgIm5leHRLZXkiLCAiZGVzYyIsICJzZXRDU1NQcm9wZXJ0eSIsICJ2YXJOYW1lIiwgInZhclZhbHVlIiwgImFuaW1hdGVDU1NNb2RlU2Nyb2xsIiwgIl9yZWYiLCAic3dpcGVyIiwgInRhcmdldFBvc2l0aW9uIiwgInNpZGUiLCAic3RhcnRQb3NpdGlvbiIsICJzdGFydFRpbWUiLCAidGltZSIsICJkdXJhdGlvbiIsICJkaXIiLCAiaXNPdXRPZkJvdW5kIiwgImN1cnJlbnQiLCAidGFyZ2V0IiwgImFuaW1hdGUiLCAicHJvZ3Jlc3MiLCAiZWFzZVByb2dyZXNzIiwgImN1cnJlbnRQb3NpdGlvbiIsICJnZXRTbGlkZVRyYW5zZm9ybUVsIiwgInNsaWRlRWwiLCAiZWxlbWVudENoaWxkcmVuIiwgImVsZW1lbnQiLCAic2VsZWN0b3IiLCAic2hvd1dhcm5pbmciLCAidGV4dCIsICJlcnIiLCAiY3JlYXRlRWxlbWVudCIsICJ0YWciLCAiZWxlbWVudFByZXZBbGwiLCAiZWwiLCAic2VsZWN0b3IiLCAicHJldkVscyIsICJwcmV2IiwgImVsZW1lbnROZXh0QWxsIiwgIm5leHRFbHMiLCAibmV4dCIsICJlbGVtZW50U3R5bGUiLCAicHJvcCIsICJnZXRXaW5kb3ciLCAiZWxlbWVudEluZGV4IiwgImNoaWxkIiwgImkiLCAiZWxlbWVudFBhcmVudHMiLCAicGFyZW50cyIsICJwYXJlbnQiLCAiZWxlbWVudFRyYW5zaXRpb25FbmQiLCAiY2FsbGJhY2siLCAiZmlyZUNhbGxCYWNrIiwgImUiLCAiZWxlbWVudE91dGVyU2l6ZSIsICJzaXplIiwgImluY2x1ZGVNYXJnaW5zIiwgIndpbmRvdyIsICJzdXBwb3J0IiwgImNhbGNTdXBwb3J0IiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAiZG9jdW1lbnQiLCAiZ2V0RG9jdW1lbnQiLCAiZ2V0U3VwcG9ydCIsICJkZXZpY2VDYWNoZWQiLCAiY2FsY0RldmljZSIsICJfdGVtcCIsICJ1c2VyQWdlbnQiLCAicGxhdGZvcm0iLCAidWEiLCAiZGV2aWNlIiwgInNjcmVlbldpZHRoIiwgInNjcmVlbkhlaWdodCIsICJhbmRyb2lkIiwgImlwYWQiLCAiaXBvZCIsICJpcGhvbmUiLCAid2luZG93cyIsICJtYWNvcyIsICJpUGFkU2NyZWVucyIsICJnZXREZXZpY2UiLCAib3ZlcnJpZGVzIiwgImJyb3dzZXIiLCAiY2FsY0Jyb3dzZXIiLCAibmVlZFBlcnNwZWN0aXZlRml4IiwgImlzU2FmYXJpIiwgIm1ham9yIiwgIm1pbm9yIiwgIm51bSIsICJnZXRCcm93c2VyIiwgIlJlc2l6ZSIsICJfcmVmIiwgInN3aXBlciIsICJvbiIsICJlbWl0IiwgIm9ic2VydmVyIiwgImFuaW1hdGlvbkZyYW1lIiwgInJlc2l6ZUhhbmRsZXIiLCAiY3JlYXRlT2JzZXJ2ZXIiLCAiZW50cmllcyIsICJ3aWR0aCIsICJoZWlnaHQiLCAibmV3V2lkdGgiLCAibmV3SGVpZ2h0IiwgIl9yZWYyIiwgImNvbnRlbnRCb3hTaXplIiwgImNvbnRlbnRSZWN0IiwgInRhcmdldCIsICJyZW1vdmVPYnNlcnZlciIsICJvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIiLCAiT2JzZXJ2ZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9ic2VydmVycyIsICJhdHRhY2giLCAib3B0aW9ucyIsICJPYnNlcnZlckZ1bmMiLCAibXV0YXRpb25zIiwgIm9ic2VydmVyVXBkYXRlIiwgImluaXQiLCAiY29udGFpbmVyUGFyZW50cyIsICJlbGVtZW50UGFyZW50cyIsICJpIiwgImRlc3Ryb3kiLCAiZXZlbnRzRW1pdHRlciIsICJldmVudHMiLCAiaGFuZGxlciIsICJwcmlvcml0eSIsICJzZWxmIiwgIm1ldGhvZCIsICJldmVudCIsICJvbmNlSGFuZGxlciIsICJfbGVuIiwgImFyZ3MiLCAiX2tleSIsICJpbmRleCIsICJldmVudEhhbmRsZXIiLCAiZGF0YSIsICJjb250ZXh0IiwgIl9sZW4yIiwgIl9rZXkyIiwgInVwZGF0ZVNpemUiLCAiZWwiLCAiZWxlbWVudFN0eWxlIiwgInVwZGF0ZVNsaWRlcyIsICJnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlIiwgIm5vZGUiLCAibGFiZWwiLCAicGFyYW1zIiwgIndyYXBwZXJFbCIsICJzbGlkZXNFbCIsICJzd2lwZXJTaXplIiwgInJ0bCIsICJ3cm9uZ1JUTCIsICJpc1ZpcnR1YWwiLCAicHJldmlvdXNTbGlkZXNMZW5ndGgiLCAic2xpZGVzIiwgImVsZW1lbnRDaGlsZHJlbiIsICJzbGlkZXNMZW5ndGgiLCAic25hcEdyaWQiLCAic2xpZGVzR3JpZCIsICJzbGlkZXNTaXplc0dyaWQiLCAib2Zmc2V0QmVmb3JlIiwgIm9mZnNldEFmdGVyIiwgInByZXZpb3VzU25hcEdyaWRMZW5ndGgiLCAicHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoIiwgInNwYWNlQmV0d2VlbiIsICJzbGlkZVBvc2l0aW9uIiwgInByZXZTbGlkZVNpemUiLCAic2xpZGVFbCIsICJzZXRDU1NQcm9wZXJ0eSIsICJncmlkRW5hYmxlZCIsICJzbGlkZVNpemUiLCAic2hvdWxkUmVzZXRTbGlkZVNpemUiLCAia2V5IiwgInNsaWRlIiwgInNsaWRlU3R5bGVzIiwgImN1cnJlbnRUcmFuc2Zvcm0iLCAiY3VycmVudFdlYktpdFRyYW5zZm9ybSIsICJlbGVtZW50T3V0ZXJTaXplIiwgInBhZGRpbmdMZWZ0IiwgInBhZGRpbmdSaWdodCIsICJtYXJnaW5MZWZ0IiwgIm1hcmdpblJpZ2h0IiwgImJveFNpemluZyIsICJjbGllbnRXaWR0aCIsICJvZmZzZXRXaWR0aCIsICJuZXdTbGlkZXNHcmlkIiwgInNsaWRlc0dyaWRJdGVtIiwgInNpemUiLCAiZ3JvdXBzIiwgImdyb3VwU2l6ZSIsICJfIiwgInNsaWRlSW5kZXgiLCAiYWxsU2xpZGVzU2l6ZSIsICJzbGlkZVNpemVWYWx1ZSIsICJtYXhTbmFwIiwgInNuYXAiLCAiYWxsU2xpZGVzT2Zmc2V0IiwgInNuYXBJbmRleCIsICJhZGRUb1NuYXBHcmlkIiwgImFkZFRvU2xpZGVzR3JpZCIsICJ2IiwgImJhY2tGYWNlSGlkZGVuQ2xhc3MiLCAiaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQiLCAidXBkYXRlQXV0b0hlaWdodCIsICJzcGVlZCIsICJhY3RpdmVTbGlkZXMiLCAiZ2V0U2xpZGVCeUluZGV4IiwgInVwZGF0ZVNsaWRlc09mZnNldCIsICJtaW51c09mZnNldCIsICJ1cGRhdGVTbGlkZXNQcm9ncmVzcyIsICJ0cmFuc2xhdGUiLCAib2Zmc2V0Q2VudGVyIiwgInNsaWRlT2Zmc2V0IiwgInNsaWRlUHJvZ3Jlc3MiLCAib3JpZ2luYWxTbGlkZVByb2dyZXNzIiwgInNsaWRlQmVmb3JlIiwgInNsaWRlQWZ0ZXIiLCAiaXNGdWxseVZpc2libGUiLCAidXBkYXRlUHJvZ3Jlc3MiLCAibXVsdGlwbGllciIsICJ0cmFuc2xhdGVzRGlmZiIsICJwcm9ncmVzcyIsICJpc0JlZ2lubmluZyIsICJpc0VuZCIsICJwcm9ncmVzc0xvb3AiLCAid2FzQmVnaW5uaW5nIiwgIndhc0VuZCIsICJpc0JlZ2lubmluZ1JvdW5kZWQiLCAiaXNFbmRSb3VuZGVkIiwgImZpcnN0U2xpZGVJbmRleCIsICJsYXN0U2xpZGVJbmRleCIsICJmaXJzdFNsaWRlVHJhbnNsYXRlIiwgImxhc3RTbGlkZVRyYW5zbGF0ZSIsICJ0cmFuc2xhdGVNYXgiLCAidHJhbnNsYXRlQWJzIiwgInVwZGF0ZVNsaWRlc0NsYXNzZXMiLCAiYWN0aXZlSW5kZXgiLCAiZ2V0RmlsdGVyZWRTbGlkZSIsICJzZWxlY3RvciIsICJhY3RpdmVTbGlkZSIsICJwcmV2U2xpZGUiLCAibmV4dFNsaWRlIiwgImVsZW1lbnROZXh0QWxsIiwgImVsZW1lbnRQcmV2QWxsIiwgInByb2Nlc3NMYXp5UHJlbG9hZGVyIiwgImltYWdlRWwiLCAic2xpZGVTZWxlY3RvciIsICJsYXp5RWwiLCAidW5sYXp5IiwgInByZWxvYWQiLCAiYW1vdW50IiwgImxlbiIsICJzbGlkZXNQZXJWaWV3IiwgImFjdGl2ZUNvbHVtbiIsICJwcmVsb2FkQ29sdW1ucyIsICJzbGlkZUluZGV4TGFzdEluVmlldyIsICJyZWFsSW5kZXgiLCAiZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZSIsICJ1cGRhdGVBY3RpdmVJbmRleCIsICJuZXdBY3RpdmVJbmRleCIsICJwcmV2aW91c0luZGV4IiwgInByZXZpb3VzUmVhbEluZGV4IiwgInByZXZpb3VzU25hcEluZGV4IiwgImdldFZpcnR1YWxSZWFsSW5kZXgiLCAiYUluZGV4IiwgInNraXAiLCAiZmlyc3RTbGlkZUluQ29sdW1uIiwgImFjdGl2ZVNsaWRlSW5kZXgiLCAidXBkYXRlQ2xpY2tlZFNsaWRlIiwgInBhdGgiLCAicGF0aEVsIiwgInNsaWRlRm91bmQiLCAidXBkYXRlIiwgImdldFN3aXBlclRyYW5zbGF0ZSIsICJheGlzIiwgImN1cnJlbnRUcmFuc2xhdGUiLCAiZ2V0VHJhbnNsYXRlIiwgInNldFRyYW5zbGF0ZSIsICJieUNvbnRyb2xsZXIiLCAieCIsICJ5IiwgInoiLCAibmV3UHJvZ3Jlc3MiLCAibWluVHJhbnNsYXRlIiwgIm1heFRyYW5zbGF0ZSIsICJ0cmFuc2xhdGVUbyIsICJydW5DYWxsYmFja3MiLCAidHJhbnNsYXRlQm91bmRzIiwgImludGVybmFsIiwgIm5ld1RyYW5zbGF0ZSIsICJpc0giLCAiYW5pbWF0ZUNTU01vZGVTY3JvbGwiLCAiZSIsICJzZXRUcmFuc2l0aW9uIiwgImR1cmF0aW9uIiwgInRyYW5zaXRpb25FbWl0IiwgImRpcmVjdGlvbiIsICJzdGVwIiwgImRpciIsICJ0cmFuc2l0aW9uU3RhcnQiLCAidHJhbnNpdGlvbkVuZCIsICJ0cmFuc2l0aW9uIiwgInNsaWRlVG8iLCAiaW5pdGlhbCIsICJlbmFibGVkIiwgIm5vcm1hbGl6ZWRUcmFuc2xhdGUiLCAibm9ybWFsaXplZEdyaWQiLCAibm9ybWFsaXplZEdyaWROZXh0IiwgInQiLCAic2xpZGVUb0xvb3AiLCAibmV3SW5kZXgiLCAidGFyZ2V0U2xpZGVJbmRleCIsICJjb2xzIiwgImNlbnRlcmVkU2xpZGVzIiwgIm5lZWRMb29wRml4IiwgInNsaWRlTmV4dCIsICJhbmltYXRpbmciLCAicGVyR3JvdXAiLCAiaW5jcmVtZW50IiwgInNsaWRlUHJldiIsICJydGxUcmFuc2xhdGUiLCAibm9ybWFsaXplIiwgInZhbCIsICJub3JtYWxpemVkU25hcEdyaWQiLCAicHJldlNuYXAiLCAicHJldlNuYXBJbmRleCIsICJwcmV2SW5kZXgiLCAibGFzdEluZGV4IiwgInNsaWRlUmVzZXQiLCAic2xpZGVUb0Nsb3Nlc3QiLCAidGhyZXNob2xkIiwgImN1cnJlbnRTbmFwIiwgIm5leHRTbmFwIiwgInNsaWRlVG9DbGlja2VkU2xpZGUiLCAic2xpZGVUb0luZGV4IiwgIm5leHRUaWNrIiwgImxvb3BDcmVhdGUiLCAic2xpZGVSZWFsSW5kZXgiLCAiaW5pdFNsaWRlcyIsICJzbGlkZXNQZXJHcm91cCIsICJzaG91bGRGaWxsR3JvdXAiLCAic2hvdWxkRmlsbEdyaWQiLCAiYWRkQmxhbmtTbGlkZXMiLCAiYW1vdW50T2ZTbGlkZXMiLCAiY3JlYXRlRWxlbWVudCIsICJzbGlkZXNUb0FkZCIsICJzaG93V2FybmluZyIsICJsb29wRml4IiwgImJ5TW91c2V3aGVlbCIsICJhbGxvd1NsaWRlUHJldiIsICJhbGxvd1NsaWRlTmV4dCIsICJsb29wZWRTbGlkZXMiLCAicHJlcGVuZFNsaWRlc0luZGV4ZXMiLCAiYXBwZW5kU2xpZGVzSW5kZXhlcyIsICJpc05leHQiLCAiaXNQcmV2IiwgInNsaWRlc1ByZXBlbmRlZCIsICJzbGlkZXNBcHBlbmRlZCIsICJhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCIsICJjb2xJbmRleFRvUHJlcGVuZCIsICJjdXJyZW50U2xpZGVUcmFuc2xhdGUiLCAiZGlmZiIsICJzaGlmdCIsICJsb29wUGFyYW1zIiwgImMiLCAiX19zcHJlYWRQcm9wcyIsICJfX3NwcmVhZFZhbHVlcyIsICJsb29wRGVzdHJveSIsICJuZXdTbGlkZXNPcmRlciIsICJsb29wIiwgInNldEdyYWJDdXJzb3IiLCAibW92aW5nIiwgInVuc2V0R3JhYkN1cnNvciIsICJncmFiQ3Vyc29yIiwgImNsb3Nlc3RFbGVtZW50IiwgImJhc2UiLCAiX19jbG9zZXN0RnJvbSIsICJmb3VuZCIsICJwcmV2ZW50RWRnZVN3aXBlIiwgInN0YXJ0WCIsICJlZGdlU3dpcGVEZXRlY3Rpb24iLCAiZWRnZVN3aXBlVGhyZXNob2xkIiwgIm9uVG91Y2hTdGFydCIsICJ0b3VjaGVzIiwgInRhcmdldEVsIiwgInN3aXBpbmdDbGFzc0hhc1ZhbHVlIiwgImV2ZW50UGF0aCIsICJub1N3aXBpbmdTZWxlY3RvciIsICJpc1RhcmdldFNoYWRvdyIsICJzdGFydFkiLCAibm93IiwgInByZXZlbnREZWZhdWx0IiwgInNob3VsZFByZXZlbnREZWZhdWx0IiwgIm9uVG91Y2hNb3ZlIiwgInRhcmdldFRvdWNoIiwgInBhZ2VYIiwgInBhZ2VZIiwgImRpZmZYIiwgImRpZmZZIiwgIl9fcG93IiwgInRvdWNoQW5nbGUiLCAidG91Y2hlc0RpZmYiLCAicHJldlRvdWNoZXNEaXJlY3Rpb24iLCAiaXNMb29wIiwgImFsbG93TG9vcEZpeCIsICJldnQiLCAibG9vcEZpeGVkIiwgImRpc2FibGVQYXJlbnRTd2lwZXIiLCAicmVzaXN0YW5jZVJhdGlvIiwgIm9uVG91Y2hFbmQiLCAidG91Y2hFbmRUaW1lIiwgInRpbWVEaWZmIiwgInBhdGhUcmVlIiwgImN1cnJlbnRQb3MiLCAic3dpcGVUb0xhc3QiLCAic3RvcEluZGV4IiwgInJld2luZEZpcnN0SW5kZXgiLCAicmV3aW5kTGFzdEluZGV4IiwgInJhdGlvIiwgIm9uUmVzaXplIiwgImlzVmlydHVhbExvb3AiLCAib25DbGljayIsICJvblNjcm9sbCIsICJvbkxvYWQiLCAib25Eb2N1bWVudFRvdWNoU3RhcnQiLCAiY2FwdHVyZSIsICJkb21NZXRob2QiLCAic3dpcGVyTWV0aG9kIiwgImF0dGFjaEV2ZW50cyIsICJkZXRhY2hFdmVudHMiLCAiZXZlbnRzJDEiLCAiaXNHcmlkRW5hYmxlZCIsICJzZXRCcmVha3BvaW50IiwgImluaXRpYWxpemVkIiwgImJyZWFrcG9pbnRzIiwgImJyZWFrcG9pbnQiLCAiYnJlYWtwb2ludFBhcmFtcyIsICJ3YXNNdWx0aVJvdyIsICJpc011bHRpUm93IiwgIndhc0VuYWJsZWQiLCAicHJvcCIsICJ3YXNNb2R1bGVFbmFibGVkIiwgImlzTW9kdWxlRW5hYmxlZCIsICJkaXJlY3Rpb25DaGFuZ2VkIiwgIm5lZWRzUmVMb29wIiwgIndhc0xvb3AiLCAiZXh0ZW5kIiwgImlzRW5hYmxlZCIsICJoYXNMb29wIiwgImdldEJyZWFrcG9pbnQiLCAiY29udGFpbmVyRWwiLCAiY3VycmVudEhlaWdodCIsICJwb2ludHMiLCAicG9pbnQiLCAibWluUmF0aW8iLCAiYiIsICJ2YWx1ZSIsICJwcmVwYXJlQ2xhc3NlcyIsICJwcmVmaXgiLCAicmVzdWx0Q2xhc3NlcyIsICJpdGVtIiwgImNsYXNzTmFtZXMiLCAiYWRkQ2xhc3NlcyIsICJzdWZmaXhlcyIsICJyZW1vdmVDbGFzc2VzIiwgImNsYXNzZXMiLCAiY2hlY2tPdmVyZmxvdyIsICJ3YXNMb2NrZWQiLCAic2xpZGVzT2Zmc2V0QmVmb3JlIiwgImxhc3RTbGlkZVJpZ2h0RWRnZSIsICJjaGVja092ZXJmbG93JDEiLCAiZGVmYXVsdHMiLCAibW9kdWxlRXh0ZW5kUGFyYW1zIiwgImFsbE1vZHVsZXNQYXJhbXMiLCAib2JqIiwgIm1vZHVsZVBhcmFtTmFtZSIsICJtb2R1bGVQYXJhbXMiLCAicHJvdG90eXBlcyIsICJleHRlbmRlZERlZmF1bHRzIiwgIlN3aXBlciIsICJfU3dpcGVyIiwgInN3aXBlcnMiLCAibmV3UGFyYW1zIiwgIm1vZCIsICJzd2lwZXJQYXJhbXMiLCAiZXZlbnROYW1lIiwgInByb3BlcnR5IiwgImVsZW1lbnRJbmRleCIsICJtaW4iLCAiY3VycmVudCIsICJjbHMiLCAiY2xhc3NOYW1lIiwgInVwZGF0ZXMiLCAidmlldyIsICJleGFjdCIsICJzcHYiLCAiYnJlYWtMb29wIiwgInRyYW5zbGF0ZVZhbHVlIiwgInRyYW5zbGF0ZWQiLCAibmV3RGlyZWN0aW9uIiwgIm5lZWRVcGRhdGUiLCAiY3VycmVudERpcmVjdGlvbiIsICJlbGVtZW50IiwgImdldFdyYXBwZXJTZWxlY3RvciIsICJsYXp5RWxlbWVudHMiLCAiZGVsZXRlSW5zdGFuY2UiLCAiY2xlYW5TdHlsZXMiLCAiZGVsZXRlUHJvcHMiLCAibmV3RGVmYXVsdHMiLCAibW9kdWxlcyIsICJtb2R1bGUiLCAibSIsICJwcm90b3R5cGVHcm91cCIsICJwcm90b01ldGhvZCIsICJNb3VzZXdoZWVsIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlbWl0IiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAidGltZW91dCIsICJsYXN0U2Nyb2xsVGltZSIsICJub3ciLCAibGFzdEV2ZW50QmVmb3JlU25hcCIsICJyZWNlbnRXaGVlbEV2ZW50cyIsICJub3JtYWxpemUiLCAiZSIsICJzWCIsICJzWSIsICJwWCIsICJwWSIsICJoYW5kbGVNb3VzZUVudGVyIiwgImhhbmRsZU1vdXNlTGVhdmUiLCAiYW5pbWF0ZVNsaWRlciIsICJuZXdFdmVudCIsICJyZWxlYXNlU2Nyb2xsIiwgInBhcmFtcyIsICJoYW5kbGUiLCAiZXZlbnQiLCAiZGlzYWJsZVBhcmVudFN3aXBlciIsICJ0YXJnZXRFbCIsICJ0YXJnZXRFbENvbnRhaW5zVGFyZ2V0IiwgImRlbHRhIiwgInJ0bEZhY3RvciIsICJkYXRhIiwgInBvc2l0aW9ucyIsICJwcmV2RXZlbnQiLCAiaWdub3JlV2hlZWxFdmVudHMiLCAicG9zaXRpb24iLCAid2FzQmVnaW5uaW5nIiwgIndhc0VuZCIsICJmaXJzdEV2ZW50IiwgInNuYXBUb1RocmVzaG9sZCIsICJuZXh0VGljayIsICJldmVudHMiLCAibWV0aG9kIiwgImVuYWJsZSIsICJkaXNhYmxlIiwgImNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQiLCAic3dpcGVyIiwgIm9yaWdpbmFsUGFyYW1zIiwgInBhcmFtcyIsICJjaGVja1Byb3BzIiwgImtleSIsICJlbGVtZW50IiwgImVsZW1lbnRDaGlsZHJlbiIsICJjcmVhdGVFbGVtZW50IiwgIk5hdmlnYXRpb24iLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAibWFrZUVsZW1lbnRzQXJyYXkiLCAiZWwiLCAiZSIsICJnZXRFbCIsICJyZXMiLCAidG9nZ2xlRWwiLCAiZGlzYWJsZWQiLCAicGFyYW1zIiwgInN1YkVsIiwgInVwZGF0ZSIsICJuZXh0RWwiLCAicHJldkVsIiwgIm9uUHJldkNsaWNrIiwgIm9uTmV4dENsaWNrIiwgImluaXQiLCAiY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCIsICJpbml0QnV0dG9uIiwgImRpciIsICJkZXN0cm95IiwgImRlc3Ryb3lCdXR0b24iLCAiZGlzYWJsZSIsICJfcyIsICJ0YXJnZXRFbCIsICJpc0hpZGRlbiIsICJlbmFibGUiLCAiY2xhc3Nlc1RvU2VsZWN0b3IiLCAiY2xhc3NlcyIsICJQYWdpbmF0aW9uIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlbWl0IiwgInBmeCIsICJudW1iZXIiLCAiYnVsbGV0U2l6ZSIsICJkeW5hbWljQnVsbGV0SW5kZXgiLCAibWFrZUVsZW1lbnRzQXJyYXkiLCAiZWwiLCAiZSIsICJpc1BhZ2luYXRpb25EaXNhYmxlZCIsICJzZXRTaWRlQnVsbGV0cyIsICJidWxsZXRFbCIsICJwb3NpdGlvbiIsICJidWxsZXRBY3RpdmVDbGFzcyIsICJvbkJ1bGxldENsaWNrIiwgImNsYXNzZXNUb1NlbGVjdG9yIiwgImluZGV4IiwgImVsZW1lbnRJbmRleCIsICJ1cGRhdGUiLCAicnRsIiwgInBhcmFtcyIsICJjdXJyZW50IiwgInByZXZpb3VzSW5kZXgiLCAic2xpZGVzTGVuZ3RoIiwgInRvdGFsIiwgImJ1bGxldHMiLCAiZmlyc3RJbmRleCIsICJsYXN0SW5kZXgiLCAibWlkSW5kZXgiLCAiZWxlbWVudE91dGVyU2l6ZSIsICJzdWJFbCIsICJjbGFzc2VzVG9SZW1vdmUiLCAic3VmZml4IiwgInMiLCAiYnVsbGV0IiwgImJ1bGxldEluZGV4IiwgImZpcnN0RGlzcGxheWVkQnVsbGV0IiwgImxhc3REaXNwbGF5ZWRCdWxsZXQiLCAiaSIsICJkeW5hbWljQnVsbGV0c0xlbmd0aCIsICJidWxsZXRzT2Zmc2V0IiwgIm9mZnNldFByb3AiLCAic3ViRWxJbmRleCIsICJmcmFjdGlvbkVsIiwgInRvdGFsRWwiLCAicHJvZ3Jlc3NiYXJEaXJlY3Rpb24iLCAic2NhbGUiLCAic2NhbGVYIiwgInNjYWxlWSIsICJwcm9ncmVzc0VsIiwgInJlbmRlciIsICJwYWdpbmF0aW9uSFRNTCIsICJudW1iZXJPZkJ1bGxldHMiLCAiaW5pdCIsICJjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIiwgImVsZW1lbnRQYXJlbnRzIiwgImRlc3Ryb3kiLCAiZGlzYWJsZSIsICJfcyIsICJ0YXJnZXRFbCIsICJpc0hpZGRlbiIsICJlbmFibGUiLCAiQXV0b3BsYXkiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAicGFyYW1zIiwgInRpbWVvdXQiLCAicmFmIiwgImF1dG9wbGF5RGVsYXlUb3RhbCIsICJhdXRvcGxheURlbGF5Q3VycmVudCIsICJhdXRvcGxheVRpbWVMZWZ0IiwgImF1dG9wbGF5U3RhcnRUaW1lIiwgIndhc1BhdXNlZCIsICJpc1RvdWNoZWQiLCAicGF1c2VkQnlUb3VjaCIsICJ0b3VjaFN0YXJ0VGltZW91dCIsICJzbGlkZUNoYW5nZWQiLCAicGF1c2VkQnlJbnRlcmFjdGlvbiIsICJwYXVzZWRCeVBvaW50ZXJFbnRlciIsICJvblRyYW5zaXRpb25FbmQiLCAiZSIsICJyZXN1bWUiLCAiY2FsY1RpbWVMZWZ0IiwgInRpbWVMZWZ0IiwgImdldFNsaWRlRGVsYXkiLCAiYWN0aXZlU2xpZGVFbCIsICJzbGlkZUVsIiwgInJ1biIsICJkZWxheUZvcmNlIiwgImRlbGF5IiwgImN1cnJlbnRTbGlkZURlbGF5IiwgInNwZWVkIiwgInByb2NlZWQiLCAic3RhcnQiLCAic3RvcCIsICJwYXVzZSIsICJpbnRlcm5hbCIsICJyZXNldCIsICJvblZpc2liaWxpdHlDaGFuZ2UiLCAiZG9jdW1lbnQiLCAiZ2V0RG9jdW1lbnQiLCAib25Qb2ludGVyRW50ZXIiLCAib25Qb2ludGVyTGVhdmUiLCAiYXR0YWNoTW91c2VFdmVudHMiLCAiZGV0YWNoTW91c2VFdmVudHMiLCAiYXR0YWNoRG9jdW1lbnRFdmVudHMiLCAiZGV0YWNoRG9jdW1lbnRFdmVudHMiLCAiX3MiLCAiVGh1bWIiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImluaXRpYWxpemVkIiwgInN3aXBlckNyZWF0ZWQiLCAib25UaHVtYkNsaWNrIiwgInRodW1ic1N3aXBlciIsICJjbGlja2VkSW5kZXgiLCAiY2xpY2tlZFNsaWRlIiwgInNsaWRlVG9JbmRleCIsICJpbml0IiwgInRodW1ic1BhcmFtcyIsICJTd2lwZXJDbGFzcyIsICJpc09iamVjdCIsICJ0aHVtYnNTd2lwZXJQYXJhbXMiLCAidXBkYXRlIiwgImluaXRpYWwiLCAic2xpZGVzUGVyVmlldyIsICJ0aHVtYnNUb0FjdGl2YXRlIiwgInRodW1iQWN0aXZlQ2xhc3MiLCAic2xpZGVFbCIsICJpIiwgImVsZW1lbnRDaGlsZHJlbiIsICJhdXRvU2Nyb2xsT2Zmc2V0IiwgInVzZU9mZnNldCIsICJjdXJyZW50VGh1bWJzSW5kZXgiLCAibmV3VGh1bWJzSW5kZXgiLCAiZGlyZWN0aW9uIiwgIm5ld1RodW1ic1NsaWRlIiwgInRodW1icyIsICJkb2N1bWVudCIsICJnZXREb2N1bWVudCIsICJnZXRUaHVtYnNFbGVtZW50QW5kSW5pdCIsICJ0aHVtYnNFbGVtZW50IiwgIm9uVGh1bWJzU3dpcGVyIiwgImUiLCAid2F0Y2hGb3JUaHVtYnNUb0FwcGVhciIsICJfcyIsICJkdXJhdGlvbiIsICJlZmZlY3RJbml0IiwgInBhcmFtcyIsICJlZmZlY3QiLCAic3dpcGVyIiwgIm9uIiwgInNldFRyYW5zbGF0ZSIsICJzZXRUcmFuc2l0aW9uIiwgIm92ZXJ3cml0ZVBhcmFtcyIsICJwZXJzcGVjdGl2ZSIsICJyZWNyZWF0ZVNoYWRvd3MiLCAiZ2V0RWZmZWN0UGFyYW1zIiwgIm92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCIsICJfcyIsICJkdXJhdGlvbiIsICJzbGlkZUVsIiwgInNoYWRvd0VsIiwgInJlcXVpcmVVcGRhdGVPblZpcnR1YWwiLCAiZWZmZWN0VGFyZ2V0IiwgImVmZmVjdFBhcmFtcyIsICJzbGlkZUVsIiwgInRyYW5zZm9ybUVsIiwgImdldFNsaWRlVHJhbnNmb3JtRWwiLCAiZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQiLCAiX3JlZiIsICJzd2lwZXIiLCAiZHVyYXRpb24iLCAidHJhbnNmb3JtRWxlbWVudHMiLCAiYWxsU2xpZGVzIiwgImFjdGl2ZUluZGV4IiwgImdldFNsaWRlIiwgImVsIiwgInNsaWRlRWwiLCAiZXZlbnRUcmlnZ2VyZWQiLCAidHJhbnNpdGlvbkVuZFRhcmdldCIsICJ0cmFuc2Zvcm1FbCIsICJlbGVtZW50VHJhbnNpdGlvbkVuZCIsICJldnQiLCAiRWZmZWN0RmFkZSIsICJfcmVmIiwgInN3aXBlciIsICJleHRlbmRQYXJhbXMiLCAib24iLCAiZWZmZWN0SW5pdCIsICJzbGlkZXMiLCAicGFyYW1zIiwgImkiLCAic2xpZGVFbCIsICJ0eCIsICJ0eSIsICJzbGlkZU9wYWNpdHkiLCAidGFyZ2V0RWwiLCAiZWZmZWN0VGFyZ2V0IiwgImR1cmF0aW9uIiwgInRyYW5zZm9ybUVsZW1lbnRzIiwgImdldFNsaWRlVHJhbnNmb3JtRWwiLCAiZWwiLCAiZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQiLCAic3dpcGVySW5pdCIsICJpbmRleCIsICIkdGhpcyIsICJjb25maWciLCAiY29uZmlnSW5maW5pdGUiLCAiU3dpcGVyIiwgIl9fc3ByZWFkUHJvcHMiLCAiX19zcHJlYWRWYWx1ZXMiLCAiTmF2aWdhdGlvbiIsICJQYWdpbmF0aW9uIiwgIk1vdXNld2hlZWwiLCAiQXV0b3BsYXkiLCAiRWZmZWN0RmFkZSIsICJzd2lwZXJCYW5uZXIiLCAic3dpcGVyUHJvZHVjdERldGFpbCIsICJzd2lwZXJGaWVsZE9wIiwgInN3aXBlcldvcmsiLCAic3dpcGVyUmVsYXRlZFBvc3RzIiwgInN3aXBlclJlbGF0ZWRWaWRlb3MiLCAiYWJvdXRfNSIsICJoYW5kbGVQRDE1VmlzaWJsZVNsaWRlIiwgInN3aXBlciIsICJzbGlkZUJlZm9yZVByZXYiLCAic2xpZGVCZWZvcmVQcmV2MiIsICJzbGlkZUFmdGVyTmV4dCIsICJzbGlkZUFmdGVyTmV4dDIiLCAic2xpZGUiLCAic3dpcGVyRWwiLCAiaGFuZGxlVmlkZW8iLCAidmlkZW8iLCAidiIsICJjdXJyZW50U2xpZGUiLCAic3dpcGVyVGh1bWIiLCAic3dpcGVyRGV0YWlsIiwgIlRodW1iIiwgImJhY2tncm91bmRDb250YWluZXIiLCAic2V0QmFja2dyb3VuZCIsICJiYWNrZ3JvdW5kIiwgImFsbEZpZWxkT3BJdGVtcyIsICJhY3RpdmVTbGlkZSIsICJhY3RpdmVJdGVtIiwgIml0ZW0iLCAic2xpZGVFbCIsICJzbGlkZUl0ZW0iLCAid29ya0NhcmRzIiwgImNhcmQiLCAibmV4dEVsIiwgInByZXZFbCIsICJzd2lwZXJJbnN0YW5jZSIsICJlIiwgInN3aXBlclJlbGF0ZWQiLCAiaXNCcm93c2VyIiwgIndpbiIsICJkb2MiLCAidHdlZW5UeXBlcyIsICJ2YWx1ZVR5cGVzIiwgInRpY2tNb2RlcyIsICJjb21wb3NpdGlvblR5cGVzIiwgImlzUmVnaXN0ZXJlZFRhcmdldFN5bWJvbCIsICJpc0RvbVN5bWJvbCIsICJpc1N2Z1N5bWJvbCIsICJ0cmFuc2Zvcm1zU3ltYm9sIiwgIm1vcnBoUG9pbnRzU3ltYm9sIiwgInByb3h5VGFyZ2V0U3ltYm9sIiwgIm1pblZhbHVlIiwgIm1heFZhbHVlIiwgIksiLCAibWF4RnBzIiwgImVtcHR5U3RyaW5nIiwgInNob3J0VHJhbnNmb3JtcyIsICJ2YWxpZFRyYW5zZm9ybXMiLCAidHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5ncyIsICJhIiwgInYiLCAiX19zcHJlYWRQcm9wcyIsICJfX3NwcmVhZFZhbHVlcyIsICJub29wIiwgImhleFRlc3RSZ3giLCAicmdiRXhlY1JneCIsICJyZ2JhRXhlY1JneCIsICJoc2xFeGVjUmd4IiwgImhzbGFFeGVjUmd4IiwgImRpZ2l0V2l0aEV4cG9uZW50Umd4IiwgInVuaXRzRXhlY1JneCIsICJsb3dlckNhc2VSZ3giLCAidHJhbnNmb3Jtc0V4ZWNSZ3giLCAicmVsYXRpdmVWYWx1ZXNFeGVjUmd4IiwgImRlZmF1bHRzIiwgImdsb2JhbHMiLCAiZ2xvYmFsVmVyc2lvbnMiLCAidG9Mb3dlckNhc2UiLCAic3RyIiwgInN0cmluZ1N0YXJ0c1dpdGgiLCAic3ViIiwgIm5vdyIsICJpc0FyciIsICJpc09iaiIsICJpc051bSIsICJpc1N0ciIsICJpc0ZuYyIsICJpc1VuZCIsICJpc05pbCIsICJpc1N2ZyIsICJpc0hleCIsICJpc1JnYiIsICJpc0hzbCIsICJpc0NvbCIsICJpc0tleSIsICJwYXJzZU51bWJlciIsICJwb3ciLCAic3FydCIsICJzaW4iLCAiY29zIiwgImFicyIsICJleHAiLCAiY2VpbCIsICJmbG9vciIsICJhc2luIiwgIm1heCIsICJQSSIsICJfcm91bmQiLCAiY2xhbXAiLCAidiIsICJtaW4iLCAibWF4IiwgInBvd0NhY2hlIiwgInJvdW5kIiwgImRlY2ltYWxMZW5ndGgiLCAicCIsICJfX3BvdyIsICJzbmFwIiwgImluY3JlbWVudCIsICJpc0FyciIsICJjbG9zZXN0IiwgImN2IiwgImFicyIsICJpbnRlcnBvbGF0ZSIsICJzdGFydCIsICJlbmQiLCAicHJvZ3Jlc3MiLCAiY2xhbXBJbmZpbml0eSIsICJtYXhWYWx1ZSIsICJjbGFtcFplcm8iLCAibWluVmFsdWUiLCAiY2xvbmVBcnJheSIsICJhIiwgIm1lcmdlT2JqZWN0cyIsICJvMSIsICJvMiIsICJtZXJnZWQiLCAiX19zcHJlYWRWYWx1ZXMiLCAibzFwIiwgImlzVW5kIiwgImZvckVhY2hDaGlsZHJlbiIsICJwYXJlbnQiLCAiY2FsbGJhY2siLCAicmV2ZXJzZSIsICJwcmV2UHJvcCIsICJuZXh0UHJvcCIsICJuZXh0IiwgImFkanVzdGVkTmV4dFByb3AiLCAiY3VycmVudE5leHQiLCAicmVtb3ZlQ2hpbGQiLCAiY2hpbGQiLCAicHJldiIsICJhZGRDaGlsZCIsICJzb3J0TWV0aG9kIiwgIkNsb2NrIiwgImluaXRUaW1lIiwgIksiLCAibWF4RnBzIiwgImZyYW1lUmF0ZSIsICJwcmV2aW91c0ZyYW1lRHVyYXRpb24iLCAiZnIiLCAiZnBzIiwgImZyYW1lRHVyYXRpb24iLCAicGxheWJhY2tSYXRlIiwgInBiciIsICJ0aW1lIiwgInNjaGVkdWxlZFRpbWUiLCAiZWxhcHNlZFRpbWUiLCAidGlja01vZGVzIiwgImZyYW1lRGVsdGEiLCAiZGVsdGEiLCAicmVuZGVyIiwgInRpY2thYmxlIiwgIm11dGVDYWxsYmFja3MiLCAiaW50ZXJuYWxSZW5kZXIiLCAidGlja01vZGUiLCAiZHVyYXRpb24iLCAiY29tcGxldGVkIiwgIml0ZXJhdGlvbkR1cmF0aW9uIiwgIml0ZXJhdGlvbkNvdW50IiwgIl9jdXJyZW50SXRlcmF0aW9uIiwgIl9sb29wRGVsYXkiLCAiX3JldmVyc2VkIiwgIl9hbHRlcm5hdGUiLCAiX2hhc0NoaWxkcmVuIiwgInRpY2thYmxlRGVsYXkiLCAidGlja2FibGVQcmV2QWJzb2x1dGVUaW1lIiwgInRpY2thYmxlRW5kVGltZSIsICJ0aWNrYWJsZUFic29sdXRlVGltZSIsICJ0aWNrYWJsZVByZXZUaW1lIiwgInRpY2thYmxlQ3VycmVudFRpbWUiLCAiZGVsdGFUaW1lIiwgImlzQ3VycmVudFRpbWVBYm92ZVplcm8iLCAiaXNDdXJyZW50VGltZUVxdWFsT3JBYm92ZUR1cmF0aW9uIiwgImlzU2V0dGVyIiwgImZvcmNlZFRpY2siLCAiaXNPZGQiLCAiaXRlcmF0aW9uRWxhcHNlZFRpbWUiLCAiaGFzUmVuZGVyZWQiLCAiY3VycmVudEl0ZXJhdGlvbiIsICJpc1JldmVyc2VkIiwgIl9lYXNlIiwgIml0ZXJhdGlvblRpbWUiLCAiaXNSdW5uaW5nQmFja3dhcmRzIiwgImZvcmNlZFJlbmRlciIsICJnbG9iYWxzIiwgImFic29sdXRlVGltZSIsICJ0d2VlbiIsICJ0d2VlblRhcmdldCIsICJ0d2VlblN0eWxlIiwgInR3ZWVuVGFyZ2V0VHJhbnNmb3JtcyIsICJ0d2VlblRhcmdldFRyYW5zZm9ybXNQcm9wZXJ0aWVzIiwgInR3ZWVuVHJhbnNmb3Jtc05lZWRVcGRhdGUiLCAidHdlZW5Db21wb3NpdGlvbiIsICJ0d2VlbkN1cnJlbnRUaW1lIiwgInR3ZWVuQ2hhbmdlRHVyYXRpb24iLCAidHdlZW5BYnNFbmRUaW1lIiwgInR3ZWVuTmV4dFJlcCIsICJ0d2VlblByZXZSZXAiLCAidHdlZW5IYXNDb21wb3NpdGlvbiIsICJjb21wb3NpdGlvblR5cGVzIiwgInR3ZWVuTmV3VGltZSIsICJ0d2VlblByb2dyZXNzIiwgInR3ZWVuTW9kaWZpZXIiLCAidHdlZW5WYWx1ZVR5cGUiLCAidHdlZW5UeXBlIiwgInR3ZWVuSXNPYmplY3QiLCAidHdlZW5UeXBlcyIsICJ0d2VlbklzTnVtYmVyIiwgInZhbHVlVHlwZXMiLCAidHdlZW5QcmVjaXNpb24iLCAidmFsdWUiLCAibnVtYmVyIiwgImZuIiwgInRuIiwgInIiLCAiZyIsICJiIiwgIm5zIiwgImoiLCAibCIsICJuIiwgInMiLCAidHdlZW5Qcm9wZXJ0eSIsICJ0cmFuc2Zvcm1zU3ltYm9sIiwgInN0ciIsICJlbXB0eVN0cmluZyIsICJrZXkiLCAidHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5ncyIsICJ0aWNrIiwgInRsIiwgInRsSXNSdW5uaW5nQmFja3dhcmRzIiwgInRsQ2hpbGRyZW5UaW1lIiwgInRsQ2lsZHJlblRpY2tUaW1lIiwgIm5vdyIsICJ0bENoaWxkcmVuSGFzUmVuZGVyZWQiLCAidGxDaGlsZHJlbkhhdmVDb21wbGV0ZWQiLCAidGxJdGVyYXRpb25EdXJhdGlvbiIsICJjaGlsZER1cmF0aW9uIiwgImNoaWxkU3RhcnRUaW1lIiwgImNoaWxkRW5kVGltZSIsICJjaGlsZFRpbWUiLCAiY2hpbGRUaWNrTW9kZSIsICJhZGRpdGl2ZSIsICJub29wIiwgImFkZEFkZGl0aXZlQW5pbWF0aW9uIiwgImxvb2t1cHMiLCAiYW5pbWF0aW9uIiwgInByb3BlcnR5QW5pbWF0aW9uIiwgInByb3BlcnR5TmFtZSIsICJ0d2VlbnMiLCAibG9va3VwVHdlZW4iLCAidmFsdWVUeXBlIiwgImFkZGl0aXZlVmFsdWVzIiwgImFkZGl0aXZlVmFsdWUiLCAiaSIsICJlbmdpbmVUaWNrTWV0aG9kIiwgImlzQnJvd3NlciIsICJlbmdpbmVDYW5jZWxNZXRob2QiLCAiRW5naW5lIiwgImRlZmF1bHRzIiwgImRvYyIsICJlbmdpbmVTcGVlZCIsICJlbmdpbmVGcHMiLCAiYWN0aXZlVGlja2FibGUiLCAibmV4dFRpY2thYmxlIiwgInRpY2tFbmdpbmUiLCAia2lsbEVuZ2luZSIsICJ1bml0IiwgImlzU2Vjb25kIiwgIm5ld1NjYWxlIiwgInNjYWxlRmFjdG9yIiwgInByZWNpc2lvbiIsICJlbmdpbmUiLCAiZ2xvYmFsVmVyc2lvbnMiLCAicGFyc2VJbmxpbmVUcmFuc2Zvcm1zIiwgInRhcmdldCIsICJwcm9wTmFtZSIsICJhbmltYXRpb25JbmxpbmVTdHlsZXMiLCAiaW5saW5lVHJhbnNmb3JtcyIsICJpbmxpbmVkU3R5bGVzUHJvcGVydHlWYWx1ZSIsICJjYWNoZWRUcmFuc2Zvcm1zIiwgInQiLCAidHJhbnNmb3Jtc0V4ZWNSZ3giLCAiaW5saW5lUHJvcGVydHlOYW1lIiwgImlubGluZVByb3BlcnR5VmFsdWUiLCAic3RyaW5nU3RhcnRzV2l0aCIsICJnZXROb2RlTGlzdCIsICJpc1N0ciIsICJwYXJzZVRhcmdldHMiLCAidGFyZ2V0cyIsICJpc05pbCIsICJmbGF0dGVuZWQiLCAicGFyc2VkIiwgIml0ZW0iLCAibm9kZUxpc3QiLCAiamwiLCAic3ViSXRlbSIsICJpc0R1cGxpY2F0ZSIsICJrIiwgImtsIiwgInJlZ2lzdGVyVGFyZ2V0cyIsICJwYXJzZWRUYXJnZXRzQXJyYXkiLCAicGFyc2VkVGFyZ2V0c0xlbmd0aCIsICJpc1JlZ2lzdGVyZWRUYXJnZXRTeW1ib2wiLCAiaXNTdmdUeXBlIiwgImlzU3ZnIiwgImlzRG9tU3ltYm9sIiwgImlzU3ZnU3ltYm9sIiwgImNzc1Jlc2VydmVkUHJvcGVydGllcyIsICJpc1ZhbGlkU1ZHQXR0cmlidXRlIiwgImVsIiwgInByb3BlcnR5TmFtZSIsICJlbFBhcmVudE5vZGUiLCAicmdiVG9SZ2JhIiwgInJnYlZhbHVlIiwgInJnYmEiLCAicmdiRXhlY1JneCIsICJyZ2JhRXhlY1JneCIsICJhIiwgImlzVW5kIiwgImhleFRvUmdiYSIsICJoZXhWYWx1ZSIsICJoZXhMZW5ndGgiLCAiaXNTaG9ydCIsICJodWUycmdiIiwgInAiLCAicSIsICJ0IiwgImhzbFRvUmdiYSIsICJoc2xWYWx1ZSIsICJoc2xhIiwgImhzbEV4ZWNSZ3giLCAiaHNsYUV4ZWNSZ3giLCAiaCIsICJzIiwgImwiLCAiciIsICJnIiwgImIiLCAicm91bmQiLCAiY29udmVydENvbG9yU3RyaW5nVmFsdWVzVG9SZ2JhQXJyYXkiLCAiY29sb3JTdHJpbmciLCAiaXNSZ2IiLCAiaXNIZXgiLCAiaXNIc2wiLCAic2V0VmFsdWUiLCAidGFyZ2V0VmFsdWUiLCAiZGVmYXVsdFZhbHVlIiwgImdldEZ1bmN0aW9uVmFsdWUiLCAidmFsdWUiLCAidGFyZ2V0IiwgImluZGV4IiwgInRvdGFsIiwgInN0b3JlIiwgImlzRm5jIiwgImZ1bmMiLCAiY29tcHV0ZWQiLCAiZ2V0VHdlZW5UeXBlIiwgInByb3AiLCAiaXNEb21TeW1ib2wiLCAiaXNTdmdTeW1ib2wiLCAiaXNWYWxpZFNWR0F0dHJpYnV0ZSIsICJ0d2VlblR5cGVzIiwgInZhbGlkVHJhbnNmb3JtcyIsICJzaG9ydFRyYW5zZm9ybXMiLCAic3RyaW5nU3RhcnRzV2l0aCIsICJnZXRDU1NWYWx1ZSIsICJwcm9wTmFtZSIsICJhbmltYXRpb25JbmxpbmVTdHlsZXMiLCAiaW5saW5lU3R5bGVzIiwgInByb3h5VGFyZ2V0U3ltYm9sIiwgImdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlIiwgInR3ZWVuVHlwZSIsICJ0eXBlIiwgInBhcnNlSW5saW5lVHJhbnNmb3JtcyIsICJnZXRSZWxhdGl2ZVZhbHVlIiwgIngiLCAieSIsICJvcGVyYXRvciIsICJjcmVhdGVEZWNvbXBvc2VkVmFsdWVUYXJnZXRPYmplY3QiLCAidmFsdWVUeXBlcyIsICJkZWNvbXBvc2VSYXdWYWx1ZSIsICJyYXdWYWx1ZSIsICJ0YXJnZXRPYmplY3QiLCAibnVtIiwgInN0ciIsICJ1bml0TWF0Y2giLCAidW5pdHNFeGVjUmd4IiwgImlzQ29sIiwgIm1hdGNoZWROdW1iZXJzIiwgImRpZ2l0V2l0aEV4cG9uZW50Umd4IiwgImRlY29tcG9zZVR3ZWVuVmFsdWUiLCAidHdlZW4iLCAiY2xvbmVBcnJheSIsICJkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSIsICJsb29rdXBzIiwgImdldFR3ZWVuU2libGluZ3MiLCAicHJvcGVydHkiLCAibG9va3VwIiwgImxvb2t1cE1hcCIsICJ0YXJnZXRMb29rdXAiLCAiYWRkVHdlZW5Tb3J0TWV0aG9kIiwgImMiLCAib3ZlcnJpZGVUd2VlbiIsICJtaW5WYWx1ZSIsICJjb21wb3NlVHdlZW4iLCAic2libGluZ3MiLCAidHdlZW5Db21wb3NpdGlvblR5cGUiLCAiY29tcG9zaXRpb25UeXBlcyIsICJ0d2VlbkFic1N0YXJ0VGltZSIsICJhZGRDaGlsZCIsICJwcmV2U2libGluZyIsICJwcmV2UGFyZW50IiwgInByZXZBYnNFbmRUaW1lIiwgInByZXZQcmV2U2libGluZyIsICJhYnNvbHV0ZVVwZGF0ZVN0YXJ0VGltZSIsICJwcmV2Q2hhbmdlU3RhcnRUaW1lIiwgInByZXZUTE9mZnNldCIsICJwYXVzZVByZXZQYXJlbnRBbmltYXRpb24iLCAiZm9yRWFjaENoaWxkcmVuIiwgInByZXZQYXJlbnRUTCIsICJwYXVzZVByZXZQYXJlbnRUTCIsICJhZGRpdGl2ZVR3ZWVuU2libGluZ3MiLCAiYWRkaXRpdmVBbmltYXRpb24iLCAiYWRkQWRkaXRpdmVBbmltYXRpb24iLCAibG9va3VwVHdlZW4iLCAiX19zcHJlYWRWYWx1ZXMiLCAidG9OdW1iZXIiLCAidG9OdW1iZXJzIiwgImkiLCAicmVtb3ZlVHdlZW5TbGlibGluZ3MiLCAidHdlZW5Db21wb3NpdGlvbiIsICJ0d2VlblRhcmdldCIsICJ0d2VlblByb3BlcnR5IiwgInR3ZWVuUmVwbGFjZVNpYmxpbmdzIiwgInJlbW92ZUNoaWxkIiwgImFkZFR3ZWVuc0xvb2t1cCIsICJhZGRUYXJnZXRQcm9wcyIsICJhZGRpdGl2ZSIsICJzaG91bGRDbGVhbiIsICJyZXNldFRpbWVyUHJvcGVydGllcyIsICJ0aW1lciIsICJyZXZpdmVUaW1lciIsICJ0aW1lcklkIiwgIlRpbWVyIiwgIkNsb2NrIiwgInBhcmFtZXRlcnMiLCAicGFyZW50IiwgInBhcmVudFBvc2l0aW9uIiwgImlkIiwgImRlbGF5IiwgImR1cmF0aW9uIiwgInJldmVyc2VkIiwgImFsdGVybmF0ZSIsICJsb29wIiwgImxvb3BEZWxheSIsICJhdXRvcGxheSIsICJmcmFtZVJhdGUiLCAicGxheWJhY2tSYXRlIiwgIm9uQ29tcGxldGUiLCAib25Mb29wIiwgIm9uUGF1c2UiLCAib25CZWdpbiIsICJvbkJlZm9yZVVwZGF0ZSIsICJvblVwZGF0ZSIsICJnbG9iYWxzIiwgInRpbWVySW5pdFRpbWUiLCAiZW5naW5lIiwgInRpbWVyRGVmYXVsdHMiLCAidGltZXJEZWxheSIsICJ0aW1lckR1cmF0aW9uIiwgInRpbWVyTG9vcCIsICJ0aW1lckxvb3BEZWxheSIsICJ0aW1lckl0ZXJhdGlvbkNvdW50IiwgIm9mZnNldFBvc2l0aW9uIiwgInN0YXJ0VGltZSIsICJub3ciLCAiY2xhbXBJbmZpbml0eSIsICJub29wIiwgImNhbmNlbGxlZCIsICJjbGFtcCIsICJ0aW1lIiwgInBhdXNlZCIsICJwcm9ncmVzcyIsICJpdGVyYXRpb25EdXJhdGlvbiIsICJpdGVyYXRpb25Db3VudCIsICJyZXZlcnNlIiwgImludGVybmFsUmVuZGVyIiwgInRpY2siLCAidGlja01vZGVzIiwgInRpbWVTY2FsZSIsICJtdXRlQ2FsbGJhY2tzIiwgImlzUGF1c2VkIiwgImNvdW50IiwgIml0ZXJhdGlvbnMiLCAiZmxvb3IiLCAibWF4VmFsdWUiLCAiY2hpbGQiLCAibmV3RHVyYXRpb24iLCAiY3VycmVudER1cmF0aW9uIiwgImNsYW1wWmVybyIsICJpc1NldHRlciIsICJhcCIsICJjYWxsYmFjayIsICJ0aGVuIiwgIm9uUmVzb2x2ZSIsICJub25lIiwgImNhbGNCZXppZXIiLCAiYVQiLCAiYUExIiwgImFBMiIsICJiaW5hcnlTdWJkaXZpZGUiLCAiYVgiLCAibVgxIiwgIm1YMiIsICJhQSIsICJhQiIsICJjdXJyZW50WCIsICJjdXJyZW50VCIsICJpIiwgImFicyIsICJjdWJpY0JlemllciIsICJtWTEiLCAibVkyIiwgInQiLCAic3RlcHMiLCAiZnJvbVN0YXJ0IiwgInJvdW5kTWV0aG9kIiwgImNlaWwiLCAiZmxvb3IiLCAiY2xhbXAiLCAibGluZWFyIiwgImFyZ3MiLCAiYXJnc0xlbmd0aCIsICJ0b3RhbFBvaW50cyIsICJmaXJzdEFyZyIsICJsYXN0QXJnIiwgInhQb2ludHMiLCAieVBvaW50cyIsICJwYXJzZU51bWJlciIsICJhcmciLCAic3BsaXRWYWx1ZSIsICJpc1N0ciIsICJ2YWx1ZSIsICJwZXJjZW50IiwgImlzVW5kIiwgImwiLCAicHJldlgiLCAicHJldlkiLCAiaXJyZWd1bGFyIiwgImxlbmd0aCIsICJyYW5kb21uZXNzIiwgInZhbHVlcyIsICJ0b3RhbCIsICJwcmV2aW91c1ZhbHVlIiwgInNwYWNpbmciLCAic2VnbWVudEVuZCIsICJyYW5kb21WYXJpYXRpb24iLCAicmFuZG9tVmFsdWUiLCAiaGFsZlBJIiwgIlBJIiwgImRvdWJsZVBJIiwgImVhc2VJblBvd2VyIiwgInAiLCAicG93IiwgImVhc2VJbkZ1bmN0aW9ucyIsICJlbXB0eVN0cmluZyIsICJjb3MiLCAic3FydCIsICJwb3cyIiwgImIiLCAib3ZlcnNob290IiwgImFtcGxpdHVkZSIsICJwZXJpb2QiLCAiYSIsICJtaW5WYWx1ZSIsICJzIiwgImFzaW4iLCAiZSIsICJzaW4iLCAiZWFzZVR5cGVzIiwgImVhc2VJbiIsICJwYXJzZUVhc2VTdHJpbmciLCAic3RyaW5nIiwgImVhc2VzRnVuY3Rpb25zIiwgImVhc2VzTG9va3VwcyIsICJwYXJzZWRGbiIsICJzcGxpdCIsICJlYXNlcyIsICJsaXN0IiwgInR5cGUiLCAibmFtZSIsICJlYXNlVHlwZSIsICJKU0Vhc2VzTG9va3VwcyIsICJwYXJzZUVhc2luZ3MiLCAiZWFzZSIsICJpc0ZuYyIsICJwcm9wZXJ0eU5hbWVzQ2FjaGUiLCAic2FuaXRpemVQcm9wZXJ0eU5hbWUiLCAicHJvcGVydHlOYW1lIiwgInRhcmdldCIsICJ0d2VlblR5cGUiLCAidHdlZW5UeXBlcyIsICJzaG9ydFRyYW5zZm9ybXMiLCAiaXNTdmciLCAiY2FjaGVkUHJvcGVydHlOYW1lIiwgImxvd2VyQ2FzZU5hbWUiLCAidG9Mb3dlckNhc2UiLCAiYW5nbGVVbml0c01hcCIsICJjb252ZXJ0ZWRWYWx1ZXNDYWNoZSIsICJjb252ZXJ0VmFsdWVVbml0IiwgImVsIiwgImRlY29tcG9zZWRWYWx1ZSIsICJ1bml0IiwgImZvcmNlIiwgImN1cnJlbnRVbml0IiwgImN1cnJlbnROdW1iZXIiLCAidmFsdWVUeXBlcyIsICJjYWNoZWRLZXkiLCAiY2FjaGVkIiwgImNvbnZlcnRlZFZhbHVlIiwgInRlbXBFbCIsICJwYXJlbnROb2RlIiwgInBhcmVudEVsIiwgImRvYyIsICJlbFN0eWxlIiwgImN1cnJlbnRVbml0V2lkdGgiLCAibmV3VW5pdFdpZHRoIiwgImZhY3RvciIsICJjbGVhbklubGluZVN0eWxlcyIsICJyZW5kZXJhYmxlIiwgImZvckVhY2hDaGlsZHJlbiIsICJhbmltYXRpb24iLCAidHdlZW4iLCAidHdlZW5Qcm9wZXJ0eSIsICJ0d2VlblRhcmdldCIsICJpc0RvbVN5bWJvbCIsICJ0YXJnZXRTdHlsZSIsICJvcmlnaW5hbElubGluZWRWYWx1ZSIsICJjYWNoZWRUcmFuc2Zvcm1zIiwgInRyYW5zZm9ybXNTeW1ib2wiLCAic3RyIiwgImtleSIsICJ0cmFuc2Zvcm1zRnJhZ21lbnRTdHJpbmdzIiwgImZyb21UYXJnZXRPYmplY3QiLCAiY3JlYXRlRGVjb21wb3NlZFZhbHVlVGFyZ2V0T2JqZWN0IiwgInRvVGFyZ2V0T2JqZWN0IiwgInRvRnVuY3Rpb25TdG9yZSIsICJrZXlmcmFtZXNUYXJnZXRBcnJheSIsICJmYXN0U2V0VmFsdWVzQXJyYXkiLCAia2V5T2JqZWN0VGFyZ2V0IiwgInR3ZWVuSWQiLCAia2V5ZnJhbWVzIiwgImdlbmVyYXRlS2V5ZnJhbWVzIiwgInBhcmFtZXRlcnMiLCAicHJvcGVydGllcyIsICJpc0FyciIsICJwcm9wZXJ0eU5hbWVzIiwgImlzS2V5IiwgInByb3BOYW1lIiwgInByb3BBcnJheSIsICJuZXdLZXkiLCAia2V5VmFsdWUiLCAidG90YWxEdXJhdGlvbiIsICJzZXRWYWx1ZSIsICJnbG9iYWxzIiwgIm9mZnNldCIsICJwcm9wIiwgImR1cmF0aW9uIiwgInByZXZLZXkiLCAia2V5T2JqIiwgImR1clByb2dyZXNzIiwgInByZXZFYXNlIiwgImN1cnJlbnRFYXNlIiwgIkpTQW5pbWF0aW9uIiwgIlRpbWVyIiwgInRhcmdldHMiLCAicGFyZW50IiwgInBhcmVudFBvc2l0aW9uIiwgImZhc3RTZXQiLCAiaW5kZXgiLCAicGFyc2VkVGFyZ2V0cyIsICJyZWdpc3RlclRhcmdldHMiLCAidGFyZ2V0c0xlbmd0aCIsICJrZlBhcmFtcyIsICJwYXJhbXMiLCAibWVyZ2VPYmplY3RzIiwgImRlbGF5IiwgInBsYXliYWNrRWFzZSIsICJtb2RpZmllciIsICJjb21wb3NpdGlvbiIsICJvblJlbmRlciIsICJhbmltRGVmYXVsdHMiLCAiYW5pbWFQbGF5YmFja0Vhc2UiLCAiYW5pbUVhc2UiLCAiaGFzU3ByaW5nIiwgInRFYXNpbmciLCAidER1cmF0aW9uIiwgInREZWxheSIsICJ0TW9kaWZpZXIiLCAidENvbXBvc2l0aW9uIiwgIksiLCAiY29tcG9zaXRpb25UeXBlcyIsICJhbmltSW5saW5lU3R5bGVzIiwgImFic29sdXRlT2Zmc2V0VGltZSIsICJpdGVyYXRpb25EdXJhdGlvbiIsICJpdGVyYXRpb25EZWxheSIsICJhbmltYXRpb25BbmltYXRpb25MZW5ndGgiLCAic2hvdWxkVHJpZ2dlclJlbmRlciIsICJ0YXJnZXRJbmRleCIsICJ0aSIsICJ0bCIsICJsYXN0VHJhbnNmb3JtR3JvdXBJbmRleCIsICJsYXN0VHJhbnNmb3JtR3JvdXBMZW5ndGgiLCAiZ2V0VHdlZW5UeXBlIiwgInByb3BWYWx1ZSIsICJpc1Byb3BWYWx1ZUFycmF5IiwgImFycmF5TGVuZ3RoIiwgImlzTm90T2JqZWN0VmFsdWUiLCAiaXNPYmoiLCAidiIsICJzaWJsaW5ncyIsICJwcmV2VHdlZW4iLCAiZmlyc3RUd2VlbkNoYW5nZVN0YXJ0VGltZSIsICJsYXN0VHdlZW5DaGFuZ2VFbmRUaW1lIiwgInR3ZWVuSW5kZXgiLCAia2V5ZnJhbWUiLCAiY29tcHV0ZWRUb1ZhbHVlIiwgImdldEZ1bmN0aW9uVmFsdWUiLCAidHdlZW5Ub1ZhbHVlIiwgInR3ZWVuRnJvbVZhbHVlIiwgImtleUVhc2luZyIsICJ0d2VlbkVhc2luZyIsICJ0d2VlbkR1cmF0aW9uIiwgInR3ZWVuRGVsYXkiLCAiY29tcHV0ZWRDb21wb3NpdGlvbiIsICJ0d2VlbkNvbXBvc2l0aW9uIiwgImlzTnVtIiwgInR3ZWVuTW9kaWZpZXIiLCAiaGFzRnJvbXZhbHVlIiwgImhhc1RvVmFsdWUiLCAiaXNGcm9tVG9BcnJheSIsICJpc0Zyb21Ub1ZhbHVlIiwgInR3ZWVuU3RhcnRUaW1lIiwgImFic29sdXRlU3RhcnRUaW1lIiwgInByZXZTaWJsaW5nIiwgImdldFR3ZWVuU2libGluZ3MiLCAibmV4dFNpYmxpbmciLCAib3ZlcnJpZGVUd2VlbiIsICJkZWNvbXBvc2VSYXdWYWx1ZSIsICJnZXRPcmlnaW5hbEFuaW1hdGFibGVWYWx1ZSIsICJkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSIsICJkZWNvbXBvc2VUd2VlblZhbHVlIiwgImdldFJlbGF0aXZlVmFsdWUiLCAiY29tcGxleFZhbHVlIiwgIm5vdENvbXBsZXhWYWx1ZSIsICJjbG9uZUFycmF5IiwgInVuaXRWYWx1ZSIsICJub3RVbml0VmFsdWUiLCAiY29sb3JWYWx1ZSIsICJub3RDb2xvclZhbHVlIiwgInZhbHVlVG9Db252ZXJ0IiwgImxvbmdlc3RWYWx1ZSIsICJzaG9ydGVzdFZhbHVlIiwgIl8iLCAidHdlZW5VcGRhdGVEdXJhdGlvbiIsICJyb3VuZCIsICJjb21wb3NlVHdlZW4iLCAiYWRkQ2hpbGQiLCAiYWRkaXRpdmUiLCAiYWRkaXRpdmVUd2VlbiIsICJjbGFtcEluZmluaXR5IiwgIm5ld0R1cmF0aW9uIiwgImN1cnJlbnREdXJhdGlvbiIsICJjbGFtcFplcm8iLCAidGltZVNjYWxlIiwgIm9nVmFsdWUiLCAiY2FsbGJhY2siLCAiYW5pbWF0ZSIsICJ0cmFuc2Zvcm1zU2hvcnRoYW5kcyIsICJjb21tb25EZWZhdWx0UFhQcm9wZXJ0aWVzIiwgInZhbGlkSW5kaXZpZHVhbFRyYW5zZm9ybXMiLCAidmFsaWRUcmFuc2Zvcm1zIiwgImF4aXMiLCAidHJhbnNmb3Jtc1Byb3BlcnRpZXNSZWdpc3RlcmVkIiwgImlzQnJvd3NlciIsICJpc1VuZCIsICJXQUFQSUFuaW1hdGlvbnNMb29rdXBzIiwgInJlbW92ZVdBQVBJQW5pbWF0aW9uIiwgIiRlbCIsICJwcm9wZXJ0eSIsICJwYXJlbnQiLCAibmV4dExvb2t1cCIsICJuZXh0IiwgIm1hdGNoVGFyZ2V0IiwgIm1hdGNoUHJvcGVydHkiLCAibWF0Y2hQYXJlbnQiLCAiYW5pbSIsICJlIiwgInJlbW92ZUNoaWxkIiwgImxvb2t1cFBhcmVudCIsICJzeW5jIiwgImNhbGxiYWNrIiwgIm5vb3AiLCAiVGltZXIiLCAiZ2xvYmFscyIsICJnZXRUYXJnZXRWYWx1ZSIsICJ0YXJnZXRTZWxlY3RvciIsICJwcm9wTmFtZSIsICJ1bml0IiwgInRhcmdldHMiLCAicmVnaXN0ZXJUYXJnZXRzIiwgInRhcmdldCIsICJ0d2VlblR5cGUiLCAiZ2V0VHdlZW5UeXBlIiwgIm5vcm1hbGl6ZVByb3BOYW1lIiwgInNhbml0aXplUHJvcGVydHlOYW1lIiwgIm9yaWdpbmFsVmFsdWUiLCAiZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUiLCAiaXNVbmQiLCAiZGVjb21wb3NlUmF3VmFsdWUiLCAiZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUiLCAidmFsdWVUeXBlcyIsICJjb252ZXJ0ZWRWYWx1ZSIsICJjb252ZXJ0VmFsdWVVbml0IiwgInJvdW5kIiwgInNldFRhcmdldFZhbHVlcyIsICJwYXJhbWV0ZXJzIiwgIm1pblZhbHVlIiwgInNldFZhbHVlIiwgImNvbXBvc2l0aW9uVHlwZXMiLCAiSlNBbmltYXRpb24iLCAicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb24iLCAidGFyZ2V0c0FycmF5IiwgImFuaW1hdGlvbiIsICJwcm9wZXJ0eU5hbWUiLCAidHdlZW5zTWF0Y2hlc1RhcmdldHMiLCAiZm9yRWFjaENoaWxkcmVuIiwgInR3ZWVuIiwgInR3ZWVuVGFyZ2V0IiwgInR3ZWVuTmFtZSIsICJ0d2VlblR5cGVzIiwgInJlbW92ZUNoaWxkIiwgInJlbW92ZVR3ZWVuU2xpYmxpbmdzIiwgInJlbW92ZSIsICJyZW5kZXJhYmxlIiwgInBhcnNlVGFyZ2V0cyIsICJwYXJlbnQiLCAiZW5naW5lIiwgIndhYXBpQW5pbWF0aW9uIiwgImkiLCAiJGVsIiwgInJlbW92ZVdBQVBJQW5pbWF0aW9uIiwgInJlbW92ZU1hdGNoZXMiLCAiaXRlcmF0aW9uRHVyYXRpb24iLCAiY2hpbGQiLCAiY2hpbGREdXIiLCAicmFuZG9tIiwgIm1pbiIsICJtYXgiLCAiZGVjaW1hbExlbmd0aCIsICJtIiwgIl9fcG93IiwgImZsb29yIiwgInJhbmRvbVBpY2siLCAiaXRlbXMiLCAic2h1ZmZsZSIsICJ0IiwgInJvdW5kUGFkIiwgInYiLCAicGFkU3RhcnQiLCAidG90YWxMZW5ndGgiLCAicGFkU3RyaW5nIiwgInBhZEVuZCIsICJ3cmFwIiwgIm1hcFJhbmdlIiwgInZhbHVlIiwgImluTG93IiwgImluSGlnaCIsICJvdXRMb3ciLCAib3V0SGlnaCIsICJkZWdUb1JhZCIsICJkZWdyZWVzIiwgIlBJIiwgInJhZFRvRGVnIiwgInJhZGlhbnMiLCAibGVycCIsICJzdGFydCIsICJlbmQiLCAiYW1vdW50IiwgImR0IiwgIksiLCAidGlja2VyIiwgImN1cnJ5IiwgImZuIiwgImxhc3QiLCAiYXJncyIsICJjaGFpbiIsICJyZXN1bHQiLCAiXyIsICJfXyIsICJwcm9wIiwgIm5leHRBcmdzIiwgIm5leHRSZXN1bHQiLCAidXRpbHMiLCAibWFrZUNoYWluYWJsZSIsICJyaWdodCIsICJjbGVhbklubGluZVN0eWxlcyIsICJjbGFtcCIsICJzbmFwIiwgImludGVycG9sYXRlIiwgImdldFByZXZDaGlsZE9mZnNldCIsICJ0aW1lbGluZSIsICJ0aW1lUG9zaXRpb24iLCAic3RyaW5nU3RhcnRzV2l0aCIsICJnb1RvUHJldkFuaW1hdGlvbk9mZnNldCIsICJwcmV2QW5pbWF0aW9uIiwgInByZXZPZmZzZXQiLCAicGFyc2VUaW1lbGluZVBvc2l0aW9uIiwgInRsRHVyYXRpb24iLCAiaXNOdW0iLCAidGltZVBvc1N0ciIsICJ0bExhYmVscyIsICJoYXNMYWJlbHMiLCAiaXNOaWwiLCAiaGFzU2libGluZyIsICJtYXRjaGVkUmVsYXRpdmVPcGVyYXRvciIsICJyZWxhdGl2ZVZhbHVlc0V4ZWNSZ3giLCAiZnVsbE9wZXJhdG9yIiwgInNwbGl0IiwgImxhYmVsT2Zmc2V0IiwgInBhcnNlZE9mZnNldCIsICJwYXJzZWROdW1lcmljYWxPZmZzZXQiLCAiZ2V0UmVsYXRpdmVWYWx1ZSIsICJTcHJpbmciLCAicGFyYW1ldGVycyIsICJLIiwgImNsYW1wIiwgInNldFZhbHVlIiwgInQiLCAidGltZSIsICJ6ZXRhIiwgIncwIiwgIndkIiwgImIiLCAiZXhwIiwgImNvcyIsICJzaW4iLCAibWF4UmVzdFN0ZXBzIiwgIm1heEl0ZXJhdGlvbnMiLCAicmVzdFRocmVzaG9sZCIsICJ0aW1lU3RlcCIsICJtIiwgImQiLCAicyIsICJ2IiwgInNxcnQiLCAibWluVmFsdWUiLCAic29sdmVyVGltZSIsICJyZXN0U3RlcHMiLCAiaXRlcmF0aW9ucyIsICJhYnMiLCAicm91bmQiLCAiZ2xvYmFscyIsICJjcmVhdGVTcHJpbmciLCAic3RhZ2dlciIsICJ2YWwiLCAicGFyYW1zIiwgInZhbHVlcyIsICJtYXhWYWx1ZSIsICJmcm9tIiwgInJldmVyc2VkIiwgImVhc2UiLCAiaGFzRWFzaW5nIiwgImlzVW5kIiwgInN0YWdnZXJFYXNlIiwgInBhcnNlRWFzaW5ncyIsICJncmlkIiwgImF4aXMiLCAiZnJvbUZpcnN0IiwgImZyb21DZW50ZXIiLCAiZnJvbUxhc3QiLCAiaXNSYW5nZSIsICJpc0FyciIsICJ2YWwxIiwgInBhcnNlTnVtYmVyIiwgInZhbDIiLCAidW5pdE1hdGNoIiwgInVuaXRzRXhlY1JneCIsICJlbXB0eVN0cmluZyIsICJzdGFydCIsICJmcm9tSW5kZXgiLCAiaXNOdW0iLCAiXyIsICJpIiwgInQiLCAidGwiLCAiaW5kZXgiLCAiYWJzIiwgImZyb21YIiwgImZyb21ZIiwgImZsb29yIiwgInRvWCIsICJ0b1kiLCAiZGlzdGFuY2VYIiwgImRpc3RhbmNlWSIsICJ2YWx1ZSIsICJzcXJ0IiwgIm1heCIsICJzcGFjaW5nIiwgIm91dHB1dCIsICJwYXJzZVRpbWVsaW5lUG9zaXRpb24iLCAicm91bmQiLCAiZ2V0UmVtIiwgInZhbHVlIiwgImdzYXAiLCAiX2ZvbnRzIiwgIl9jb3JlSW5pdHRlZCIsICJfaW5pdElmTmVjZXNzYXJ5IiwgIlNwbGl0VGV4dCIsICJfY2hhclNlZ21lbnRlciIsICJfdG9BcnJheSIsICJyIiwgIl9lbGVtZW50cyIsICJ0YXJnZXRzIiwgIl9lbXB0eUFycmF5IiwgIl9jb250ZXh0IiwgIl9zcGFjZXNSZWdFeCIsICJfZW1vamlTYWZlUmVnRXgiLCAiX2VtcHR5Qm91bmRzIiwgIl9zdHJldGNoVG9GaXRTcGVjaWFsQ2hhcnMiLCAiY29sbGVjdGlvbiIsICJzcGVjaWFsQ2hhcnNSZWdFeCIsICJjaGFyc0ZvdW5kIiwgInNsb3RzIiwgIndvcmQiLCAiY2hhciIsICJjb21iaW5lZCIsICJfZGlzYWxsb3dJbmxpbmUiLCAiZWxlbWVudCIsICJfaW5zZXJ0Tm9kZUJlZm9yZSIsICJuZXdDaGlsZCIsICJwYXJlbnQiLCAiZXhpc3RpbmdDaGlsZCIsICJfZ2V0V3JhcHBlciIsICJ0eXBlIiwgImNvbmZpZyIsICJjbGFzc05hbWUiLCAidGFnIiwgImFyaWEiLCAicHJvcEluZGV4IiwgImRpc3BsYXkiLCAiaW5jcmVtZW50Q2xhc3MiLCAid3JhcHBlciIsICJ0ZXh0IiwgImVsIiwgImkiLCAiX2dldExpbmVXcmFwcGVyIiwgIm5vZGVzIiwgImxpbmVXcmFwcGVyIiwgInRleHRBbGlnbiIsICJzdGFydEluZGV4IiwgImVuZEluZGV4IiwgIm5ld0xpbmUiLCAiX3NwbGl0V29yZHNBbmRDaGFyc1JlY3Vyc2l2ZWx5IiwgIndvcmRXcmFwcGVyIiwgImNoYXJXcmFwcGVyIiwgInByZXBGb3JDaGFyc09ubHkiLCAiZGVlcFNsaWNlIiwgImlnbm9yZSIsICJjaGFyU3BsaXRSZWdFeCIsICJpc05lc3RlZCIsICJfYSIsICJ3b3JkRGVsaW1pdGVyIiwgInJlZHVjZVdoaXRlU3BhY2UiLCAicHJlcGFyZVRleHQiLCAiZWxlbWVudEJvdW5kcyIsICJsYXN0Qm91bmRzIiwgImlzUHJlZm9ybWF0dGVkIiwgImlnbm9yZWRQcmV2aW91c1NpYmxpbmciLCAid29yZHNDb2xsZWN0aW9uIiwgIndvcmREZWxpbUlzTm90U3BhY2UiLCAid29yZERlbGltU3RyaW5nIiwgIndvcmREZWxpbVNwbGl0dGVyIiwgImN1ck5vZGUiLCAid29yZHMiLCAiY3VyV29yZEVsIiwgInN0YXJ0c1dpdGhTcGFjZSIsICJlbmRzV2l0aFNwYWNlIiwgImoiLCAiYm91bmRzIiwgImN1cldvcmRDaGFycyIsICJjbG9uZWROb2RlIiwgImN1clN1Yk5vZGUiLCAidGVtcFN1Yk5vZGUiLCAiY3VyVGV4dENvbnRlbnQiLCAid29yZFRleHQiLCAibGFzdFdvcmRUZXh0IiwgImsiLCAicyIsICJfU3BsaXRUZXh0IiwgImVsZW1lbnRzIiwgIm9yaWciLCAidGltZXJJZCIsICJjaGVja1dpZHRocyIsICJvIiwgInciLCAic21hcnRXcmFwIiwgIm9uU3BsaXQiLCAiYXV0b1NwbGl0IiwgInNwZWNpYWxDaGFycyIsICJtYXNrIiwgInNwbGl0TGluZXMiLCAic3BsaXRDaGFyYWN0ZXJzIiwgInNwbGl0V29yZHMiLCAib25seVNwbGl0Q2hhcmFjdGVycyIsICJmaW5hbENoYXJTcGxpdFJlZ0V4IiwgImFuaW1UaW1lIiwgIm9icyIsICJvblNwbGl0UmVzdWx0IiwgImluZGV4IiwgImNoYXJzIiwgImxpbmVzIiwgImN1cldvcmQiLCAic21hcnRXcmFwU3BhbiIsICJuZXh0U2libGluZyIsICJ3cmFwTGluZSIsICJ0b1JlbW92ZSIsICJsaW5lU3RhcnRJbmRleCIsICJhbGxCb3VuZHMiLCAibiIsICJtYXNrRWwiLCAiX2IiLCAiYW5pbSIsICJodG1sIiwgImFyaWFMIiwgImFyaWFIIiwgImNvcmUiLCAiaG9tZVNlY3Rpb24iLCAidXRpbHMiLCAiaG9tZVBhZ2UiLCAib2JzZXJ2ZXIiLCAiZW50cmllcyIsICJvYnMiLCAiZW50cnkiLCAibWFwIiwgImdldFJlbSIsICJzdWJUaXRsZSIsICJib3giLCAiYW5pbWF0ZSIsICJzZWN0aW9uIiwgIml0ZW1zIiwgIml0ZW0iLCAic3RhZ2dlciIsICJpbmRleCIsICJjcmVhdGVTcHJpbmciLCAiZWwiLCAidGl0bGUiLCAicG9zaXRpb24iLCAiYW5pbWF0ZUZyb20iLCAic3BsaXRUZXh0IiwgIlNwbGl0VGV4dCIsICJjaGFycyIsICJob21lIiwgImFuaW1hdGVTdHlsZSIsICJkZXNjcmlwdGlvbiIsICJ3b3JkcyIsICJsaW5lIiwgIndyYXAiLCAiZSIsICJzZXRCYWNrZ3JvdW5kRWxlbWVudCIsICJzdGlja0VsZW1lbnRUb0VkZ2UiLCAibWVudVNweSIsICJzd2lwZXJJbml0IiwgIlRvZ2dsZUl0ZW0iLCAicmVwbGFjZVN2Z0ltYWdlcyIsICJob21lUGFnZSIsICJidXR0b25Ub1RvcCIsICJoZWFkZXIiLCAicmVtb3ZlckFsbEFjdGl2ZUZpZWxkT3AiLCAic2V0T2Zmc2V0VG9QYXJlbnQiLCAiQU9TIiwgImluaXRWaWRlb1BvcHVwIiwgImluaXRCbG9nRmlsdGVyIiwgIiR0YWJzIiwgIiRjb250YWluZXIiLCAicmVuZGVySXRlbXMiLCAiZmlsdGVyIiwgImZpbHRlcmVkRGF0YSIsICJpdGVtIiwgImh0bWwiLCAiaW5kZXgiLCAiaXNFeHBhbmQiLCAiY2FyZENsYXNzIiwgInJhdGlvQ2xhc3MiLCAiZSIsICJwb3B1cCIsICJjbG9zZUJ0biIsICJ0cmlnZ2VyQnRucyIsICJ2aWRlb0NvbnRhaW5lciIsICJ2aWRlbyIsICJzb3VyY2UiLCAidGh1bWJJdGVtcyIsICJwbGF5QnRuUG9wdXAiLCAib3ZlcmxheVRpdGxlIiwgInJlc2V0VmlkZW9TdGF0ZSIsICJzcmMiLCAidGl0bGUiLCAiYnRuIiwgIm5ld1NyYyIsICJuZXdUaXRsZSIsICJ0aXRsZUVsIiwgImZpZWxkT3BJdGVtIiwgInNlY3Rpb25GaWVsZE9wIiwgIiR0aGlzIiwgIiRwYXJlbnQiLCAic3dpcGVyRWwiLCAic3dpcGVyIiwgIm9ic2VydmVyIiwgImxvemFkIl0KfQo=
